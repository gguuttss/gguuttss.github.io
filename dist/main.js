/*! For license information please see main.js.LICENSE.txt */
(()=>{var e,t,n,r,o,i,s={439:(e,t,n)=>{"use strict";n.a(e,(async(e,t)=>{try{var r=n(635);const j="account_tdx_2_12yjctk8r4csusav9c7z9a7j9vahmnnhnht5ym2ffngh9rqyajsgsdd";let H="resource_tdx_2_1ngnptx4ly75dwcv2knf6cp957qfjjprsz90kc8qmqh4ttamj4a2as3",z="component_tdx_2_1cq9z3rpmt2vruwkqault43q640pshekt32tndn0dzkfrrwujhlhfgr",W="component_tdx_2_1czdep00tnsy9js8atnc6u3v472nxgjmk5j6prtzfw56ttz9fdk9a8n",K="component_tdx_2_1cqugvczcd8fpy84t3dn6rp799k37akrfzedarwxmdhfs5azhkyzefl",V="pool_tdx_2_1ckcazvgthuenzzgmg57ypu5np60n4z53gcfwgj97dzzzwk080zvyj7",G="resource_tdx_2_1t5tj80eezjkzeetr6y949u0zncef802n3nj89ufa9qudfuup48vfta",Z="resource_tdx_2_1n2w8fs9w8h2my3gk4ew9md27lsk9zqwfu3glh0gu2a9vfqza6v5f5f",X="resource_tdx_2_1t5nf9gq7gv4xu454dt7f2h8xvklq7kh4nastnvs3cheq9zjn3xm8lv",J="resource_tdx_2_1tknxxxxxxxxxradxrdxxxxxxxxx009923554798xxxxxxxxxtfd2jc",Y="resource_tdx_2_1t4tsw7n2d0yfs27myw7x5khx00an2lwnvdsj9tyhkv3l8xvgn7mxdc",Q="resource_tdx_2_1th4dw07e73vrshnxpfjld740499unfdwwsdwqayp8n4qdm57ckc8h2",ee="resource_tdx_2_1ntxtn0eemtwj0n5d2yjga4xtx7q3m8mspawt2c3j0t8dnypjtygv7n",te="resource_tdx_2_1n2yuvhnnl3sp8wmysvue3xfenh32zz23y45472m82vrzpps09y8pwg",ne="component_tdx_2_1cp3k6zm5xqgx0wcf0qtcndjzlxvpusdfpm4eq4838wuswn5h66j8px",re="account_tdx_2_129kt8327ulqyq0ahdh74plu0r23qn9jugxppehggtp27m9n063heec",oe="internal_keyvaluestore_tdx_2_1kp7gpwzhudc5xe96999ndnxyymzpcadwu78uanug2ses7wjq8qrmpf",ie="5c805da66318c6318c61f5a61b4c6318c6318cf794aa8d295f14e6318c6318c6",se=["5c805d78ab93fb11d006a1df76c2f432fc9e7db5f1c5d3931900a25ac8298ce3","5c805d57077a6a6bc8982bdb23bc6a5ae67bfb357dd3636122ac97b323f39988"];const ae=[["XRD","resource_tdx_2_1tknxxxxxxxxxradxrdxxxxxxxxx009923554798xxxxxxxxxtfd2jc","","images/radix-logo.svg",1,"XRD",0],["Hermes LSU","resource_tdx_2_1th9k30slgu9uekfu42llstgcq80dx8d59hxgexe5hdaqzyp8etc2dv","validator_tdx_2_1s0l6946a2kx33vjmuuh3qrax3ueauznd2fc3d69md2exx29rcnjmnj","https://hermesprotocol.io/assets/images/icon.svg",1,"LSU",0],["Radst0kes LSU","resource_tdx_2_1thutwwmqwk6z4vyju8v0fhdlxdhgj2h7kgc8822cfsdeyjp7e5j3hd","validator_tdx_2_1sdvnyupyl2atq72f5lsq7lcyw3cc4vnevf05yvtemn5c8fyncvv3xw","images/radstokes-logo.png",1,"LSU",0]];let le,ce,ue,de,fe,pe,me,he,ye,ge,be,ve,we,Ee,xe,_e,Ie,ke,Ae,Se,Be,Ce,Te,Le,Oe,Me,Pe,Re,qe,Fe,Ne,De,$e,Ue,je,He,ze,We,Ke,Ve,Ge,Ze,Xe,Je,Ye,Qe,et,tt=[],nt=[],rt=[],ot=.001,it=!0,st=!1,at=!1,lt=!0,ct=!1,ut=[],dt=[];function ft(e,t,n){1===n?Toastify({text:`${t} submitted successfully!`,duration:5e3,close:!0,gravity:"top",position:"right",stopOnFocus:!0,style:{background:"linear-gradient(90deg, rgba(65,58,179,1) 0%, rgba(90,90,172,1) 41%, rgba(118,133,180,1) 100%)"},onClick:function(){}}).showToast():2===n?Toastify({text:`${t} successful! Click for more info.`,duration:5e3,destination:`https://stokenet-dashboard.radixdlt.com/transaction/${e}`,newWindow:!0,close:!0,gravity:"top",position:"right",stopOnFocus:!0,style:{background:"linear-gradient(90deg, rgba(86,130,80,1) 0%, rgba(94,172,90,1) 41%, rgba(124,180,118,1) 100%)"},onClick:function(){}}).showToast():3===n&&Toastify({text:"Transaction failed.",duration:5e3,newWindow:!0,close:!0,gravity:"top",position:"right",stopOnFocus:!0,style:{background:"linear-gradient(90deg, rgba(152,67,67,1) 0%, rgba(177,72,72,1) 41%, rgba(227,90,90,1) 100%)"},onClick:function(){}}).showToast()}function pt(e,t,n){return ce*(e/t)/(n*be)}function mt(e,t,n){return e*be*t*n/ce}function ht(e,t,n){return e*ce/(t*be*n)}function yt(e){var t=e.parentElement.querySelector(".dropdown-custom-button"),n=t.querySelector(".chevron-down"),r=t.querySelector(".chevron-up");"none"===e.style.display?(n.style.display="block",r.style.display="none"):(n.style.display="none",r.style.display="block")}function gt(){var e=document.getElementById("provide"),t=!0;0==o||parseFloat(document.getElementById("amount-stab-provide-lp").value)>_e||parseFloat(document.getElementById("amount-xrd-provide-lp").value)>Ee||""==document.getElementById("amount-xrd-provide-lp").value||""==document.getElementById("amount-stab-provide-lp").value?t=!1:0!=parseFloat(document.getElementById("amount-xrd-provide-lp").value)&&0!=parseFloat(document.getElementById("amount-stab-provide-lp").value)||(t=!1),t?(e.style.backgroundColor="",e.disabled=!1):(e.style.backgroundColor="hsl(0, 0%, 78%)",e.disabled=!0)}function bt(){var e=document.getElementById("remove"),t=!0;(0==o||parseFloat(document.getElementById("amount-remove-lp").value)>xe||""==document.getElementById("amount-remove-lp").value||0==parseFloat(document.getElementById("amount-remove-lp").value))&&(t=!1),t?(e.style.backgroundColor="",e.disabled=!1):(e.style.backgroundColor="hsl(0, 0%, 78%)",e.disabled=!0)}function vt(){var e=document.getElementById("mint-button"),t=!0;(0==o||parseFloat(document.getElementById("colToUse").value)>De||""==document.getElementById("colToUse").value||0==parseFloat(document.getElementById("colToUse").value)||He<1)&&(t=!1),t?(e.style.backgroundColor="",e.disabled=!1):(e.style.backgroundColor="hsl(0, 0%, 78%)",e.disabled=!0)}function wt(){var e=document.getElementById("close-entire-button"),t=!0,n="";0==o?t=!1:parseFloat(Le)>_e?(t=!1,n="Insufficient STAB to close loan."):null==$e?t=!1:"Marked"==Ce&&(t=!1,n="Cannot close marked loans."),t?(e.style.backgroundColor="",e.disabled=!1,document.getElementById("warning-message-close").style.display="none"):(e.style.backgroundColor="hsl(0, 0%, 78%)",e.disabled=!0,""!=n&&(document.getElementById("message-close").textContent=n,document.getElementById("warning-message-close").style.display="block"))}function Et(){var e=document.getElementById("add-col-button"),t=!0,n=!1,r=!1;0==o||null==$e||"Liquidated"==Ce||"ForceLiquidated"==Ce||"Closed"==Ce?t=!1:parseFloat(document.getElementById("amount-to-remove").value)>De||Ze<150?(t=!1,n=!0):""!=document.getElementById("amount-to-remove").value&&0!=parseFloat(document.getElementById("amount-to-remove").value)||(t=!1,n=!0,r=!0),t?(e.style.backgroundColor="",e.disabled=!1,document.getElementById("slider-col").disabled=!1,document.getElementById("amount-to-remove").disabled=!1,document.getElementById("max-new-cr").disabled=!1,document.getElementById("new-cr").style.color="",document.getElementById("max-new-cr").style.cursor="pointer",document.getElementById("max-new-cr").style.fontWeight=""):(e.style.backgroundColor="hsl(0, 0%, 78%)",e.disabled=!0,0==n&&(document.getElementById("new-cr").style.color="",document.getElementById("slider-col").disabled=!0,document.getElementById("amount-to-remove").disabled=!0,document.getElementById("max-new-cr").disabled=!0,document.getElementById("max-new-cr").style.cursor="default",document.getElementById("new-cr").textContent="New CR: -",document.getElementById("max-new-cr").textContent="Max CR: -",document.getElementById("max-new-cr").style.fontWeight="normal"),1==n&&(document.getElementById("new-cr").style.color=1==r?"":"red",document.getElementById("max-new-cr").style.cursor="pointer",document.getElementById("max-new-cr").style.fontWeight="",document.getElementById("slider-col").disabled=!1,document.getElementById("amount-to-remove").disabled=!1,document.getElementById("max-new-cr").disabled=!1))}function xt(){document.getElementById("new-cr").style.color="";var e=document.getElementById("remove-col-button"),t=!0,n=!1,r=!1;0==o||null==$e||"Liquidated"==Ce||"ForceLiquidated"==Ce||"Closed"==Ce?t=!1:et<150?(t=!1,n=!0):""!=document.getElementById("amount-to-remove").value&&0!=parseFloat(document.getElementById("amount-to-remove").value)||(t=!1,n=!0,r=!0),t?(e.style.backgroundColor="",e.disabled=!1,document.getElementById("slider-col").disabled=!1,document.getElementById("amount-to-remove").disabled=!1,document.getElementById("max-new-cr").disabled=!1,document.getElementById("max-new-cr").style.cursor="pointer",document.getElementById("max-new-cr").style.fontWeight=""):(e.style.backgroundColor="hsl(0, 0%, 78%)",e.disabled=!0,0==n&&(document.getElementById("new-cr").style.color="",document.getElementById("slider-col").disabled=!0,document.getElementById("amount-to-remove").disabled=!0,document.getElementById("max-new-cr").disabled=!0,document.getElementById("max-new-cr").style.cursor="default",document.getElementById("new-cr").textContent="New CR: -",document.getElementById("max-new-cr").textContent="Max CR: -",document.getElementById("max-new-cr").style.fontWeight="normal"),1==n&&(document.getElementById("new-cr").style.color=1==r?"":"red",document.getElementById("max-new-cr").style.cursor="pointer",document.getElementById("max-new-cr").style.fontWeight="",document.getElementById("slider-col").disabled=!1,document.getElementById("amount-to-remove").disabled=!1,document.getElementById("max-new-cr").disabled=!1))}function _t(){var e=document.getElementById("add-debt-button"),t=!0,n=!1;0==o||null==$e||"Liquidated"==Ce||"ForceLiquidated"==Ce||"Closed"==Ce?t=!1:parseFloat(document.getElementById("amount-to-remove-debt").value)>_e||Ve<150?(t=!1,n=!0):""!=document.getElementById("amount-to-remove-debt").value&&0!=parseFloat(document.getElementById("amount-to-remove-debt").value)||(t=!1,n=!0),t?(e.style.backgroundColor="",e.disabled=!1,document.getElementById("slider-debt").disabled=!1,document.getElementById("amount-to-remove-debt").disabled=!1,document.getElementById("max-new-cr-debt").disabled=!1,document.getElementById("new-cr-debt").style.color="",document.getElementById("max-new-cr-debt").style.cursor="pointer",document.getElementById("max-new-cr-debt").style.fontWeight=""):(e.style.backgroundColor="hsl(0, 0%, 78%)",e.disabled=!0,0==n&&(document.getElementById("slider-debt").disabled=!0,document.getElementById("amount-to-remove-debt").disabled=!0,document.getElementById("max-new-cr-debt").disabled=!0,document.getElementById("max-new-cr-debt").style.cursor="default",document.getElementById("new-cr-debt").textContent="New CR: -",document.getElementById("max-new-cr-debt").textContent="Max CR: -",document.getElementById("max-new-cr-debt").style.fontWeight="normal"),1==n&&(document.getElementById("max-new-cr-debt").style.cursor="pointer",document.getElementById("max-new-cr-debt").style.fontWeight="",document.getElementById("slider-debt").disabled=!1,document.getElementById("amount-to-remove-debt").disabled=!1,document.getElementById("max-new-cr-debt").disabled=!1))}function It(){var e=document.getElementById("remove-debt-button"),t=!0,n=!1;document.getElementById("new-cr-debt").style.color="black",0==o||null==$e||"Liquidated"==Ce||"ForceLiquidated"==Ce||"Closed"==Ce?t=!1:parseFloat(document.getElementById("amount-to-remove-debt").value)>_e?(t=!1,n=!0):parseFloat(Qe)<150?(t=!1,n=!0,document.getElementById("new-cr-debt").style.color="red"):""!=document.getElementById("amount-to-remove-debt").value&&0!=parseFloat(document.getElementById("amount-to-remove-debt").value)||(t=!1,n=!0),t?(e.style.backgroundColor="",e.disabled=!1,document.getElementById("slider-debt").disabled=!1,document.getElementById("amount-to-remove-debt").disabled=!1,document.getElementById("max-new-cr-debt").disabled=!1,document.getElementById("max-new-cr-debt").style.cursor="pointer",document.getElementById("max-new-cr-debt").style.fontWeight=""):(e.style.backgroundColor="hsl(0, 0%, 78%)",e.disabled=!0,0==n&&(document.getElementById("slider-debt").disabled=!0,document.getElementById("amount-to-remove-debt").disabled=!0,document.getElementById("max-new-cr-debt").disabled=!0,document.getElementById("max-new-cr-debt").style.cursor="default",document.getElementById("new-cr-debt").textContent="New CR: -",document.getElementById("max-new-cr-debt").textContent="Max CR: -",document.getElementById("max-new-cr-debt").style.fontWeight="normal"),1==n&&(document.getElementById("max-new-cr-debt").style.cursor="pointer",document.getElementById("max-new-cr-debt").style.fontWeight="",document.getElementById("slider-debt").disabled=!1,document.getElementById("amount-to-remove-debt").disabled=!1,document.getElementById("max-new-cr-debt").disabled=!1))}function kt(){var e=document.getElementById("liqwithmark"),t=!0,n="";0==o?t=!1:parseFloat(Le)>_e?(t=!1,n="Insufficient STAB to liquidate loan."):(null==je||"Pending"==document.getElementById("marker-state").textContent)&&(t=!1),t?(e.style.backgroundColor="",e.disabled=!1,document.getElementById("warning-message-liq").style.display="none"):(e.style.backgroundColor="hsl(0, 0%, 78%)",e.disabled=!0,document.getElementById("warning-message-liq").style.display="none",""!=n&&(document.getElementById("warning-message-liq").style.display="block"))}function At(){if(1!=Ye){var e=document.getElementById("liqnextskip"),t=!0,n="";0==o?t=!1:parseFloat(Xe)>_e&&(t=!1,n="Insufficient STAB to liquidate loan."),t?(e.style.backgroundColor="",e.disabled=!1,document.getElementById("warning-liq-not-enough-stab").style.display="none"):(e.style.backgroundColor="hsl(0, 0%, 78%)",e.disabled=!0,""!=n&&(document.getElementById("warning-liq-not-enough-stab").style.display="block"))}}function St(){var e,t;e=document.getElementById("sell"),t=!0,(0==o||1==it&&parseFloat(document.getElementById("amount-sell").value)>Ee||0==it&&parseFloat(document.getElementById("amount-sell").value)>_e||""==document.getElementById("amount-sell").value||0==parseFloat(document.getElementById("amount-sell").value))&&(t=!1),t?(document.getElementById("swap-warning").style.display="none",e.style.backgroundColor="",e.disabled=!1):(e.style.backgroundColor="hsl(0, 0%, 78%)",e.disabled=!0);var n=parseFloat(document.getElementById("amount-sell").value),r=parseFloat(Ae),i=parseFloat(ke),s=document.getElementById("percentage-change");if(isNaN(n)&&(n=0),1==it){var a=((u=i+n)/(c=r-r*(1-ot)*n/(i+n*(1-ot)))-i/r)/(i/r)*100,l=be/ce;s.style.color=i/r>l?"red":u/c<l?"green":"red",document.getElementById("percentage-change").childNodes[0].nodeValue="+"+a.toFixed(2)+"%"}else{let e=i*(1-ot)*n/(r+n*(1-ot));var c,u=parseFloat(i)-e;a=((c=parseFloat(r)+n)/u-r/i)/(r/i)*100,l=be/ce,s.style.color=i/r<l?"red":u/c>l?"green":"red",document.getElementById("percentage-change").childNodes[0].nodeValue="+"+a.toFixed(2)+"%"}}async function Bt(e){const t={"Content-Type":"application/json"};try{const n=await fetch("https://stokenet.radixdlt.com/status/gateway-status",{method:"POST",headers:t,body:JSON.stringify({})}),r=(await n.json()).ledger_state.epoch,o=r,i=r+2,s="https://stokenet.radixdlt.com/transaction/preview";let a="";const l=`\n            CALL_METHOD\n                Address("${z}")\n                "mark_for_liquidation"\n                Address("resource_tdx_2_1tknxxxxxxxxxradxrdxxxxxxxxx009923554798xxxxxxxxxtfd2jc")\n                ;\n            `;for(let t=0;t<e;t++)a+=l;a+='\n            CALL_METHOD\n                Address("account_tdx_2_168z9kn6xeg7s0m7qsgdf5wmvsh0v656ndkh295d8p4j5lu47ta5rnv")\n                "deposit_batch"\n                Expression("ENTIRE_WORKTOP");\n            ';const c={manifest:a,start_epoch_inclusive:o,end_epoch_exclusive:i,tip_percentage:0,nonce:1,signer_public_keys:[{key_type:"EcdsaSecp256k1",key_hex:"0305684de356f5126befda977935827f6f74ca3b7865cd8516ca72ef7afc8c0e06"}],flags:{use_free_credit:!0,assume_all_signature_proofs:!0,skip_epoch_check:!0,disable_auth_checks:!0}},u=await fetch(s,{method:"POST",headers:t,body:JSON.stringify(c)}),d=await u.json();return console.log(d),"Succeeded"===d.receipt.status?(document.getElementById("warning-mark").style.display="none",document.getElementById("mark").style.backgroundColor="",document.getElementById("mark").disabled=!1,Ye=!1):(document.getElementById("warning-mark").style.display="block",document.getElementById("mark").style.backgroundColor="hsl(0, 0%, 78%)",document.getElementById("mark").disabled=!0,Ye=!0),d}catch(e){throw console.error("Error:",e),e}}async function Ct(e){const t={"Content-Type":"application/json"};try{const n=await fetch("https://stokenet.radixdlt.com/status/gateway-status",{method:"POST",headers:t,body:JSON.stringify({})}),r=(await n.json()).ledger_state.epoch,i="https://stokenet.radixdlt.com/transaction/preview",s={manifest:`CALL_METHOD\n            Address("account_tdx_2_168z9kn6xeg7s0m7qsgdf5wmvsh0v656ndkh295d8p4j5lu47ta5rnv")\n            "create_proof_of_amount"\n            Address("${X}")\n            Decimal("0.75");\n\n\n        CALL_METHOD\n            Address("${W}")\n            "free_stab"\n            Decimal("100000000");\n\n        TAKE_ALL_FROM_WORKTOP\n            Address("${G}")\n            Bucket("stab");\n\n        CALL_METHOD\n            Address("${z}")\n            "liquidate_position_without_marker"\n            Bucket("stab")\n            true\n            ${e}i64\n            NonFungibleLocalId("#0#");\n\n        CALL_METHOD\n            Address("account_tdx_2_168z9kn6xeg7s0m7qsgdf5wmvsh0v656ndkh295d8p4j5lu47ta5rnv")\n            "deposit_batch"\n            Expression("ENTIRE_WORKTOP");\n            `,start_epoch_inclusive:r,end_epoch_exclusive:r+2,tip_percentage:0,nonce:1,signer_public_keys:[{key_type:"EcdsaSecp256k1",key_hex:"0305684de356f5126befda977935827f6f74ca3b7865cd8516ca72ef7afc8c0e06"}],flags:{use_free_credit:!0,assume_all_signature_proofs:!0,skip_epoch_check:!0,disable_auth_checks:!0}},a=await fetch(i,{method:"POST",headers:t,body:JSON.stringify(s)}),l=await a.json();if("Succeeded"===l.receipt.status){document.getElementById("warning-liq").style.display="none";const e=l.resource_changes,t=(t,n)=>{for(const r of e){const e={[t]:null,[n]:null,thirdResource:{address:null,amount:null}};for(const o of r.resource_changes)o.resource_address===t?e[t]=o.amount:o.resource_address===n?e[n]=o.amount:(e.thirdResource.address=o.resource_address,e.thirdResource.amount=o.amount);if(e[t]&&e[n]&&e.thirdResource.address)return e}return null},n=G,r=t(n,ee);r?(Xe=1e8-r[n],Xe<=_e?1==o&&(console.log(Xe,_e),document.getElementById("liqnextskip").style.backgroundColor="",document.getElementById("liqnextskip").disabled=!1):Xe>_e&&1==o?(document.getElementById("warning-liq-not-enough-stab").style.display="block",document.getElementById("warning-liq").style.display="none",document.getElementById("liqnextskip").style.backgroundColor="hsl(0, 0%, 78%)",document.getElementById("liqnextskip").disabled=!0):0==o&&(document.getElementById("warning-liq").style.display="none",document.getElementById("warning-liq-not-enough-stab").style.display="none",document.getElementById("liqnextskip").style.backgroundColor="hsl(0, 0%, 78%)",document.getElementById("liqnextskip").disabled=!0),Je=r.thirdResource.address,document.getElementById("stab-debt").textContent=(1*Xe).toFixed(2)+" STAB",document.getElementById("col-reward").textContent=(1*r.thirdResource.amount).toFixed(2)+" "+Pt(r.thirdResource.address)):console.log("Could not find all specified resources within the same parent.")}else document.getElementById("warning-liq").style.display="block",document.getElementById("warning-liq-not-enough-stab").style.display="none",document.getElementById("liqnextskip").style.backgroundColor="hsl(0, 0%, 78%)",document.getElementById("liqnextskip").disabled=!0,document.getElementById("stab-debt").textContent="-",document.getElementById("col-reward").textContent="-";return At(),l}catch(e){throw console.error("Error:",e),e}}async function Tt(){if("/incentives"===window.location.pathname){let e={resource_address:H,non_fungible_ids:[Ue]};if(void 0===Ue)return;await fetch("https://stokenet.radixdlt.com/state/non-fungible/data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{de=e.non_fungible_ids[0].data.programmatic_json.fields[0].elements[1].value,fe=e.non_fungible_ids[0].data.programmatic_json.fields[1].elements[1].value,he=e.non_fungible_ids[0].data.programmatic_json.fields[2].value,pe=e.non_fungible_ids[0].data.programmatic_json.fields[0].elements[0].value,me=e.non_fungible_ids[0].data.programmatic_json.fields[1].elements[0].value})).catch((e=>console.error("Error:",e))),document.getElementById("lpAmountId").textContent=(1*de).toFixed(2)+` (${(1*fe).toFixed(2)})`,document.getElementById("ilisAmountId").textContent=(1*pe).toFixed(2)+` (${(1*me).toFixed(2)})`,document.getElementById("nextClaim").textContent=Math.min(ye-he+1,5);let t=document.getElementById("stake-ilis-amount"),n=(Math.floor(10*we)/10).toLocaleString("en-US");t.textContent="max. "+n,t.style.cursor="pointer",t.addEventListener("click",(function(){document.getElementById("stake-ilis-field").value=Math.floor(10*we)/10}));let r=document.getElementById("stake-lp-amount"),o=(Math.floor(10*xe)/10).toLocaleString("en-US");r.textContent="max. "+o,r.style.cursor="pointer",r.addEventListener("click",(function(){document.getElementById("stake-lp-field").value=Math.floor(10*xe)/10}));let i=document.getElementById("unstake-ilis-amount"),s=(Math.floor(10*(pe+me))/10).toLocaleString("en-US");i.textContent="max. "+s,i.style.cursor="pointer",i.addEventListener("click",(function(){document.getElementById("unstake-ilis-field").value=Math.floor(10*(pe+me))/10}));let a=document.getElementById("unstake-lp-amount"),l=(Math.floor(10*(de+fe))/10).toLocaleString("en-US");a.textContent="max. "+l,a.style.cursor="pointer",a.addEventListener("click",(function(){document.getElementById("unstake-lp-field").value=Math.floor(10*(de+fe))/10}))}}async function Lt(){if("/liquidations"===window.location.pathname){if(void 0===je)return At(),void kt();(async()=>{let e={resource_address:te,non_fungible_ids:[je]};try{let t=await fetch("https://stokenet.radixdlt.com/state/non-fungible/data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json();Re=n.non_fungible_ids[0].data.programmatic_json.fields[1].value,qe=n.non_fungible_ids[0].data.programmatic_json.fields[4].value;let r=1e3*parseInt(Re);Fe=new Date(r).toLocaleString();let o=(Date.now()-new Date(r))/1e3/60,i={resource_address:Z,non_fungible_ids:[n.non_fungible_ids[0].data.programmatic_json.fields[2].value]};t=await fetch("https://stokenet.radixdlt.com/state/non-fungible/data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});let s,a=await t.json();if(0==a.non_fungible_ids[0].is_burned){Te=a.non_fungible_ids[0].data.programmatic_json.fields[0].value;const e=ae.find((e=>e[1]===Te));ve=e[4],Oe=a.non_fungible_ids[0].data.programmatic_json.fields[1].value,Me=a.non_fungible_ids[0].data.programmatic_json.fields[3].value,Le=a.non_fungible_ids[0].data.programmatic_json.fields[4].value,Pe=a.non_fungible_ids[0].data.programmatic_json.fields[5].value,Ce=a.non_fungible_ids[0].data.programmatic_json.fields[6].variant_name,s=Pt(Te)}else Oe="-",Me="-",Le="-",Pe="-",Ce="Receipt burned",s="-";document.getElementById("status").textContent=Ce,"XRD"==s?(document.getElementById("collateralAmount").textContent=(1*Me).toFixed(2)+" XRD",document.getElementById("debtAmount").textContent=(1*Le).toFixed(2)+" STAB",document.getElementById("cr").textContent=(Pe*ce*100).toFixed(2)+"%"):"-"==s?(document.getElementById("collateralAmount").textContent="-",document.getElementById("debtAmount").textContent="-",document.getElementById("cr").textContent="-",document.getElementById("status").style.color="red"):(document.getElementById("collateralAmount").textContent=(1*Me).toFixed(2)+" LSUs",document.getElementById("debtAmount").textContent=(1*Le).toFixed(2)+" STAB",document.getElementById("cr").textContent=(Pe*ce*100).toFixed(2)+"%"),1==qe?(document.getElementById("marker-state").style.color="red",document.getElementById("marker-state").textContent="Expired",document.getElementById("liqwithmark").querySelector(".button-text").textContent="BURN MARKER",at=!0):o>5?(document.getElementById("liqwithmark").querySelector(".button-text").textContent="LIQUIDATE",document.getElementById("marker-state").style.color="green",document.getElementById("marker-state").textContent="Useable",at=!0):(document.getElementById("liqwithmark").querySelector(".button-text").textContent="LIQUIDATE",document.getElementById("marker-state").style.color="orange",document.getElementById("marker-state").textContent="Pending",at=!1),document.getElementById("marker-time").textContent=Fe,"Liquidated"==Ce?(document.getElementById("status").style.color="red",document.getElementById("debtAmount").textContent="-",document.getElementById("cr").textContent="-"):"Marked"==Ce?document.getElementById("status").style.color="green":"Closed"!=Ce&&"Healthy"!=Ce||(document.getElementById("status").style.color="black"),At(),kt()}catch(e){console.error("Error:",e)}})()}}async function Ot(){if("/manage-loans"===window.location.pathname){if(void 0===$e)return lt?Et():xt(),void(ct?It():_t());let n={resource_address:Z,non_fungible_ids:[$e]};await fetch("https://stokenet.radixdlt.com/state/non-fungible/data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((e=>e.json())).then((e=>{Te=e.non_fungible_ids[0].data.programmatic_json.fields[0].value;const t=ae.find((e=>e[1]===Te));if(ve=t[4],Me=e.non_fungible_ids[0].data.programmatic_json.fields[3].value,Le=e.non_fungible_ids[0].data.programmatic_json.fields[4].value,Ce=e.non_fungible_ids[0].data.programmatic_json.fields[6].variant_name,ze=pt(Me,Le,ve),Pe=ze,De=Mt(Te,Ge,0),lt?(We=100*pt(parseFloat(De)+parseFloat(Me),Le,ve),Ze=(100*ze).toFixed(2),(r=document.getElementById("slider-col")).min=Ze,r.max=We>1e3?1e3:We,r.value=Math.round(100*Ze)/100):(Ze=(100*ze).toFixed(2),We=(100*ze).toFixed(2),(r=document.getElementById("slider-col")).min=0,r.max=We-150,r.value=r.min),0==ct){var n=Math.max(Le-_e,1);Ke=100*pt(parseFloat(Me),n,ve),Ve=(100*ze).toFixed(2),(r=document.getElementById("slider-debt")).min=Ve,r.max=Ke>1e3?1e3:Ke,r.value=Math.round(100*Ve)/100}else{var r;Ve=(100*ze).toFixed(2),Ke=(100*ze).toFixed(2),(r=document.getElementById("slider-debt")).min=0,r.max=Ke-150,r.value=r.min}document.getElementById("amount-to-remove").value="",document.getElementById("amount-to-remove-debt").value="",ae.forEach((e=>{e[1]===Te&&(document.querySelector(".stab-logo").src=e[3])}))})).catch((e=>console.error("Error:",e)));let r=Pt(Te);document.getElementById("status").textContent=Ce,document.getElementById("collateral").textContent=r;var e=document.getElementById("close-entire-button"),t=e.querySelector(".button-text");document.getElementById("collateralAmount").textContent="XRD"==r?(1*Me).toFixed(2)+" XRD":(1*Me).toFixed(2)+" LSUs",document.getElementById("debtAmount").textContent=(1*Le).toFixed(2)+" STAB",document.getElementById("cr").textContent=(100*ze).toFixed(2)+"%",t.textContent="CLOSE LOAN",("Liquidated"==Ce||"ForceLiquidated"==Ce)&&Me>0?(t.textContent="RETRIEVE COLLATERAL",t.color="white",e.backgroundColor="black",document.getElementById("status").style.color="red",document.getElementById("debtAmount").textContent="-",document.getElementById("cr").textContent="-"):"Marked"==Ce?(document.getElementById("new-cr").textContent="New CR: "+(100*ze).toFixed(2)+"%",document.getElementById("max-new-cr").textContent=lt?"Max CR: "+(1*We).toFixed(2)+"%":"Min CR: 150%",document.getElementById("new-cr-debt").textContent="New CR: "+(100*ze).toFixed(2)+"%",document.getElementById("max-new-cr-debt").textContent=0==ct?"Max CR: "+(1*Ke).toFixed(2)+"%":"Min CR: 150%",t.textContent="CLOSE LOAN",document.getElementById("status").style.color="#ef7200",e.backgroundColor="",t.color=""):"Closed"==Ce||0==Me&&("Liquidated"==Ce||"ForceLiquidated"==Ce)?(t.textContent="BURN LOAN RECEIPT",document.getElementById("status").style.color="Closed"==Ce?"black":"red",document.getElementById("debtAmount").textContent="-",document.getElementById("cr").textContent="-",document.getElementById("collateralAmount").textContent="-",e.backgroundColor="",t.color=""):"Healthy"==Ce&&(100*ze<150?(document.getElementById("status").textContent="In Danger",document.getElementById("status").style.color="orange"):document.getElementById("status").style.color="green",document.getElementById("new-cr").textContent="New CR: "+(100*ze).toFixed(2)+"%",document.getElementById("max-new-cr").textContent=lt?"Max CR: "+(1*We).toFixed(2)+"%":"Min CR: 150%",document.getElementById("new-cr-debt").textContent="New CR: "+(100*ze).toFixed(2)+"%",document.getElementById("max-new-cr-debt").textContent=0==ct?"Max CR: "+(1*Ke).toFixed(2)+"%":"Min CR: 150%",t.textContent="CLOSE LOAN",e.backgroundColor="",t.color=""),wt(),lt?Et():xt(),ct?It():_t()}}function Mt(e,t,n){let r=t[n];if(r.fungible_resources&&r.fungible_resources.items){const t=r.fungible_resources.items.find((t=>t.resource_address===e));if(t&&t.vaults&&t.vaults.items.length>0)return t.vaults.items[0].amount}return 0}function Pt(e){return ae.find((t=>t[1]===e))[0]}function Rt(e){return e<1?e.toFixed(5):e<10?e.toFixed(4):e<100?e.toFixed(3):e<1e3?e.toFixed(2):e<1e4?e.toFixed(1):Math.round(e).toString()}document.querySelectorAll(".decimal-only").forEach((function(e){e.addEventListener("keypress",(function(e){var t=e.which?e.which:event.keyCode,n=this.value.indexOf("."),r=this.selectionStart;(46!=t&&(t<48||t>57)||-1!=n&&r>n&&this.value.split(".")[1].length>=18&&46!=t||46==t&&(-1!=n||this.value.length-r>18))&&e.preventDefault()}))})),window.addEventListener("scroll",(function(){var e=document.querySelector(".navbar-logo-left-container");window.pageYOffset>100?e.classList.add("translucent"):e.classList.remove("translucent")}));for(var o=!1,i=document.querySelectorAll("button.wallet-necessary"),s=0;s<i.length;s++)i[s].addEventListener("click",(function(){o||(this.querySelector(".warning").style.display="block",this.querySelector(".chevron").style.display="none",this.querySelector(".button-text").style.display="none",this.querySelector(".button-warning").style.display="block",this.style.backgroundColor="red")}));function qt(){if(!o){for(var e=0;e<i.length;e++)i[e].querySelector(".warning").style.display="none",i[e].querySelector(".chevron").style.display="block",i[e].querySelector(".button-text").style.display="block",i[e].querySelector(".button-warning").style.display="none",i[e].style.backgroundColor="";o=!0}}const Ft=(0,r.KM)({dAppDefinitionAddress:j,networkId:r.Lv.Stokenet,applicationName:"Stabilis",applicationVersion:"1.0.0"});if(Ft.buttonApi.setTheme("white-with-outline"),Ft.buttonApi.setMode("dark"),Ft.walletApi.setRequestData(r.$J.accounts().exactly(1)),"/borrow"===window.location.pathname||"/manage-loans"===window.location.pathname){var a=document.querySelector(".dropdown-custom-button"),l=window.getComputedStyle(a).width;a.style.minWidth=l;for(let Ht of ae){let zt=Ht[1];ut.push(zt)}for(let Wt of ae){let Kt=Wt[2];dt.push(Kt)}let Dt="https://stokenet.radixdlt.com/state/entity/details",$t={addresses:ut,aggregation_level:"Vault",opt_ins:{ancestor_identities:!0,component_royalty_vault_balance:!0,package_royalty_vault_balance:!0,non_fungible_include_nfids:!0,explicit_metadata:[]}},Ut="https://stokenet.radixdlt.com/state/validators/list",jt={at_ledger_state:null};await fetch(Dt,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($t)}).then((e=>e.json())).then((e=>{for(let t of e.items)ae.forEach((e=>{e[1]===t.address&&(e[6]=t.details.total_supply)}))})).catch((e=>{console.error("Error:",e)})),await fetch(Ut,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(jt)}).then((e=>e.json())).then((e=>{let t=e.validators.items;for(let e=0;e<t.length;e++){let n=dt.indexOf(t[e].address);-1!==n&&(ae[n][4]=ae[n][6]/t[e].stake_vault.balance)}console.log(ae)})).catch((e=>{console.error("Error:",e)}))}function Nt(e){Ft.walletApi.walletData$.subscribe((t=>{console.log("subscription wallet data: ",t),t&&t.accounts&&t.accounts.length>0?(re=t.accounts[0].address,qt()):(o=!1,_e=0,Ee=0,xe=0,$e=void 0,je=void 0,Ue=void 0,re="account_tdx_2_129kt8327ulqyq0ahdh74plu0r23qn9jugxppehggtp27m9n063heec"),se[0],se[1];const n=[re,z,K,G,V,ne],r={addresses:n,aggregation_level:"Vault",opt_ins:{ancestor_identities:!1,component_royalty_vault_balance:!1,package_royalty_vault_balance:!1,non_fungible_include_nfids:!0,explicit_metadata:["name","description"]}};(async function(){try{const e=fetch("https://stokenet.radixdlt.com/state/entity/details",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),[t]=await Promise.all([e]);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}, ${t.status}`);const[o]=await Promise.all([t.json()]);let i=[];if(n.forEach((e=>{let t=o.items.find((t=>t.address===e));t&&i.push(t)})),i.forEach((e=>{e.non_fungible_resources&&e.non_fungible_resources.items.forEach((e=>{e.resource_address===H&&e.vaults&&e.vaults.items.forEach((e=>{tt=tt.concat(e.items)})),e.resource_address===Z&&e.vaults&&e.vaults.items.forEach((e=>{nt=nt.concat(e.items)})),e.resource_address===te&&e.vaults&&e.vaults.items.forEach((e=>{rt=rt.concat(e.items)}))}))})),nt.length>0){const e={resource_address:Z,non_fungible_ids:nt};await fetch("https://stokenet.radixdlt.com/state/non-fungible/data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>{if(!e.ok)throw new Error("Network response was not ok "+e.statusText);return e.json()})).then((e=>{i.push(e.non_fungible_ids)})).catch((e=>{console.error("There was a problem with the fetch operation:",e)}))}return i}catch(e){console.error("Error:",e)}})().then((t=>{Ge=t,!1===e&&function(e){if(tt=[],nt=[],rt=[],be=e[1].details.state.fields[12].value,ce=e[1].details.state.fields[19].value,ge=be/ce,ve=1,"/borrow"===window.location.pathname){let h=!0;(i=document.querySelector(".dropdown-custom-content")).innerHTML="";var t=document.querySelector(".dropdown-custom-button b"),n=document.querySelector(".dropdown-custom-button");if(async function(e){const t=await fetch("https://stokenet.radixdlt.com/state/entity/details",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({addresses:[e],aggregation_level:"Vault",opt_ins:{ancestor_identities:!0,component_royalty_vault_balance:!0,package_royalty_vault_balance:!0,non_fungible_include_nfids:!0,explicit_metadata:[]}})}),n=(await t.json()).items.flatMap((e=>e.fungible_resources.items.filter((e=>ae.some((t=>t[1]===e.resource_address)))).map((e=>{const t=ae.find((t=>t[1]===e.resource_address));return e.name=t?t[0]:"",e.logo=t?t[3]:"",e.multiplier=t?t[4]:1,e.identifier=t?t[5]:"",e})))).map((e=>{let t=0;return e.vaults&&e.vaults.items&&e.vaults.items.length>0&&(t=parseFloat(e.vaults.items[0].amount)),{name:e.name,resourceAddress:e.resource_address,amount:t,logo:e.logo,multiplier:e.multiplier,identifier:e.identifier}}));return n.sort(((e,t)=>t.amount-e.amount)),n}(re).then((e=>{e.forEach((e=>{n.disabled=!1,n.style.backgroundColor="";var t=e.name,r=e.resourceAddress,o=e.logo,i="max. "+e.amount.toFixed(2),s=document.getElementById("slider-single");let a=document.getElementById("colToUse");r===Ne&&(De=e.amount,document.getElementById("col-max").textContent="max. "+De.toFixed(2).toLocaleString("en-US"));var l=document.createElement("div");l.className="dropdown-custom-option",l.dataset.logoUrl=o,l.setAttribute("tabindex","0");var c=document.createElement("img");c.src=o,c.alt="Logo",l.appendChild(c);var u=document.createElement("div");u.className="option-text";var d=document.createElement("div");d.className="option-title",d.textContent=t,u.appendChild(d);var f=document.createElement("div");f.className="option-subtext",f.textContent=i,u.appendChild(f),l.appendChild(u),l.addEventListener("click",(function(){document.getElementById("col-max").textContent="max. "+e.amount.toLocaleString("en-US"),De=e.amount,Ne=r,le=e.identifier,ve=e.multiplier,document.querySelectorAll(".dropdown-custom-option").forEach((function(e){e.classList.remove("selected")})),l.classList.add("selected"),document.querySelector(".dropdown-custom-button b").textContent=t;var n=document.querySelector(".dropdown-custom-content");if(n.style.display="none",yt(n),document.querySelector(".stab-logo").src=o,""!==a.value){let e=1/(ge*ve)/(s.value/100)*a.value;He=e,Me=a.value,document.getElementById("outputStab").innerHTML=Rt(e)}else{let e=1/(ge*ve)/(s.value/100);He=e,Me=0,document.getElementById("outputStab").innerHTML=Rt(e)}""!==a.value?document.getElementById("ratio-suffix").innerHTML="STAB":document.getElementById("ratio-suffix").innerHTML="STAB/"+le,vt()})),h&&(l.click(),h=!1),document.querySelector(".dropdown-custom-content").appendChild(l)}))})),h){var r=document.getElementById("slider-single");let y=document.getElementById("colToUse");if(document.getElementById("col-max").textContent="max. 0",De=0,Ne=J,le="XRD",document.querySelector(".stab-logo").src="images/radix-logo.svg",(t=document.querySelector(".dropdown-custom-button b")).textContent="XRD",n.disabled=!0,n.style.backgroundColor="hsl(0, 0%, 78%)",""!==y.value){let g=1/(ge*ve)/(r.value/100)*y.value;He=g,Me=y.value,document.getElementById("outputStab").innerHTML=Rt(g)}else{let b=1/(ge*ve)/(r.value/100);He=b,Me=0,document.getElementById("outputStab").innerHTML=Rt(b)}""!==y.value?document.getElementById("ratio-suffix").innerHTML="STAB":document.getElementById("ratio-suffix").innerHTML="STAB/"+le}if(!o){var i=document.querySelector(".dropdown-custom-content");t=document.querySelector(".dropdown-custom-button b"),i.innerHTML="",t.textContent="XRD",document.querySelector(".stab-logo").src="images/radix-logo.svg",n.disabled=!0,n.style.backgroundColor="hsl(0, 0%, 78%)"}vt()}if(e.forEach((e=>{e.non_fungible_resources&&e.non_fungible_resources.items.forEach((e=>{e.resource_address===H&&e.vaults&&e.vaults.items.forEach((e=>{tt=tt.concat(e.items)})),e.resource_address===Z&&e.vaults&&e.vaults.items.forEach((e=>{nt=nt.concat(e.items)})),e.resource_address===te&&e.vaults&&e.vaults.items.forEach((e=>{rt=rt.concat(e.items)}))}))})),we=Mt(Y,e,0),Ee=Mt(J,e,0),xe=Mt(Q,e,0),_e=Mt(G,e,0),ke=Mt(J,e,4),Ae=Mt(G,e,4),ue=(100*(e[1].details.state.fields[14].value**525600-1)).toFixed(2),"/incentives"===window.location.pathname&&(document.getElementById("ilis-staking-rewards").textContent=Se+" ILIS/day",document.getElementById("lpstab-staking-rewards").textContent=Be+" ILIS/day",document.getElementById("update-rewards").textContent=updateRewards+" ILIS/day"),"/"!==window.location.pathname&&"/secret_index"!==window.location.pathname&&"/index"!==window.location.pathname||(document.getElementById("interest-rate").textContent=ue,document.getElementById("circulating-counter").textContent=(1*e[3].details.total_supply).toFixed(0),document.getElementById("price-counter").textContent=(ce*ge).toFixed(2)),"/swap"===window.location.pathname){async function v(){try{const t=await fetch("https://stokenet.radixdlt.com/status/gateway-status",{method:"POST",headers:{"Content-Type":"application/json"}}),n=await t.json();var e=new Date(n.ledger_state.proposer_round_timestamp)}catch(e){console.error("Error:",e)}const t=new Date(e-6048e5),n="https://stokenet.radixdlt.com/state/entity/details",r="https://stokenet.radixdlt.com/state/entity/page/fungibles",o=e=>({addresses:[Q],aggregation_level:"Vault",at_ledger_state:{timestamp:e},opt_ins:{ancestor_identities:!0,component_royalty_config:!0,component_royalty_vault_balance:!0,package_royalty_vault_balance:!0,non_fungible_include_nfids:!0,explicit_metadata:["name","description"]}}),i=e=>({address:V,at_ledger_state:{timestamp:e}});try{const b=new Date("2024-07-03T03:45:20.702Z"),v=b>t?b:t,[w,E,x,_,I]=await Promise.all([fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o(v.toISOString()))}),fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i(v.toISOString()))}),fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o(e.toISOString()))}),fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i(e.toISOString()))}),fetch("https://stokenet.radixdlt.com/state/entity/details",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((g=v.toISOString(),{addresses:[z],aggregation_level:"Vault",at_ledger_state:{timestamp:g},opt_ins:{ancestor_identities:!0,component_royalty_config:!0,component_royalty_vault_balance:!0,package_royalty_vault_balance:!0,non_fungible_include_nfids:!0,explicit_metadata:["name","description"]}}))})]);if(!(w.ok&&E.ok&&x.ok&&_.ok&&I.ok))throw new Error("Failed to fetch entity data");const[k,A,S,B,C]=await Promise.all([w.json(),E.json(),x.json(),_.json(),I.json()]),T=new Map(A.items.map((e=>[e.resource_address,e.amount]))),L=new Map(B.items.map((e=>[e.resource_address,e.amount]))),O=A.items.map((e=>e.resource_address)),M=O.map((e=>T.get(e))),P=O.map((e=>L.get(e))),R=k.items[0]?.details?.total_supply,q=S.items[0]?.details?.total_supply;var s=M[0],a=M[1],l=P[0],c=P[1],u=l/c,d=(C.items[0].details.state.fields[19].value,u*ce),f=(s*ce+a*d)/R,p=(l*ce+c*d)/q,m=100*(Math.pow(p/f,365/7)-1),h=document.getElementById("apy-real"),y=document.getElementById("pool-liq");ke=Mt(J,Ge,4),y.textContent="$"+Number((2*ke*ce).toFixed(2)).toLocaleString("en-US"),h.textContent=m.toFixed(2)+"%",h.style.color=m>0?"green":"red"}catch(e){console.error("Error fetching data:",e)}var g}St(),gt(),bt(),v(),1==it?(Ie=Math.floor(10*Ee)/10,document.getElementById("swap-sell-amount").textContent="max. "+Ie.toLocaleString("en-US")):(Ie=_e>=.1?Math.floor(10*_e)/10:0,document.getElementById("swap-sell-amount").textContent="max. "+Ie.toLocaleString("en-US")),document.getElementById("internal-price-xrd").innerHTML=ge.toFixed(2)+" XRD",document.getElementById("internal-price-usd").innerHTML="$"+(ge*ce).toFixed(3),document.getElementById("market-price-xrd").innerHTML=(ke/Ae).toFixed(2)+" XRD",document.getElementById("market-price-usd").innerHTML="$"+(ke/Ae*ce).toFixed(3),document.getElementById("interest-rate").innerHTML=ue+"% APY",document.getElementById("recommendation").innerHTML=ke/Ae<.995*ge?"<strong>Market price &lt; Internal price</strong>, sell XRD to arbitrage!":ke/Ae>1.005*ge?"<strong>Market price &gt; Internal price</strong>, sell STAB to arbitrage!":"Price error is within acceptable bounds. Minimal arbitrage opportunities.",document.getElementById("provide-xrd-amount").textContent="max. "+(Math.floor(10*Ee)/10).toLocaleString("en-US"),document.getElementById("provide-stab-amount").textContent=_e>=.1?"max. "+(Math.floor(10*_e)/10).toLocaleString("en-US"):"max. 0",document.getElementById("remove-lp-amount").textContent="max. "+(Math.floor(10*xe)/10).toLocaleString("en-US")}if("/liquidations"===window.location.pathname){(i=document.querySelector(".dropdown-custom-content")).innerHTML="";var s=!1;rt.forEach((e=>{0==s&&(s=!0);var t=e,n="images/marker-receipt.png",r=document.createElement("div");r.className="dropdown-custom-option",r.dataset.logoUrl=n,r.setAttribute("tabindex","0");var o=document.createElement("img");o.src=n,o.alt="Logo",o.style.borderRadius="0",r.appendChild(o);var i=document.createElement("div");i.className="option-text";var a=document.createElement("div");a.className="option-title",a.textContent=t,i.appendChild(a);var l=document.createElement("div");l.className="option-subtext",l.textContent="Stabilis Marker Receipt",i.appendChild(l),r.appendChild(i),r.addEventListener("click",(function(){document.querySelectorAll(".dropdown-custom-option").forEach((function(e){e.classList.remove("selected")})),r.classList.add("selected"),document.querySelector(".dropdown-custom-button b").textContent="Marker "+t;var n=document.querySelector(".dropdown-custom-content");n.style.display="none",yt(n),je=e,Lt(),kt(),At()})),document.querySelector(".dropdown-custom-content").appendChild(r)})),t=document.querySelector(".dropdown-custom-button"),0==s?(t.style.backgroundColor="hsl(0, 0%, 78%)",t.disabled=!0):(t.disabled=!1,t.style.backgroundColor=""),void 0!==je?Lt():(!1===o&&(i.innerHTML=""),(t=document.querySelector(".dropdown-custom-button b")).textContent="select a marker",document.getElementById("liqwithmark").querySelector(".button-text").textContent="LIQUIDATE",document.getElementById("liqwithmark").style.color="black",document.getElementById("marker-time").textContent="-",document.getElementById("status").style.color="black",document.getElementById("marker-state").textContent="-",document.getElementById("marker-state").style.color="black",document.getElementById("status").textContent="-",document.getElementById("collateralAmount").textContent="-",document.getElementById("debtAmount").textContent="-",document.getElementById("cr").textContent="-"),Ct(parseInt(document.getElementById("liq-counter").textContent)),At()}if("/incentives"===window.location.pathname)if(Ue=void 0,(i=document.querySelector(".dropdown-custom-content")).innerHTML="",tt.forEach((e=>{var t=e,n="images/staking-id.png",r=document.createElement("div");r.className="dropdown-custom-option",r.dataset.logoUrl=n,r.setAttribute("tabindex","0");var o=document.createElement("img");o.src=n,o.alt="Logo",o.style.borderRadius="0",r.appendChild(o);var i=document.createElement("div");i.className="option-text";var s=document.createElement("div");s.className="option-title",s.textContent=t,i.appendChild(s);var a=document.createElement("div");a.className="option-subtext",a.textContent="Stabilis Staking ID",i.appendChild(a),r.appendChild(i),r.addEventListener("click",(function(){document.querySelectorAll(".dropdown-custom-option").forEach((function(e){e.classList.remove("selected")})),r.classList.add("selected"),document.querySelector(".dropdown-custom-button b").textContent="ID "+t;var n=document.querySelector(".dropdown-custom-content");n.style.display="none",yt(n),Ue=e,Tt()})),document.querySelector(".dropdown-custom-content").appendChild(r)})),void 0!==Ue)Tt();else{!1===o&&(i.innerHTML=""),(t=document.querySelector(".dropdown-custom-button b")).textContent="Select ID",document.getElementById("ilisAmountId").textContent="-",document.getElementById("lpAmountId").textContent="-",document.getElementById("nextClaim").textContent="-";let w=document.getElementById("stake-ilis-amount");w.textContent="max. -";var a=w.cloneNode(!0);w.parentNode.replaceChild(a,w);let E=document.getElementById("stake-lp-amount");E.textContent="max. -";var l=E.cloneNode(!0);E.parentNode.replaceChild(l,E);let x=document.getElementById("unstake-ilis-amount");x.textContent="max. -";var c=x.cloneNode(!0);x.parentNode.replaceChild(c,x);let _=document.getElementById("unstake-lp-amount");_.textContent="max. -";var u=_.cloneNode(!0);_.parentNode.replaceChild(u,_)}if("/borrow"===window.location.pathname||"/manage-loans"===window.location.pathname){document.getElementById("interest-rate").textContent=ue+"% APY";var d=(1*e[3].details.total_supply).toFixed(0);document.getElementById("circulating-stab").textContent=Number(d).toLocaleString("en-US"),document.getElementById("stab-internal-price").textContent="$"+(ce*ge).toFixed(2),document.getElementById("stab-market-price").textContent="$"+(ce*ke/Ae).toFixed(2);var f=(e[3].details.total_supply*ce*ke/Ae).toFixed(0);document.getElementById("stab-mc").textContent="$"+Number(f).toLocaleString("en-US");const I={key_value_store_address:oe,keys:[{key_hex:ie},{key_json:{kind:"Tuple",fields:[{kind:"U32",value:"1"}]}}]};fetch("https://stokenet.radixdlt.com/state/key-value-store/data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)}).then((e=>e.json())).then((e=>{let t,n;e.entries.forEach((e=>{e.value.programmatic_json.fields.forEach((e=>{"minted_stab"===e.field_name?t=e.value:"collateral_amount"===e.field_name&&(n=e.value)}))})),document.getElementById("stab-cr").textContent=(n*ce/(t*be)*100).toFixed(2)+"%"})).catch((e=>{console.error("Error:",e)}))}if("/manage-loans"===window.location.pathname){(i=document.querySelector(".dropdown-custom-content")).innerHTML="";var p,m=!1;e.length>5&&(p=e[5].length-1),nt.forEach((t=>{0==m&&(m=!0);for(var n="Receipt "+t,r="images/receipt.png";1==e[5][p].is_burned&&p>0;)p-=1;const o=ae.find((t=>t[1]===e[5][p].data.programmatic_json.fields[0].value));ve=o[4];var i=e[5][p].data.programmatic_json.fields[3].value/e[5][p].data.programmatic_json.fields[4].value*ce*100/be/ve,s=e[5][p].data.programmatic_json.fields[6].variant_name;if("Liquidated"!=s&&"ForceLiquidated"!=s)var a=s+", CR: "+(1*i).toFixed(2)+"%";else a=s;var l=document.createElement("div");l.className="dropdown-custom-option",i<150||"Marked"===s?l.classList.add("extrawarning"):i<200&&l.classList.add("littlewarning"),l.dataset.logoUrl=r,l.setAttribute("tabindex","0");var c=document.createElement("img");c.src=r,c.alt="Logo",c.style.borderRadius="0",l.appendChild(c);var u=document.createElement("div");u.className="option-text";var d=document.createElement("div");d.className="option-title",d.textContent=n,u.appendChild(d);var f=document.createElement("div");f.className="option-subtext",f.textContent=a,u.appendChild(f),l.appendChild(u),l.addEventListener("click",(function(){document.getElementById("amount-to-remove").value="",document.querySelectorAll(".dropdown-custom-option").forEach((function(e){e.classList.remove("selected")})),l.classList.add("selected"),document.querySelector(".dropdown-custom-button b").textContent=n;var e=document.querySelector(".dropdown-custom-content");e.style.display="none",yt(e),$e=t,Ot()})),document.querySelector(".dropdown-custom-content").appendChild(l),p-=1})),t=document.querySelector(".dropdown-custom-button"),0==m?(t.style.backgroundColor="hsl(0, 0%, 78%)",t.disabled=!0):(t.disabled=!1,t.style.backgroundColor=""),void 0!==$e?Ot():(!1===o&&(i.innerHTML=""),(t=document.querySelector(".dropdown-custom-button b")).textContent="select loan receipt",document.querySelector(".stab-logo").src="images/radix-logo.svg",document.getElementById("status").textContent="-",document.getElementById("collateral").textContent="-",document.getElementById("collateralAmount").textContent="-",document.getElementById("debtAmount").textContent="-",document.getElementById("cr").textContent="-"),wt(),lt?Et():xt(),ct?It():_t()}}(t),Ot(),Lt(),Tt(),"/liquidations"===window.location.pathname&&(kt(),At())})).catch((e=>{console.error("Error:",e)}))}))}if(Nt(!1),"/swap"===window.location.pathname){const Vt=document.querySelectorAll(".stake-button");Vt.forEach((e=>{e.addEventListener("click",(function(){Vt.forEach((e=>e.classList.remove("selected"))),this.classList.add("selected"),"provide-liq-button"===this.id?(document.getElementById("provide-section").style.display="block",document.getElementById("remove-section").style.display="none"):(document.getElementById("provide-section").style.display="none",document.getElementById("remove-section").style.display="block")}))}));let Gt=document.getElementById("swap-sell-amount"),Zt=document.getElementById("amount-receive"),Xt=document.getElementById("amount-sell"),Jt=document.getElementById("amount-xrd-provide-lp"),Yt=document.getElementById("amount-stab-provide-lp"),Qt=document.getElementById("amount-remove-lp");Xt.oninput=function(){if(1==it){Ie=this.value;let e=parseFloat(Ae)*(1-ot)*Ie/(parseFloat(ke)+Ie*(1-ot));Zt.value=e.toFixed(5),St()}else{Ie=this.value;let e=parseFloat(ke)*(1-ot)*Ie/(parseFloat(Ae)+Ie*(1-ot));Zt.value=e.toFixed(5),St()}},document.getElementById("switch-button").onclick=function(){let e=document.getElementById("swap-logo-1").getAttribute("src"),t=document.getElementById("swap-logo-2").getAttribute("src");document.getElementById("swap-logo-1").setAttribute("src",t),document.getElementById("swap-logo-2").setAttribute("src",e),it=!it,Xt.value="",Zt.value="",1==it?(Ie=Math.floor(10*Ee)/10,Gt.textContent="max. "+Ie.toLocaleString("en-US")):(Ie=_e>=.1?Math.floor(10*_e)/10:0,Gt.textContent="max. "+Ie.toLocaleString("en-US")),St()},Gt.addEventListener("click",(function(){if(1==it){Xt.value=Ee,Ie=Math.floor(10*Ee)/10;let e=parseFloat(Ae)*(1-ot)*Ie/(parseFloat(ke)+Ie*(1-ot));Zt.value=e.toFixed(5)}else{Xt.value=_e,Ie=_e>=.1?Math.floor(10*_e)/10:0;let e=parseFloat(ke)*(1-ot)*Ie/(parseFloat(Ae)+Ie*(1-ot));Zt.value=e.toFixed(5)}St()})),Gt.style.cursor="pointer";let en=document.getElementById("provide-xrd-amount"),tn=document.getElementById("provide-stab-amount"),nn=document.getElementById("remove-lp-amount");tn.style.cursor="pointer",en.style.cursor="pointer",nn.style.cursor="pointer",en.addEventListener("click",(function(){Jt.value=Ee,Yt.value=Jt.value*(Ae/ke),gt()})),tn.addEventListener("click",(function(){Yt.value=_e,Jt.value=Yt.value*(ke/Ae),gt()})),nn.addEventListener("click",(function(){Qt.value=xe,bt()})),Qt.oninput=function(){bt()},Yt.oninput=function(){Jt.value=Yt.value*(ke/Ae),""==this.value&&(Jt.value=""),gt()},Jt.oninput=function(){Yt.value=Jt.value*(Ae/ke),""==this.value&&(Yt.value=""),gt()},document.getElementById("sell").onclick=async function(){if(Nt(!0),!o)return;if(""===document.getElementById("amount-sell").value)return void alert("Please enter an amount to swap.");const e=this,t=e.querySelector(".button-text"),n=e.querySelector(".button-waiting"),r=e.querySelector(".spin"),i=e.querySelector(".chevron");r.style.display="inline-block",i.style.display="none",t.style.display="none",n.style.display="inline-block",e.disabled=!0,e.style.backgroundColor="#c6c6c6";let s,a,l=document.getElementById("amount-sell").value;1==it?(s=J,a="Selling XRD for STAB using the Stabilis Protocol"):(s=G,a="Selling STAB for XRD using the Stabilis Protocol");let c=`\n                CALL_METHOD\n                Address("${re}")\n                "withdraw"    \n                Address("${s}")\n                Decimal("${l}");\n                TAKE_ALL_FROM_WORKTOP\n                Address("${s}")\n                Bucket("sell");\n                CALL_METHOD\n                Address("${K}")\n                "swap"\n                Bucket("sell");\n                CALL_METHOD\n                Address("${re}")\n                "deposit_batch"\n                Expression("ENTIRE_WORKTOP");\n                `;console.log("Swap manifest: ",c),ft(0,"Swap",1),Ft.walletApi.sendTransaction({transactionManifest:c,version:1,message:a}).then((o=>{ft(o.value.transactionIntentHash,"Swap",2),console.log(o),r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",Nt(!1)})).catch((o=>{r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.error(o)}))},document.getElementById("provide").onclick=async function(){if(Nt(!0),!o)return;if(""===document.getElementById("amount-xrd-provide-lp").value||""===document.getElementById("amount-stab-provide-lp").value)return void alert("Please enter an amount to provide.");const e=this,t=e.querySelector(".button-text"),n=e.querySelector(".button-waiting"),r=e.querySelector(".spin"),i=e.querySelector(".chevron");r.style.display="inline-block",i.style.display="none",t.style.display="none",n.style.display="inline-block",e.disabled=!0,e.style.backgroundColor="#c6c6c6";let s=document.getElementById("amount-xrd-provide-lp").value,a=document.getElementById("amount-stab-provide-lp").value,l=`\n    CALL_METHOD\n      Address("${re}") #Primary account \n      "withdraw"\n      Address("${J}") # XRD address\n      Decimal("${s}");\n  \n    TAKE_FROM_WORKTOP \n        Address("${J}") # XRD address\n        Decimal("${s}") \n        Bucket("xrd_bucket");\n      \n    CALL_METHOD\n        Address("${re}") #Primary account \n        "withdraw"\n        Address("${G}") # STAB address\n        Decimal("${a}");\n  \n    TAKE_FROM_WORKTOP \n        Address("${G}") # STAB address\n        Decimal("${a}") \n        Bucket("stab_bucket");\n  \n    CALL_METHOD    \n        Address("${K}") #pool comp address\n        "add_liquidity"\n        Bucket("stab_bucket")\n        Bucket("xrd_bucket");\n  \n    CALL_METHOD\n        Address("${re}") \n        "deposit_batch"\n        Expression("ENTIRE_WORKTOP");\n        `;console.log("add liq manifest: ",l),ft(0,"Liquidity provision request",1),Ft.walletApi.sendTransaction({transactionManifest:l,version:1,message:"Adding liquidity to the Stabilis Protocol"}).then((o=>{ft(o.value.transactionIntentHash,"Liquidity provision",2),r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",Nt(!1)})).catch((o=>{r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.error(o)}))},document.getElementById("remove").onclick=async function(){if(Nt(!0),!o)return;if(""===document.getElementById("amount-remove-lp").value)return void alert("Please enter an amount to remove.");const e=this,t=e.querySelector(".button-text"),n=e.querySelector(".button-waiting"),r=e.querySelector(".spin"),i=e.querySelector(".chevron");r.style.display="inline-block",i.style.display="none",t.style.display="none",n.style.display="inline-block",e.disabled=!0,e.style.backgroundColor="#c6c6c6";let s=document.getElementById("amount-remove-lp").value,a=`\n    CALL_METHOD\n      Address("${re}") #Primary account \n      "withdraw"\n      Address("${Q}") # XRD address\n      Decimal("${s}");\n  \n    TAKE_FROM_WORKTOP \n        Address("${Q}") # XRD address\n        Decimal("${s}") \n        Bucket("lp_bucket");\n  \n    CALL_METHOD    \n        Address("${K}") #pool comp address\n        "remove_liquidity"\n        Bucket("lp_bucket");\n  \n    CALL_METHOD\n        Address("${re}") \n        "deposit_batch"\n        Expression("ENTIRE_WORKTOP");\n        `;console.log("remove liq manifest: ",a),ft(0,"Liquidity removal request",1),Ft.walletApi.sendTransaction({transactionManifest:a,version:1,message:"Removing liquidity from the Stabilis Protocol"}).then((o=>{ft(o.value.transactionIntentHash,"Liquidity removal",2),r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",Nt(!1)})).catch((o=>{r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.error(o)}))}}if("/liquidations"===window.location.pathname){var c=document.getElementById("plus-symbol-mark"),u=document.getElementById("minus-symbol-mark"),d=document.getElementById("mark-counter");u.style.backgroundColor="hsl(0, 0%, 78%)",Bt(1),At(),c.onclick=function(){d.textContent=parseInt(d.textContent)+1,u.disabled=!1,u.style.backgroundColor="",Bt(parseInt(d.textContent))},u.onclick=function(){parseInt(d.textContent)>1&&(d.textContent=parseInt(d.textContent)-1),1==parseInt(d.textContent)&&(u.disabled=!0,u.style.backgroundColor="hsl(0, 0%, 78%)"),Bt(parseInt(d.textContent))};var f=document.getElementById("plus-symbol-liq"),p=document.getElementById("minus-symbol-liq"),m=document.getElementById("liq-counter");p.style.backgroundColor="hsl(0, 0%, 78%)",Ct(0),f.onclick=function(){m.textContent=parseInt(m.textContent)+1,p.disabled=!1,p.style.backgroundColor="",Ct(parseInt(m.textContent)),At()},p.onclick=function(){parseInt(m.textContent)>0&&(m.textContent=parseInt(m.textContent)-1),0==parseInt(m.textContent)&&(p.disabled=!0,p.style.backgroundColor="hsl(0, 0%, 78%)"),Ct(parseInt(m.textContent)),At()},document.getElementById("liq-helper-button").addEventListener("click",(function(){""===document.getElementById("liq-helper").style.display?(document.getElementById("liq-helper").style.display="none",document.getElementById("chevron-down").style.display="",document.getElementById("chevron-up").style.display="none"):(document.getElementById("liq-helper").style.display="",document.getElementById("chevron-down").style.display="none",document.getElementById("chevron-up").style.display="")})),a=document.querySelector(".dropdown-custom-button"),l=window.getComputedStyle(a).width,a.style.minWidth=l;var h=document.querySelector(".dropdown-custom-button"),y=document.querySelector(".dropdown-custom-content"),g=document.querySelectorAll(".dropdown-custom-option");h.addEventListener("click",(function(){if(!h.disabled){if(void 0!==y){var e=y.style.display;y.style.display="block"===e?"none":"block",yt(y)}0===document.querySelectorAll(".dropdown-custom-option").length&&alert("No marker receipts available in wallet.")}})),document.addEventListener("click",(function(e){var t=h.contains(e.target),n=Array.from(g).some((function(t){return t.contains(e.target)}));t||n||(y.style.display="none",yt(y))})),document.getElementById("mark").onclick=async function(){if(Nt(!0),!o)return;const e=this,t=e.querySelector(".button-text"),n=e.querySelector(".button-waiting"),r=e.querySelector(".spin"),i=e.querySelector(".chevron");r.style.display="inline-block",i.style.display="none",t.style.display="none",n.style.display="inline-block",e.disabled=!0,e.style.backgroundColor="#c6c6c6";var s=parseInt(document.getElementById("mark-counter").textContent);let a="";const l=`\n            CALL_METHOD\n                Address("${z}")\n                "mark_for_liquidation"\n                Address("${J}")\n                ;\n            `;for(let e=0;e<s;e++)a+=l;a+=`\n            CALL_METHOD\n                Address("${re}")\n                "deposit_batch"\n                Expression("ENTIRE_WORKTOP");\n            `,console.log("mark manifest: ",a),ft(0,"Marking request",1),Ft.walletApi.sendTransaction({transactionManifest:a,version:1,message:"Marking STAB loan for liquidation"}).then((o=>{ft(o.value.transactionIntentHash,"Marking",2),r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.log("Mint Result: ",o.value),Nt(!1),Bt(parseInt(d.textContent))})).catch((o=>{r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.error(o)}))},document.getElementById("liqwithmark").onclick=async function(){if(!o)return;if(void 0===je)return void alert("Please select a marker receipt.");let e,t,n=je;const r=this,i=r.querySelector(".button-text"),s=r.querySelector(".button-waiting"),a=r.querySelector(".spin"),l=r.querySelector(".chevron");let c;a.style.display="inline-block",l.style.display="none",i.style.display="none",s.style.display="inline-block",r.disabled=!0,r.style.backgroundColor="#c6c6c6",0==qe?(c="Liquidating STAB loan with marker",t="Liquidation",e=`\n    CALL_METHOD\n      Address("${re}")\n      "create_proof_of_non_fungibles"\n      Address("${te}") #marker resource address\n      Array<NonFungibleLocalId>(\n        NonFungibleLocalId("${n}")\n      );\n    POP_FROM_AUTH_ZONE\n      Proof("marker_proof");\n    CALL_METHOD\n      Address("${re}")\n      "withdraw"\n      Address("${G}")\n      Decimal("${Le}");\n    TAKE_ALL_FROM_WORKTOP\n      Address("${G}")\n      Bucket("stab");\n    CALL_METHOD\n      Address("${z}")\n      "liquidate_position_with_marker"\n      Proof("marker_proof")\n      Bucket("stab");\n    CALL_METHOD\n      Address("${re}")\n      "deposit_batch"\n      Expression("ENTIRE_WORKTOP");\n      `,console.log("liq /w mark manifest: ",e)):(c="Burning STAB loan marker",t="Burning marker receipt",e=`\n            CALL_METHOD\n      Address("${re}") #Primary account \n      "withdraw_non_fungibles"\n      Address("${te}") # XRD address\n      Array<NonFungibleLocalId>(\n        NonFungibleLocalId("${n}")\n      );\n  \n    TAKE_NON_FUNGIBLES_FROM_WORKTOP \n        Address("${te}") # XRD address\n        Array<NonFungibleLocalId>(\n            NonFungibleLocalId("${n}")\n          )\n        Bucket("marker_bucket");\n  \n    CALL_METHOD    \n        Address("${z}") #pool comp address\n        "burn_marker"\n        Bucket("marker_bucket");\n      `,console.log("burn manifest: ",e)),ft(0,t,1),Ft.walletApi.sendTransaction({transactionManifest:e,version:1,message:c}).then((e=>{"Burning marker receipt"==t&&(je=void 0),ft(e.value.transactionIntentHash,t,2),a.style.display="none",l.style.display="inline-block",i.style.display="inline-block",s.style.display="none",r.disabled=!1,r.style.backgroundColor="",console.log("Mint Result: ",e.value),Nt(!1),Bt(parseInt(document.getElementById("mark-counter").textContent)),Ct(parseInt(document.getElementById("liq-counter").textContent))})).catch((e=>{a.style.display="none",l.style.display="inline-block",i.style.display="inline-block",s.style.display="none",r.disabled=!1,r.style.backgroundColor="",console.error(e)}))},document.getElementById("liqnextskip").onclick=async function(){if(!o)return;const e=this,t=e.querySelector(".button-text"),n=e.querySelector(".button-waiting"),r=e.querySelector(".spin"),i=e.querySelector(".chevron");r.style.display="inline-block",i.style.display="none",t.style.display="none",n.style.display="inline-block",e.disabled=!0,e.style.backgroundColor="#c6c6c6";let s=parseFloat(document.getElementById("liq-counter").textContent),a=`\n    CALL_METHOD\n      Address("${re}")\n      "withdraw"\n      Address("${G}")\n      Decimal("${Xe+1e-6}");\n    TAKE_ALL_FROM_WORKTOP\n      Address("${G}")\n      Bucket("stab");\n    CALL_METHOD\n      Address("${z}")\n      "liquidate_position_without_marker"\n      Bucket("stab")\n      true\n      ${s}i64\n      NonFungibleLocalId("#0#");\n    CALL_METHOD\n      Address("${re}")\n      "deposit_batch"\n      Expression("ENTIRE_WORKTOP");\n      `;console.log("liquidate manifest: ",a),ft(0,"Liquidation request",1),Ft.walletApi.sendTransaction({transactionManifest:a,version:1,message:"Liquidating STAB loan without marker"}).then((o=>{ft(o.value.transactionIntentHash,"Liquidition",2),r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.log("Mint Result: ",o.value),Nt(!1),Bt(parseInt(document.getElementById("mark-counter").textContent)),Ct(parseInt(document.getElementById("liq-counter").textContent))})).catch((o=>{r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.error(o)}))}}if("/incentives"===window.location.pathname){const rn=document.querySelectorAll(".stake-button");rn.forEach((e=>{e.addEventListener("click",(function(){rn.forEach((e=>e.classList.remove("selected"))),this.classList.add("selected"),"stake-selector"===this.id?(console.log("showing stake section"),document.getElementById("stake-section").style.display="",document.getElementById("unstake-section").style.display="none"):(console.log("showing unstake section"),document.getElementById("stake-section").style.display="none",document.getElementById("unstake-section").style.display="")}))})),h=document.querySelector(".dropdown-custom-button"),y=document.querySelector(".dropdown-custom-content"),g=document.querySelectorAll(".dropdown-custom-option"),h.addEventListener("click",(function(){if(!h.disabled){if(void 0!==y){var e=y.style.display;y.style.display="block"===e?"none":"block",yt(y)}0===document.querySelectorAll(".dropdown-custom-option").length&&alert("No Stabilis Staking ID in wallet. Please create one.")}})),document.addEventListener("click",(function(e){var t=h.contains(e.target),n=Array.from(g).some((function(t){return t.contains(e.target)}));t||n||(y.style.display="none",yt(y))})),document.getElementById("new-id").onclick=async function(){if(Nt(!0),!o)return;const e=this,t=e.querySelector(".button-text"),n=e.querySelector(".button-waiting"),r=e.querySelector(".spin"),i=e.querySelector(".chevron");r.style.display="inline-block",i.style.display="none",t.style.display="none",n.style.display="inline-block",e.disabled=!0,e.style.backgroundColor="#c6c6c6";let s=`\n    CALL_METHOD    \n    Address("${z}") #proxy comp address\n    "create_stab_id";\n  \n  CALL_METHOD\n    Address("${re}") \n    "deposit_batch"\n    Expression("ENTIRE_WORKTOP");\n      `;console.log("create id manifest: ",s),ft(0,"ID creation request",1),Ft.walletApi.sendTransaction({transactionManifest:s,version:1,message:"Creating a new Stabilis Staking ID"}).then((o=>{ft(o.value.transactionIntentHash,"ID creation",2),r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.log("Mint Result: ",o.value),Nt(!1),Tt()})).catch((o=>{r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.error(o)}))},document.getElementById("update").onclick=async function(){if(Nt(!0),!o)return;const e=this,t=e.querySelector(".button-text"),n=e.querySelector(".button-waiting"),r=e.querySelector(".spin"),i=e.querySelector(".chevron");r.style.display="inline-block",i.style.display="none",t.style.display="none",n.style.display="inline-block",e.disabled=!0,e.style.backgroundColor="#c6c6c6";let s=`\n    CALL_METHOD\n      Address("${z}")\n      "update";\n    CALL_METHOD\n      Address("${re}")\n      "deposit_batch"\n      Expression("ENTIRE_WORKTOP");\n      `;console.log("update manifest: ",s),ft(0,"Protocol update",1),Ft.walletApi.sendTransaction({transactionManifest:s,version:1,message:"Updating Stabilis Protocol"}).then((o=>{ft(o.value.transactionIntentHash,"Update",2),r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.log("Mint Result: ",o.value),Tt()})).catch((o=>{r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.error(o)}))},document.getElementById("claim-button").onclick=async function(){if(Nt(!0),!o)return;const e=this,t=e.querySelector(".button-text"),n=e.querySelector(".button-waiting"),r=e.querySelector(".spin"),i=e.querySelector(".chevron");r.style.display="inline-block",i.style.display="none",t.style.display="none",n.style.display="inline-block",e.disabled=!0,e.style.backgroundColor="#c6c6c6";let s=`\n    CALL_METHOD\n      Address("${re}")\n      "create_proof_of_non_fungibles"\n      Address("${H}")\n      Array<NonFungibleLocalId>(\n        NonFungibleLocalId("${Ue}")\n      );\n  \n    POP_FROM_AUTH_ZONE\n      Proof("id_proof");\n  \n    CALL_METHOD    \n      Address("${z}")\n      "update_id"\n      Proof("id_proof")\n      false;\n  \n    CALL_METHOD\n      Address("${re}") \n      "deposit_batch"\n      Expression("ENTIRE_WORKTOP");\n      `;console.log("claim manifest: ",s),ft(0,"Reward claim",1),Ft.walletApi.sendTransaction({transactionManifest:s,version:1,message:"Claiming staking rewards from Stabilis Staking ID"}).then((o=>{ft(o.value.transactionIntentHash,"Reward claim",2),r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.log("Mint Result: ",o.value),Tt()})).catch((o=>{r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.error(o)}))},document.getElementById("stake-button").onclick=async function(){if(Nt(!0),!o)return;let e,t=Ue,n=document.getElementById("stake-lp-field").value,r=document.getElementById("stake-ilis-field").value;const i=this,s=i.querySelector(".button-text"),a=i.querySelector(".button-waiting"),l=i.querySelector(".spin"),c=i.querySelector(".chevron");l.style.display="inline-block",c.style.display="none",s.style.display="none",a.style.display="inline-block",i.disabled=!0,i.style.backgroundColor="#c6c6c6",""!==n?""==r?(e=`\n            CALL_METHOD\n              Address("${re}")\n              "create_proof_of_non_fungibles"\n              Address("${H}")\n              Array<NonFungibleLocalId>(\n                NonFungibleLocalId("${t}")\n              );\n          \n            POP_FROM_AUTH_ZONE\n              Proof("id_proof");\n          \n              CALL_METHOD\n              Address("${re}") #Primary account \n              "withdraw"\n              Address("${Q}") # ILIS address\n              Decimal("${n}");\n          \n            TAKE_FROM_WORKTOP \n                Address("${Q}") # ILIS address\n                Decimal("${n}") \n                Bucket("lp_bucket");\n          \n            CALL_METHOD    \n              Address("${z}") #proxy comp address\n              "stake"\n              Bucket("lp_bucket")\n              Proof("id_proof");\n          \n            CALL_METHOD\n              Address("${re}") \n              "deposit_batch"\n              Expression("ENTIRE_WORKTOP");\n              `,console.log("stake manifest: ",e)):(e=`\n        CALL_METHOD\n          Address("${re}")\n          "create_proof_of_non_fungibles"\n          Address("${H}")\n          Array<NonFungibleLocalId>(\n            NonFungibleLocalId("${t}")\n          );\n      \n        POP_FROM_AUTH_ZONE\n          Proof("id_proof");\n      \n          CALL_METHOD\n          Address("${re}") #Primary account \n          "withdraw"\n          Address("${Q}") # ILIS address\n          Decimal("${n}");\n      \n        TAKE_FROM_WORKTOP \n            Address("${Q}") # ILIS address\n            Decimal("${n}") \n            Bucket("lp_bucket");\n      \n        CALL_METHOD    \n          Address("${z}") #proxy comp address\n          "stake"\n          Bucket("lp_bucket")\n          Proof("id_proof");\n\n          CALL_METHOD\n              Address("${re}") #Primary account \n              "withdraw"\n              Address("${Y}") # ILIS address\n              Decimal("${r}");\n          \n            TAKE_FROM_WORKTOP \n                Address("${Y}") # ILIS address\n                Decimal("${r}") \n                Bucket("ilis_bucket");\n\n                CALL_METHOD\n          Address("${re}")\n          "create_proof_of_non_fungibles"\n          Address("${H}")\n          Array<NonFungibleLocalId>(\n            NonFungibleLocalId("${t}")\n          );\n      \n        POP_FROM_AUTH_ZONE\n          Proof("id_proof_2");\n          \n            CALL_METHOD    \n              Address("${z}") #proxy comp address\n              "stake"\n              Bucket("ilis_bucket")\n              Proof("id_proof_2");\n      \n        CALL_METHOD\n          Address("${re}") \n          "deposit_batch"\n          Expression("ENTIRE_WORKTOP");\n          `,console.log("stake manifest: ",e)):""!==r&&(e=`\n            CALL_METHOD\n              Address("${re}")\n              "create_proof_of_non_fungibles"\n              Address("${H}")\n              Array<NonFungibleLocalId>(\n                NonFungibleLocalId("${t}")\n              );\n          \n            POP_FROM_AUTH_ZONE\n              Proof("id_proof");\n          \n              CALL_METHOD\n              Address("${re}") #Primary account \n              "withdraw"\n              Address("${Y}") # ILIS address\n              Decimal("${r}");\n          \n            TAKE_FROM_WORKTOP \n                Address("${Y}") # ILIS address\n                Decimal("${r}") \n                Bucket("ilis_bucket");\n          \n            CALL_METHOD    \n              Address("${z}") #proxy comp address\n              "stake"\n              Bucket("ilis_bucket")\n              Proof("id_proof");\n          \n            CALL_METHOD\n              Address("${re}") \n              "deposit_batch"\n              Expression("ENTIRE_WORKTOP");\n              `,console.log("stake manifest: ",e)),ft(0,"Staking request",1),Ft.walletApi.sendTransaction({transactionManifest:e,version:1,message:"Staking to Stabilis Staking ID"}).then((e=>{ft(e.value.transactionIntentHash,"Staking",2),l.style.display="none",c.style.display="inline-block",s.style.display="inline-block",a.style.display="none",i.disabled=!1,i.style.backgroundColor="",console.log("Mint Result: ",e.value),""!==n&&(xe-=n),""!==r&&(we-=r),Tt()})).catch((e=>{l.style.display="none",c.style.display="inline-block",s.style.display="inline-block",a.style.display="none",i.disabled=!1,i.style.backgroundColor="",console.error(e)}))},document.getElementById("unstake-button").onclick=async function(){if(Nt(!0),!o)return;let e,t=Ue,n=document.getElementById("unstake-lp-field").value,r=document.getElementById("unstake-ilis-field").value;const i=this,s=i.querySelector(".button-text"),a=i.querySelector(".button-waiting"),l=i.querySelector(".spin"),c=i.querySelector(".chevron");if(l.style.display="inline-block",c.style.display="none",s.style.display="none",a.style.display="inline-block",i.disabled=!0,i.style.backgroundColor="#c6c6c6",""!==n?""==r?(e=`\n                CALL_METHOD\n                  Address("${re}")\n                  "create_proof_of_non_fungibles"\n                  Address("${H}")\n                  Array<NonFungibleLocalId>(\n                    NonFungibleLocalId("${t}")\n                  );\n              \n                POP_FROM_AUTH_ZONE\n                  Proof("id_proof");\n              \n                CALL_METHOD    \n                  Address("${z}") #proxy comp address\n                  "unstake"\n                  Proof("id_proof")\n                  Address("${Q}")\n                  Decimal("${n}")\n                  false;\n              \n                CALL_METHOD\n                  Address("${re}") \n                  "deposit_batch"\n                  Expression("ENTIRE_WORKTOP");\n                  `,console.log("unstake manifest: ",e)):(e=`\n            CALL_METHOD\n              Address("${re}")\n              "create_proof_of_non_fungibles"\n              Address("${H}")\n              Array<NonFungibleLocalId>(\n                NonFungibleLocalId("${t}")\n              );\n          \n            POP_FROM_AUTH_ZONE\n              Proof("id_proof");\n          \n              CALL_METHOD    \n              Address("${z}") #proxy comp address\n              "unstake"\n              Proof("id_proof")\n              Address("${Q}")\n              Decimal("${n}")\n              false;\n    \n                    CALL_METHOD\n              Address("${re}")\n              "create_proof_of_non_fungibles"\n              Address("${H}")\n              Array<NonFungibleLocalId>(\n                NonFungibleLocalId("${t}")\n              );\n          \n            POP_FROM_AUTH_ZONE\n              Proof("id_proof_2");\n              \n              CALL_METHOD    \n              Address("${z}") #proxy comp address\n              "unstake"\n              Proof("id_proof_2")\n              Address("${Y}")\n              Decimal("${r}")\n              false;\n          \n            CALL_METHOD\n              Address("${re}") \n              "deposit_batch"\n              Expression("ENTIRE_WORKTOP");\n              `,console.log("unstake manifest: ",e)):""!==r&&(e=`\n                CALL_METHOD\n                  Address("${re}")\n                  "create_proof_of_non_fungibles"\n                  Address("${H}")\n                  Array<NonFungibleLocalId>(\n                    NonFungibleLocalId("${t}")\n                  );\n              \n                POP_FROM_AUTH_ZONE\n                  Proof("id_proof");\n              \n                  CALL_METHOD    \n                  Address("${z}") #proxy comp address\n                  "unstake"\n                  Proof("id_proof")\n                  Address("${Y}")\n                  Decimal("${r}")\n                  false;\n              \n                CALL_METHOD\n                  Address("${re}") \n                  "deposit_batch"\n                  Expression("ENTIRE_WORKTOP");\n                  `,console.log("unstake manifest: ",e)),ft(0,"Unstaking request",1),Ft.walletApi.sendTransaction({transactionManifest:e,version:1,message:"Unstaking from Stabilis Staking ID"}).then((e=>{ft(e.value.transactionIntentHash,"Unstaking",2),l.style.display="none",c.style.display="inline-block",s.style.display="inline-block",a.style.display="none",i.disabled=!1,i.style.backgroundColor="",console.log("Mint Result: ",e.value),Tt()})).catch((e=>{l.style.display="none",c.style.display="inline-block",s.style.display="inline-block",a.style.display="none",i.disabled=!1,i.style.backgroundColor="",console.error(e)})),""!==n){let e=Math.min(n,de+fe);xe+=e}if(""!==r){let e=Math.min(r,pe+me);we+=e}}}if("/manage-loans"===window.location.pathname){wt(),lt?Et():xt(),ct?It():_t();var b=document.getElementById("slider-col"),v=document.getElementById("amount-to-remove"),w=document.getElementById("max-new-cr"),E=document.getElementById("slider-debt"),x=document.getElementById("amount-to-remove-debt"),_=document.getElementById("max-new-cr-debt");b.oninput=function(){if(lt){Ze=this.value;var e=Math.max(0,mt(Le,this.value/100,ve)-Me);document.getElementById("new-cr").textContent="New CR: "+this.value+"%",v.value=Math.min(parseFloat(e.toFixed(2)),De),Et()}else Ze=We-this.value,et=Ze,e=Math.max(0,Me-mt(Le,Ze/100,ve)),document.getElementById("new-cr").textContent="New CR: "+Ze.toFixed(2)+"%",v.value=Math.min(parseFloat(e.toFixed(2)),Me-mt(Le,1.5,ve)),xt()},v.oninput=function(){lt?(Ze=100*pt(parseFloat(this.value)+parseFloat(Me),Le,ve),document.getElementById("new-cr").textContent="New CR: "+Ze.toFixed(2)+"%",""!=this.value?b.value=Ze:(b.value=b.min,document.getElementById("new-cr").textContent="New CR: "+b.min+"%"),Et()):(Ze=100*pt(parseFloat(Me)-parseFloat(this.value),Le,ve),et=Ze,document.getElementById("new-cr").textContent="New CR: "+Ze.toFixed(2)+"%",""!=this.value?(b.value=We-Ze,Ze=b.value):(b.value=b.min,document.getElementById("new-cr").textContent="New CR: "+We+"%"),xt())},w.onclick=function(){"Closed"!==Ce&&"Liquidated"!==Ce&&(lt?(We=Number(We),Ze=We,document.getElementById("new-cr").textContent="New CR: "+(1*We).toFixed(2)+"%",b.value=We>1e3?1e3:We,v.value=De,Et()):"Marked"!=Ce&&(Ze=150,et=Ze,document.getElementById("new-cr").textContent="New CR: 150%",b.value=We-150,v.value=Me-mt(Le,1.5,ve),xt()))},E.oninput=function(){if(0==ct){Ve=this.value;var e=Math.max(0,Le-ht(Me,this.value/100,ve));document.getElementById("new-cr-debt").textContent="New CR: "+this.value+"%",x.value=Math.min(_e,parseFloat(e.toFixed(2))),_t()}else{Ve=Ke-this.value,Qe=Ve;var t=Math.max(0,ht(Me,Ve/100,ve)-Le);document.getElementById("new-cr-debt").textContent="New CR: "+Ve.toFixed(2)+"%",x.value=Math.min(ht(Me,1.5,ve)-Le,parseFloat(t.toFixed(2))),It()}},x.oninput=function(){if(0==ct){var e=Math.min(Le-1,_e);this.value>e&&(this.value=e),Ve=100*pt(parseFloat(Me),Le-parseFloat(this.value),ve),Ve<0&&(Ve=0),document.getElementById("new-cr-debt").textContent="New CR: "+Ve.toFixed(2)+"%",""!=this.value?E.value=Ve:(E.value=E.min,document.getElementById("new-cr-debt").textContent="New CR: "+E.min+"%"),_t()}else Ve=100*pt(parseFloat(Me),parseFloat(Le)+parseFloat(this.value),ve),Qe=Ve,console.log(Ve),document.getElementById("new-cr-debt").textContent="New CR: "+Ve.toFixed(2)+"%",""!=this.value?(E.value=Ke-Ve,Ve=E.value):(E.value=E.min,document.getElementById("new-cr-debt").textContent="New CR: "+Ke+"%"),It()},_.onclick=function(){if("Closed"!==Ce&&"Liquidated"!==Ce)if(0==ct){var e=Math.min(Le-1,_e);Ke=Number(Ke),Ve=Ke,document.getElementById("new-cr-debt").textContent="New CR: "+(1*Ke).toFixed(2)+"%",E.value=Ke>1e3?1e3:Ke,x.value=e,_t()}else"Marked"!=Ce&&(Ve=150,Qe=Ve,document.getElementById("new-cr-debt").textContent="New CR: 150%",E.value=We-150,x.value=ht(Me,1.5,ve)-Le,It())},a=document.querySelector(".dropdown-custom-button"),l=window.getComputedStyle(a).width,a.style.minWidth=l,h=document.querySelector(".dropdown-custom-button"),y=document.querySelector(".dropdown-custom-content");const on=document.querySelectorAll(".stake-button.col"),sn=document.querySelectorAll(".stake-button.debt");on.forEach((e=>{e.addEventListener("click",(function(){on.forEach((e=>e.classList.remove("selected"))),this.classList.add("selected"),"add-collateral-selector"===this.id?(document.getElementById("add-col-button").style.display="",document.getElementById("remove-col-button").style.display="none",lt=!0):"remove-collateral-selector"===this.id&&(document.getElementById("add-col-button").style.display="none",document.getElementById("remove-col-button").style.display="",lt=!1),Ot()}))})),sn.forEach((e=>{e.addEventListener("click",(function(){sn.forEach((e=>e.classList.remove("selected"))),this.classList.add("selected"),"add-debt-selector"===this.id?(document.getElementById("add-debt-button").style.display="none",document.getElementById("remove-debt-button").style.display="",ct=!0):"remove-debt-selector"===this.id&&(document.getElementById("add-debt-button").style.display="",document.getElementById("remove-debt-button").style.display="none",ct=!1),Ot()}))})),g=document.querySelectorAll(".dropdown-custom-option"),h.addEventListener("click",(function(){if(!h.disabled){if(void 0!==y){var e=y.style.display;y.style.display="block"===e?"none":"block",yt(y)}0===document.querySelectorAll(".dropdown-custom-option").length&&alert("No loan receipts in wallet.")}})),document.addEventListener("click",(function(e){var t=h.contains(e.target),n=Array.from(g).some((function(t){return t.contains(e.target)}));t||n||(y.style.display="none",yt(y))})),document.getElementById("add-col-button").onclick=async function(){if(!o)return;if(void 0===$e)return void alert("Please select a loan receipt.");if(""===document.getElementById("amount-to-remove").value)return void alert("Please enter an amount to add.");const e=this,t=e.querySelector(".button-text"),n=e.querySelector(".button-waiting"),r=e.querySelector(".spin"),i=e.querySelector(".chevron");r.style.display="inline-block",i.style.display="none",t.style.display="none",n.style.display="inline-block",e.disabled=!0,e.style.backgroundColor="#c6c6c6";let s=$e,a=document.getElementById("amount-to-remove").value,l=`\n          CALL_METHOD\n          Address("${re}")\n          "create_proof_of_non_fungibles"\n          Address("${Z}")\n          Array<NonFungibleLocalId>(\n            NonFungibleLocalId("${s}")\n          );\n         \n        POP_FROM_AUTH_ZONE\n          Proof("cdp_proof");\n         \n        CALL_METHOD\n          Address("${re}") #Primary account \n          "withdraw"\n          Address("${Te}") # Collateral address\n          Decimal("${a}");\n         \n        TAKE_FROM_WORKTOP \n            Address("${Te}") # Collateral address\n            Decimal("${a}") \n            Bucket("xrd_bucket");\n         \n        CALL_METHOD    \n          Address("${z}")\n          "top_up_cdp"\n          Proof("cdp_proof")\n          Bucket("xrd_bucket");\n          `;console.log("top up manifest: ",l),ft(0,"Collateral addition",1),Ft.walletApi.sendTransaction({transactionManifest:l,version:1,message:"Adding collateral to STAB loan"}).then((o=>{ft(o.value.transactionIntentHash,"Collateral addition",2),r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.log("Mint Result: ",o.value),Nt(!1)})).catch((o=>{r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.error(o)}))},document.getElementById("remove-col-button").onclick=async function(){if(!o)return;if(void 0===$e)return void alert("Please select a loan receipt.");if(""===document.getElementById("amount-to-remove").value)return void alert("Please enter an amount to add.");const e=this,t=e.querySelector(".button-text"),n=e.querySelector(".button-waiting"),r=e.querySelector(".spin"),i=e.querySelector(".chevron");r.style.display="inline-block",i.style.display="none",t.style.display="none",n.style.display="inline-block",e.disabled=!0,e.style.backgroundColor="#c6c6c6";let s=$e,a=document.getElementById("amount-to-remove").value,l=`\n        CALL_METHOD\n          Address("${re}")\n          "create_proof_of_non_fungibles"\n          Address("${Z}")\n          Array<NonFungibleLocalId>(\n            NonFungibleLocalId("${s}")\n          );\n         \n        POP_FROM_AUTH_ZONE\n          Proof("cdp_proof");\n         \n        CALL_METHOD    \n          Address("${z}")\n          "remove_collateral"\n          Proof("cdp_proof")\n          Decimal("${a}");\n         \n        CALL_METHOD\n          Address("${re}") \n          "deposit_batch"\n          Expression("ENTIRE_WORKTOP");\n          `;console.log("remove col. manifest: ",l),ft(0,"Collateral removal",1),Ft.walletApi.sendTransaction({transactionManifest:l,version:1,message:"Removing collateral from STAB loan"}).then((o=>{ft(o.value.transactionIntentHash,"Collateral removal",2),r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.log("Mint Result: ",o.value),Nt(!1)})).catch((o=>{r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.error(o)}))},document.getElementById("add-debt-button").onclick=async function(){if(!o)return;if(void 0===$e)return void alert("Please select a loan receipt.");if(""===document.getElementById("amount-to-remove-debt").value)return void alert("Please enter an amount to add.");const e=this,t=e.querySelector(".button-text"),n=e.querySelector(".button-waiting"),r=e.querySelector(".spin"),i=e.querySelector(".chevron");r.style.display="inline-block",i.style.display="none",t.style.display="none",n.style.display="inline-block",e.disabled=!0,e.style.backgroundColor="#c6c6c6";let s=$e,a=document.getElementById("amount-to-remove-debt").value,l=`\n        CALL_METHOD\n          Address("${re}")\n          "create_proof_of_non_fungibles"\n          Address("${Z}")\n          Array<NonFungibleLocalId>(\n            NonFungibleLocalId("${s}")\n          );\n         \n        POP_FROM_AUTH_ZONE\n          Proof("cdp_proof");\n\n        CALL_METHOD\n          Address("${re}")\n          "withdraw"\n          Address("${G}")\n          Decimal("${a}")\n        ;\n\n        TAKE_ALL_FROM_WORKTOP\n          Address("${G}")\n          Bucket("stab")\n        ;\n         \n        CALL_METHOD    \n          Address("${z}")\n          "partial_close_cdp"\n          Proof("cdp_proof")\n          Bucket("stab");\n         \n        CALL_METHOD\n          Address("${re}") \n          "deposit_batch"\n          Expression("ENTIRE_WORKTOP");\n          `;console.log("remove debt. manifest: ",l),ft(0,"Partial debt pay off",1),Ft.walletApi.sendTransaction({transactionManifest:l,version:1,message:"Partially paying off STAB debt"}).then((o=>{ft(o.value.transactionIntentHash,"Partial debt pay off",2),r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.log("Mint Result: ",o.value),Nt(!1)})).catch((o=>{r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.error(o)}))},document.getElementById("remove-debt-button").onclick=async function(){if(!o)return;if(void 0===$e)return void alert("Please select a loan receipt.");if(""===document.getElementById("amount-to-remove-debt").value)return void alert("Please enter an amount to add.");const e=this,t=e.querySelector(".button-text"),n=e.querySelector(".button-waiting"),r=e.querySelector(".spin"),i=e.querySelector(".chevron");r.style.display="inline-block",i.style.display="none",t.style.display="none",n.style.display="inline-block",e.disabled=!0,e.style.backgroundColor="#c6c6c6";let s=$e,a=document.getElementById("amount-to-remove-debt").value,l=`\n        CALL_METHOD\n          Address("${re}")\n          "create_proof_of_non_fungibles"\n          Address("${Z}")\n          Array<NonFungibleLocalId>(\n            NonFungibleLocalId("${s}")\n          );\n         \n        POP_FROM_AUTH_ZONE\n          Proof("cdp_proof");\n         \n        CALL_METHOD    \n          Address("${z}")\n          "borrow_more"\n          Proof("cdp_proof")\n          Decimal("${a}");\n         \n        CALL_METHOD\n          Address("${re}") \n          "deposit_batch"\n          Expression("ENTIRE_WORKTOP");\n          `;console.log("add debt. manifest: ",l),ft(0,"Borrow more from loan receipt",1),Ft.walletApi.sendTransaction({transactionManifest:l,version:1,message:"Borrowing more STAB"}).then((o=>{ft(o.value.transactionIntentHash,"Borrowing more from loan receipt",2),r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.log("Mint Result: ",o.value),Nt(!1)})).catch((o=>{r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.error(o)}))},document.getElementById("close-entire-button").onclick=async function(){if(!o)return;if(void 0===$e)return void alert("Please select a loan receipt.");if("Marked"===Ce)return void alert("Please save loan before closing.");const e=this,t=e.querySelector(".button-text"),n=e.querySelector(".button-waiting"),r=e.querySelector(".spin"),i=e.querySelector(".chevron");r.style.display="inline-block",i.style.display="none",t.style.display="none",n.style.display="inline-block",e.disabled=!0,e.style.backgroundColor="#c6c6c6";let s=$e;if("Closed"==Ce||0==Me){let o=`\n            CALL_METHOD\n                Address("${re}") #Primary account \n                "withdraw_non_fungibles"\n                Address("${Z}") # XRD address\n                Array<NonFungibleLocalId>(\n                    NonFungibleLocalId("${s}")\n                );\n            \n                TAKE_NON_FUNGIBLES_FROM_WORKTOP \n                    Address("${Z}") # XRD address\n                    Array<NonFungibleLocalId>(\n                        NonFungibleLocalId("${s}")\n                    )\n                    Bucket("receipt_bucket");\n            \n                CALL_METHOD    \n                    Address("${z}") #pool comp address\n                    "burn_loan_receipt"\n                    Bucket("receipt_bucket");\n                `;console.log("burn receipt manifest: ",o),ft(0,"Burning loan receipt",1),Ft.walletApi.sendTransaction({transactionManifest:o,version:1,message:"Burning STAB loan receipt"}).then((o=>{"Closed"!=Ce&&0!=Me||($e=void 0),ft(o.value.transactionIntentHash,"Burning loan receipt",2),r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.log("Mint Result: ",o.value),Ot(),Nt(!1)})).catch((o=>{r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.error(o)}))}else if("Liquidated"==Ce||"ForceLiquidated"==Ce){let o=`\n            CALL_METHOD\n              Address("${re}")\n              "create_proof_of_non_fungibles"\n              Address("${Z}")\n              Array<NonFungibleLocalId>(\n                NonFungibleLocalId("${s}")\n              );\n             \n            POP_FROM_AUTH_ZONE\n              Proof("cdp_proof");\n             \n            CALL_METHOD    \n              Address("${z}")\n              "retrieve_leftover_collateral"\n              Proof("cdp_proof");\n             \n            CALL_METHOD\n              Address("${re}") \n              "deposit_batch"\n              Expression("ENTIRE_WORKTOP");\n              `;console.log("retrieve col. manifest: ",o),ft(0,"Collateral retrieval",1),Ft.walletApi.sendTransaction({transactionManifest:o,version:1,message:"Retrieving leftover collateral from STAB loan"}).then((o=>{ft(o.value.transactionIntentHash,"Collateral retrieval",2),r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.log("Mint Result: ",o.value),Ot()})).catch((o=>{r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.error(o)}))}else{let o=`\n            CALL_METHOD\n              Address("${re}")\n              "create_proof_of_non_fungibles"\n              Address("${Z}")\n              Array<NonFungibleLocalId>(\n                NonFungibleLocalId("${s}")\n              );\n             \n            POP_FROM_AUTH_ZONE\n              Proof("cdp_proof");\n             \n            CALL_METHOD\n              Address("${re}") #Primary account \n              "withdraw"\n              Address("${G}") # Collateral address\n              Decimal("${Le}");\n             \n            TAKE_FROM_WORKTOP \n                Address("${G}") # Collateral address\n                Decimal("${Le}") \n                Bucket("repayment_bucket");\n             \n            CALL_METHOD    \n              Address("${z}")\n              "close_cdp"\n              Proof("cdp_proof")\n              Bucket("repayment_bucket");\n             \n            CALL_METHOD\n              Address("${re}") \n              "deposit_batch"\n              Expression("ENTIRE_WORKTOP");\n              `;console.log("Close cdp manifest: ",o),ft(0,"Loan close request",1),Ft.walletApi.sendTransaction({transactionManifest:o,version:1,message:"Closing STAB loan"}).then((o=>{ft(o.value.transactionIntentHash,"Closing loan",2),r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.log("Mint Result: ",o.value),Ot(),Nt(!0)})).catch((o=>{r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.error(o)}))}}}if("/borrow"===window.location.pathname){let an=document.getElementById("col-max");an.addEventListener("click",(function(){if(Me=De,void 0!==Ne){document.getElementById("colToUse").value=Math.floor(100*De)/100;let e=1/(ge*ve)/(b.value/100)*Math.floor(100*De)/100;He=e,Me=Math.floor(100*De)/100,document.getElementById("outputStab").innerHTML=Rt(e),document.getElementById("ratio-suffix").innerHTML="STAB"}vt()})),an.style.cursor="pointer",b=document.getElementById("slider-single");var I=document.getElementById("plus-button"),k=document.getElementById("minus-button"),A=document.getElementById("colRatioStab");let ln=document.getElementById("colToUse");h=document.querySelector(".dropdown-custom-button"),y=document.querySelector(".dropdown-custom-content"),g=document.querySelectorAll(".dropdown-custom-option"),h.addEventListener("click",(function(){if(!h.disabled){if(void 0!==y){var e=y.style.display;y.style.display="block"===e?"none":"block",yt(y)}o||alert("Connect wallet.")}})),document.addEventListener("click",(function(e){var t=h.contains(e.target),n=Array.from(g).some((function(t){return t.contains(e.target)}));t||n||(y.style.display="none",yt(y))})),b.oninput=function(){if(A.textContent=b.value,void 0!==Ne){if(""!==ln.value){let e=1/(ge*ve)/(this.value/100)*ln.value;He=e,Me=ln.value,document.getElementById("outputStab").innerHTML=Rt(e)}else{let e=1/(ge*ve)/(this.value/100);He=e,Me=0,document.getElementById("outputStab").innerHTML=Rt(e)}vt()}this.value>=200?(document.getElementById("warning-low-ratio").style.display="none",document.getElementById("warning-good-ratio").style.display="",document.getElementById("warning-impossible-ratio").style.display="none"):this.value>=150?(document.getElementById("warning-low-ratio").style.display="",document.getElementById("warning-good-ratio").style.display="none",document.getElementById("warning-impossible-ratio").style.display="none"):(document.getElementById("warning-low-ratio").style.display="none",document.getElementById("warning-good-ratio").style.display="none",document.getElementById("warning-impossible-ratio").style.display="")},I.onclick=function(){if(b.value=parseInt(b.value)+1,A.textContent=b.value,void 0!==Ne){if(""!==ln.value){let e=1/(ge*ve)/(b.value/100)*ln.value;He=e,Me=ln.value,document.getElementById("outputStab").innerHTML=Rt(e)}else{let e=1/(ge*ve)/(b.value/100)*1;He=e,Me=0,document.getElementById("outputStab").innerHTML=Rt(e)}vt()}b.value>=200?(document.getElementById("warning-low-ratio").style.display="none",document.getElementById("warning-good-ratio").style.display="",document.getElementById("warning-impossible-ratio").style.display="none"):b.value>=150?(document.getElementById("warning-low-ratio").style.display="",document.getElementById("warning-good-ratio").style.display="none",document.getElementById("warning-impossible-ratio").style.display="none"):(document.getElementById("warning-low-ratio").style.display="none",document.getElementById("warning-good-ratio").style.display="none",document.getElementById("warning-impossible-ratio").style.display="")},k.onclick=function(){if(b.value=parseInt(b.value)-1,A.textContent=b.value,void 0!==Ne){if(""!==ln.value){let e=1/(ge*ve)/(b.value/100)*ln.value;He=e,Me=ln.value,document.getElementById("outputStab").innerHTML=Rt(e)}else{let e=1/(ge*ve)/(b.value/100)*1;He=e,Me=0,document.getElementById("outputStab").innerHTML=Rt(e)}vt()}b.value>=200?(document.getElementById("warning-low-ratio").style.display="none",document.getElementById("warning-good-ratio").style.display="",document.getElementById("warning-impossible-ratio").style.display="none"):b.value>=150?(document.getElementById("warning-low-ratio").style.display="",document.getElementById("warning-good-ratio").style.display="none",document.getElementById("warning-impossible-ratio").style.display="none"):(document.getElementById("warning-low-ratio").style.display="none",document.getElementById("warning-good-ratio").style.display="none",document.getElementById("warning-impossible-ratio").style.display="")},document.getElementById("colToUse").oninput=function(){if(A.textContent=b.value,void 0!==Ne){if(""!==this.value){let e=1/(ge*ve)/(b.value/100)*this.value;He=e,Me=this.value,document.getElementById("outputStab").innerHTML=Rt(e)}else{let e=1/(ge*ve)/(b.value/100)*1;He=e,Me=0,document.getElementById("outputStab").innerHTML=Rt(e)}vt()}""!==ln.value?document.getElementById("ratio-suffix").innerHTML="STAB":document.getElementById("ratio-suffix").innerHTML="STAB/"+le},document.getElementById("mint-button").onclick=async function(){if(Nt(!0),!o)return;if(void 0===Ne)return void alert("Please select a collateral type.");if(""===document.getElementById("colToUse").value)return void alert("Please enter the amount of collateral to use.");const e=this,t=e.querySelector(".button-text"),n=e.querySelector(".button-waiting"),r=e.querySelector(".spin"),i=e.querySelector(".chevron");let s;r.style.display="inline-block",i.style.display="none",t.style.display="none",n.style.display="inline-block",e.disabled=!0,e.style.backgroundColor="#c6c6c6",console.log(st),s=`\n    CALL_METHOD\n    Address("${re}")\n    "withdraw"    \n    Address("${Ne}")\n    Decimal("${Me}");\n    TAKE_ALL_FROM_WORKTOP\n    Address("${Ne}")\n    Bucket("collateral");\n    CALL_METHOD\n    Address("${z}")\n    "open_cdp"\n    Bucket("collateral")\n    Decimal("${He}")\n    false;\n    CALL_METHOD\n    Address("${re}")\n    "deposit_batch"\n    Expression("ENTIRE_WORKTOP");\n    `,console.log("Mint manifest: ",s),ft(0,"Borrow request",1),Ft.walletApi.sendTransaction({transactionManifest:s,version:1,message:"Borrowing STAB through a loan"}).then((o=>{ft(o.value.transactionIntentHash,"Borrowing",2),r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",Nt(!1)})).catch((o=>{r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.error(o)}))}}B=(S=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports))((()=>{window.tram=function(e){function t(e,t){return(new q.Bare).init(e,t)}function n(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}))}function r(e){var t=parseInt(e.slice(1),16);return[t>>16&255,t>>8&255,255&t]}function o(e,t,n){return"#"+(1<<24|e<<16|t<<8|n).toString(16).slice(1)}function i(){}function s(e,t,n){if(void 0!==t&&(n=t),void 0===e)return n;var r=n;return X.test(e)||!J.test(e)?r=parseInt(e,10):J.test(e)&&(r=1e3*parseFloat(e)),0>r&&(r=0),r==r?r:n}function a(e){z.debug&&window&&window.console.warn(e)}var l=function(e,t,n){function r(e){return"object"==typeof e}function o(e){return"function"==typeof e}function i(){}return function n(s,a){function l(){var e=new c;return o(e.init)&&e.init.apply(e,arguments),e}function c(){}void 0===a&&(a=s,s=Object),l.Bare=c;var u,d=i[e]=s[e],f=c[e]=l[e]=new i;return f.constructor=l,l.mixin=function(t){return c[e]=l[e]=n(l,t)[e],l},l.open=function(e){if(u={},o(e)?u=e.call(l,f,d,l,s):r(e)&&(u=e),r(u))for(var n in u)t.call(u,n)&&(f[n]=u[n]);return o(f.init)||(f.init=s),l},l.open(a)}}("prototype",{}.hasOwnProperty),c={ease:["ease",function(e,t,n,r){var o=(e/=r)*e,i=o*e;return t+n*(-2.75*i*o+11*o*o+-15.5*i+8*o+.25*e)}],"ease-in":["ease-in",function(e,t,n,r){var o=(e/=r)*e,i=o*e;return t+n*(-1*i*o+3*o*o+-3*i+2*o)}],"ease-out":["ease-out",function(e,t,n,r){var o=(e/=r)*e,i=o*e;return t+n*(.3*i*o+-1.6*o*o+2.2*i+-1.8*o+1.9*e)}],"ease-in-out":["ease-in-out",function(e,t,n,r){var o=(e/=r)*e,i=o*e;return t+n*(2*i*o+-5*o*o+2*i+2*o)}],linear:["linear",function(e,t,n,r){return n*e/r+t}],"ease-in-quad":["cubic-bezier(0.550, 0.085, 0.680, 0.530)",function(e,t,n,r){return n*(e/=r)*e+t}],"ease-out-quad":["cubic-bezier(0.250, 0.460, 0.450, 0.940)",function(e,t,n,r){return-n*(e/=r)*(e-2)+t}],"ease-in-out-quad":["cubic-bezier(0.455, 0.030, 0.515, 0.955)",function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}],"ease-in-cubic":["cubic-bezier(0.550, 0.055, 0.675, 0.190)",function(e,t,n,r){return n*(e/=r)*e*e+t}],"ease-out-cubic":["cubic-bezier(0.215, 0.610, 0.355, 1)",function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}],"ease-in-out-cubic":["cubic-bezier(0.645, 0.045, 0.355, 1)",function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t}],"ease-in-quart":["cubic-bezier(0.895, 0.030, 0.685, 0.220)",function(e,t,n,r){return n*(e/=r)*e*e*e+t}],"ease-out-quart":["cubic-bezier(0.165, 0.840, 0.440, 1)",function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t}],"ease-in-out-quart":["cubic-bezier(0.770, 0, 0.175, 1)",function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t}],"ease-in-quint":["cubic-bezier(0.755, 0.050, 0.855, 0.060)",function(e,t,n,r){return n*(e/=r)*e*e*e*e+t}],"ease-out-quint":["cubic-bezier(0.230, 1, 0.320, 1)",function(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t}],"ease-in-out-quint":["cubic-bezier(0.860, 0, 0.070, 1)",function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t}],"ease-in-sine":["cubic-bezier(0.470, 0, 0.745, 0.715)",function(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t}],"ease-out-sine":["cubic-bezier(0.390, 0.575, 0.565, 1)",function(e,t,n,r){return n*Math.sin(e/r*(Math.PI/2))+t}],"ease-in-out-sine":["cubic-bezier(0.445, 0.050, 0.550, 0.950)",function(e,t,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+t}],"ease-in-expo":["cubic-bezier(0.950, 0.050, 0.795, 0.035)",function(e,t,n,r){return 0===e?t:n*Math.pow(2,10*(e/r-1))+t}],"ease-out-expo":["cubic-bezier(0.190, 1, 0.220, 1)",function(e,t,n,r){return e===r?t+n:n*(1-Math.pow(2,-10*e/r))+t}],"ease-in-out-expo":["cubic-bezier(1, 0, 0, 1)",function(e,t,n,r){return 0===e?t:e===r?t+n:(e/=r/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(2-Math.pow(2,-10*--e))+t}],"ease-in-circ":["cubic-bezier(0.600, 0.040, 0.980, 0.335)",function(e,t,n,r){return-n*(Math.sqrt(1-(e/=r)*e)-1)+t}],"ease-out-circ":["cubic-bezier(0.075, 0.820, 0.165, 1)",function(e,t,n,r){return n*Math.sqrt(1-(e=e/r-1)*e)+t}],"ease-in-out-circ":["cubic-bezier(0.785, 0.135, 0.150, 0.860)",function(e,t,n,r){return(e/=r/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t}],"ease-in-back":["cubic-bezier(0.600, -0.280, 0.735, 0.045)",function(e,t,n,r,o){return void 0===o&&(o=1.70158),n*(e/=r)*e*((o+1)*e-o)+t}],"ease-out-back":["cubic-bezier(0.175, 0.885, 0.320, 1.275)",function(e,t,n,r,o){return void 0===o&&(o=1.70158),n*((e=e/r-1)*e*((o+1)*e+o)+1)+t}],"ease-in-out-back":["cubic-bezier(0.680, -0.550, 0.265, 1.550)",function(e,t,n,r,o){return void 0===o&&(o=1.70158),(e/=r/2)<1?n/2*e*e*((1+(o*=1.525))*e-o)+t:n/2*((e-=2)*e*((1+(o*=1.525))*e+o)+2)+t}]},u={"ease-in-back":"cubic-bezier(0.600, 0, 0.735, 0.045)","ease-out-back":"cubic-bezier(0.175, 0.885, 0.320, 1)","ease-in-out-back":"cubic-bezier(0.680, 0, 0.265, 1)"},d=document,f=window,p="bkwld-tram",m=/[\-\.0-9]/g,h=/[A-Z]/,y="number",g=/^(rgb|#)/,b=/(em|cm|mm|in|pt|pc|px)$/,v=/(em|cm|mm|in|pt|pc|px|%)$/,w=/(deg|rad|turn)$/,E="unitless",x=/(all|none) 0s ease 0s/,_=/^(width|height)$/,I=" ",k=d.createElement("a"),A=["Webkit","Moz","O","ms"],S=["-webkit-","-moz-","-o-","-ms-"],B=function(e){if(e in k.style)return{dom:e,css:e};var t,n,r="",o=e.split("-");for(t=0;t<o.length;t++)r+=o[t].charAt(0).toUpperCase()+o[t].slice(1);for(t=0;t<A.length;t++)if((n=A[t]+r)in k.style)return{dom:n,css:S[t]+e}},C=t.support={bind:Function.prototype.bind,transform:B("transform"),transition:B("transition"),backface:B("backface-visibility"),timing:B("transition-timing-function")};if(C.transition){var T=C.timing.dom;if(k.style[T]=c["ease-in-back"][0],!k.style[T])for(var L in u)c[L][0]=u[L]}var O,M=t.frame=(O=f.requestAnimationFrame||f.webkitRequestAnimationFrame||f.mozRequestAnimationFrame||f.oRequestAnimationFrame||f.msRequestAnimationFrame)&&C.bind?O.bind(f):function(e){f.setTimeout(e,16)},P=t.now=function(){var e=f.performance,t=e&&(e.now||e.webkitNow||e.msNow||e.mozNow);return t&&C.bind?t.bind(e):Date.now||function(){return+new Date}}(),R=l((function(t){function r(e,t){var n=function(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var o=e[t];o&&r.push(o)}return r}((""+e).split(I)),r=n[0];t=t||{};var o=G[r];if(!o)return a("Unsupported property: "+r);if(!t.weak||!this.props[r]){var i=o[0],s=this.props[r];return s||(s=this.props[r]=new i.Bare),s.init(this.$el,n,o,t),s}}function o(e,t,n){if(e){var o=typeof e;if(t||(this.timer&&this.timer.destroy(),this.queue=[],this.active=!1),"number"==o&&t)return this.timer=new j({duration:e,context:this,complete:i}),void(this.active=!0);if("string"==o&&t){switch(e){case"hide":c.call(this);break;case"stop":l.call(this);break;case"redraw":u.call(this);break;default:r.call(this,e,n&&n[1])}return i.call(this)}if("function"==o)return void e.call(this,this);if("object"==o){var a=0;f.call(this,e,(function(e,t){e.span>a&&(a=e.span),e.stop(),e.animate(t)}),(function(e){"wait"in e&&(a=s(e.wait,0))})),d.call(this),a>0&&(this.timer=new j({duration:a,context:this}),this.active=!0,t&&(this.timer.complete=i));var p=this,m=!1,h={};M((function(){f.call(p,e,(function(e){e.active&&(m=!0,h[e.name]=e.nextStyle)})),m&&p.$el.css(h)}))}}}function i(){if(this.timer&&this.timer.destroy(),this.active=!1,this.queue.length){var e=this.queue.shift();o.call(this,e.options,!0,e.args)}}function l(e){var t;this.timer&&this.timer.destroy(),this.queue=[],this.active=!1,"string"==typeof e?(t={})[e]=1:t="object"==typeof e&&null!=e?e:this.props,f.call(this,t,m),d.call(this)}function c(){l.call(this),this.el.style.display="none"}function u(){this.el.offsetHeight}function d(){var e,t,n=[];for(e in this.upstream&&n.push(this.upstream),this.props)(t=this.props[e]).active&&n.push(t.string);n=n.join(","),this.style!==n&&(this.style=n,this.el.style[C.transition.dom]=n)}function f(e,t,o){var i,s,a,l,c=t!==m,u={};for(i in e)a=e[i],i in Z?(u.transform||(u.transform={}),u.transform[i]=a):(h.test(i)&&(i=n(i)),i in G?u[i]=a:(l||(l={}),l[i]=a));for(i in u){if(a=u[i],!(s=this.props[i])){if(!c)continue;s=r.call(this,i)}t.call(this,s,a)}o&&l&&o.call(this,l)}function m(e){e.stop()}function y(e,t){e.set(t)}function g(e){this.$el.css(e)}function b(e,n){t[e]=function(){return this.children?v.call(this,n,arguments):(this.el&&n.apply(this,arguments),this)}}function v(e,t){var n,r=this.children.length;for(n=0;r>n;n++)e.apply(this.children[n],t);return this}t.init=function(t){if(this.$el=e(t),this.el=this.$el[0],this.props={},this.queue=[],this.style="",this.active=!1,z.keepInherited&&!z.fallback){var n=K(this.el,"transition");n&&!x.test(n)&&(this.upstream=n)}C.backface&&z.hideBackface&&W(this.el,C.backface.css,"hidden")},b("add",r),b("start",o),b("wait",(function(e){e=s(e,0),this.active?this.queue.push({options:e}):(this.timer=new j({duration:e,context:this,complete:i}),this.active=!0)})),b("then",(function(e){return this.active?(this.queue.push({options:e,args:arguments}),void(this.timer.complete=i)):a("No active transition timer. Use start() or wait() before then().")})),b("next",i),b("stop",l),b("set",(function(e){l.call(this,e),f.call(this,e,y,g)})),b("show",(function(e){"string"!=typeof e&&(e="block"),this.el.style.display=e})),b("hide",c),b("redraw",u),b("destroy",(function(){l.call(this),e.removeData(this.el,p),this.$el=this.el=null}))})),q=l(R,(function(t){function n(t,n){var r=e.data(t,p)||e.data(t,p,new R.Bare);return r.el||r.init(t),n?r.start(n):r}t.init=function(t,r){var o=e(t);if(!o.length)return this;if(1===o.length)return n(o[0],r);var i=[];return o.each((function(e,t){i.push(n(t,r))})),this.children=i,this}})),F=l((function(e){function t(){var e=this.get();this.update("auto");var t=this.get();return this.update(e),t}e.init=function(e,t,n,r){this.$el=e,this.el=e[0];var o=t[0];n[2]&&(o=n[2]),V[o]&&(o=V[o]),this.name=o,this.type=n[1],this.duration=s(t[1],this.duration,500),this.ease=function(e,t,n){return void 0!==t&&(n=t),e in c?e:n}(t[2],this.ease,"ease"),this.delay=s(t[3],this.delay,0),this.span=this.duration+this.delay,this.active=!1,this.nextStyle=null,this.auto=_.test(this.name),this.unit=r.unit||this.unit||z.defaultUnit,this.angle=r.angle||this.angle||z.defaultAngle,z.fallback||r.fallback?this.animate=this.fallback:(this.animate=this.transition,this.string=this.name+I+this.duration+"ms"+("ease"!=this.ease?I+c[this.ease][0]:"")+(this.delay?I+this.delay+"ms":""))},e.set=function(e){e=this.convert(e,this.type),this.update(e),this.redraw()},e.transition=function(e){this.active=!0,e=this.convert(e,this.type),this.auto&&("auto"==this.el.style[this.name]&&(this.update(this.get()),this.redraw()),"auto"==e&&(e=t.call(this))),this.nextStyle=e},e.fallback=function(e){var n=this.el.style[this.name]||this.convert(this.get(),this.type);e=this.convert(e,this.type),this.auto&&("auto"==n&&(n=this.convert(this.get(),this.type)),"auto"==e&&(e=t.call(this))),this.tween=new U({from:n,to:e,duration:this.duration,delay:this.delay,ease:this.ease,update:this.update,context:this})},e.get=function(){return K(this.el,this.name)},e.update=function(e){W(this.el,this.name,e)},e.stop=function(){(this.active||this.nextStyle)&&(this.active=!1,this.nextStyle=null,W(this.el,this.name,this.get()));var e=this.tween;e&&e.context&&e.destroy()},e.convert=function(e,t){if("auto"==e&&this.auto)return e;var n,r="number"==typeof e,i="string"==typeof e;switch(t){case y:if(r)return e;if(i&&""===e.replace(m,""))return+e;n="number(unitless)";break;case g:if(i){if(""===e&&this.original)return this.original;if(t.test(e))return"#"==e.charAt(0)&&7==e.length?e:function(e){var t=/rgba?\((\d+),\s*(\d+),\s*(\d+)/.exec(e);return(t?o(t[1],t[2],t[3]):e).replace(/#(\w)(\w)(\w)$/,"#$1$1$2$2$3$3")}(e)}n="hex or rgb string";break;case b:if(r)return e+this.unit;if(i&&t.test(e))return e;n="number(px) or string(unit)";break;case v:if(r)return e+this.unit;if(i&&t.test(e))return e;n="number(px) or string(unit or %)";break;case w:if(r)return e+this.angle;if(i&&t.test(e))return e;n="number(deg) or string(angle)";break;case E:if(r||i&&v.test(e))return e;n="number(unitless) or string(unit or %)"}return function(e,t){a("Type warning: Expected: ["+e+"] Got: ["+typeof t+"] "+t)}(n,e),e},e.redraw=function(){this.el.offsetHeight}})),N=l(F,(function(e,t){e.init=function(){t.init.apply(this,arguments),this.original||(this.original=this.convert(this.get(),g))}})),D=l(F,(function(e,t){e.init=function(){t.init.apply(this,arguments),this.animate=this.fallback},e.get=function(){return this.$el[this.name]()},e.update=function(e){this.$el[this.name](e)}})),$=l(F,(function(e,t){function n(e,t){var n,r,o,i,s;for(n in e)o=(i=Z[n])[0],r=i[1]||n,s=this.convert(e[n],o),t.call(this,r,s,o)}e.init=function(){t.init.apply(this,arguments),this.current||(this.current={},Z.perspective&&z.perspective&&(this.current.perspective=z.perspective,W(this.el,this.name,this.style(this.current)),this.redraw()))},e.set=function(e){n.call(this,e,(function(e,t){this.current[e]=t})),W(this.el,this.name,this.style(this.current)),this.redraw()},e.transition=function(e){var t=this.values(e);this.tween=new H({current:this.current,values:t,duration:this.duration,delay:this.delay,ease:this.ease});var n,r={};for(n in this.current)r[n]=n in t?t[n]:this.current[n];this.active=!0,this.nextStyle=this.style(r)},e.fallback=function(e){var t=this.values(e);this.tween=new H({current:this.current,values:t,duration:this.duration,delay:this.delay,ease:this.ease,update:this.update,context:this})},e.update=function(){W(this.el,this.name,this.style(this.current))},e.style=function(e){var t,n="";for(t in e)n+=t+"("+e[t]+") ";return n},e.values=function(e){var t,r={};return n.call(this,e,(function(e,n,o){r[e]=n,void 0===this.current[e]&&(t=0,~e.indexOf("scale")&&(t=1),this.current[e]=this.convert(t,o))})),r}})),U=l((function(t){function n(){var e,t,r,o=l.length;if(o)for(M(n),t=P(),e=o;e--;)(r=l[e])&&r.render(t)}var s={ease:c.ease[1],from:0,to:1};t.init=function(e){this.duration=e.duration||0,this.delay=e.delay||0;var t=e.ease||s.ease;c[t]&&(t=c[t][1]),"function"!=typeof t&&(t=s.ease),this.ease=t,this.update=e.update||i,this.complete=e.complete||i,this.context=e.context||this,this.name=e.name;var n=e.from,r=e.to;void 0===n&&(n=s.from),void 0===r&&(r=s.to),this.unit=e.unit||"","number"==typeof n&&"number"==typeof r?(this.begin=n,this.change=r-n):this.format(r,n),this.value=this.begin+this.unit,this.start=P(),!1!==e.autoplay&&this.play()},t.play=function(){this.active||(this.start||(this.start=P()),this.active=!0,this,1===l.push(this)&&M(n))},t.stop=function(){var t,n;this.active&&(this.active=!1,this,(n=e.inArray(this,l))>=0&&(t=l.slice(n+1),l.length=n,t.length&&(l=l.concat(t))))},t.render=function(e){var t,n=e-this.start;if(this.delay){if(n<=this.delay)return;n-=this.delay}if(n<this.duration){var r=this.ease(n,0,1,this.duration);return t=this.startRGB?function(e,t,n){return o(e[0]+n*(t[0]-e[0]),e[1]+n*(t[1]-e[1]),e[2]+n*(t[2]-e[2]))}(this.startRGB,this.endRGB,r):function(e){return Math.round(e*u)/u}(this.begin+r*this.change),this.value=t+this.unit,void this.update.call(this.context,this.value)}t=this.endHex||this.begin+this.change,this.value=t+this.unit,this.update.call(this.context,this.value),this.complete.call(this.context),this.destroy()},t.format=function(e,t){if(t+="","#"==(e+="").charAt(0))return this.startRGB=r(t),this.endRGB=r(e),this.endHex=e,this.begin=0,void(this.change=1);if(!this.unit){var n=t.replace(m,"");n!==e.replace(m,"")&&function(e,t,n){a("Units do not match [tween]: "+t+", "+n)}(0,t,e),this.unit=n}t=parseFloat(t),e=parseFloat(e),this.begin=this.value=t,this.change=e-t},t.destroy=function(){this.stop(),this.context=null,this.ease=this.update=this.complete=i};var l=[],u=1e3})),j=l(U,(function(e){e.init=function(e){this.duration=e.duration||0,this.complete=e.complete||i,this.context=e.context,this.play()},e.render=function(e){e-this.start<this.duration||(this.complete.call(this.context),this.destroy())}})),H=l(U,(function(e,t){e.init=function(e){var t,n;for(t in this.context=e.context,this.update=e.update,this.tweens=[],this.current=e.current,e.values)n=e.values[t],this.current[t]!==n&&this.tweens.push(new U({name:t,from:this.current[t],to:n,duration:e.duration,delay:e.delay,ease:e.ease,autoplay:!1}));this.play()},e.render=function(e){var t,n,r=!1;for(t=this.tweens.length;t--;)(n=this.tweens[t]).context&&(n.render(e),this.current[n.name]=n.value,r=!0);return r?void(this.update&&this.update.call(this.context)):this.destroy()},e.destroy=function(){if(t.destroy.call(this),this.tweens){var e;for(e=this.tweens.length;e--;)this.tweens[e].destroy();this.tweens=null,this.current=null}}})),z=t.config={debug:!1,defaultUnit:"px",defaultAngle:"deg",keepInherited:!1,hideBackface:!1,perspective:"",fallback:!C.transition,agentTests:[]};t.fallback=function(e){if(!C.transition)return z.fallback=!0;z.agentTests.push("("+e+")");var t=new RegExp(z.agentTests.join("|"),"i");z.fallback=t.test(navigator.userAgent)},t.fallback("6.0.[2-5] Safari"),t.tween=function(e){return new U(e)},t.delay=function(e,t,n){return new j({complete:t,duration:e,context:n})},e.fn.tram=function(e){return t.call(null,this,e)};var W=e.style,K=e.css,V={transform:C.transform&&C.transform.css},G={color:[N,g],background:[N,g,"background-color"],"outline-color":[N,g],"border-color":[N,g],"border-top-color":[N,g],"border-right-color":[N,g],"border-bottom-color":[N,g],"border-left-color":[N,g],"border-width":[F,b],"border-top-width":[F,b],"border-right-width":[F,b],"border-bottom-width":[F,b],"border-left-width":[F,b],"border-spacing":[F,b],"letter-spacing":[F,b],margin:[F,b],"margin-top":[F,b],"margin-right":[F,b],"margin-bottom":[F,b],"margin-left":[F,b],padding:[F,b],"padding-top":[F,b],"padding-right":[F,b],"padding-bottom":[F,b],"padding-left":[F,b],"outline-width":[F,b],opacity:[F,y],top:[F,v],right:[F,v],bottom:[F,v],left:[F,v],"font-size":[F,v],"text-indent":[F,v],"word-spacing":[F,v],width:[F,v],"min-width":[F,v],"max-width":[F,v],height:[F,v],"min-height":[F,v],"max-height":[F,v],"line-height":[F,E],"scroll-top":[D,y,"scrollTop"],"scroll-left":[D,y,"scrollLeft"]},Z={};C.transform&&(G.transform=[$],Z={x:[v,"translateX"],y:[v,"translateY"],rotate:[w],rotateX:[w],rotateY:[w],scale:[y],scaleX:[y],scaleY:[y],skew:[w],skewX:[w],skewY:[w]}),C.transform&&C.backface&&(Z.z=[v,"translateZ"],Z.rotateZ=[w],Z.scaleZ=[y],Z.perspective=[b]);var X=/ms/,J=/s|\./;return e.tram=t}(window.jQuery)})),C=S(((e,t)=>{var n=window.$,r=B()&&n.tram;t.exports=function(){var e={VERSION:"1.6.0-Webflow"},t={},n=Array.prototype,o=Object.prototype,i=Function.prototype,s=(n.push,n.slice),a=(n.concat,o.toString,o.hasOwnProperty),l=n.forEach,c=n.map,u=(n.reduce,n.reduceRight,n.filter),d=(n.every,n.some),f=n.indexOf,p=(n.lastIndexOf,Array.isArray,Object.keys),m=(i.bind,e.each=e.forEach=function(n,r,o){if(null==n)return n;if(l&&n.forEach===l)n.forEach(r,o);else if(n.length===+n.length){for(var i=0,s=n.length;i<s;i++)if(r.call(o,n[i],i,n)===t)return}else{var a=e.keys(n);for(i=0,s=a.length;i<s;i++)if(r.call(o,n[a[i]],a[i],n)===t)return}return n});e.map=e.collect=function(e,t,n){var r=[];return null==e?r:c&&e.map===c?e.map(t,n):(m(e,(function(e,o,i){r.push(t.call(n,e,o,i))})),r)},e.find=e.detect=function(e,t,n){var r;return h(e,(function(e,o,i){if(t.call(n,e,o,i))return r=e,!0})),r},e.filter=e.select=function(e,t,n){var r=[];return null==e?r:u&&e.filter===u?e.filter(t,n):(m(e,(function(e,o,i){t.call(n,e,o,i)&&r.push(e)})),r)};var h=e.some=e.any=function(n,r,o){r||(r=e.identity);var i=!1;return null==n?i:d&&n.some===d?n.some(r,o):(m(n,(function(e,n,s){if(i||(i=r.call(o,e,n,s)))return t})),!!i)};e.contains=e.include=function(e,t){return null!=e&&(f&&e.indexOf===f?-1!=e.indexOf(t):h(e,(function(e){return e===t})))},e.delay=function(e,t){var n=s.call(arguments,2);return setTimeout((function(){return e.apply(null,n)}),t)},e.defer=function(t){return e.delay.apply(e,[t,1].concat(s.call(arguments,1)))},e.throttle=function(e){var t,n,o;return function(){t||(t=!0,n=arguments,o=this,r.frame((function(){t=!1,e.apply(o,n)})))}},e.debounce=function(t,n,r){var o,i,s,a,l,c=function(){var u=e.now()-a;u<n?o=setTimeout(c,n-u):(o=null,r||(l=t.apply(s,i),s=i=null))};return function(){s=this,i=arguments,a=e.now();var u=r&&!o;return o||(o=setTimeout(c,n)),u&&(l=t.apply(s,i),s=i=null),l}},e.defaults=function(t){if(!e.isObject(t))return t;for(var n=1,r=arguments.length;n<r;n++){var o=arguments[n];for(var i in o)void 0===t[i]&&(t[i]=o[i])}return t},e.keys=function(t){if(!e.isObject(t))return[];if(p)return p(t);var n=[];for(var r in t)e.has(t,r)&&n.push(r);return n},e.has=function(e,t){return a.call(e,t)},e.isObject=function(e){return e===Object(e)},e.now=Date.now||function(){return(new Date).getTime()},e.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var y=/(.)^/,g={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},b=/\\|'|\r|\n|\u2028|\u2029/g,v=function(e){return"\\"+g[e]},w=/^\s*(\w|\$)+\s*$/;return e.template=function(t,n,r){!n&&r&&(n=r),n=e.defaults({},n,e.templateSettings);var o=RegExp([(n.escape||y).source,(n.interpolate||y).source,(n.evaluate||y).source].join("|")+"|$","g"),i=0,s="__p+='";t.replace(o,(function(e,n,r,o,a){return s+=t.slice(i,a).replace(b,v),i=a+e.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?s+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(s+="';\n"+o+"\n__p+='"),e})),s+="';\n";var a,l=n.variable;if(l){if(!w.test(l))throw new Error("variable is not a bare identifier: "+l)}else s="with(obj||{}){\n"+s+"}\n",l="obj";s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{a=new Function(n.variable||"obj","_",s)}catch(e){throw e.source=s,e}var c=function(t){return a.call(this,t,e)};return c.source="function("+l+"){\n"+s+"}",c},e}()})),T=S(((e,t)=>{var n={},r={},o=[],i=window.Webflow||[],s=window.jQuery,a=s(window),l=s(document),c=s.isFunction,u=n._=C(),d=n.tram=B()&&s.tram,f=!1,p=!1;function m(e){n.env()&&(c(e.design)&&a.on("__wf_design",e.design),c(e.preview)&&a.on("__wf_preview",e.preview)),c(e.destroy)&&a.on("__wf_destroy",e.destroy),e.ready&&c(e.ready)&&function(e){f?e.ready():u.contains(o,e.ready)||o.push(e.ready)}(e)}function h(e){c(e.design)&&a.off("__wf_design",e.design),c(e.preview)&&a.off("__wf_preview",e.preview),c(e.destroy)&&a.off("__wf_destroy",e.destroy),e.ready&&c(e.ready)&&function(e){o=u.filter(o,(function(t){return t!==e.ready}))}(e)}d.config.hideBackface=!1,d.config.keepInherited=!0,n.define=function(e,t,n){r[e]&&h(r[e]);var o=r[e]=t(s,u,n)||{};return m(o),o},n.require=function(e){return r[e]},n.push=function(e){f?c(e)&&e():i.push(e)},n.env=function(e){var t=window.__wf_design,n=typeof t<"u";return e?"design"===e?n&&t:"preview"===e?n&&!t:"slug"===e?n&&window.__wf_slug:"editor"===e?window.WebflowEditor:"test"===e?window.__wf_test:"frame"===e?window!==window.top:void 0:n};var y,g=navigator.userAgent.toLowerCase(),b=n.env.touch="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,v=n.env.chrome=/chrome/.test(g)&&/Google/.test(navigator.vendor)&&parseInt(g.match(/chrome\/(\d+)\./)[1],10),w=n.env.ios=/(ipod|iphone|ipad)/.test(g);n.env.safari=/safari/.test(g)&&!v&&!w,b&&l.on("touchstart mousedown",(function(e){y=e.target})),n.validClick=b?function(e){return e===y||s.contains(e,y)}:function(){return!0};var E,x="resize.webflow orientationchange.webflow load.webflow",_="scroll.webflow "+x;function I(e,t){var n=[],r={};return r.up=u.throttle((function(e){u.each(n,(function(t){t(e)}))})),e&&t&&e.on(t,r.up),r.on=function(e){"function"==typeof e&&(u.contains(n,e)||n.push(e))},r.off=function(e){n=arguments.length?u.filter(n,(function(t){return t!==e})):[]},r}function k(e){c(e)&&e()}function A(){E&&(E.reject(),a.off("load",E.resolve)),E=new s.Deferred,a.on("load",E.resolve)}n.resize=I(a,x),n.scroll=I(a,_),n.redraw=I(),n.location=function(e){window.location=e},n.env()&&(n.location=function(){}),n.ready=function(){f=!0,p?(p=!1,u.each(r,m)):u.each(o,k),u.each(i,k),n.resize.up()},n.load=function(e){E.then(e)},n.destroy=function(e){e=e||{},p=!0,a.triggerHandler("__wf_destroy"),null!=e.domready&&(f=e.domready),u.each(r,h),n.resize.off(),n.scroll.off(),n.redraw.off(),o=[],i=[],"pending"===E.state()&&A()},s(n.ready),A(),t.exports=window.Webflow=n})),L=S(((e,t)=>{var n=T();n.define("brand",t.exports=function(e){var t,r={},o=document,i=e("html"),s=e("body"),a=window.location,l=/PhantomJS/i.test(navigator.userAgent),c="fullscreenchange webkitfullscreenchange mozfullscreenchange msfullscreenchange";function u(){var n=o.fullScreen||o.mozFullScreen||o.webkitIsFullScreen||o.msFullscreenElement||!!o.webkitFullscreenElement;e(t).attr("style",n?"display: none !important;":"")}function d(){var e=s.children(".w-webflow-badge"),r=e.length&&e.get(0)===t,o=n.env("editor");r?o&&e.remove():(e.length&&e.remove(),o||s.append(t))}return r.ready=function(){var n=i.attr("data-wf-status"),r=i.attr("data-wf-domain")||"";/\.webflow\.io$/i.test(r)&&a.hostname!==r&&(n=!0),n&&!l&&(t=t||function(){var t=e('<a class="w-webflow-badge"></a>').attr("href","https://webflow.com?utm_campaign=brandjs"),n=e("<img>").attr("src","https://d3e54v103j8qbb.cloudfront.net/img/webflow-badge-icon-d2.89e12c322e.svg").attr("alt","").css({marginRight:"4px",width:"26px"}),r=e("<img>").attr("src","https://d3e54v103j8qbb.cloudfront.net/img/webflow-badge-text-d2.c82cec3b78.svg").attr("alt","Made in Webflow");return t.append(n,r),t[0]}(),d(),setTimeout(d,500),e(o).off(c,u).on(c,u))},r})})),O=S(((e,t)=>{T().define("focus-visible",t.exports=function(){return{ready:function(){if(typeof document<"u")try{document.querySelector(":focus-visible")}catch{!function(e){var t=!0,n=!1,r=null,o={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function i(e){return!!(e&&e!==document&&"HTML"!==e.nodeName&&"BODY"!==e.nodeName&&"classList"in e&&"contains"in e.classList)}function s(e){e.getAttribute("data-wf-focus-visible")||e.setAttribute("data-wf-focus-visible","true")}function a(){t=!1}function l(){document.addEventListener("mousemove",c),document.addEventListener("mousedown",c),document.addEventListener("mouseup",c),document.addEventListener("pointermove",c),document.addEventListener("pointerdown",c),document.addEventListener("pointerup",c),document.addEventListener("touchmove",c),document.addEventListener("touchstart",c),document.addEventListener("touchend",c)}function c(e){e.target.nodeName&&"html"===e.target.nodeName.toLowerCase()||(t=!1,document.removeEventListener("mousemove",c),document.removeEventListener("mousedown",c),document.removeEventListener("mouseup",c),document.removeEventListener("pointermove",c),document.removeEventListener("pointerdown",c),document.removeEventListener("pointerup",c),document.removeEventListener("touchmove",c),document.removeEventListener("touchstart",c),document.removeEventListener("touchend",c))}document.addEventListener("keydown",(function(n){n.metaKey||n.altKey||n.ctrlKey||(i(e.activeElement)&&s(e.activeElement),t=!0)}),!0),document.addEventListener("mousedown",a,!0),document.addEventListener("pointerdown",a,!0),document.addEventListener("touchstart",a,!0),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&(n&&(t=!0),l())}),!0),l(),e.addEventListener("focus",(function(e){i(e.target)&&(t||function(e){var t=e.type,n=e.tagName;return!!("INPUT"===n&&o[t]&&!e.readOnly||"TEXTAREA"===n&&!e.readOnly||e.isContentEditable)}(e.target))&&s(e.target)}),!0),e.addEventListener("blur",(function(e){i(e.target)&&e.target.hasAttribute("data-wf-focus-visible")&&(n=!0,window.clearTimeout(r),r=window.setTimeout((function(){n=!1}),100),function(e){e.getAttribute("data-wf-focus-visible")&&e.removeAttribute("data-wf-focus-visible")}(e.target))}),!0)}(document)}}}})})),M=S(((e,t)=>{var n=T();n.define("focus",t.exports=function(){var e=[],t=!1;function r(n){t&&(n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation(),e.unshift(n))}function o(n){(function(e){var t=e.target,n=t.tagName;return/^a$/i.test(n)&&null!=t.href||/^(button|textarea)$/i.test(n)&&!0!==t.disabled||/^input$/i.test(n)&&/^(button|reset|submit|radio|checkbox)$/i.test(t.type)&&!t.disabled||!/^(button|input|textarea|select|a)$/i.test(n)&&!Number.isNaN(Number.parseFloat(t.tabIndex))||/^audio$/i.test(n)||/^video$/i.test(n)&&!0===t.controls})(n)&&(t=!0,setTimeout((()=>{for(t=!1,n.target.focus();e.length>0;){var r=e.pop();r.target.dispatchEvent(new MouseEvent(r.type,r))}}),0))}return{ready:function(){typeof document<"u"&&document.body.hasAttribute("data-wf-focus-within")&&n.env.safari&&(document.addEventListener("mousedown",o,!0),document.addEventListener("mouseup",r,!0),document.addEventListener("click",r,!0))}}})})),P=S(((e,t)=>{var n=T();n.define("links",t.exports=function(e,t){var r,o,i,s={},a=e(window),l=n.env(),c=window.location,u=document.createElement("a"),d="w--current",f=/index\.(html|php)$/,p=/\/$/;function m(t){if(!t.getAttribute("hreflang")){var n=r&&t.getAttribute("href-disabled")||t.getAttribute("href");if(u.href=n,!(n.indexOf(":")>=0)){var s=e(t);if(u.hash.length>1&&u.host+u.pathname===c.host+c.pathname){if(!/^#[a-zA-Z0-9\-\_]+$/.test(u.hash))return;var a=e(u.hash);return void(a.length&&o.push({link:s,sec:a,active:!1}))}if("#"!==n&&""!==n){var l=u.href===c.href||n===i||f.test(n)&&p.test(i);y(s,d,l)}}}}function h(){var e=a.scrollTop(),n=a.height();t.each(o,(function(t){if(!t.link.attr("hreflang")){var r=t.link,o=t.sec,i=o.offset().top,s=o.outerHeight(),a=.5*n,l=o.is(":visible")&&i+s-a>=e&&i+a<=e+n;t.active!==l&&(t.active=l,y(r,d,l))}}))}function y(e,t,n){var r=e.hasClass(t);n&&r||!n&&!r||(n?e.addClass(t):e.removeClass(t))}return s.ready=s.design=s.preview=function(){r=l&&n.env("design"),i=n.env("slug")||c.pathname||"",n.scroll.off(h),o=[];for(var e=document.links,t=0;t<e.length;++t)m(e[t]);o.length&&(n.scroll.on(h),h())},s})})),R=S(((e,t)=>{var n=T();n.define("scroll",t.exports=function(e){var t={WF_CLICK_EMPTY:"click.wf-empty-link",WF_CLICK_SCROLL:"click.wf-scroll"},r=window.location,o=function(){try{return!!window.frameElement}catch{return!0}}()?null:window.history,i=e(window),s=e(document),a=e(document.body),l=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){window.setTimeout(e,15)},c=n.env("editor")?".w-editor-body":"body",u="header, "+c+" > .header, "+c+" > .w-nav:not([data-no-scroll])",d='a[href="#"]',f='a[href*="#"]:not(.w-tab-link):not('+d+")",p=document.createElement("style");p.appendChild(document.createTextNode('.wf-force-outline-none[tabindex="-1"]:focus{outline:none;}'));var m=/^#[a-zA-Z0-9][\w:.-]*$/;let h="function"==typeof window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)");function y(e,t){var n;switch(t){case"add":(n=e.attr("tabindex"))?e.attr("data-wf-tabindex-swap",n):e.attr("tabindex","-1");break;case"remove":(n=e.attr("data-wf-tabindex-swap"))?(e.attr("tabindex",n),e.removeAttr("data-wf-tabindex-swap")):e.removeAttr("tabindex")}e.toggleClass("wf-force-outline-none","add"===t)}function g(t){var s=t.currentTarget;if(!(n.env("design")||window.$.mobile&&/(?:^|\s)ui-link(?:$|\s)/.test(s.className))){var c=function(e){return m.test(e.hash)&&e.host+e.pathname===r.host+r.pathname}(s)?s.hash:"";if(""!==c){var d=e(c);d.length&&(t&&(t.preventDefault(),t.stopPropagation()),function(e){r.hash===e||!o||!o.pushState||n.env.chrome&&"file:"===r.protocol||(o.state&&o.state.hash)!==e&&o.pushState({hash:e},"",e)}(c),window.setTimeout((function(){!function(t,n){var r=i.scrollTop(),o=function(t){var n=e(u),r="fixed"===n.css("position")?n.outerHeight():0,o=t.offset().top-r;if("mid"===t.data("scroll")){var s=i.height()-r,a=t.outerHeight();a<s&&(o-=Math.round((s-a)/2))}return o}(t);if(r!==o){var s=function(e,t,n){if("none"===document.body.getAttribute("data-wf-scroll-motion")||h.matches)return 0;var r=1;return a.add(e).each((function(e,t){var n=parseFloat(t.getAttribute("data-scroll-time"));!isNaN(n)&&n>=0&&(r=n)})),(472.143*Math.log(Math.abs(t-n)+125)-2e3)*r}(t,r,o),c=Date.now(),d=function(){var e=Date.now()-c;window.scroll(0,function(e,t,n,r){return n>r?t:e+(t-e)*function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}(n/r)}(r,o,e,s)),e<=s?l(d):n()};l(d)}}(d,(function(){y(d,"add"),d.get(0).focus({preventScroll:!0}),y(d,"remove")}))}),t?0:300))}}}return{ready:function(){var{WF_CLICK_EMPTY:e,WF_CLICK_SCROLL:n}=t;s.on(n,f,g),s.on(e,d,(function(e){e.preventDefault()})),document.head.insertBefore(p,document.head.firstChild)}}})})),q=S(((e,t)=>{T().define("touch",t.exports=function(e){var t={},n=window.getSelection;function r(t){var r,o,i=!1,s=!1,a=Math.min(Math.round(.04*window.innerWidth),40);function l(e){var t=e.touches;t&&t.length>1||(i=!0,t?(s=!0,r=t[0].clientX):r=e.clientX,o=r)}function c(t){if(i){if(s&&"mousemove"===t.type)return t.preventDefault(),void t.stopPropagation();var r=t.touches,l=r?r[0].clientX:t.clientX,c=l-o;o=l,Math.abs(c)>a&&n&&""===String(n())&&(function(t,n,r){var o=e.Event("swipe",{originalEvent:n});e(n.target).trigger(o,r)}(0,t,{direction:c>0?"right":"left"}),d())}}function u(e){if(i&&(i=!1,s&&"mouseup"===e.type))return e.preventDefault(),e.stopPropagation(),void(s=!1)}function d(){i=!1}t.addEventListener("touchstart",l,!1),t.addEventListener("touchmove",c,!1),t.addEventListener("touchend",u,!1),t.addEventListener("touchcancel",d,!1),t.addEventListener("mousedown",l,!1),t.addEventListener("mousemove",c,!1),t.addEventListener("mouseup",u,!1),t.addEventListener("mouseout",d,!1),this.destroy=function(){t.removeEventListener("touchstart",l,!1),t.removeEventListener("touchmove",c,!1),t.removeEventListener("touchend",u,!1),t.removeEventListener("touchcancel",d,!1),t.removeEventListener("mousedown",l,!1),t.removeEventListener("mousemove",c,!1),t.removeEventListener("mouseup",u,!1),t.removeEventListener("mouseout",d,!1),t=null}}return e.event.special.tap={bindType:"click",delegateType:"click"},t.init=function(t){return(t="string"==typeof t?e(t).get(0):t)?new r(t):null},t.instance=t.init(document),t})})),F=S(((e,t)=>{var n=window.jQuery,r={},o=[],i=".w-ix",s={reset:function(e,t){t.__wf_intro=null},intro:function(e,t){t.__wf_intro||(t.__wf_intro=!0,n(t).triggerHandler(r.types.INTRO))},outro:function(e,t){t.__wf_intro&&(t.__wf_intro=null,n(t).triggerHandler(r.types.OUTRO))}};r.triggers={},r.types={INTRO:"w-ix-intro"+i,OUTRO:"w-ix-outro"+i},r.init=function(){for(var e=o.length,t=0;t<e;t++){var i=o[t];i[0](0,i[1])}o=[],n.extend(r.triggers,s)},r.async=function(){for(var e in s){var t=s[e];s.hasOwnProperty(e)&&(r.triggers[e]=function(e,n){o.push([t,n])})}},r.async(),t.exports=r})),N=S(((e,t)=>{var n=F();function r(e,t){var n=document.createEvent("CustomEvent");n.initCustomEvent(t,!0,!0,null),e.dispatchEvent(n)}var o=window.jQuery,i={},s=".w-ix",a={reset:function(e,t){n.triggers.reset(e,t)},intro:function(e,t){n.triggers.intro(e,t),r(t,"COMPONENT_ACTIVE")},outro:function(e,t){n.triggers.outro(e,t),r(t,"COMPONENT_INACTIVE")}};i.triggers={},i.types={INTRO:"w-ix-intro"+s,OUTRO:"w-ix-outro"+s},o.extend(i.triggers,a),t.exports=i})),D=S(((e,t)=>{var n=T(),r=N(),o=/^#[a-zA-Z0-9\-_]+$/;n.define("dropdown",t.exports=function(e,t){var i,s,a=t.debounce,l={},c=n.env(),u=!1,d=n.env.touch,f=".w-dropdown",p="w--open",m=r.triggers,h=900,y="focusout"+f,g="keydown"+f,b="mouseenter"+f,v="mousemove"+f,w="mouseleave"+f,E=(d?"click":"mouseup")+f,x="w-close"+f,_="setting"+f,I=e(document);function k(){i=c&&n.env("design"),(s=I.find(f)).each(A)}function A(t,r){var s=e(r),l=e.data(r,f);l||(l=e.data(r,f,{open:!1,el:s,config:{},selectedIdx:-1})),l.toggle=l.el.children(".w-dropdown-toggle"),l.list=l.el.children(".w-dropdown-list"),l.links=l.list.find("a:not(.w-dropdown .w-dropdown a)"),l.complete=function(e){return function(){e.list.removeClass(p),e.toggle.removeClass(p),e.manageZ&&e.el.css("z-index","")}}(l),l.mouseLeave=function(e){return function(){e.hovering=!1,e.links.is(":focus")||T(e)}}(l),l.mouseUpOutside=function(t){return t.mouseUpOutside&&I.off(E,t.mouseUpOutside),a((function(r){if(t.open){var o=e(r.target);if(!o.closest(".w-dropdown-toggle").length){var i=-1===e.inArray(t.el[0],o.parents(f)),s=n.env("editor");if(i){if(s){var a=1===o.parents().length&&1===o.parents("svg").length,l=o.parents(".w-editor-bem-EditorHoverControls").length;if(a||l)return}T(t)}}}}))}(l),l.mouseMoveOutside=function(t){return a((function(n){if(t.open){var r=e(n.target);if(-1===e.inArray(t.el[0],r.parents(f))){var o=r.parents(".w-editor-bem-EditorHoverControls").length,i=r.parents(".w-editor-bem-RTToolbar").length,s=e(".w-editor-bem-EditorOverlay"),a=s.find(".w-editor-edit-outline").length||s.find(".w-editor-bem-RTToolbar").length;if(o||i||a)return;t.hovering=!1,T(t)}}}))}(l),S(l);var u=l.toggle.attr("id"),d=l.list.attr("id");u||(u="w-dropdown-toggle-"+t),d||(d="w-dropdown-list-"+t),l.toggle.attr("id",u),l.toggle.attr("aria-controls",d),l.toggle.attr("aria-haspopup","menu"),l.toggle.attr("aria-expanded","false"),l.toggle.find(".w-icon-dropdown-toggle").attr("aria-hidden","true"),"BUTTON"!==l.toggle.prop("tagName")&&(l.toggle.attr("role","button"),l.toggle.attr("tabindex")||l.toggle.attr("tabindex","0")),l.list.attr("id",d),l.list.attr("aria-labelledby",u),l.links.each((function(e,t){t.hasAttribute("tabindex")||t.setAttribute("tabindex","0"),o.test(t.hash)&&t.addEventListener("click",T.bind(null,l))})),l.el.off(f),l.toggle.off(f),l.nav&&l.nav.off(f);var m=B(l,!0);i&&l.el.on(_,function(e){return function(t,n){n=n||{},S(e),!0===n.open&&C(e),!1===n.open&&T(e,{immediate:!0})}}(l)),i||(c&&(l.hovering=!1,T(l)),l.config.hover&&l.toggle.on(b,function(e){return function(){e.hovering=!0,C(e)}}(l)),l.el.on(x,m),l.el.on(g,function(e){return function(t){if(!i&&e.open)switch(e.selectedIdx=e.links.index(document.activeElement),t.keyCode){case 36:return e.open?(e.selectedIdx=0,L(e),t.preventDefault()):void 0;case 35:return e.open?(e.selectedIdx=e.links.length-1,L(e),t.preventDefault()):void 0;case 27:return T(e),e.toggle.focus(),t.stopPropagation();case 39:case 40:return e.selectedIdx=Math.min(e.links.length-1,e.selectedIdx+1),L(e),t.preventDefault();case 37:case 38:return e.selectedIdx=Math.max(-1,e.selectedIdx-1),L(e),t.preventDefault()}}}(l)),l.el.on(y,function(e){return a((function(t){var{relatedTarget:n,target:r}=t,o=e.el[0];return o.contains(n)||o.contains(r)||T(e),t.stopPropagation()}))}(l)),l.toggle.on(E,m),l.toggle.on(g,function(e){var t=B(e,true);return function(n){if(!i){if(!e.open)switch(n.keyCode){case 38:case 40:return n.stopPropagation()}switch(n.keyCode){case 32:case 13:return t(),n.stopPropagation(),n.preventDefault()}}}}(l)),l.nav=l.el.closest(".w-nav"),l.nav.on(x,m))}function S(e){var t=Number(e.el.css("z-index"));e.manageZ=t===h||t===h+1,e.config={hover:"true"===e.el.attr("data-hover")&&!d,delay:e.el.attr("data-delay")}}function B(e,t){return a((function(n){if(e.open||n&&"w-close"===n.type)return T(e,{forceClose:t});C(e)}))}function C(t){if(!t.open){(function(t){var n=t.el[0];s.each((function(t,r){var o=e(r);o.is(n)||o.has(n).length||o.triggerHandler(x)}))})(t),t.open=!0,t.list.addClass(p),t.toggle.addClass(p),t.toggle.attr("aria-expanded","true"),m.intro(0,t.el[0]),n.redraw.up(),t.manageZ&&t.el.css("z-index",h+1);var r=n.env("editor");i||I.on(E,t.mouseUpOutside),t.hovering&&!r&&t.el.on(w,t.mouseLeave),t.hovering&&r&&I.on(v,t.mouseMoveOutside),window.clearTimeout(t.delayId)}}function T(e,{immediate:t,forceClose:n}={}){if(e.open&&(!e.config.hover||!e.hovering||n)){e.toggle.attr("aria-expanded","false"),e.open=!1;var r=e.config;if(m.outro(0,e.el[0]),I.off(E,e.mouseUpOutside),I.off(v,e.mouseMoveOutside),e.el.off(w,e.mouseLeave),window.clearTimeout(e.delayId),!r.delay||t)return e.complete();e.delayId=window.setTimeout(e.complete,r.delay)}}function L(e){e.links[e.selectedIdx]&&e.links[e.selectedIdx].focus()}return l.ready=k,l.design=function(){u&&I.find(f).each((function(t,n){e(n).triggerHandler(x)})),u=!1,k()},l.preview=function(){u=!0,k()},l})})),$=S(((e,t)=>{var n=T();n.define("forms",t.exports=function(e,t){var r,o,i,s,a,l={},c=e(document),u=window.location,d=window.XDomainRequest&&!window.atob,f=".w-form",p=/e(-)?mail/i,m=/^\S+@\S+$/,h=window.alert,y=n.env(),g=/list-manage[1-9]?.com/i,b=t.debounce((function(){h("Oops! This page has improperly configured forms. Please contact your website administrator to fix this issue.")}),100);function v(t,n){var r=e(n),i=e.data(n,f);i||(i=e.data(n,f,{form:r})),w(i);var s=r.closest("div.w-form");i.done=s.find("> .w-form-done"),i.fail=s.find("> .w-form-fail"),i.fileUploads=s.find(".w-file-upload"),i.fileUploads.each((function(t){!function(t,n){if(n.fileUploads&&n.fileUploads[t]){var r,o=e(n.fileUploads[t]),i=o.find("> .w-file-upload-default"),s=o.find("> .w-file-upload-uploading"),l=o.find("> .w-file-upload-success"),c=o.find("> .w-file-upload-error"),u=i.find(".w-file-upload-input"),d=i.find(".w-file-upload-label"),f=d.children(),p=c.find(".w-file-upload-error-msg"),m=l.find(".w-file-upload-file"),h=l.find(".w-file-remove-link"),g=m.find(".w-file-upload-file-name"),b=p.attr("data-w-size-error"),v=p.attr("data-w-type-error"),x=p.attr("data-w-generic-error");if(y||d.on("click keydown",(function(e){"keydown"===e.type&&13!==e.which&&32!==e.which||(e.preventDefault(),u.click())})),d.find(".w-icon-file-upload-icon").attr("aria-hidden","true"),h.find(".w-icon-file-upload-remove").attr("aria-hidden","true"),y)u.on("click",(function(e){e.preventDefault()})),d.on("click",(function(e){e.preventDefault()})),f.on("click",(function(e){e.preventDefault()}));else{h.on("click keydown",(function(e){if("keydown"===e.type){if(13!==e.which&&32!==e.which)return;e.preventDefault()}u.removeAttr("data-value"),u.val(""),g.html(""),i.toggle(!0),l.toggle(!1),d.focus()})),u.on("change",(function(o){(r=o.target&&o.target.files&&o.target.files[0])&&(i.toggle(!1),c.toggle(!1),s.toggle(!0),s.focus(),g.text(r.name),S()||E(n),n.fileUploads[t].uploading=!0,function(t,n){var r=new URLSearchParams({name:t.name,size:t.size});e.ajax({type:"GET",url:`${a}?${r}`,crossDomain:!0}).done((function(e){n(null,e)})).fail((function(e){n(e)}))}(r,k))}));var _=d.outerHeight();u.height(_),u.width(1)}}function I(e){var r=e.responseJSON&&e.responseJSON.msg,o=x;"string"==typeof r&&0===r.indexOf("InvalidFileTypeError")?o=v:"string"==typeof r&&0===r.indexOf("MaxFileSizeError")&&(o=b),p.text(o),u.removeAttr("data-value"),u.val(""),s.toggle(!1),i.toggle(!0),c.toggle(!0),c.focus(),n.fileUploads[t].uploading=!1,S()||w(n)}function k(t,n){if(t)return I(t);var o=n.fileName,i=n.postData,s=n.fileId,a=n.s3Url;u.attr("data-value",s),function(t,n,r,o,i){var s=new FormData;for(var a in n)s.append(a,n[a]);s.append("file",r,o),e.ajax({type:"POST",url:t,data:s,processData:!1,contentType:!1}).done((function(){i(null)})).fail((function(e){i(e)}))}(a,i,r,o,A)}function A(e){if(e)return I(e);s.toggle(!1),l.css("display","inline-block"),l.focus(),n.fileUploads[t].uploading=!1,S()||w(n)}function S(){return(n.fileUploads&&n.fileUploads.toArray()||[]).some((function(e){return e.uploading}))}}(t,i)}));var l=i.form.attr("aria-label")||i.form.attr("data-name")||"Form";i.done.attr("aria-label")||i.form.attr("aria-label",l),i.done.attr("tabindex","-1"),i.done.attr("role","region"),i.done.attr("aria-label")||i.done.attr("aria-label",l+" success"),i.fail.attr("tabindex","-1"),i.fail.attr("role","region"),i.fail.attr("aria-label")||i.fail.attr("aria-label",l+" failure");var c=i.action=r.attr("action");if(i.handler=null,i.redirect=r.attr("data-redirect"),g.test(c))i.handler=_;else if(!c){if(o)return void(i.handler=x);b()}}function w(e){var t=e.btn=e.form.find(':input[type="submit"]');e.wait=e.btn.attr("data-wait")||null,e.success=!1,t.prop("disabled",!1),e.label&&t.val(e.label)}function E(e){var t=e.btn,n=e.wait;t.prop("disabled",!0),n&&(e.label=t.val(),t.val(n))}function x(e){k(e),I(e)}function _(n){w(n);var r=n.form,o={};if(!/^https/.test(u.href)||/^https/.test(n.action)){k(n);var i,s=function(t,n){var r=null;return n=n||{},t.find(':input:not([type="submit"]):not([type="file"])').each((function(o,i){var s=e(i),a=s.attr("type"),l=s.attr("data-name")||s.attr("name")||"Field "+(o+1);l=encodeURIComponent(l);var c=s.val();if("checkbox"===a)c=s.is(":checked");else if("radio"===a){if(null===n[l]||"string"==typeof n[l])return;c=t.find('input[name="'+s.attr("name")+'"]:checked').val()||null}"string"==typeof c&&(c=e.trim(c)),n[l]=c,r=r||function(e,t,n,r){var o=null;return"password"===t?o="Passwords cannot be submitted.":e.attr("required")?r?p.test(e.attr("type"))&&(m.test(r)||(o="Please enter a valid email address for: "+n)):o="Please fill out the required field: "+n:"g-recaptcha-response"===n&&!r&&(o="Please confirm youre not a robot."),o}(s,a,l,c)})),r}(r,o);if(s)return h(s);E(n),t.each(o,(function(e,t){p.test(t)&&(o.EMAIL=e),/^((full[ _-]?)?name)$/i.test(t)&&(i=e),/^(first[ _-]?name)$/i.test(t)&&(o.FNAME=e),/^(last[ _-]?name)$/i.test(t)&&(o.LNAME=e)})),i&&!o.FNAME&&(i=i.split(" "),o.FNAME=i[0],o.LNAME=o.LNAME||i[1]);var a=n.action.replace("/post?","/post-json?")+"&c=?",l=a.indexOf("u=")+2;l=a.substring(l,a.indexOf("&",l));var c=a.indexOf("id=")+3;c=a.substring(c,a.indexOf("&",c)),o["b_"+l+"_"+c]="",e.ajax({url:a,data:o,dataType:"jsonp"}).done((function(e){n.success="success"===e.result||/already/.test(e.msg),n.success||console.info("MailChimp error: "+e.msg),I(n)})).fail((function(){I(n)}))}else r.attr("method","post")}function I(e){var t=e.form,r=e.redirect,o=e.success;o&&r?n.location(r):(e.done.toggle(o),e.fail.toggle(!o),o?e.done.focus():e.fail.focus(),t.toggle(!o),w(e))}function k(e){e.evt&&e.evt.preventDefault(),e.evt=null}return l.ready=l.design=l.preview=function(){o=e("html").attr("data-wf-site"),s="https://webflow.com/api/v1/form/"+o,d&&s.indexOf("https://webflow.com")>=0&&(s=s.replace("https://webflow.com","https://formdata.webflow.com")),a=`${s}/signFile`,(r=e(f+" form")).length&&r.each(v),!y&&!i&&function(){i=!0,c.on("submit",f+" form",(function(t){var n=e.data(this,f);n.handler&&(n.evt=t,n.handler(n))}));let t=".w-checkbox-input",n=".w-radio-input",r="w--redirected-checked",o="w--redirected-focus",s="w--redirected-focus-visible",a=[["checkbox",t],["radio",n]];c.on("change",f+' form input[type="checkbox"]:not('+t+")",(n=>{e(n.target).siblings(t).toggleClass(r)})),c.on("change",f+' form input[type="radio"]',(o=>{e(`input[name="${o.target.name}"]:not(${t})`).map(((t,o)=>e(o).siblings(n).removeClass(r)));let i=e(o.target);i.hasClass("w-radio-input")||i.siblings(n).addClass(r)})),a.forEach((([t,n])=>{c.on("focus",f+` form input[type="${t}"]:not(`+n+")",(t=>{e(t.target).siblings(n).addClass(o),e(t.target).filter(":focus-visible, [data-wf-focus-visible]").siblings(n).addClass(s)})),c.on("blur",f+` form input[type="${t}"]:not(`+n+")",(t=>{e(t.target).siblings(n).removeClass(`${o} ${s}`)}))}))}()},l})})),U=S(((e,t)=>{var n=T(),r=N();n.define("navbar",t.exports=function(e,t){var o,i,s,a,l={},c=e.tram,u=e(window),d=e(document),f=t.debounce,p=n.env(),m=".w-nav",h="w--open",y="w--nav-dropdown-open",g="w--nav-dropdown-toggle-open",b="w--nav-dropdown-list-open",v="w--nav-link-open",w=r.triggers,E=e();function x(){n.resize.off(_)}function _(){i.each(M)}function I(n,r){var o=e(r),i=e.data(r,m);i||(i=e.data(r,m,{open:!1,el:o,config:{},selectedIdx:-1})),i.menu=o.find(".w-nav-menu"),i.links=i.menu.find(".w-nav-link"),i.dropdowns=i.menu.find(".w-dropdown"),i.dropdownToggle=i.menu.find(".w-dropdown-toggle"),i.dropdownList=i.menu.find(".w-dropdown-list"),i.button=o.find(".w-nav-button"),i.container=o.find(".w-container"),i.overlayContainerId="w-nav-overlay-"+n,i.outside=function(t){return t.outside&&d.off("click"+m,t.outside),function(n){var r=e(n.target);a&&r.closest(".w-editor-bem-EditorOverlay").length||O(t,r)}}(i);var l=o.find(".w-nav-brand");l&&"/"===l.attr("href")&&null==l.attr("aria-label")&&l.attr("aria-label","home"),i.button.attr("style","-webkit-user-select: text;"),null==i.button.attr("aria-label")&&i.button.attr("aria-label","menu"),i.button.attr("role","button"),i.button.attr("tabindex","0"),i.button.attr("aria-controls",i.overlayContainerId),i.button.attr("aria-haspopup","menu"),i.button.attr("aria-expanded","false"),i.el.off(m),i.button.off(m),i.menu.off(m),S(i),s?(A(i),i.el.on("setting"+m,function(e){return function(n,r){r=r||{};var o=u.width();S(e),!0===r.open&&F(e,!0),!1===r.open&&D(e,!0),e.open&&t.defer((function(){o!==u.width()&&C(e)}))}}(i))):(function(t){t.overlay||(t.overlay=e('<div class="w-nav-overlay" data-wf-ignore />').appendTo(t.el),t.overlay.attr("id",t.overlayContainerId),t.parent=t.menu.parent(),D(t,!0))}(i),i.button.on("click"+m,T(i)),i.menu.on("click"+m,"a",L(i)),i.button.on("keydown"+m,function(e){return function(t){switch(t.keyCode){case 32:case 13:return T(e)(),t.preventDefault(),t.stopPropagation();case 27:return D(e),t.preventDefault(),t.stopPropagation();case 39:case 40:case 36:case 35:return e.open?(35===t.keyCode?e.selectedIdx=e.links.length-1:e.selectedIdx=0,B(e),t.preventDefault(),t.stopPropagation()):(t.preventDefault(),t.stopPropagation())}}}(i)),i.el.on("keydown"+m,function(e){return function(t){if(e.open)switch(e.selectedIdx=e.links.index(document.activeElement),t.keyCode){case 36:case 35:return 35===t.keyCode?e.selectedIdx=e.links.length-1:e.selectedIdx=0,B(e),t.preventDefault(),t.stopPropagation();case 27:return D(e),e.button.focus(),t.preventDefault(),t.stopPropagation();case 37:case 38:return e.selectedIdx=Math.max(-1,e.selectedIdx-1),B(e),t.preventDefault(),t.stopPropagation();case 39:case 40:return e.selectedIdx=Math.min(e.links.length-1,e.selectedIdx+1),B(e),t.preventDefault(),t.stopPropagation()}}}(i))),M(0,r)}function k(t,n){var r=e.data(n,m);r&&(A(r),e.removeData(n,m))}function A(e){e.overlay&&(D(e,!0),e.overlay.remove(),e.overlay=null)}function S(e){var n={},r=e.config||{},o=n.animation=e.el.attr("data-animation")||"default";n.animOver=/^over/.test(o),n.animDirect=/left$/.test(o)?-1:1,r.animation!==o&&e.open&&t.defer(C,e),n.easing=e.el.attr("data-easing")||"ease",n.easing2=e.el.attr("data-easing2")||"ease";var i=e.el.attr("data-duration");n.duration=null!=i?Number(i):400,n.docHeight=e.el.attr("data-doc-height"),e.config=n}function B(e){if(e.links[e.selectedIdx]){var t=e.links[e.selectedIdx];t.focus(),L(t)}}function C(e){e.open&&(D(e,!0),F(e,!0))}function T(e){return f((function(){e.open?D(e):F(e)}))}function L(t){return function(r){var o=e(this).attr("href");n.validClick(r.currentTarget)?o&&0===o.indexOf("#")&&t.open&&D(t):r.preventDefault()}}l.ready=l.design=l.preview=function(){s=p&&n.env("design"),a=n.env("editor"),o=e(document.body),(i=d.find(m)).length&&(i.each(I),x(),n.resize.on(_))},l.destroy=function(){E=e(),x(),i&&i.length&&i.each(k)};var O=f((function(e,t){if(e.open){var n=t.closest(".w-nav-menu");e.menu.is(n)||D(e)}}));function M(t,n){var r=e.data(n,m),o=r.collapsed="none"!==r.button.css("display");if(r.open&&!o&&!s&&D(r,!0),r.container.length){var i=function(t){var n=t.container.css(P);return"none"===n&&(n=""),function(t,r){(r=e(r)).css(P,""),"none"===r.css(P)&&r.css(P,n)}}(r);r.links.each(i),r.dropdowns.each(i)}r.open&&N(r)}var P="max-width";function R(e,t){t.setAttribute("data-nav-menu-open","")}function q(e,t){t.removeAttribute("data-nav-menu-open")}function F(e,t){if(!e.open){e.open=!0,e.menu.each(R),e.links.addClass(v),e.dropdowns.addClass(y),e.dropdownToggle.addClass(g),e.dropdownList.addClass(b),e.button.addClass(h);var r=e.config;("none"===r.animation||!c.support.transform||r.duration<=0)&&(t=!0);var o=N(e),i=e.menu.outerHeight(!0),a=e.menu.outerWidth(!0),l=e.el.height(),u=e.el[0];if(M(0,u),w.intro(0,u),n.redraw.up(),s||d.on("click"+m,e.outside),t)x();else{var f="transform "+r.duration+"ms "+r.easing;if(e.overlay&&(E=e.menu.prev(),e.overlay.show().append(e.menu)),r.animOver)return c(e.menu).add(f).set({x:r.animDirect*a,height:o}).start({x:0}).then(x),void(e.overlay&&e.overlay.width(a));var p=l+i;c(e.menu).add(f).set({y:-p}).start({y:0}).then(x)}}function x(){e.button.attr("aria-expanded","true")}}function N(e){var t=e.config,n=t.docHeight?d.height():o.height();return t.animOver?e.menu.height(n):"fixed"!==e.el.css("position")&&(n-=e.el.outerHeight(!0)),e.overlay&&e.overlay.height(n),n}function D(e,t){if(e.open){e.open=!1,e.button.removeClass(h);var n=e.config;if(("none"===n.animation||!c.support.transform||n.duration<=0)&&(t=!0),w.outro(0,e.el[0]),d.off("click"+m,e.outside),t)return c(e.menu).stop(),void l();var r="transform "+n.duration+"ms "+n.easing2,o=e.menu.outerHeight(!0),i=e.menu.outerWidth(!0),s=e.el.height();if(n.animOver)c(e.menu).add(r).start({x:i*n.animDirect}).then(l);else{var a=s+o;c(e.menu).add(r).start({y:-a}).then(l)}}function l(){e.menu.height(""),c(e.menu).set({x:0,y:0}),e.menu.each(q),e.links.removeClass(v),e.dropdowns.removeClass(y),e.dropdownToggle.removeClass(g),e.dropdownList.removeClass(b),e.overlay&&e.overlay.children().length&&(E.length?e.menu.insertAfter(E):e.menu.prependTo(e.parent),e.overlay.attr("style","").hide()),e.el.triggerHandler("w-close"),e.button.attr("aria-expanded","false")}}return l})})),L(),O(),M(),P(),R(),q(),D(),$(),U(),t()}catch(cn){t(cn)}var S,B,C,T,L,O,M,P,R,q,F,N,D,$,U}),1)},526:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=a(e),s=i[0],l=i[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,s,l)),u=0,d=l>0?s-4:s;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===l&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[u++]=255&t),1===l&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],s=16383,a=0,c=r-o;a<c;a+=s)i.push(l(e,a,a+s>c?c:a+s));return 1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=i[s],r[i.charCodeAt(s)]=s;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,r){for(var o,i,s=[],a=t;a<r;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},788:(e,t,n)=>{"use strict";var r=n(931);function o(e,t){return void 0===t&&(t="utf8"),Buffer.isBuffer(e)?s(e.toString("base64")):s(Buffer.from(e,t).toString("base64"))}function i(e){return e=e.toString(),r.default(e).replace(/\-/g,"+").replace(/_/g,"/")}function s(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var a=o;a.encode=o,a.decode=function(e,t){return void 0===t&&(t="utf8"),Buffer.from(i(e),"base64").toString(t)},a.toBase64=i,a.fromBase64=s,a.toBuffer=function(e){return Buffer.from(i(e),"base64")},t.default=a},931:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.length,n=t%4;if(!n)return e;var r=t,o=4-n,i=t+o,s=Buffer.alloc(i);for(s.write(e);o--;)s.write("=",r++);return s.toString()}},711:(e,t,n)=>{e.exports=n(788).default,e.exports.default=e.exports},156:(e,t,n)=>{const r=n(829);function o(e,t,n){const r=e[t]+e[n];let o=e[t+1]+e[n+1];r>=4294967296&&o++,e[t]=r,e[t+1]=o}function i(e,t,n,r){let o=e[t]+n;n<0&&(o+=4294967296);let i=e[t+1]+r;o>=4294967296&&i++,e[t]=o,e[t+1]=i}function s(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function a(e,t,n,r,s,a){const l=d[s],c=d[s+1],f=d[a],p=d[a+1];o(u,e,t),i(u,e,l,c);let m=u[r]^u[e],h=u[r+1]^u[e+1];u[r]=h,u[r+1]=m,o(u,n,r),m=u[t]^u[n],h=u[t+1]^u[n+1],u[t]=m>>>24^h<<8,u[t+1]=h>>>24^m<<8,o(u,e,t),i(u,e,f,p),m=u[r]^u[e],h=u[r+1]^u[e+1],u[r]=m>>>16^h<<16,u[r+1]=h>>>16^m<<16,o(u,n,r),m=u[t]^u[n],h=u[t+1]^u[n+1],u[t]=h>>>31^m<<1,u[t+1]=m>>>31^h<<1}const l=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),c=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((function(e){return 2*e}))),u=new Uint32Array(32),d=new Uint32Array(32);function f(e,t){let n=0;for(n=0;n<16;n++)u[n]=e.h[n],u[n+16]=l[n];for(u[24]=u[24]^e.t,u[25]=u[25]^e.t/4294967296,t&&(u[28]=~u[28],u[29]=~u[29]),n=0;n<32;n++)d[n]=s(e.b,4*n);for(n=0;n<12;n++)a(0,8,16,24,c[16*n+0],c[16*n+1]),a(2,10,18,26,c[16*n+2],c[16*n+3]),a(4,12,20,28,c[16*n+4],c[16*n+5]),a(6,14,22,30,c[16*n+6],c[16*n+7]),a(0,10,20,30,c[16*n+8],c[16*n+9]),a(2,12,22,24,c[16*n+10],c[16*n+11]),a(4,14,16,26,c[16*n+12],c[16*n+13]),a(6,8,18,28,c[16*n+14],c[16*n+15]);for(n=0;n<16;n++)e.h[n]=e.h[n]^u[n]^u[n+16]}const p=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function m(e,t,n,r){if(0===e||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(n&&16!==n.length)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(r&&16!==r.length)throw new Error("Illegal personal, expected Uint8Array with length is 16");const o={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e};p.fill(0),p[0]=e,t&&(p[1]=t.length),p[2]=1,p[3]=1,n&&p.set(n,32),r&&p.set(r,48);for(let e=0;e<16;e++)o.h[e]=l[e]^s(p,4*e);return t&&(h(o,t),o.c=128),o}function h(e,t){for(let n=0;n<t.length;n++)128===e.c&&(e.t+=e.c,f(e,!1),e.c=0),e.b[e.c++]=t[n]}function y(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;f(e,!0);const t=new Uint8Array(e.outlen);for(let n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(3&n);return t}function g(e,t,n,o,i){n=n||64,e=r.normalizeInput(e),o&&(o=r.normalizeInput(o)),i&&(i=r.normalizeInput(i));const s=m(n,t,o,i);return h(s,e),y(s)}e.exports={blake2b:g,blake2bHex:function(e,t,n,o,i){const s=g(e,t,n,o,i);return r.toHex(s)},blake2bInit:m,blake2bUpdate:h,blake2bFinal:y}},843:(e,t,n)=>{const r=n(829);function o(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function i(e,t,n,r,o,i){c[e]=c[e]+c[t]+o,c[r]=s(c[r]^c[e],16),c[n]=c[n]+c[r],c[t]=s(c[t]^c[n],12),c[e]=c[e]+c[t]+i,c[r]=s(c[r]^c[e],8),c[n]=c[n]+c[r],c[t]=s(c[t]^c[n],7)}function s(e,t){return e>>>t^e<<32-t}const a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),l=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),c=new Uint32Array(16),u=new Uint32Array(16);function d(e,t){let n=0;for(n=0;n<8;n++)c[n]=e.h[n],c[n+8]=a[n];for(c[12]^=e.t,c[13]^=e.t/4294967296,t&&(c[14]=~c[14]),n=0;n<16;n++)u[n]=o(e.b,4*n);for(n=0;n<10;n++)i(0,4,8,12,u[l[16*n+0]],u[l[16*n+1]]),i(1,5,9,13,u[l[16*n+2]],u[l[16*n+3]]),i(2,6,10,14,u[l[16*n+4]],u[l[16*n+5]]),i(3,7,11,15,u[l[16*n+6]],u[l[16*n+7]]),i(0,5,10,15,u[l[16*n+8]],u[l[16*n+9]]),i(1,6,11,12,u[l[16*n+10]],u[l[16*n+11]]),i(2,7,8,13,u[l[16*n+12]],u[l[16*n+13]]),i(3,4,9,14,u[l[16*n+14]],u[l[16*n+15]]);for(n=0;n<8;n++)e.h[n]^=c[n]^c[n+8]}function f(e,t){if(!(e>0&&e<=32))throw new Error("Incorrect output length, should be in [1, 32]");const n=t?t.length:0;if(t&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");const r={h:new Uint32Array(a),b:new Uint8Array(64),c:0,t:0,outlen:e};return r.h[0]^=16842752^n<<8^e,n>0&&(p(r,t),r.c=64),r}function p(e,t){for(let n=0;n<t.length;n++)64===e.c&&(e.t+=e.c,d(e,!1),e.c=0),e.b[e.c++]=t[n]}function m(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;d(e,!0);const t=new Uint8Array(e.outlen);for(let n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(3&n)&255;return t}function h(e,t,n){n=n||32,e=r.normalizeInput(e);const o=f(n,t);return p(o,e),m(o)}e.exports={blake2s:h,blake2sHex:function(e,t,n){const o=h(e,t,n);return r.toHex(o)},blake2sInit:f,blake2sUpdate:p,blake2sFinal:m}},493:(e,t,n)=>{const r=n(156),o=n(843);e.exports={blake2b:r.blake2b,blake2bHex:r.blake2bHex,blake2bInit:r.blake2bInit,blake2bUpdate:r.blake2bUpdate,blake2bFinal:r.blake2bFinal,blake2s:o.blake2s,blake2sHex:o.blake2sHex,blake2sInit:o.blake2sInit,blake2sUpdate:o.blake2sUpdate,blake2sFinal:o.blake2sFinal}},829:e=>{function t(e){return(4294967296+e).toString(16).substring(1)}e.exports={normalizeInput:function(e){let t;if(e instanceof Uint8Array)t=e;else{if("string"!=typeof e)throw new Error("Input must be an string, Buffer or Uint8Array");t=(new TextEncoder).encode(e)}return t},toHex:function(e){return Array.prototype.map.call(e,(function(e){return(e<16?"0":"")+e.toString(16)})).join("")},debugPrint:function(e,n,r){let o="\n"+e+" = ";for(let i=0;i<n.length;i+=2){if(32===r)o+=t(n[i]).toUpperCase(),o+=" ",o+=t(n[i+1]).toUpperCase();else{if(64!==r)throw new Error("Invalid size "+r);o+=t(n[i+1]).toUpperCase(),o+=t(n[i]).toUpperCase()}i%6==4?o+="\n"+new Array(e.length+4).join(" "):i<n.length-2&&(o+=" ")}console.log(o)},testSpeed:function(e,t,n){let r=(new Date).getTime();const o=new Uint8Array(t);for(let e=0;e<t;e++)o[e]=e%256;const i=(new Date).getTime();console.log("Generated random input in "+(i-r)+"ms"),r=i;for(let i=0;i<n;i++){const n=e(o),i=(new Date).getTime(),s=i-r;r=i,console.log("Hashed in "+s+"ms: "+n.substring(0,20)+"..."),console.log(Math.round(t/(1<<20)/(s/1e3)*100)/100+" MB PER SECOND")}}}},880:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),o=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var o=e.getVersionPrecision(t),i=e.getVersionPrecision(n),s=Math.max(o,i),a=0,l=e.map([t,n],(function(t){var n=s-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(a=s-Math.min(o,i)),s-=1;s>=a;){if(l[0][s]>l[1][s])return 1;if(l[0][s]===l[1][s]){if(s===a)return 0;s-=1}else if(l[0][s]<l[1][s])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var o=e[n];if(t(o,n))return o}},e.assign=function(e){for(var t,n,r=e,o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(i));var a=function(){var e=i[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=i.length;t<n;t+=1)a();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=o,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(91))&&r.__esModule?r:{default:r},i=n(18);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){}var t,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new o.default(e,t)},e.parse=function(e){return new o.default(e).getResult()},t=e,n=[{key:"BROWSER_MAP",get:function(){return i.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return i.ENGINE_MAP}},{key:"OS_MAP",get:function(){return i.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return i.PLATFORMS_MAP}}],null&&s(t.prototype,null),n&&s(t,n),e}();t.default=a,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(92)),o=l(n(93)),i=l(n(94)),s=l(n(95)),a=l(n(17));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(s.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,o={},i=0;if(Object.keys(e).forEach((function(t){var s=e[t];"string"==typeof s?(o[t]=s,i+=1):"object"==typeof s&&(n[t]=s,r+=1)})),r>0){var s=Object.keys(n),l=a.default.find(s,(function(e){return t.isOS(e)}));if(l){var c=this.satisfies(n[l]);if(void 0!==c)return c}var u=a.default.find(s,(function(e){return t.isPlatform(e)}));if(u){var d=this.satisfies(n[u]);if(void 0!==d)return d}}if(i>0){var f=Object.keys(o),p=a.default.find(f,(function(e){return t.isBrowser(e,!0)}));if(void 0!==p)return this.compareVersion(o[p])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),o=a.default.getBrowserTypeByAlias(r);return t&&o&&(r=o.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,o=this.getBrowserVersion();if("string"==typeof o)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(a.default.compareVersions(o,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=c,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=o.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=o.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=o.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=o.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=o.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=o.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=o.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=o.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=o.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=o.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=o.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=o.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=o.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=o.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=o.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=o.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=o.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=o.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=o.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=o.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=o.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=o.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=o.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=o.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=o.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=o.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=o.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:o.default.getFirstMatch(t,e),version:o.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),s=[{test:[/Roku\/DVP/],describe:function(e){var t=o.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:i.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=o.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=o.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=o.default.getWindowsVersionName(t);return{name:i.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:i.OS_MAP.iOS},n=o.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=o.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=o.default.getMacOSVersionName(t),r={name:i.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=o.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:i.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=o.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=o.default.getAndroidVersionName(t),r={name:i.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=o.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:i.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=o.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||o.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||o.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:i.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=o.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=o.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:i.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:i.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=o.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=o.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:i.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=o.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:i.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}}];t.default=s,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),s=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:i.ENGINE_MAP.Blink};var t=o.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:i.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:i.ENGINE_MAP.Trident},n=o.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:i.ENGINE_MAP.Presto},n=o.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:i.ENGINE_MAP.Gecko},n=o.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:i.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:i.ENGINE_MAP.WebKit},n=o.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=s,e.exports=t.default}})},287:(e,t,n)=>{"use strict";const r=n(526),o=n(251),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=l,t.IS=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|h(e,t);let r=a(n);const o=r.write(e,t);return o!==n&&(r=r.slice(0,o)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Z(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Z(e,ArrayBuffer)||e&&Z(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(Z(e,SharedArrayBuffer)||e&&Z(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,t,n);const o=function(e){if(l.isBuffer(e)){const t=0|m(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||X(e.length)?a(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),a(e<0?0:0|m(e))}function f(e){const t=e.length<0?0:0|m(e.length),n=a(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,l.prototype),r}function m(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function h(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Z(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return K(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(e).length;default:if(o)return r?-1:K(e).length;t=(""+t).toLowerCase(),o=!0}}function y(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return B(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),X(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,o){let i,s=1,a=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){let r=-1;for(i=n;i<a;i++)if(c(e,i)===c(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===l)return r*s}else-1!==r&&(i-=i-r),r=-1}else for(n+l>a&&(n=a-l),i=n;i>=0;i--){let n=!0;for(let r=0;r<l;r++)if(c(e,i+r)!==c(t,r)){n=!1;break}if(n)return i}return-1}function w(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=t.length;let s;for(r>i/2&&(r=i/2),s=0;s<r;++s){const r=parseInt(t.substr(2*s,2),16);if(X(r))return s;e[n+s]=r}return s}function E(e,t,n,r){return G(K(t,e.length-n),e,n,r)}function x(e,t,n,r){return G(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n,r){return G(V(t),e,n,r)}function I(e,t,n,r){return G(function(e,t){let n,r,o;const i=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function k(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let i=null,s=t>239?4:t>223?3:t>191?2:1;if(o+s<=n){let n,r,a,l;switch(s){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128==(192&n)&&(l=(31&t)<<6|63&n,l>127&&(i=l));break;case 3:n=e[o+1],r=e[o+2],128==(192&n)&&128==(192&r)&&(l=(15&t)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(i=l));break;case 4:n=e[o+1],r=e[o+2],a=e[o+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,l>65535&&l<1114112&&(i=l))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=s}return function(e){const t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=S));return n}(r)}l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?a(e):void 0!==t?"string"==typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},l.allocUnsafe=function(e){return d(e)},l.allocUnsafeSlow=function(e){return d(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(Z(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),Z(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=l.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(Z(t,Uint8Array))o+t.length>r.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,o)}o+=t.length}return r},l.byteLength=h,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):y.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const n=t.IS;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(l.prototype[i]=l.prototype.inspect),l.prototype.compare=function(e,t,n,r,o){if(Z(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0);const a=Math.min(i,s),c=this.slice(r,o),u=e.slice(t,n);for(let e=0;e<a;++e)if(c[e]!==u[e]){i=c[e],s=u[e];break}return i<s?-1:s<i?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":case"latin1":case"binary":return x(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const S=4096;function B(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function C(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function T(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o="";for(let r=t;r<n;++r)o+=J[e[r]];return o}function L(e,t,n){const r=e.slice(t,n);let o="";for(let e=0;e<r.length-1;e+=2)o+=String.fromCharCode(r[e]+256*r[e+1]);return o}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,o,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function P(e,t,n,r,o){j(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function R(e,t,n,r,o){j(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function q(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,i){return t=+t,n>>>=0,i||q(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function N(e,t,n,r,i){return t=+t,n>>>=0,i||q(e,0,n,8),o.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=Y((function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),l.prototype.readBigUInt64BE=Y((function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||O(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||O(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=Y((function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=Y((function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||O(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||O(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||O(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||O(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||M(this,e,t,n,Math.pow(2,8*n)-1,0);let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||M(this,e,t,n,Math.pow(2,8*n)-1,0);let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=Y((function(e,t=0){return P(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=Y((function(e,t=0){return R(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);M(this,e,t,n,r-1,-r)}let o=0,i=1,s=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);M(this,e,t,n,r-1,-r)}let o=n-1,i=1,s=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=Y((function(e,t=0){return P(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=Y((function(e,t=0){return R(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const i=l.isBuffer(e)?e:l.from(e,r),s=i.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=i[o%s]}return this};const D={};function $(e,t,n){D[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function U(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function j(e,t,n,r,o,i){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new D.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){H(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||z(t,e.length-(n+1))}(r,o,i)}function H(e,t){if("number"!=typeof e)throw new D.ERR_INVALID_ARG_TYPE(t,"number",e)}function z(e,t,n){if(Math.floor(e)!==e)throw H(e,n),new D.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new D.ERR_BUFFER_OUT_OF_BOUNDS;throw new D.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}$("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),$("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),$("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=U(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=U(o)),o+="n"),r+=` It must be ${t}. Received ${o}`,r}),RangeError);const W=/[^+/0-9A-Za-z-_]/g;function K(e,t){let n;t=t||1/0;const r=e.length;let o=null;const i=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function V(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function Z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function X(e){return e!=e}const J=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function Y(e){return"undefined"==typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}},251:(e,t)=>{t.read=function(e,t,n,r,o){var i,s,a=8*o-r-1,l=(1<<a)-1,c=l>>1,u=-7,d=n?o-1:0,f=n?-1:1,p=e[t+d];for(d+=f,i=p&(1<<-u)-1,p>>=-u,u+=a;u>0;i=256*i+e[t+d],d+=f,u-=8);for(s=i&(1<<-u)-1,i>>=-u,u+=r;u>0;s=256*s+e[t+d],d+=f,u-=8);if(0===i)i=1-c;else{if(i===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),i-=c}return(p?-1:1)*s*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var s,a,l,c=8*i-o-1,u=(1<<c)-1,d=u>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,m=r?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(s++,l/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(t*l-1)*Math.pow(2,o),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,o),s=0));o>=8;e[n+p]=255&a,p+=m,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;e[n+p]=255&s,p+=m,s/=256,c-=8);e[n+p-m]|=128*h}},635:(e,t,n)=>{"use strict";n.d(t,{$J:()=>vi,KM:()=>Gi,Lv:()=>ji});var r=n(287),o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function s(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}function a(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function c(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function u(e){return this instanceof u?(this.v=e,this):new u(e)}function d(e){return"function"==typeof e}function f(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var p=f((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function m(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var h=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var s=a(i),u=s.next();!u.done;u=s.next())u.value.remove(this)}catch(t){e={error:t}}finally{try{u&&!u.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else i.remove(this);var f=this.initialTeardown;if(d(f))try{f()}catch(e){o=e instanceof p?e.errors:[e]}var m=this._finalizers;if(m){this._finalizers=null;try{for(var h=a(m),y=h.next();!y.done;y=h.next()){var g=y.value;try{b(g)}catch(e){o=null!=o?o:[],e instanceof p?o=c(c([],l(o)),l(e.errors)):o.push(e)}}}catch(e){n={error:e}}finally{try{y&&!y.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}if(o)throw new p(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)b(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&m(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&m(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e;var t}(),y=h.EMPTY;function g(e){return e instanceof h||e&&"closed"in e&&d(e.remove)&&d(e.add)&&d(e.unsubscribe)}function b(e){d(e)?e():e.unsubscribe()}var v=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function w(e){return d(null==e?void 0:e.then)}var E={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},x={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=x.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,c([e,t],l(n))):setTimeout.apply(void 0,c([e,t],l(n)))},clearTimeout:function(e){var t=x.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function _(e){x.setTimeout((function(){var t=E.onUnhandledError;if(!t)throw e;t(e)}))}function I(){}var k=A("C",void 0,void 0);function A(e,t,n){return{kind:e,value:t,error:n}}var S=null;function B(e){if(E.useDeprecatedSynchronousErrorHandling){var t=!S;if(t&&(S={errorThrown:!1,error:null}),e(),t){var n=S,r=n.errorThrown,o=n.error;if(S=null,r)throw o}}else e()}var C=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,g(t)&&t.add(n)):n.destination=q,n}return i(t,e),t.create=function(e,t,n){return new M(e,t,n)},t.prototype.next=function(e){this.isStopped?R(function(e){return A("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?R(A("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?R(k,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(h),T=Function.prototype.bind;function L(e,t){return T.call(e,t)}var O=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){P(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){P(e)}else P(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){P(e)}},e}(),M=function(e){function t(t,n,r){var o,i,s=e.call(this)||this;return d(t)||!t?o={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:s&&E.useDeprecatedNextContext?((i=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},o={next:t.next&&L(t.next,i),error:t.error&&L(t.error,i),complete:t.complete&&L(t.complete,i)}):o=t,s.destination=new O(o),s}return i(t,e),t}(C);function P(e){E.useDeprecatedSynchronousErrorHandling?function(e){E.useDeprecatedSynchronousErrorHandling&&S&&(S.errorThrown=!0,S.error=e)}(e):_(e)}function R(e,t){var n=E.onStoppedNotification;n&&x.setTimeout((function(){return n(e,t)}))}var q={closed:!0,next:I,error:function(e){throw e},complete:I},F="function"==typeof Symbol&&Symbol.observable||"@@observable";function N(e){return e}var D=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,o=this,i=(r=e)&&r instanceof C||function(e){return e&&d(e.next)&&d(e.error)&&d(e.complete)}(r)&&g(r)?e:new M(e,t,n);return B((function(){var e=o,t=e.operator,n=e.source;i.add(t?t.call(i,n):n?o._subscribe(i):o._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=$(t))((function(t,r){var o=new M({next:function(t){try{e(t)}catch(e){r(e),o.unsubscribe()}},error:r,complete:t});n.subscribe(o)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[F]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===(n=e).length?N:1===n.length?n[0]:function(e){return n.reduce((function(e,t){return t(e)}),e)})(this);var n},e.prototype.toPromise=function(e){var t=this;return new(e=$(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function $(e){var t;return null!==(t=null!=e?e:E.Promise)&&void 0!==t?t:Promise}function U(e){return d(e[F])}function j(e){return Symbol.asyncIterator&&d(null==e?void 0:e[Symbol.asyncIterator])}function H(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var z="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function W(e){return d(null==e?void 0:e[z])}function K(e){return function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return",(function(e){return function(t){return Promise.resolve(t).then(e,c)}})),r[Symbol.asyncIterator]=function(){return this},r;function s(e,t){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))},t&&(r[e]=t(r[e])))}function a(e,t){try{(n=o[e](t)).value instanceof u?Promise.resolve(n.value.v).then(l,c):d(i[0][2],n)}catch(e){d(i[0][3],e)}var n}function l(e){a("next",e)}function c(e){a("throw",e)}function d(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}(this,arguments,(function(){var t,n,r;return s(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,u(t.read())];case 3:return n=o.sent(),r=n.value,n.done?[4,u(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,u(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function V(e){return d(null==e?void 0:e.getReader)}function G(e){if(e instanceof D)return e;if(null!=e){if(U(e))return r=e,new D((function(e){var t=r[F]();if(d(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(v(e))return function(e){return new D((function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()}))}(e);if(w(e))return n=e,new D((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,_)}));if(j(e))return Z(e);if(W(e))return t=e,new D((function(e){var n,r;try{for(var o=a(t),i=o.next();!i.done;i=o.next()){var s=i.value;if(e.next(s),e.closed)return}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}e.complete()}));if(V(e))return Z(K(e))}var t,n,r;throw H(e)}function Z(e){return new D((function(t){(function(e,t){var n,r,o,i,l,c,u,d;return l=this,c=void 0,d=function(){var l,c;return s(this,(function(s){switch(s.label){case 0:s.trys.push([0,5,6,11]),n=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=a(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}(e),s.label=1;case 1:return[4,n.next()];case 2:if((r=s.sent()).done)return[3,4];if(l=r.value,t.next(l),t.closed)return[2];s.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=s.sent(),o={error:c},[3,11];case 6:return s.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:s.sent(),s.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))},new((u=void 0)||(u=Promise))((function(e,t){function n(e){try{o(d.next(e))}catch(e){t(e)}}function r(e){try{o(d.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof u?o:new u((function(e){e(o)}))).then(n,r)}o((d=d.apply(l,c||[])).next())}))})(e,t).catch((function(e){return t.error(e)}))}))}function X(e){return function(t){if(function(e){return d(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function J(e,t,n,r,o){return new Y(e,t,n,r,o)}var Y=function(e){function t(t,n,r,o,i,s){var a=e.call(this,t)||this;return a.onFinalize=i,a.shouldUnsubscribe=s,a._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return i(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(C);function Q(e,t){return X((function(n,r){var o=0;n.subscribe(J(r,(function(n){r.next(e.call(t,n,o++))})))}))}function ee(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var i=t.schedule((function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(i),!o)return i}function te(e,t,n){return void 0===n&&(n=1/0),d(t)?te((function(n,r){return Q((function(e,o){return t(n,e,r,o)}))(G(e(n,r)))}),n):("number"==typeof t&&(n=t),X((function(t,r){return function(e,t,n,r,o,i,s,a){var l=[],c=0,u=0,d=!1,f=function(){!d||l.length||c||t.complete()},p=function(e){return c<r?m(e):l.push(e)},m=function(e){c++;var o=!1;G(n(e,u++)).subscribe(J(t,(function(e){t.next(e)}),(function(){o=!0}),void 0,(function(){if(o)try{c--;for(;l.length&&c<r;)e=void 0,e=l.shift(),m(e);f()}catch(e){t.error(e)}var e})))};return e.subscribe(J(t,p,(function(){d=!0,f()}))),function(){}}(t,r,e,n)})))}var ne=Array.isArray;var re=["addListener","removeListener"],oe=["addEventListener","removeEventListener"],ie=["on","off"];function se(e,t,n,r){if(d(n)&&(r=n,n=void 0),r)return se(e,t,n).pipe((o=r,Q((function(e){return function(e,t){return ne(t)?e.apply(void 0,c([],l(t))):e(t)}(o,e)}))));var o,i=l(function(e){return d(e.addEventListener)&&d(e.removeEventListener)}(e)?oe.map((function(r){return function(o){return e[r](t,o,n)}})):function(e){return d(e.addListener)&&d(e.removeListener)}(e)?re.map(ae(e,t)):function(e){return d(e.on)&&d(e.off)}(e)?ie.map(ae(e,t)):[],2),s=i[0],a=i[1];if(!s&&v(e))return te((function(e){return se(e,t,n)}))(G(e));if(!s)throw new TypeError("Invalid event target");return new D((function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return s(t),function(){return a(t)}}))}function ae(e,t){return function(n){return function(r){return e[n](t,r)}}}function le(e,t){return X((function(n,r){var o=0;n.subscribe(J(r,(function(n){return e.call(t,n,o++)&&r.next(n)})))}))}function ce(e,t){return X((function(n,r){var o=null,i=0,s=!1,a=function(){return s&&!o&&r.complete()};n.subscribe(J(r,(function(n){null==o||o.unsubscribe();var s=0,l=i++;G(e(n,l)).subscribe(o=J(r,(function(e){return r.next(t?t(n,e,l,s++):e)}),(function(){o=null,a()})))}),(function(){s=!0,a()})))}))}function ue(e,t,n){var r=d(e)||t||n?{next:e,error:t,complete:n}:e;return r?X((function(e,t){var n;null===(n=r.subscribe)||void 0===n||n.call(r);var o=!0;e.subscribe(J(t,(function(e){var n;null===(n=r.next)||void 0===n||n.call(r,e),t.next(e)}),(function(){var e;o=!1,null===(e=r.complete)||void 0===e||e.call(r),t.complete()}),(function(e){var n;o=!1,null===(n=r.error)||void 0===n||n.call(r,e),t.error(e)}),(function(){var e,t;o&&(null===(e=r.unsubscribe)||void 0===e||e.call(r)),null===(t=r.finalize)||void 0===t||t.call(r)})))})):N}var de=new D((function(e){return e.complete()}));function fe(e){return e&&d(e.schedule)}function pe(e){return e[e.length-1]}function me(e){return fe(pe(e))?e.pop():void 0}function he(e,t){return void 0===t&&(t=0),X((function(n,r){n.subscribe(J(r,(function(n){return ee(r,e,(function(){return r.next(n)}),t)}),(function(){return ee(r,e,(function(){return r.complete()}),t)}),(function(n){return ee(r,e,(function(){return r.error(n)}),t)})))}))}function ye(e,t){return void 0===t&&(t=0),X((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}function ge(e,t){if(!e)throw new Error("Iterable cannot be null");return new D((function(n){ee(n,t,(function(){var r=e[Symbol.asyncIterator]();ee(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function be(e,t){return t?function(e,t){if(null!=e){if(U(e))return function(e,t){return G(e).pipe(ye(t),he(t))}(e,t);if(v(e))return function(e,t){return new D((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(w(e))return function(e,t){return G(e).pipe(ye(t),he(t))}(e,t);if(j(e))return ge(e,t);if(W(e))return function(e,t){return new D((function(n){var r;return ee(n,t,(function(){r=e[z](),ee(n,t,(function(){var e,t,o;try{t=(e=r.next()).value,o=e.done}catch(e){return void n.error(e)}o?n.complete():n.next(t)}),0,!0)})),function(){return d(null==r?void 0:r.return)&&r.return()}}))}(e,t);if(V(e))return function(e,t){return ge(K(e),t)}(e,t)}throw H(e)}(e,t):G(e)}function ve(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=me(e),r=function(e,t){return"number"==typeof pe(e)?e.pop():1/0}(e),o=e;return o.length?1===o.length?G(o[0]):function(e){return void 0===e&&(e=1/0),te(N,e)}(r)(be(o,n)):de}var we=f((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));function Ee(){return new we}function xe(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?le((function(t,n){return e(t,n,r)})):N,1<=0?function(){return de}:X((function(e,t){var n=0;e.subscribe(J(t,(function(e){++n<=1&&(t.next(e),1<=n&&t.complete())})))})),n?function(e){return X((function(t,n){var r=!1;t.subscribe(J(n,(function(e){r=!0,n.next(e)}),(function(){r||n.next(e),n.complete()})))}))}(t):(void 0===(o=function(){return new we})&&(o=Ee),X((function(e,t){var n=!1;e.subscribe(J(t,(function(e){n=!0,t.next(e)}),(function(){return n?t.complete():t.error(o())})))}))));var o}}function _e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return be(e,me(e))}var Ie=function(e){function t(t,n){return e.call(this)||this}return i(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(h),ke={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=ke.delegate;return(null==o?void 0:o.setInterval)?o.setInterval.apply(o,c([e,t],l(n))):setInterval.apply(void 0,c([e,t],l(n)))},clearInterval:function(e){var t=ke.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},Ae=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return i(t,e),t.prototype.schedule=function(e,t){var n;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(o,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),ke.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&ke.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,m(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Ie),Se={now:function(){return(Se.delegate||Date).now()},delegate:void 0},Be=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=Se.now,e}(),Ce=new(function(e){function t(t,n){void 0===n&&(n=Be.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return i(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(Be))(Ae);function Te(e,t,n){void 0===e&&(e=0),void 0===n&&(n=Ce);var r=-1;return null!=t&&(fe(t)?n=t:r=t),new D((function(t){var o,i=(o=e)instanceof Date&&!isNaN(o)?+e-n.now():e;i<0&&(i=0);var s=0;return n.schedule((function(){t.closed||(t.next(s++),0<=r?this.schedule(void 0,r):t.complete())}),i)}))}var Le=f((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),Oe=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return i(t,e),t.prototype.lift=function(e){var t=new Me(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new Le},t.prototype.next=function(e){var t=this;B((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var o=a(t.currentObservers),i=o.next();!i.done;i=o.next())i.value.next(e)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;B((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;B((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,o=n.isStopped,i=n.observers;return r||o?y:(this.currentObservers=null,i.push(e),new h((function(){t.currentObservers=null,m(i,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,o=t.isStopped;n?e.error(r):o&&e.complete()},t.prototype.asObservable=function(){var e=new D;return e.source=this,e},t.create=function(e,t){return new Me(e,t)},t}(D),Me=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return i(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:y},t}(Oe),Pe=function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=Se);var o=e.call(this)||this;return o._bufferSize=t,o._windowTime=n,o._timestampProvider=r,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,t),o._windowTime=Math.max(1,n),o}return i(t,e),t.prototype.next=function(t){var n=this,r=n.isStopped,o=n._buffer,i=n._infiniteTimeWindow,s=n._timestampProvider,a=n._windowTime;r||(o.push(t),!i&&o.push(s.now()+a)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),o=0;o<r.length&&!e.closed;o+=n?1:2)e.next(r[o]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,n=e._timestampProvider,r=e._buffer,o=e._infiniteTimeWindow,i=(o?1:2)*t;if(t<1/0&&i<r.length&&r.splice(0,r.length-i),!o){for(var s=n.now(),a=0,l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}},t}(Oe),Re=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return i(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(Oe);const qe={withStackTrace:!1},Fe=(e,t,n=qe)=>({data:t.isOk()?{type:"Ok",value:t.value}:{type:"Err",value:t.error},message:e,stack:n.withStackTrace?(new Error).stack:void 0});function Ne(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))}function De(e){return this instanceof De?(this.v=e,this):new De(e)}function $e(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}class Ue{constructor(e){this._promise=e}static fromSafePromise(e){const t=e.then((e=>new Je(e)));return new Ue(t)}static fromPromise(e,t){const n=e.then((e=>new Je(e))).catch((e=>new Ye(t(e))));return new Ue(n)}static fromThrowable(e,t){return(...n)=>new Ue((()=>Ne(this,void 0,void 0,(function*(){try{return new Je(yield e(...n))}catch(e){return new Ye(t?t(e):e)}})))())}static combine(e){return We(e)}static combineWithAllErrors(e){return Ve(e)}map(e){return new Ue(this._promise.then((t=>Ne(this,void 0,void 0,(function*(){return t.isErr()?new Ye(t.error):new Je(yield e(t.value))})))))}mapErr(e){return new Ue(this._promise.then((t=>Ne(this,void 0,void 0,(function*(){return t.isOk()?new Je(t.value):new Ye(yield e(t.error))})))))}andThen(e){return new Ue(this._promise.then((t=>{if(t.isErr())return new Ye(t.error);const n=e(t.value);return n instanceof Ue?n._promise:n})))}orElse(e){return new Ue(this._promise.then((t=>Ne(this,void 0,void 0,(function*(){return t.isErr()?e(t.error):new Je(t.value)})))))}match(e,t){return this._promise.then((n=>n.match(e,t)))}unwrapOr(e){return this._promise.then((t=>t.unwrapOr(e)))}safeUnwrap(){return function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=o[e](t)).value instanceof De?Promise.resolve(n.value.v).then(l,c):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function l(e){a("next",e)}function c(e){a("throw",e)}function u(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}(this,arguments,(function*(){return yield De(yield De(yield*function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:De(e[r](t)),done:"return"===r}:o?o(t):t}:o}}($e(yield De(this._promise.then((e=>e.safeUnwrap())))))))}))}then(e,t){return this._promise.then(e,t)}}const je=e=>new Ue(Promise.resolve(new Je(e))),He=e=>new Ue(Promise.resolve(new Ye(e))),ze=(Ue.fromPromise,Ue.fromSafePromise,Ue.fromThrowable,e=>{let t=Ze([]);for(const n of e){if(n.isErr()){t=Xe(n.error);break}t.map((e=>e.push(n.value)))}return t}),We=e=>Ue.fromSafePromise(Promise.all(e)).andThen(ze),Ke=e=>{let t=Ze([]);for(const n of e)n.isErr()&&t.isErr()?t.error.push(n.error):n.isErr()&&t.isOk()?t=Xe([n.error]):n.isOk()&&t.isOk()&&t.value.push(n.value);return t},Ve=e=>Ue.fromSafePromise(Promise.all(e)).andThen(Ke);var Ge;!function(e){e.fromThrowable=function(e,t){return(...n)=>{try{const t=e(...n);return Ze(t)}catch(e){return Xe(t?t(e):e)}}},e.combine=function(e){return ze(e)},e.combineWithAllErrors=function(e){return Ke(e)}}(Ge||(Ge={}));const Ze=e=>new Je(e),Xe=e=>new Ye(e);class Je{constructor(e){this.value=e}isOk(){return!0}isErr(){return!this.isOk()}map(e){return Ze(e(this.value))}mapErr(e){return Ze(this.value)}andThen(e){return e(this.value)}orElse(e){return Ze(this.value)}asyncAndThen(e){return e(this.value)}asyncMap(e){return Ue.fromSafePromise(e(this.value))}unwrapOr(e){return this.value}match(e,t){return e(this.value)}safeUnwrap(){const e=this.value;return function*(){return e}()}_unsafeUnwrap(e){return this.value}_unsafeUnwrapErr(e){throw Fe("Called `_unsafeUnwrapErr` on an Ok",this,e)}}class Ye{constructor(e){this.error=e}isOk(){return!1}isErr(){return!this.isOk()}map(e){return Xe(this.error)}mapErr(e){return Xe(e(this.error))}andThen(e){return Xe(this.error)}orElse(e){return e(this.error)}asyncAndThen(e){return He(this.error)}asyncMap(e){return He(this.error)}unwrapOr(e){return e}match(e,t){return t(this.error)}safeUnwrap(){const e=this.error;return function*(){throw yield Xe(e),new Error("Do not use this generator out of `safeTry`")}()}_unsafeUnwrap(e){throw Fe("Called `_unsafeUnwrap` on an Err",this,e)}_unsafeUnwrapErr(e){return this.error}}Ge.fromThrowable;var Qe=n(880);function et(e,t){var n="object"==typeof t;return new Promise((function(r,o){var i=new M({next:function(e){r(e),i.unsubscribe()},error:o,complete:function(){n?r(t.defaultValue):o(new we)}});e.subscribe(i)}))}var tt,nt,rt,ot,it=class extends Error{issues;constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function st(e,t,n,r,o){return{issues:[{context:e,reference:t,input:n,label:r,received:o}]}}function at(e){return{output:e}}function lt(e,t){return Array.isArray(e)?[void 0,e]:[e,t]}function ct(e,t,n,r,o){const i=t.message??function(e,t){return ot?.get(e)?.get(t)}(n,o.lang)??(e?(s=o.lang,rt?.get(s)):null)??r?.message??function(e){return nt?.get(e)}(o.lang)??o.message;var s;return"function"==typeof i?i(o):i}function ut(e,t,n){return{typed:e,output:t,issues:n}}function dt(e){let t=typeof e;return"object"===t&&(t=e?Object.getPrototypeOf(e).constructor.name:"null"),"string"===t?`"${e}"`:"number"===t||"bigint"===t||"boolean"===t?`${e}`:t}function ft(e,t,n){const r=n.received??dt(n.input),o={reason:e.type,context:n.context.type,expected:n.context.expects,received:r,message:`Invalid ${n.label}: ${n.context.expects?`Expected ${n.context.expects} but r`:"R"}eceived ${r}`,input:n.input,requirement:n.context.requirement,path:n.path,lang:t?.lang,abortEarly:t?.abortEarly,abortPipeEarly:t?.abortPipeEarly,skipPipe:t?.skipPipe};return o.message=ct(!1,n.context,n.reference,t,o),o}function pt(e,t,n,r){if(e.pipe&&!n?.skipPipe)for(const o of e.pipe){const i=o._parse(t);if(i.issues){for(const t of i.issues){const o=ft(e,n,t);r?r.push(o):r=[o]}if(n?.abortEarly||n?.abortPipeEarly)break}else t=i.output}return ut(!0,t,r)}function mt(e,t,n){if(!e||"object"==typeof e&&!Array.isArray(e)){const[r,o]=lt(t,n);return[e,r,o]}const[r,o]=lt(e,t);return[void 0,r,o]}function ht(e,t,n,r,o){const i=dt(n),s=o?.expected??e.expects,a={reason:o?.reason??"type",context:e.type,expected:s,received:i,message:`Invalid type: Expected ${s} but received ${i}`,input:n,path:o?.path,issues:o?.issues,lang:r?.lang,abortEarly:r?.abortEarly,abortPipeEarly:r?.abortPipeEarly,skipPipe:r?.skipPipe};return a.message=ct(!0,e,t,r,a),{typed:!1,output:n,issues:[a]}}function yt(e,t,n){const[r,o]=lt(t,n);return{type:"array",expects:"Array",async:!1,item:e,message:r,pipe:o,_parse(e,t){if(Array.isArray(e)){let n,r=!0;const o=[];for(let i=0;i<e.length;i++){const s=e[i],a=this.item._parse(s,t);if(a.issues){const o={type:"array",origin:"value",input:e,key:i,value:s};for(const e of a.issues)e.path?e.path.unshift(o):e.path=[o],n?.push(e);if(n||(n=a.issues),t?.abortEarly){r=!1;break}}a.typed||(r=!1),o.push(a.output)}return r?pt(this,o,t,n):ut(!1,o,n)}return ht(this,yt,e,t)}}}function gt(e,t){const[n,r]=lt(e,t);return{type:"boolean",expects:"boolean",async:!1,message:n,pipe:r,_parse(e,t){return"boolean"==typeof e?pt(this,e,t):ht(this,gt,e,t)}}}function bt(e,t){return{type:"literal",expects:dt(e),async:!1,literal:e,message:t,_parse(e,t){return e===this.literal?ut(!0,e):ht(this,bt,e,t)}}}function vt(e,t){const[n,r]=lt(e,t);return{type:"number",expects:"number",async:!1,message:n,pipe:r,_parse(e,t){return"number"!=typeof e||isNaN(e)?ht(this,vt,e,t):pt(this,e,t)}}}function wt(e,t,n,r){const[o,i,s]=mt(t,n,r);let a;return{type:"object",expects:"Object",async:!1,entries:e,rest:o,message:i,pipe:s,_parse(e,t){if(e&&"object"==typeof e){a=a??Object.entries(this.entries);let n,r=!0;const o={};for(const[i,s]of a){const a=e[i],l=s._parse(a,t);if(l.issues){const o={type:"object",origin:"value",input:e,key:i,value:a};for(const e of l.issues)e.path?e.path.unshift(o):e.path=[o],n?.push(e);if(n||(n=l.issues),t?.abortEarly){r=!1;break}}l.typed||(r=!1),(void 0!==l.output||i in e)&&(o[i]=l.output)}if(this.rest&&(!t?.abortEarly||!n))for(const i in e)if(!(i in this.entries)){const s=e[i],a=this.rest._parse(s,t);if(a.issues){const o={type:"object",origin:"value",input:e,key:i,value:s};for(const e of a.issues)e.path?e.path.unshift(o):e.path=[o],n?.push(e);if(n||(n=a.issues),t?.abortEarly){r=!1;break}}a.typed||(r=!1),o[i]=a.output}return r?pt(this,o,t,n):ut(!1,o,n)}return ht(this,wt,e,t)}}}function Et(e,t){return{type:"optional",expects:`${e.expects} | undefined`,async:!1,wrapped:e,default:t,_parse(e,t){if(void 0===e){const t="function"==typeof(n=this).default?n.default():n.default;if(void 0===t)return ut(!0,e);e=t}var n;return this.wrapped._parse(e,t)}}}function xt(e,t){const[n,r]=lt(e,t);return{type:"string",expects:"string",async:!1,message:n,pipe:r,_parse(e,t){return"string"==typeof e?pt(this,e,t):ht(this,xt,e,t)}}}function _t(e){let t;if(e)for(const n of e)if(t)for(const e of n.issues)t.push(e);else t=n.issues;return t}function It(e,t,n){const[r,o]=lt(t,n);return{type:"union",expects:[...new Set(e.map((e=>e.expects)))].join(" | "),async:!1,options:e,message:r,pipe:o,_parse(e,t){let n,r,o;for(const i of this.options){const s=i._parse(e,t);if(s.typed){if(!s.issues){n=s;break}o?o.push(s):o=[s]}else r?r.push(s):r=[s]}if(n)return pt(this,n.output,t);if(o?.length){const n=o[0];return pt(this,n.output,t,1===o.length?n.issues:ht(this,It,e,t,{reason:"union",issues:_t(o)}).issues)}return 1===r?.length?r[0]:ht(this,It,e,t,{issues:_t(r)})}}}function kt(e,t,n,r){const[o,i]=lt(n,r);let s;return{type:"variant",expects:"Object",async:!1,key:e,options:t,message:o,pipe:i,_parse(e,t){if(e&&"object"==typeof e){if(this.key in e||!s){let n,r;const o=i=>{for(const a of i)if("object"===a.type){const o=a.entries[this.key],i=o._parse(e[this.key],t);if(s||(n?n.push(o.expects):n=[o.expects]),!i.issues){const n=a._parse(e,t);if(!n.issues){r=n;break}(!r||!r.typed&&n.typed)&&(r=n)}}else if("variant"===a.type&&(o(a.options),r&&!r.issues))break};if(o(this.options),s=s||[...new Set(n)].join(" | "),r)return r.typed?pt(this,r.output,t,r.issues):r}const n=e[this.key];return ht(this,kt,n,t,{expected:s,path:[{type:"object",origin:"value",input:e,key:this.key,value:n}]})}return ht(this,kt,e,t)}}}function At(e,t,n,r){const[o,i,s]=mt(t,n,r);return wt(e.reduce(((e,t)=>({...e,...t.entries})),{}),o,i,s)}function St(e,t,n){const r=e._parse(t,function(e){return{lang:e?.lang??tt?.lang,message:e?.message,abortEarly:e?.abortEarly??tt?.abortEarly,abortPipeEarly:e?.abortPipeEarly??tt?.abortPipeEarly,skipPipe:e?.skipPipe??tt?.skipPipe}}(n));if(r.issues)throw new it(r.issues);return r.output}function Bt(e,t){return{type:"custom",expects:null,async:!1,message:t,requirement:e,_parse(e){return this.requirement(e)?at(e):st(this,Bt,e,"input")}}}function Ct(e,...t){if(!((n=e)instanceof Uint8Array||null!=n&&"object"==typeof n&&"Uint8Array"===n.constructor.name))throw new Error("Uint8Array expected");var n;if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function Tt(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}Symbol("brand");const Lt="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Ot=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function Mt(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),Ct(e),e}new Uint8Array(new Uint32Array([287454020]).buffer)[0];class Pt{clone(){return this._cloneInto()}}function Rt(e){const t=t=>e().update(Mt(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function qt(e=32){if(Lt&&"function"==typeof Lt.getRandomValues)return Lt.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class Ft extends Pt{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Ot(this.buffer)}update(e){Tt(this);const{view:t,buffer:n,blockLen:r}=this,o=(e=Mt(e)).length;for(let i=0;i<o;){const s=Math.min(r-this.pos,o-i);if(s!==r)n.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=Ot(e);for(;r<=o-i;i+=r)this.process(t,i)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Tt(this),function(e,t){Ct(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:o}=this;let{pos:i}=this;t[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(n,0),i=0);for(let e=i;e<r;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),a=Number(n&i),l=r?4:0,c=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+c,a,r)}(n,r-8,BigInt(8*this.length),o),this.process(n,0);const s=Ot(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=a/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)s.setUint32(4*e,c[e],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:o,destroyed:i,pos:s}=this;return e.length=r,e.pos=s,e.finished=o,e.destroyed=i,r%t&&e.buffer.set(n),e}}const Nt=BigInt(2**32-1),Dt=BigInt(32);function $t(e,t=!1){return t?{h:Number(e&Nt),l:Number(e>>Dt&Nt)}:{h:0|Number(e>>Dt&Nt),l:0|Number(e&Nt)}}const Ut={fromBig:$t,split:function(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let o=0;o<e.length;o++){const{h:i,l:s}=$t(e[o],t);[n[o],r[o]]=[i,s]}return[n,r]},toBig:(e,t)=>BigInt(e>>>0)<<Dt|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,n)=>e<<n|t>>>32-n,rotlSL:(e,t,n)=>t<<n|e>>>32-n,rotlBH:(e,t,n)=>t<<n-32|e>>>64-n,rotlBL:(e,t,n)=>e<<n-32|t>>>64-n,add:function(e,t,n,r){const o=(t>>>0)+(r>>>0);return{h:e+n+(o/2**32|0)|0,l:0|o}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,o)=>t+n+r+o+(e/2**32|0)|0,add5H:(e,t,n,r,o,i)=>t+n+r+o+i+(e/2**32|0)|0,add5L:(e,t,n,r,o)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(o>>>0)},jt=Ut,[Ht,zt]=(()=>jt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),Wt=new Uint32Array(80),Kt=new Uint32Array(80);class Vt extends Ft{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:o,Cl:i,Dh:s,Dl:a,Eh:l,El:c,Fh:u,Fl:d,Gh:f,Gl:p,Hh:m,Hl:h}=this;return[e,t,n,r,o,i,s,a,l,c,u,d,f,p,m,h]}set(e,t,n,r,o,i,s,a,l,c,u,d,f,p,m,h){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|o,this.Cl=0|i,this.Dh=0|s,this.Dl=0|a,this.Eh=0|l,this.El=0|c,this.Fh=0|u,this.Fl=0|d,this.Gh=0|f,this.Gl=0|p,this.Hh=0|m,this.Hl=0|h}process(e,t){for(let n=0;n<16;n++,t+=4)Wt[n]=e.getUint32(t),Kt[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|Wt[e-15],n=0|Kt[e-15],r=jt.rotrSH(t,n,1)^jt.rotrSH(t,n,8)^jt.shrSH(t,n,7),o=jt.rotrSL(t,n,1)^jt.rotrSL(t,n,8)^jt.shrSL(t,n,7),i=0|Wt[e-2],s=0|Kt[e-2],a=jt.rotrSH(i,s,19)^jt.rotrBH(i,s,61)^jt.shrSH(i,s,6),l=jt.rotrSL(i,s,19)^jt.rotrBL(i,s,61)^jt.shrSL(i,s,6),c=jt.add4L(o,l,Kt[e-7],Kt[e-16]),u=jt.add4H(c,r,a,Wt[e-7],Wt[e-16]);Wt[e]=0|u,Kt[e]=0|c}let{Ah:n,Al:r,Bh:o,Bl:i,Ch:s,Cl:a,Dh:l,Dl:c,Eh:u,El:d,Fh:f,Fl:p,Gh:m,Gl:h,Hh:y,Hl:g}=this;for(let e=0;e<80;e++){const t=jt.rotrSH(u,d,14)^jt.rotrSH(u,d,18)^jt.rotrBH(u,d,41),b=jt.rotrSL(u,d,14)^jt.rotrSL(u,d,18)^jt.rotrBL(u,d,41),v=u&f^~u&m,w=d&p^~d&h,E=jt.add5L(g,b,w,zt[e],Kt[e]),x=jt.add5H(E,y,t,v,Ht[e],Wt[e]),_=0|E,I=jt.rotrSH(n,r,28)^jt.rotrBH(n,r,34)^jt.rotrBH(n,r,39),k=jt.rotrSL(n,r,28)^jt.rotrBL(n,r,34)^jt.rotrBL(n,r,39),A=n&o^n&s^o&s,S=r&i^r&a^i&a;y=0|m,g=0|h,m=0|f,h=0|p,f=0|u,p=0|d,({h:u,l:d}=jt.add(0|l,0|c,0|x,0|_)),l=0|s,c=0|a,s=0|o,a=0|i,o=0|n,i=0|r;const B=jt.add3L(_,k,S);n=jt.add3H(B,x,I,A),r=0|B}({h:n,l:r}=jt.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:o,l:i}=jt.add(0|this.Bh,0|this.Bl,0|o,0|i)),({h:s,l:a}=jt.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:l,l:c}=jt.add(0|this.Dh,0|this.Dl,0|l,0|c)),({h:u,l:d}=jt.add(0|this.Eh,0|this.El,0|u,0|d)),({h:f,l:p}=jt.add(0|this.Fh,0|this.Fl,0|f,0|p)),({h:m,l:h}=jt.add(0|this.Gh,0|this.Gl,0|m,0|h)),({h:y,l:g}=jt.add(0|this.Hh,0|this.Hl,0|y,0|g)),this.set(n,r,o,i,s,a,l,c,u,d,f,p,m,h,y,g)}roundClean(){Wt.fill(0),Kt.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Gt=Rt((()=>new Vt)),Zt=BigInt(1),Xt=BigInt(2);function Jt(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function Yt(e){if(!Jt(e))throw new Error("Uint8Array expected")}const Qt=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function en(e){Yt(e);let t="";for(let n=0;n<e.length;n++)t+=Qt[e[n]];return t}function tn(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}const nn={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function rn(e){return e>=nn._0&&e<=nn._9?e-nn._0:e>=nn._A&&e<=nn._F?e-(nn._A-10):e>=nn._a&&e<=nn._f?e-(nn._a-10):void 0}function on(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,o=0;t<n;t++,o+=2){const n=rn(e.charCodeAt(o)),i=rn(e.charCodeAt(o+1));if(void 0===n||void 0===i){const t=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+o)}r[t]=16*n+i}return r}function sn(e){return Yt(e),tn(en(Uint8Array.from(e).reverse()))}function an(e,t){return on(e.toString(16).padStart(2*t,"0"))}function ln(e,t){return an(e,t).reverse()}function cn(e,t,n){let r;if("string"==typeof t)try{r=on(t)}catch(n){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${n}`)}else{if(!Jt(t))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(t)}const o=r.length;if("number"==typeof n&&o!==n)throw new Error(`${e} expected ${n} bytes, got ${o}`);return r}function un(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];Yt(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const o=e[t];n.set(o,r),r+=o.length}return n}const dn={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||Jt(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function fn(e,t,n={}){const r=(t,n,r)=>{const o=dn[n];if("function"!=typeof o)throw new Error(`Invalid validator "${n}", expected function`);const i=e[t];if(!(r&&void 0===i||o(i,e)))throw new Error(`Invalid param ${String(t)}=${i} (${typeof i}), expected ${n}`)};for(const[e,n]of Object.entries(t))r(e,n,!1);for(const[e,t]of Object.entries(n))r(e,t,!0);return e}const pn=BigInt(0),mn=BigInt(1),hn=BigInt(2),yn=BigInt(3),gn=BigInt(4),bn=BigInt(5),vn=BigInt(8);function wn(e,t){const n=e%t;return n>=pn?n:t+n}function En(e,t,n){if(n<=pn||t<pn)throw new Error("Expected power/modulo > 0");if(n===mn)return pn;let r=mn;for(;t>pn;)t&mn&&(r=r*e%n),e=e*e%n,t>>=mn;return r}function xn(e,t,n){let r=e;for(;t-- >pn;)r*=r,r%=n;return r}function _n(e,t){if(e===pn||t<=pn)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=wn(e,t),r=t,o=pn,i=mn,s=mn,a=pn;for(;n!==pn;){const e=r/n,t=r%n,l=o-s*e,c=i-a*e;r=n,n=t,o=s,i=a,s=l,a=c}if(r!==mn)throw new Error("invert: does not exist");return wn(o,t)}BigInt(9),BigInt(16);const In=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function kn(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function An(e,t,n=!1,r={}){if(e<=pn)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:o,nByteLength:i}=kn(e,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=function(e){if(e%gn===yn){const t=(e+mn)/gn;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%vn===bn){const t=(e-bn)/vn;return function(e,n){const r=e.mul(n,hn),o=e.pow(r,t),i=e.mul(n,o),s=e.mul(e.mul(i,hn),o),a=e.mul(i,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-mn)/hn;let n,r,o;for(n=e-mn,r=0;n%hn===pn;n/=hn,r++);for(o=hn;o<e&&En(o,t,e)!==e-mn;o++);if(1===r){const t=(e+mn)/gn;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const i=(n+mn)/hn;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,l=e.pow(e.mul(e.ONE,o),n),c=e.pow(s,i),u=e.pow(s,n);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(u);t<a&&!e.eql(n,e.ONE);t++)n=e.sqr(n);const n=e.pow(l,mn<<BigInt(a-t-1));l=e.sqr(n),c=e.mul(c,n),u=e.mul(u,l),a=t}return c}}(e)}(e),a=Object.freeze({ORDER:e,BITS:o,BYTES:i,MASK:(l=o,(Xt<<BigInt(l-1))-Zt),ZERO:pn,ONE:mn,create:t=>wn(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return pn<=t&&t<e},is0:e=>e===pn,isOdd:e=>(e&mn)===mn,neg:t=>wn(-t,e),eql:(e,t)=>e===t,sqr:t=>wn(t*t,e),add:(t,n)=>wn(t+n,e),sub:(t,n)=>wn(t-n,e),mul:(t,n)=>wn(t*n,e),pow:(e,t)=>function(e,t,n){if(n<pn)throw new Error("Expected power > 0");if(n===pn)return e.ONE;if(n===mn)return t;let r=e.ONE,o=t;for(;n>pn;)n&mn&&(r=e.mul(r,o)),o=e.sqr(o),n>>=mn;return r}(a,e,t),div:(t,n)=>wn(t*_n(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>_n(t,e),sqrt:r.sqrt||(e=>s(a,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,o)=>e.is0(r)?t:(n[o]=t,e.mul(t,r))),e.ONE),o=e.inv(r);return t.reduceRight(((t,r,o)=>e.is0(r)?t:(n[o]=e.mul(t,n[o]),e.mul(t,r))),o),n}(a,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?ln(e,i):an(e,i),fromBytes:e=>{if(e.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${e.length}`);return n?sn(e):function(e){return tn(en(e))}(e)}});var l;return Object.freeze(a)}const Sn=BigInt(0),Bn=BigInt(1);const Cn=BigInt(0),Tn=BigInt(1),Ln=BigInt(2),On=BigInt(8),Mn={zip215:!0};function Pn(e){const t=function(e){const t=function(e){return function(e){const t=In.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});fn(e,t)}(e.Fp),fn(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...kn(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}(e);return fn(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:n,n:r,prehash:o,hash:i,randomBytes:s,nByteLength:a,h:l}=t,c=Ln<<BigInt(8*a)-Tn,u=n.create,d=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(t))}}catch(e){return{isValid:!1,value:Cn}}}),f=t.adjustScalarBytes||(e=>e),p=t.domain||((e,t,n)=>{if(t.length||n)throw new Error("Contexts/pre-hash are not supported");return e}),m=e=>"bigint"==typeof e&&Cn<e,h=(e,t)=>m(e)&&m(t)&&e<t,y=e=>e===Cn||h(e,c);function g(e,t){if(h(e,t))return e;throw new Error(`Expected valid scalar < ${t}, got ${typeof e} ${e}`)}function b(e){return e===Cn?e:g(e,r)}const v=new Map;function w(e){if(!(e instanceof E))throw new Error("ExtendedPoint expected")}class E{constructor(e,t,n,r){if(this.ex=e,this.ey=t,this.ez=n,this.et=r,!y(e))throw new Error("x required");if(!y(t))throw new Error("y required");if(!y(n))throw new Error("z required");if(!y(r))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof E)throw new Error("extended point not allowed");const{x:t,y:n}=e||{};if(!y(t)||!y(n))throw new Error("invalid affine point");return new E(t,n,Tn,u(t*n))}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.ez)));return e.map(((e,n)=>e.toAffine(t[n]))).map(E.fromAffine)}_setWindowSize(e){this._WINDOW_SIZE=e,v.delete(this)}assertValidity(){const{a:e,d:n}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:r,ey:o,ez:i,et:s}=this,a=u(r*r),l=u(o*o),c=u(i*i),d=u(c*c),f=u(a*e);if(u(c*u(f+l))!==u(d+u(n*u(a*l))))throw new Error("bad point: equation left != right (1)");if(u(r*o)!==u(i*s))throw new Error("bad point: equation left != right (2)")}equals(e){w(e);const{ex:t,ey:n,ez:r}=this,{ex:o,ey:i,ez:s}=e,a=u(t*s),l=u(o*r),c=u(n*s),d=u(i*r);return a===l&&c===d}is0(){return this.equals(E.ZERO)}negate(){return new E(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:e}=t,{ex:n,ey:r,ez:o}=this,i=u(n*n),s=u(r*r),a=u(Ln*u(o*o)),l=u(e*i),c=n+r,d=u(u(c*c)-i-s),f=l+s,p=f-a,m=l-s,h=u(d*p),y=u(f*m),g=u(d*m),b=u(p*f);return new E(h,y,b,g)}add(e){w(e);const{a:n,d:r}=t,{ex:o,ey:i,ez:s,et:a}=this,{ex:l,ey:c,ez:d,et:f}=e;if(n===BigInt(-1)){const e=u((i-o)*(c+l)),t=u((i+o)*(c-l)),n=u(t-e);if(n===Cn)return this.double();const r=u(s*Ln*f),p=u(a*Ln*d),m=p+r,h=t+e,y=p-r,g=u(m*n),b=u(h*y),v=u(m*y),w=u(n*h);return new E(g,b,w,v)}const p=u(o*l),m=u(i*c),h=u(a*r*f),y=u(s*d),g=u((o+i)*(l+c)-p-m),b=y-h,v=y+h,x=u(m-n*p),_=u(g*b),I=u(v*x),k=u(g*x),A=u(b*v);return new E(_,I,A,k)}subtract(e){return this.add(e.negate())}wNAF(e){return I.wNAFCached(this,v,e,E.normalizeZ)}multiply(e){const{p:t,f:n}=this.wNAF(g(e,r));return E.normalizeZ([t,n])[0]}multiplyUnsafe(e){let t=b(e);return t===Cn?_:this.equals(_)||t===Tn?this:this.equals(x)?this.wNAF(t).p:I.unsafeLadder(this,t)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return I.unsafeLadder(this,r).is0()}toAffine(e){const{ex:t,ey:r,ez:o}=this,i=this.is0();null==e&&(e=i?On:n.inv(o));const s=u(t*e),a=u(r*e),l=u(o*e);if(i)return{x:Cn,y:Tn};if(l!==Tn)throw new Error("invZ was invalid");return{x:s,y:a}}clearCofactor(){const{h:e}=t;return e===Tn?this:this.multiplyUnsafe(e)}static fromHex(e,r=!1){const{d:o,a:i}=t,s=n.BYTES,a=(e=cn("pointHex",e,s)).slice(),l=e[s-1];a[s-1]=-129&l;const f=sn(a);f===Cn||g(f,r?c:n.ORDER);const p=u(f*f),m=u(p-Tn),h=u(o*p-i);let{isValid:y,value:b}=d(m,h);if(!y)throw new Error("Point.fromHex: invalid y coordinate");const v=(b&Tn)===Tn,w=0!=(128&l);if(!r&&b===Cn&&w)throw new Error("Point.fromHex: x=0 and x_0=1");return w!==v&&(b=u(-b)),E.fromAffine({x:b,y:f})}static fromPrivateKey(e){return S(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),r=ln(t,n.BYTES);return r[r.length-1]|=e&Tn?128:0,r}toHex(){return en(this.toRawBytes())}}E.BASE=new E(t.Gx,t.Gy,Tn,u(t.Gx*t.Gy)),E.ZERO=new E(Cn,Tn,Tn,Cn);const{BASE:x,ZERO:_}=E,I=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,o=t;for(;n>Sn;)n&Bn&&(r=r.add(o)),o=o.double(),n>>=Bn;return r},precomputeWindow(e,t){const{windows:n,windowSize:o}=r(t),i=[];let s=e,a=s;for(let e=0;e<n;e++){a=s,i.push(a);for(let e=1;e<o;e++)a=a.add(s),i.push(a);s=a.double()}return i},wNAF(t,o,i){const{windows:s,windowSize:a}=r(t);let l=e.ZERO,c=e.BASE;const u=BigInt(2**t-1),d=2**t,f=BigInt(t);for(let e=0;e<s;e++){const t=e*a;let r=Number(i&u);i>>=f,r>a&&(r-=d,i+=Bn);const s=t,p=t+Math.abs(r)-1,m=e%2!=0,h=r<0;0===r?c=c.add(n(m,o[s])):l=l.add(n(h,o[p]))}return{p:l,f:c}},wNAFCached(e,t,n,r){const o=e._WINDOW_SIZE||1;let i=t.get(e);return i||(i=this.precomputeWindow(e,o),1!==o&&t.set(e,r(i))),this.wNAF(o,i,n)}}}(E,8*a);function k(e){return wn(e,r)}function A(e){return k(sn(e))}function S(e){const t=a;e=cn("private key",e,t);const n=cn("hashed private key",i(e),2*t),r=f(n.slice(0,t)),o=n.slice(t,2*t),s=A(r),l=x.multiply(s),c=l.toRawBytes();return{head:r,prefix:o,scalar:s,point:l,pointBytes:c}}function B(e=new Uint8Array,...t){const n=un(...t);return A(i(p(n,cn("context",e),!!o)))}const C=Mn;return x._setWindowSize(8),{CURVE:t,getPublicKey:function(e){return S(e).pointBytes},sign:function(e,t,r={}){e=cn("message",e),o&&(e=o(e));const{prefix:i,scalar:s,pointBytes:l}=S(t),c=B(r.context,i,e),u=x.multiply(c).toRawBytes(),d=k(c+B(r.context,u,l,e)*s);return b(d),cn("result",un(u,ln(d,n.BYTES)),2*a)},verify:function(e,t,r,i=C){const{context:s,zip215:a}=i,l=n.BYTES;e=cn("signature",e,2*l),t=cn("message",t),o&&(t=o(t));const c=sn(e.slice(l,2*l));let u,d,f;try{u=E.fromHex(r,a),d=E.fromHex(e.slice(0,l),a),f=x.multiplyUnsafe(c)}catch(e){return!1}if(!a&&u.isSmallOrder())return!1;const p=B(s,d.toRawBytes(),u.toRawBytes(),t);return d.add(u.multiplyUnsafe(p)).subtract(f).clearCofactor().equals(E.ZERO)},ExtendedPoint:E,utils:{getExtendedPublicKey:S,randomPrivateKey:()=>s(n.BYTES),precompute:(e=8,t=E.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}const Rn=BigInt(0),qn=BigInt(1);const Fn=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Nn=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),Dn=(BigInt(0),BigInt(1)),$n=BigInt(2),Un=BigInt(3),jn=BigInt(5),Hn=BigInt(8);function zn(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),o=BigInt(80),i=Fn,s=e*e%i*e%i,a=xn(s,$n,i)*s%i,l=xn(a,Dn,i)*e%i,c=xn(l,jn,i)*l%i,u=xn(c,t,i)*c%i,d=xn(u,n,i)*u%i,f=xn(d,r,i)*d%i,p=xn(f,o,i)*f%i,m=xn(p,o,i)*f%i,h=xn(m,t,i)*c%i;return{pow_p_5_8:xn(h,$n,i)*e%i,b2:s}}function Wn(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function Kn(e,t){const n=Fn,r=wn(t*t*t,n),o=wn(r*r*t,n);let i=wn(e*r*zn(e*o).pow_p_5_8,n);const s=wn(t*i*i,n),a=i,l=wn(i*Nn,n),c=s===e,u=s===wn(-e,n),d=s===wn(-e*Nn,n);return c&&(i=a),(u||d)&&(i=l),(wn(i,n)&mn)===mn&&(i=wn(-i,n)),{isValid:c||u,value:i}}const Vn=(()=>An(Fn,void 0,!0))(),Gn=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Vn,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Hn,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Gt,randomBytes:qt,adjustScalarBytes:Wn,uvRatio:Kn}))(),Zn=(()=>Pn(Gn))(),Xn=(()=>function(e){const t=(fn(n=e,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...n}));var n;const{P:r}=t,o=e=>wn(e,r),i=t.montgomeryBits,s=Math.ceil(i/8),a=t.nByteLength,l=t.adjustScalarBytes||(e=>e),c=t.powPminus2||(e=>En(e,r-BigInt(2),r));function u(e,t,n){const r=o(e*(t-n));return[t=o(t-r),n=o(n+r)]}function d(e){if("bigint"==typeof e&&Rn<=e&&e<r)return e;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const f=(t.a-BigInt(2))/BigInt(4);function p(e){return ln(o(e),s)}function m(e,t){const n=function(e){const t=cn("u coordinate",e,s);return 32===a&&(t[31]&=127),sn(t)}(t),r=function(e,t){const n=d(e),r=d(t),s=n;let a,l=qn,p=Rn,m=n,h=qn,y=Rn;for(let e=BigInt(i-1);e>=Rn;e--){const t=r>>e&qn;y^=t,a=u(y,l,m),l=a[0],m=a[1],a=u(y,p,h),p=a[0],h=a[1],y=t;const n=l+p,i=o(n*n),c=l-p,d=o(c*c),g=i-d,b=m+h,v=o((m-h)*n),w=o(b*c),E=v+w,x=v-w;m=o(E*E),h=o(s*o(x*x)),l=o(i*d),p=o(g*(i+o(f*g)))}a=u(y,l,m),l=a[0],m=a[1],a=u(y,p,h),p=a[0],h=a[1];const g=c(p);return o(l*g)}(n,function(e){const t=cn("scalar",e),n=t.length;if(n!==s&&n!==a)throw new Error(`Expected ${s} or ${a} bytes, got ${n}`);return sn(l(t))}(e));if(r===Rn)throw new Error("Invalid private or public key received");return p(r)}const h=p(t.Gu);function y(e){return m(e,h)}return{scalarMult:m,scalarMultBase:y,getSharedSecret:(e,t)=>m(e,t),getPublicKey:e=>y(e),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:h}}({P:Fn,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:e=>{const t=Fn,{pow_p_5_8:n,b2:r}=zn(e);return wn(xn(n,Un,t)*r,t)},adjustScalarBytes:Wn,randomBytes:qt}))();var Jn=n(493),Yn=Symbol.for("immer-nothing"),Qn=Symbol.for("immer-draftable"),er=Symbol.for("immer-state");function tr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var nr=Object.getPrototypeOf;function rr(e){return!!e&&!!e[er]}function or(e){return!!e&&(sr(e)||Array.isArray(e)||!!e[Qn]||!!e.constructor?.[Qn]||dr(e)||fr(e))}var ir=Object.prototype.constructor.toString();function sr(e){if(!e||"object"!=typeof e)return!1;const t=nr(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ir}function ar(e,t){0===lr(e)?Reflect.ownKeys(e).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,r)=>t(r,n,e)))}function lr(e){const t=e[er];return t?t.type_:Array.isArray(e)?1:dr(e)?2:fr(e)?3:0}function cr(e,t){return 2===lr(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ur(e,t,n){const r=lr(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function dr(e){return e instanceof Map}function fr(e){return e instanceof Set}function pr(e){return e.copy_||e.base_}function mr(e,t){if(dr(e))return new Map(e);if(fr(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=sr(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[er];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(nr(e),t)}{const t=nr(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function hr(e,t=!1){return gr(e)||rr(e)||!or(e)||(lr(e)>1&&(e.set=e.add=e.clear=e.delete=yr),Object.freeze(e),t&&Object.entries(e).forEach((([e,t])=>hr(t,!0)))),e}function yr(){tr(2)}function gr(e){return Object.isFrozen(e)}var br,vr={};function wr(e){const t=vr[e];return t||tr(0),t}function Er(){return br}function xr(e,t){t&&(wr("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function _r(e){Ir(e),e.drafts_.forEach(Ar),e.drafts_=null}function Ir(e){e===br&&(br=e.parent_)}function kr(e){return br={drafts_:[],parent_:br,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ar(e){const t=e[er];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Sr(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[er].modified_&&(_r(t),tr(4)),or(e)&&(e=Br(t,e),t.parent_||Tr(t,e)),t.patches_&&wr("Patches").generateReplacementPatches_(n[er].base_,e,t.patches_,t.inversePatches_)):e=Br(t,n,[]),_r(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Yn?e:void 0}function Br(e,t,n){if(gr(t))return t;const r=t[er];if(!r)return ar(t,((o,i)=>Cr(e,r,t,o,i,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return Tr(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let o=t,i=!1;3===r.type_&&(o=new Set(t),t.clear(),i=!0),ar(o,((o,s)=>Cr(e,r,t,o,s,n,i))),Tr(e,t,!1),n&&e.patches_&&wr("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Cr(e,t,n,r,o,i,s){if(rr(o)){const s=Br(e,o,i&&t&&3!==t.type_&&!cr(t.assigned_,r)?i.concat(r):void 0);if(ur(n,r,s),!rr(s))return;e.canAutoFreeze_=!1}else s&&n.add(o);if(or(o)&&!gr(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Br(e,o),t&&t.scope_.parent_||"symbol"==typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||Tr(e,o)}}function Tr(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&hr(t,n)}var Lr={get(e,t){if(t===er)return e;const n=pr(e);if(!cr(n,t))return function(e,t,n){const r=Pr(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!or(r)?r:r===Mr(e.base_,t)?(qr(e),e.copy_[t]=Fr(r,e)):r},has:(e,t)=>t in pr(e),ownKeys:e=>Reflect.ownKeys(pr(e)),set(e,t,n){const r=Pr(pr(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Mr(pr(e),t),s=r?.[er];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((o=n)===(i=r)?0!==o||1/o==1/i:o!=o&&i!=i)&&(void 0!==n||cr(e.base_,t)))return!0;qr(e),Rr(e)}var o,i;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Mr(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,qr(e),Rr(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=pr(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){tr(11)},getPrototypeOf:e=>nr(e.base_),setPrototypeOf(){tr(12)}},Or={};function Mr(e,t){const n=e[er];return(n?pr(n):e)[t]}function Pr(e,t){if(!(t in e))return;let n=nr(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=nr(n)}}function Rr(e){e.modified_||(e.modified_=!0,e.parent_&&Rr(e.parent_))}function qr(e){e.copy_||(e.copy_=mr(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function Fr(e,t){const n=dr(e)?wr("MapSet").proxyMap_(e,t):fr(e)?wr("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Er(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,i=Lr;n&&(o=[r],i=Or);const{revoke:s,proxy:a}=Proxy.revocable(o,i);return r.draft_=a,r.revoke_=s,a}(e,t);return(t?t.scope_:Er()).drafts_.push(n),n}function Nr(e){if(!or(e)||gr(e))return e;const t=e[er];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=mr(e,t.scope_.immer_.useStrictShallowCopy_)}else n=mr(e,!0);return ar(n,((e,t)=>{ur(n,e,Nr(t))})),t&&(t.finalized_=!1),n}ar(Lr,((e,t)=>{Or[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Or.deleteProperty=function(e,t){return Or.set.call(this,e,t,void 0)},Or.set=function(e,t,n){return Lr.set.call(this,e[0],t,n,e[0])};var Dr=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const r=this;return function(e=n,...o){return r.produce(e,(e=>t.call(this,e,...o)))}}let r;if("function"!=typeof t&&tr(6),void 0!==n&&"function"!=typeof n&&tr(7),or(e)){const o=kr(this),i=Fr(e,void 0);let s=!0;try{r=t(i),s=!1}finally{s?_r(o):Ir(o)}return xr(o,n),Sr(r,o)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===Yn&&(r=void 0),this.autoFreeze_&&hr(r,!0),n){const t=[],o=[];wr("Patches").generateReplacementPatches_(e,r,t,o),n(t,o)}return r}tr(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,(t=>e(t,...n)));let n,r;return[this.produce(e,t,((e,t)=>{n=e,r=t})),n,r]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){var t;or(e)||tr(8),rr(e)&&(rr(t=e)||tr(10),e=Nr(t));const n=kr(this),r=Fr(e,void 0);return r[er].isManual_=!0,Ir(n),r}finishDraft(e,t){const n=e&&e[er];n&&n.isManual_||tr(9);const{scope_:r}=n;return xr(r,t),Sr(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=wr("Patches").applyPatches_;return rr(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},$r=Dr.produce;Dr.produceWithPatches.bind(Dr),Dr.setAutoFreeze.bind(Dr),Dr.setUseStrictShallowCopy.bind(Dr),Dr.applyPatches.bind(Dr),Dr.createDraft.bind(Dr),Dr.finishDraft.bind(Dr);const Ur={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var jr,Hr=new Uint8Array(16);function zr(){if(!jr&&!(jr="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return jr(Hr)}for(var Wr=[],Kr=0;Kr<256;++Kr)Wr.push((Kr+256).toString(16).slice(1));const Vr=function(e,t,n){if(Ur.randomUUID&&!t&&!e)return Ur.randomUUID();var r=(e=e||{}).random||(e.rng||zr)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return function(e,t=0){return(Wr[e[t+0]]+Wr[e[t+1]]+Wr[e[t+2]]+Wr[e[t+3]]+"-"+Wr[e[t+4]]+Wr[e[t+5]]+"-"+Wr[e[t+6]]+Wr[e[t+7]]+"-"+Wr[e[t+8]]+Wr[e[t+9]]+"-"+Wr[e[t+10]]+Wr[e[t+11]]+Wr[e[t+12]]+Wr[e[t+13]]+Wr[e[t+14]]+Wr[e[t+15]]).toLowerCase()}(r)};function Gr(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new Oe}:t,r=e.resetOnError,o=void 0===r||r,i=e.resetOnComplete,s=void 0===i||i,a=e.resetOnRefCountZero,l=void 0===a||a;return function(e){var t,r,i,a=0,c=!1,u=!1,d=function(){null==r||r.unsubscribe(),r=void 0},f=function(){d(),t=i=void 0,c=u=!1},p=function(){var e=t;f(),null==e||e.unsubscribe()};return X((function(e,m){a++,u||c||d();var h=i=null!=i?i:n();m.add((function(){0!=--a||u||c||(r=Zr(p,l))})),h.subscribe(m),!t&&a>0&&(t=new M({next:function(e){return h.next(e)},error:function(e){u=!0,d(),r=Zr(f,o,e),h.error(e)},complete:function(){c=!0,d(),r=Zr(f,s),h.complete()}}),G(e).subscribe(t))}))(e)}}function Zr(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!0!==t){if(!1!==t){var o=new M({next:function(){o.unsubscribe(),e()}});return G(t.apply(void 0,c([],l(n)))).subscribe(o)}}else e()}var Xr=Array.isArray;var Jr=n(711),Yr=new D(I),Qr=e=>e,eo=e=>{try{return Ze(JSON.parse(e))}catch(e){return Xe(e)}},to=e=>e,no=e=>(e=>Ue.fromPromise(e,to).mapErr((e=>({reason:"FailedToFetch",error:e,status:0}))))(e).andThen((e=>Ue.fromPromise(e.text(),to).andThen((e=>e?eo(e):je(e))).mapErr((t=>({status:e.status,reason:"FailedToParseResponseToJson",error:t}))).andThen((t=>e.ok?je({status:e.status,data:t}):He({status:e.status,reason:"RequestStatusNotOk",data:t}))))),ro=()=>"mobile"===Qe.parse(window.navigator.userAgent).platform.type,oo=e=>{try{return Ze(JSON.stringify(e))}catch(e){return Xe(e)}},io=wt({address:xt(),label:xt(),appearanceId:vt()}),so=wt({publicKey:xt(),signature:xt(),curve:It([bt("curve25519"),bt("secp256k1")])}),ao=wt({accountAddress:xt(),proof:so}),lo=wt({identityAddress:xt(),label:xt()}),co=wt({variant:It([bt("eastern"),bt("western")]),familyName:xt(),nickname:xt(),givenNames:xt()}),uo=wt({quantifier:It([bt("exactly"),bt("atLeast")]),quantity:vt([function e(t,n){return{type:"min_value",expects:`>=${t instanceof Date?t.toJSON():dt(t)}`,async:!1,message:n,requirement:t,_parse(t){return t>=this.requirement?at(t):st(this,e,t,"value",t instanceof Date?t.toJSON():dt(t))}}}(0,"The number must be at least 0.")])}),fo=wt({challenge:Et(xt()),numberOfAccounts:uo}),po=wt({accounts:yt(io),challenge:Et(xt()),proofs:Et(yt(ao))},[Bt((e=>!e.challenge&&!e?.proofs||!(!e.challenge||!e?.proofs?.length)),"missing challenge or proofs")]),mo=wt({isRequestingName:Et(gt()),numberOfRequestedEmailAddresses:Et(uo),numberOfRequestedPhoneNumbers:Et(uo)}),ho=wt({name:Et(co),emailAddresses:Et(yt(xt())),phoneNumbers:Et(yt(xt()))}),yo=wt({accounts:gt(),personaData:gt()}),go=(wt({persona:lo,challenge:Et(xt()),proof:Et(so)},[Bt((e=>!e.challenge&&!e.proof||!(!e.challenge||!e.proof)),"missing challenge or proof")]),wt({discriminator:bt("unauthorizedRequest"),oneTimeAccounts:Et(fo),oneTimePersonaData:Et(mo)})),bo=wt({discriminator:bt("usePersona"),identityAddress:xt()}),vo=It([wt({discriminator:bt("loginWithoutChallenge")}),wt({discriminator:bt("loginWithChallenge"),challenge:xt()})]),wo=It([bo,vo]),Eo=It([go,wt({discriminator:bt("authorizedRequest"),auth:wo,reset:Et(yo),oneTimeAccounts:Et(fo),ongoingAccounts:Et(fo),oneTimePersonaData:Et(mo),ongoingPersonaData:Et(mo)})]),xo=wt({transactionManifest:xt(),version:vt(),blobs:Et(yt(xt())),message:Et(xt())}),_o=wt({discriminator:bt("transaction"),send:xo}),Io=wt({transactionIntentHash:xt()}),ko=wt({discriminator:bt("transaction"),send:Io}),Ao=It([Eo,_o,wt({discriminator:bt("cancelRequest")})]),So=wt({version:bt(2),networkId:vt(),dAppDefinitionAddress:xt(),origin:xt()}),Bo=wt({interactionId:xt(),metadata:So,items:Ao}),Co=wt({discriminator:bt("unauthorizedRequest"),oneTimeAccounts:Et(po),oneTimePersonaData:Et(ho)}),To=It([wt({discriminator:bt("loginWithoutChallenge"),persona:lo}),wt({discriminator:bt("loginWithChallenge"),persona:lo,challenge:xt(),proof:so})]),Lo=It([wt({discriminator:bt("usePersona"),persona:lo}),To]),Oo=It([Co,wt({discriminator:bt("authorizedRequest"),auth:Lo,oneTimeAccounts:Et(po),ongoingAccounts:Et(po),oneTimePersonaData:Et(ho),ongoingPersonaData:Et(ho)})]),Mo=It([Oo,ko]),Po=It([wt({discriminator:bt("success"),interactionId:xt(),items:Mo}),wt({discriminator:bt("failure"),interactionId:xt(),error:xt(),message:Et(xt())})]),Ro=(It([wt({interactionId:xt(),discriminator:bt("extensionStatus")}),wt({interactionId:xt(),discriminator:bt("openPopup")}),wt({interactionId:xt(),discriminator:bt("walletInteraction"),interaction:Bo,sessionId:Et(xt())}),wt({interactionId:xt(),discriminator:bt("cancelWalletInteraction"),metadata:So})]),"extensionStatus"),qo=(wt({eventType:bt(Ro),interactionId:xt(),isWalletLinked:gt(),isExtensionAvailable:gt(),canHandleSessions:Et(gt())}),wt({eventType:It([bt(Ro),bt("receivedByExtension"),bt("receivedByWallet"),bt("requestCancelSuccess"),bt("requestCancelFail")]),interactionId:xt()})),Fo=(It([qo,Po]),"radix#chromeExtension#send"),No="radix#chromeExtension#receive",Do=bt("offer"),$o=bt("answer"),Uo=bt("iceCandidate"),jo=bt("iceCandidates"),Ho=(It([Do,$o,Uo,jo]),It([bt("wallet"),bt("extension")])),zo=wt({requestId:xt(),targetClientId:xt(),encryptedPayload:xt(),source:Et(Ho),connectionId:Et(xt())}),Wo=(At([zo,wt({method:$o,payload:wt({sdp:xt()})})]),At([zo,wt({method:Do,payload:wt({sdp:xt()})})]),wt({candidate:xt(),sdpMid:xt(),sdpMLineIndex:vt()})),Ko=(At([zo,wt({method:Uo,payload:Wo})]),At([zo,wt({method:jo,payload:yt(Wo)})]),"rejectedByUser"),Vo="canceledByUser",Go=(new Map).set("missingExtension","extension could not be found").set(Ko,"user rejected request").set(Vo,"user has canceled the request"),Zo=(e,t,n)=>({error:e,interactionId:t,message:n||Go.get(e)||""}),Xo=e=>{const t=Ge.fromThrowable((e=>St(Po,e)),(e=>e))(e);return t.isErr()?He(Zo("walletResponseValidation","","Invalid input")):t.isOk()?"success"===t.value.discriminator?je(t.value):He(t.value):He(Zo("walletResponseValidation",""))};function Jo(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function Yo(e,...t){if(!((n=e)instanceof Uint8Array||null!=n&&"object"==typeof n&&"Uint8Array"===n.constructor.name))throw new Error("Uint8Array expected");var n;if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function Qo(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Jo(e.outputLen),Jo(e.blockLen)}function ei(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}var ti=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),ni=(e,t)=>e<<32-t|e>>>t;function ri(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),Yo(e),e}new Uint8Array(new Uint32Array([287454020]).buffer)[0];var oi=class{clone(){return this._cloneInto()}};function ii(e){const t=t=>e().update(ri(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}var si=class extends oi{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Qo(e);const n=ri(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,o=new Uint8Array(r);o.set(n.length>r?e.create().update(n).digest():n);for(let e=0;e<o.length;e++)o[e]^=54;this.iHash.update(o),this.oHash=e.create();for(let e=0;e<o.length;e++)o[e]^=106;this.oHash.update(o),o.fill(0)}update(e){return ei(this),this.iHash.update(e),this}digestInto(e){ei(this),Yo(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:o,blockLen:i,outputLen:s}=this;return e.finished=r,e.destroyed=o,e.blockLen=i,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},ai=(e,t,n)=>new si(e,t).update(n).digest();ai.create=(e,t)=>new si(e,t);var li=new Uint8Array([0]),ci=new Uint8Array,ui=(e,t,n)=>e&t^e&n^t&n,di=class extends oi{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ti(this.buffer)}update(e){ei(this);const{view:t,buffer:n,blockLen:r}=this,o=(e=ri(e)).length;for(let i=0;i<o;){const s=Math.min(r-this.pos,o-i);if(s!==r)n.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=ti(e);for(;r<=o-i;i+=r)this.process(t,i)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){ei(this),function(e,t){Yo(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:o}=this;let{pos:i}=this;t[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(n,0),i=0);for(let e=i;e<r;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),a=Number(n&i),l=r?4:0,c=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+c,a,r)}(n,r-8,BigInt(8*this.length),o),this.process(n,0);const s=ti(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=a/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)s.setUint32(4*e,c[e],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:o,destroyed:i,pos:s}=this;return e.length=r,e.pos=s,e.finished=o,e.destroyed=i,r%t&&e.buffer.set(n),e}},fi=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),pi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),mi=new Uint32Array(64),hi=class extends di{constructor(){super(64,32,8,!1),this.A=0|pi[0],this.B=0|pi[1],this.C=0|pi[2],this.D=0|pi[3],this.E=0|pi[4],this.F=0|pi[5],this.G=0|pi[6],this.H=0|pi[7]}get(){const{A:e,B:t,C:n,D:r,E:o,F:i,G:s,H:a}=this;return[e,t,n,r,o,i,s,a]}set(e,t,n,r,o,i,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|o,this.F=0|i,this.G=0|s,this.H=0|a}process(e,t){for(let n=0;n<16;n++,t+=4)mi[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=mi[e-15],n=mi[e-2],r=ni(t,7)^ni(t,18)^t>>>3,o=ni(n,17)^ni(n,19)^n>>>10;mi[e]=o+mi[e-7]+r+mi[e-16]|0}let{A:n,B:r,C:o,D:i,E:s,F:a,G:l,H:c}=this;for(let e=0;e<64;e++){const t=c+(ni(s,6)^ni(s,11)^ni(s,25))+((u=s)&a^~u&l)+fi[e]+mi[e]|0,d=(ni(n,2)^ni(n,13)^ni(n,22))+ui(n,r,o)|0;c=l,l=a,a=s,s=i+t|0,i=o,o=r,r=n,n=t+d|0}var u;n=n+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,s=s+this.E|0,a=a+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(n,r,o,i,s,a,l,c)}roundClean(){mi.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},yi=ii((()=>new hi)),gi=e=>r.hp.from(e).toString("hex"),bi=(e=gi(Xn.utils.randomPrivateKey()))=>({getPrivateKey:()=>e,x25519:{getPublicKey:()=>gi(Xn.getPublicKey(e)),calculateSharedSecret:(t,n)=>{try{const c=Xn.getSharedSecret(e,t),u=(o=yi,i=c,s=r.hp.from(n,"utf-8"),a="RCfM",l=32,function(e,t,n,r=32){if(Qo(e),Jo(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const o=Math.ceil(r/e.outputLen);void 0===n&&(n=ci);const i=new Uint8Array(o*e.outputLen),s=ai.create(e,t),a=s._cloneInto(),l=new Uint8Array(s.outputLen);for(let t=0;t<o;t++)li[0]=t+1,a.update(0===t?ci:l).update(n).update(li).digestInto(l),i.set(l,e.outputLen*t),s._cloneInto(a);return s.destroy(),a.destroy(),l.fill(0),li.fill(0),i.slice(0,r)}(o,function(e,t,n){return Qo(e),void 0===n&&(n=new Uint8Array(e.outputLen)),ai(e,ri(n),ri(t))}(o,i,s),a,l));return Ze(gi(u))}catch(e){return Xe(e)}var o,i,s,a,l}},ed25519:{getPublicKey:()=>gi(Zn.getPublicKey(e)),sign:t=>{try{return Ze(gi(Zn.sign(t,e)))}catch(e){return Xe(e)}}}}),vi={accounts:(wt({numberOfAccounts:uo,withProof:Et(gt()),reset:Et(gt())}),()=>{let e=$r({numberOfAccounts:{quantifier:"atLeast",quantity:1}},(()=>{}));const t={atLeast:n=>(e=$r(e,(e=>{e.numberOfAccounts.quantifier="atLeast",e.numberOfAccounts.quantity=n})),t),exactly:n=>(e=$r(e,(e=>{e.numberOfAccounts.quantifier="exactly",e.numberOfAccounts.quantity=n})),t),withProof:(n=!0)=>(e=$r(e,(e=>{e.withProof=n})),t),reset:(n=!0)=>(e=$r(e,(e=>{e.reset=n})),t),_toObject:()=>({accounts:e})};return t}),personaData:(wt({withProof:Et(gt())}),function(e,t,n,r){const[o,i,s]=mt(void 0,void 0,void 0);wt(Object.entries(e.entries).reduce(((e,[t,n])=>({...e,[t]:Et(n)})),{}),o,i,s)}(wt({fullName:gt(),emailAddresses:uo,phoneNumbers:uo,reset:gt()})),(e={})=>{let t=$r(e,(()=>{}));const n=e=>({atLeast:n=>(t=$r(t,(t=>{t[e]={quantifier:"atLeast",quantity:n}})),r),exactly:n=>(t=$r(t,(t=>{t[e]={quantifier:"exactly",quantity:n}})),r)}),r={fullName:(e=!0)=>(t=$r(t,(t=>{t.fullName=e})),r),emailAddresses:(e=!0)=>(n("emailAddresses").exactly(e?1:0),r),phoneNumbers:(e=!0)=>(n("phoneNumbers").exactly(e?1:0),r),reset:(e=!0)=>(t=$r(t,(t=>{t.reset=e})),r),_toObject:()=>({personaData:t})};return r}),persona:(e={withProof:!1})=>{let t=$r(e,(()=>{}));const n={withProof:(e=!0)=>(t=$r(t,(t=>{t.withProof=e})),n),_toObject:()=>({persona:t})};return n},config:e=>({_toObject:()=>({...e})})},wi=(e,t)=>{const n=[null,void 0,!1,!0];if(n.includes(e)||n.includes(t)||"number"==typeof e||"number"==typeof t)return Object.is(e,t);const r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(const n of r){const r=e[n],o=t[n],i=Ei(r)&&Ei(o);if(i&&!wi(r,o)||!i&&r!==o)return!1}return!0},Ei=e=>null!=e&&"object"==typeof e,xi=(wt({accounts:Et(wt({numberOfAccounts:uo,reset:gt(),oneTime:gt(),challenge:Et(xt())})),personaData:Et(wt({fullName:Et(gt()),phoneNumbers:Et(uo),emailAddresses:Et(uo),reset:gt(),oneTime:Et(gt())})),persona:Et(wt({identityAddress:Et(xt()),label:Et(xt()),challenge:Et(xt())}))}),e=>e.persona?.challenge?{discriminator:"loginWithChallenge",challenge:e.persona.challenge}:e.persona?.identityAddress?{discriminator:"usePersona",identityAddress:e.persona?.identityAddress}:{discriminator:"loginWithoutChallenge"}),_i=e=>t=>{const n={...t},{accounts:r}=e;if(r){const t={challenge:r.challenge,numberOfAccounts:r.numberOfAccounts},o="authorizedRequest"===n.discriminator&&!e.accounts?.oneTime,i="authorizedRequest"===n.discriminator;e.accounts?.oneTime?n.oneTimeAccounts=t:(o||i)&&(n.ongoingAccounts=t)}return n},Ii=e=>t=>{const n={...t};if(e.personaData){const{fullName:t,phoneNumbers:r,emailAddresses:o}=e.personaData;e.personaData?.oneTime&&(n.oneTimePersonaData={isRequestingName:t,numberOfRequestedPhoneNumbers:r,numberOfRequestedEmailAddresses:o});const i="authorizedRequest"===n.discriminator&&!e.personaData?.oneTime,s="authorizedRequest"===n.discriminator;(i||s)&&(n.ongoingPersonaData={isRequestingName:t,numberOfRequestedPhoneNumbers:r,numberOfRequestedEmailAddresses:o})}return n},ki=(e,t)=>{const{items:n}=e;return"authorizedRequest"===n.discriminator?$r({},(e=>{e.persona={proof:!1},"loginWithChallenge"===n.auth.discriminator&&(e.persona.proof=!!n.auth.challenge),n.ongoingAccounts&&(e.ongoingAccounts={proof:!!n.ongoingAccounts.challenge,numberOfAccounts:n.ongoingAccounts.numberOfAccounts}),n.ongoingPersonaData&&(e.ongoingPersonaData=n.ongoingPersonaData)})):t},Ai="persona",Si="account",Bi=kt("type",[wt({challenge:xt(),proof:so,address:xt(),type:bt(Ai)}),wt({challenge:xt(),proof:so,address:xt(),type:bt(Si)})]),Ci=kt("entry",[wt({entry:bt("fullName"),fields:co}),wt({entry:bt("emailAddresses"),fields:yt(xt())}),wt({entry:bt("phoneNumbers"),fields:yt(xt())})]),Ti=wt({accounts:yt(io),personaData:yt(Ci),persona:Et(lo),proofs:yt(Bi)}),Li=wt({persona:Et(wt({proof:gt()})),ongoingAccounts:Et(wt({numberOfAccounts:Et(uo),proof:gt()})),ongoingPersonaData:Et(mo)}),Oi=(wt({loggedInTimestamp:xt(),walletData:Ti,sharedData:Li}),{accounts:[],personaData:[],proofs:[],persona:void 0}),Mi=e=>{const t=[];return e.name&&t.push({entry:"fullName",fields:e.name}),e.emailAddresses&&t.push({entry:"emailAddresses",fields:e.emailAddresses}),e.phoneNumbers&&t.push({entry:"phoneNumbers",fields:e.phoneNumbers}),t},Pi=e=>{return je({accounts:[],personaData:[],proofs:[],persona:void 0}).map((t=e,e=>{let n=[];if("authorizedRequest"===t.discriminator){const e=t.oneTimeAccounts?.accounts??[],r=t.ongoingAccounts?.accounts??[];n=[...e,...r]}else if("unauthorizedRequest"===t.discriminator){const e=t.oneTimeAccounts?.accounts??[];n=e}return $r(e,(e=>{e.accounts=n}))})).map((e=>t=>$r(t,(t=>{"authorizedRequest"===e.discriminator?(e.oneTimePersonaData&&(t.personaData=Mi(e.oneTimePersonaData)),e.ongoingPersonaData&&(t.personaData=Mi(e.ongoingPersonaData))):"unauthorizedRequest"===e.discriminator&&e.oneTimePersonaData&&(t.personaData=Mi(e.oneTimePersonaData))})))(e)).map((e=>t=>$r(t,(t=>{"authorizedRequest"===e.discriminator&&(t.persona=e.auth?.persona)})))(e)).map((e=>t=>$r(t,(t=>{if(t.proofs=[],"authorizedRequest"===e.discriminator){if("loginWithChallenge"===e.auth.discriminator&&t.proofs.push({challenge:e.auth.challenge,proof:e.auth.proof,address:e.auth.persona.identityAddress,type:Ai}),e.ongoingAccounts?.challenge&&e.ongoingAccounts.proofs?.length){const n=e.ongoingAccounts.challenge,r=e.ongoingAccounts.proofs.map((({accountAddress:e,proof:t})=>({proof:t,address:e,challenge:n,type:Si})));t.proofs.push(...r)}if(e.oneTimeAccounts?.challenge&&e.oneTimeAccounts.proofs?.length){const n=e.oneTimeAccounts.challenge,r=e.oneTimeAccounts.proofs.map((({accountAddress:e,proof:t})=>({proof:t,address:e,challenge:n,type:Si})));t.proofs.push(...r)}}if("unauthorizedRequest"===e.discriminator&&e.oneTimeAccounts?.challenge&&e.oneTimeAccounts.proofs?.length){const n=e.oneTimeAccounts.challenge,r=e.oneTimeAccounts.proofs.map((({accountAddress:e,proof:t})=>({proof:t,address:e,challenge:n,type:Si})));t.proofs.push(...r)}})))(e));var t},Ri=({interactionId:e,dAppDefinitionAddress:t,origin:n,logger:o})=>{const i=r.hp.from("C","ascii"),s=t.length,a=r.hp.from(s.toString(16),"hex"),l=r.hp.from(t,"utf-8"),c=r.hp.from(n,"utf-8"),u=r.hp.from(e,"utf-8"),d=r.hp.concat([i,u,a,l,c]);return(e=>{try{return Ze(Jn.blake2bHex((t=e,new Uint8Array((e=>{const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let t=0;t<e.length;++t)n[t]=e[t];return t})(t))),void 0,32)).map((e=>r.hp.from(e,"hex")))}catch(e){return Xe(e)}var t})(d).map((f=>(o?.debug({method:"createSignatureMessage",messagePartsRaw:["C",e,s,t,n],messageParts:[i.toString("hex"),u.toString("hex"),a.toString("hex"),l.toString("hex"),c.toString("hex")],message:d.toString("hex"),blake2bHash:f.toString("hex")}),r.hp.from(f).toString("hex")))).mapErr((e=>({reason:"couldNotHashMessage",jsError:e})))},qi=e=>{let t=!1;const n=e?.logger?.getSubLogger({name:"ConnectorExtensionModule"}),r=e?.subjects??{outgoingMessageSubject:new Oe,incomingMessageSubject:new Oe,responseSubject:new Oe,messageLifeCycleEventSubject:new Oe},o=new h,i=e?.extensionDetectionTime??100,s=e.providers.requestItemModule,a=e.providers.storageModule.getPartition("connectorExtension");o.add(r.incomingMessageSubject.pipe(ue((e=>{n?.debug({method:"incomingMessageSubject",message:e}),"eventType"in e?r.messageLifeCycleEventSubject.next(e):r.responseSubject.next(e)}))).subscribe()),o.add(r.outgoingMessageSubject.pipe(ue((e=>{n?.debug({method:"outgoingMessageSubject",payload:e}),window.dispatchEvent(new CustomEvent(Fo,{detail:e}))}))).subscribe());const l=e=>{const t=e.detail;r.incomingMessageSubject.next(t)};addEventListener(No,l);const c=r.messageLifeCycleEventSubject.pipe(le((e=>"extensionStatus"===e.eventType))),u=_e(!0).pipe(ue((()=>{r.outgoingMessageSubject.next({interactionId:Vr(),discriminator:"extensionStatus"})})),ce((()=>function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===(t=1===(e=t).length&&Xr(e[0])?e[0]:e).length?G(t[0]):new D(function(e){return function(t){for(var n=[],r=function(r){n.push(G(e[r]).subscribe(J(t,(function(e){if(n){for(var o=0;o<n.length;o++)o!==r&&n[o].unsubscribe();n=null}t.next(e)}))))},o=0;n&&!t.closed&&o<e.length;o++)r(o)}}(t))}(c,ve(c,Te(i).pipe(Q((()=>({eventType:"extensionStatus",isWalletLinked:!1,isExtensionAvailable:!1,canHandleSessions:!1})))))))),ue((e=>{t=e.canHandleSessions||!1})),(1,p=1,Gr({connector:function(){return new Pe(p,d,f)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:!1})));var d,f,p;return{id:"connector-extension",isSupported:()=>!ro(),send:(e,o)=>{const l=new Oe,c=r.responseSubject.pipe(le((t=>t.interactionId===e.interactionId)),te((e=>s.patch(e.interactionId,{walletResponse:e}).mapErr((()=>Zo("requestItemPatchError",e.interactionId))).map((()=>e))))),u=r.messageLifeCycleEventSubject.pipe(le((({interactionId:t,eventType:n})=>e.interactionId===t&&["requestCancelSuccess","requestCancelFail"].includes(n))),Q((e=>{const t=Zo("canceledByUser",e.interactionId);return n?.debug(" walletRequestCanceled",t),e})));o.requestControl&&o.requestControl({cancelRequest:()=>(r.outgoingMessageSubject.next({interactionId:e.interactionId,metadata:e.metadata,...t?{discriminator:"cancelWalletInteraction"}:{items:{discriminator:"cancelRequest"}}}),setTimeout((()=>{l.next(Xe(Zo("canceledByUser",e.interactionId)))})),Ue.fromSafePromise(et(ve(c.pipe(Q((()=>"requestCancelFail"))),u.pipe(Q((({eventType:e})=>e))))))).andThen((e=>"requestCancelSuccess"===e?Ze("requestCancelSuccess"):Xe("requestCancelFail"))),getRequest:()=>e});const d=ve(c,l).pipe(xe()),f=r.messageLifeCycleEventSubject.pipe(le((({interactionId:t})=>e.interactionId===t)),ue((e=>{o.eventCallback&&o.eventCallback(e.eventType)})),(p=c,X((function(e,t){G(p).subscribe(J(t,(function(){return t.complete()}),I)),!t.closed&&e.subscribe(t)}))),Gr());var p;const m=f.subscribe(),h=ve(Te(i).pipe(Q((()=>Xe(Zo("missingExtension",e.interactionId))))),f).pipe(xe(),le((e=>!("eventType"in e))));var y;return(e=>Ue.fromPromise(et(e),(e=>e)).andThen((e=>e)))(ve(d,h,_e((y=e,t?a.getState().andThen((e=>{const t="authorizedRequest"===y.items.discriminator,n=t?e?.sessionId||Vr():e?.sessionId,r={interactionId:y.interactionId,interaction:y,sessionId:n,discriminator:"walletInteraction"};return t?a.setState({sessionId:n}).map((()=>r)):je(r)})):je(y))).pipe(ue((e=>{e.map((e=>{r.outgoingMessageSubject.next(e)}))})),le((e=>!1)))).pipe(ue((()=>{m.unsubscribe()}))))},isAvailable$:u.pipe(Q((({isExtensionAvailable:e})=>e))),isLinked$:u.pipe(Q((({isWalletLinked:e})=>e))),showQrCode:()=>{window.dispatchEvent(new CustomEvent(Fo,{detail:{discriminator:"openPopup"}}))},disconnect:()=>{a.clear()},destroy:()=>{o.unsubscribe(),removeEventListener(No,l)}}},Fi=({iv:e,ciphertext:t,authTag:n})=>r.hp.concat([e,t,n]),Ni=({ciphertext:e,authTag:t})=>r.hp.concat([e,t]),Di=e=>{const t=e.logger?.getSubLogger({name:"RadixConnectRelayModule"}),{baseUrl:n,providers:o,walletUrl:i}=e,{requestItemModule:s,storageModule:a}=o,l=o?.encryptionModule??(()=>{const e=e=>Ue.fromPromise(crypto.subtle.importKey("raw",e,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"]),Qr),t=(e,t)=>r.hp.concat([e,t]),n=()=>r.hp.from(crypto.getRandomValues(new Uint8Array(12)));return{encrypt:(o,i,s=n())=>e(i).andThen((e=>((e,t,n)=>Ue.fromPromise(crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,e),Qr).map(r.hp.from))(o,e,s))).map((e=>({combined:t(s,e),iv:s,ciphertext:e}))),decrypt:(t,n,o)=>e(n).andThen((e=>((e,t,n)=>Ue.fromPromise(crypto.subtle.decrypt({name:"AES-GCM",iv:n},t,e),Qr).map(r.hp.from))(t,e,o))),createIV:n}})(),c=o?.deepLinkModule??(e=>{const{walletUrl:t}=e,n=Qe.parse(window.navigator.userAgent),{platform:r}=n,o=e?.logger?.getSubLogger({name:"DeepLinkModule"});return o?.debug({platform:r,userAgent:window.navigator.userAgent,userAgentParsed:n}),{deepLinkToWallet:e=>{const n=new URL(t);return Object.entries(e).forEach((([e,t])=>{n.searchParams.append(e,t)})),o?.debug({method:"deepLinkToWallet",data:{...e}}),"mobile"===r.type&&globalThis.location?.href?(globalThis.location.href=n.toString(),je(void 0)):He(Zo("UnhandledEnvironment",""))}}})({logger:t,walletUrl:i}),u=o?.identityModule??(e=>{const{storageModule:t,KeyPairModule:n}=e.providers,r=e=>t.getItemById(e).andThen((e=>{return e?(t=e.secret,Ze(n(t))):je(void 0);var t})),o=e=>r(e).andThen((r=>r?je(r):(e=>Ze(n()).asyncAndThen((n=>t.setItems({[e]:{secret:n.getPrivateKey(),createdAt:Date.now()}}).map((()=>n)))))(e))).mapErr((e=>({reason:"couldNotGetOrCreateIdentity",jsError:e})));return{get:e=>o(e),deriveSharedSecret:(t,n)=>r(t).mapErr((()=>({reason:"couldNotDeriveSharedSecret"}))).andThen((t=>t?t.x25519.calculateSharedSecret(n,e.dAppDefinitionAddress).mapErr((()=>({reason:"FailedToDeriveSharedSecret"}))):Xe({reason:"DappIdentityNotFound"}))),createSignature:({kind:t,interactionId:n,dAppDefinitionAddress:r,origin:i})=>o(t).andThen((t=>Ri({interactionId:n,dAppDefinitionAddress:r,origin:i,logger:e.logger}).andThen((e=>t.ed25519.sign(e).map((e=>({signature:e,publicKey:t.x25519.getPublicKey(),identity:t.ed25519.getPublicKey()}))).mapErr((e=>({reason:"couldNotSignMessage",jsError:e})))))))}})({logger:t,dAppDefinitionAddress:e.dAppDefinitionAddress,providers:{storageModule:a.getPartition("identities"),KeyPairModule:bi}}),d=o?.sessionModule??(e=>{const t=e.providers.storageModule,n=()=>t.getItemList().mapErr((e=>({reason:"couldNotReadSessionFromStore",jsError:e}))).map((e=>e[0]));return{getCurrentSession:()=>n().andThen((e=>e?je(e):(()=>{const e=Vr(),n={sessionId:e,createdAt:Date.now()};return t.setItems({[e]:n}).map((()=>n)).mapErr((e=>({reason:"couldNotCreateSession",jsError:e})))})())),getSession:n,store:t,getSessionById:e=>t.getItemById(e).mapErr((e=>({reason:"couldNotGetSessionById",jsError:e}))),patchSession:(e,n)=>t.patchItem(e,n).mapErr((e=>({reason:"couldNotPatchSession",jsError:e})))}})({providers:{storageModule:a.getPartition("sessions")}}),f=(e=>{const t=e.baseUrl,n=e.logger?.getSubLogger({name:"RadixConnectRelayApi"});return{getResponses:e=>{return(r={method:"getResponses",sessionId:e},n?.debug({method:`callApi.${r.method}`,body:r}),no(fetch(t,{method:"POST",body:JSON.stringify(r)})).map((e=>(n?.debug({method:`callApi.${r.method}.success`,response:e}),e))).mapErr((e=>(n?.debug({method:`callApi.${r.method}.error`,error:e}),Zo("RadixConnectRelayRequestFailed",r.interactionId??""))))).map((e=>e.data));var r}}})({baseUrl:`${n}/api/v1`,logger:t}),p=new h,m=(e,t)=>(e=>{const t=(e=>(e=>{let t=0,n=e.length;const o=()=>n<0?Xe(Error("Incorrect implementation, read too many bytes.")):Ze(0===n);return{readNextBuffer:o=>{if(o<0)return Xe(Error("'byteCount' must not be negative"));if(0===o)return Ze(r.hp.alloc(0));if(t+o>e.length)return Xe(Error("Out of buffer's boundary"));const i=r.hp.alloc(o);return e.copy(i,0,t,t+o),i.length!==o?Xe(Error("Incorrect length of newly read buffer...")):(t+=o,n-=o,Ze(i))},finishedParsing:o,remainingBytes:()=>o().andThen((o=>{if(o)return Ze(r.hp.alloc(0));const i=r.hp.alloc(n);return e.copy(i,0,t),Ze(i)}))}})(e).readNextBuffer)(e);return Ge.combine([t(12),t(e.length-12-16),t(16)]).map((([e,t,n])=>({iv:e,ciphertext:t,authTag:n,combined:Fi({iv:e,ciphertext:t,authTag:n}),ciphertextAndAuthTag:Ni({ciphertext:t,authTag:n})})))})(Buffer.from(t,"hex")).asyncAndThen((({ciphertextAndAuthTag:t,iv:n})=>l.decrypt(t,Buffer.from(e,"hex"),n))).andThen((e=>eo(e.toString("utf-8")))).mapErr((e=>({reason:"FailedToDecryptWalletResponseData",jsError:e})));return{id:"radix-connect-relay",isSupported:()=>ro(),send:(n,r)=>Ue.combine([d.getCurrentSession().mapErr((e=>Zo(e.reason,n.interactionId))),u.get("dApp").mapErr((e=>Zo(e.reason,n.interactionId)))]).andThen((([r,o])=>u.createSignature({dAppDefinitionAddress:n.metadata.dAppDefinitionAddress,interactionId:n.interactionId,origin:n.metadata.origin,kind:"dApp"}).mapErr((e=>Zo(e.reason,n.interactionId))).andThen((({signature:e})=>(({session:e,walletInteraction:t,signature:n,publicKey:r,identity:o})=>s.getById(t.interactionId).mapErr((()=>Zo("FailedToGetPendingItems",t.interactionId))).andThen((e=>e?Ze(e):Xe(Zo("PendingItemNotFound",t.interactionId)))).andThen((()=>s.patch(t.interactionId,{sentToWallet:!0}).andThen((()=>{return c.deepLinkToWallet({sessionId:e.sessionId,request:(i=t,Jr.encode(Buffer.from(JSON.stringify(i)))),signature:n,publicKey:r,identity:o,origin:t.metadata.origin,dAppDefinitionAddress:t.metadata.dAppDefinitionAddress});var i})))).mapErr((()=>Zo("FailedToSendDappRequest",t.interactionId))))({session:r,walletInteraction:n,signature:e,identity:o.ed25519.getPublicKey(),publicKey:o.x25519.getPublicKey()}))).andThen((()=>(({session:n,interactionId:r,dAppIdentity:o})=>Ue.fromPromise(new Promise((async(i,a)=>{let l,c,u=0;const d=(e=1500)=>new Promise((t=>setTimeout(t,e)));t?.debug({method:"waitForWalletResponse",sessionId:n.sessionId,interactionId:r});const p=t=>"error"in t?He({reason:t.error}):o.x25519.calculateSharedSecret(t.publicKey,e.dAppDefinitionAddress).mapErr((()=>({reason:"FailedToDeriveSharedSecret"}))).asyncAndThen((e=>m(e,t.data)));for(;!l;){const e=await s.getById(r);if(e.isOk()&&(t?.trace({method:"waitForWalletResponse.requestItemResult",requestItemResult:e.value}),"pending"!==e.value?.status)){c=Zo("RequestItemNotPending",r,"request not in pending state");break}const o=await f.getResponses(n.sessionId);if(o.isOk()){const e=o.value;for(const o of e){const e=await p(o);if(e.isErr()&&t?.error({method:"waitForWalletResponse.decryptWalletResponse.error",error:e.error,sessionId:n.sessionId,interactionId:r}),e.isOk()){const t=e.value;t.interactionId===r&&(l=t,await s.patch(t.interactionId,{walletResponse:t}))}}}l||(u+=1,await d())}return l?i(l):a(c)})),(e=>e)))({session:r,interactionId:n.interactionId,dAppIdentity:o}))))),disconnect:()=>{},destroy:()=>{p.unsubscribe()}}},$i="CommittedFailure",Ui="Rejected",ji={Mainnet:1,Stokenet:2,Gilganet:32,Enkinet:33,Hammunet:34,Nergalnet:35,Mardunet:36,Dumunet:37},Hi={Mainnet:{networkName:"Mainnet",networkId:ji.Mainnet,gatewayUrl:"https://mainnet.radixdlt.com",dashboardUrl:"https://dashboard.radixdlt.com"},Stokenet:{networkName:"Stokenet",networkId:ji.Stokenet,gatewayUrl:"https://babylon-stokenet-gateway.radixdlt.com",dashboardUrl:"https://stokenet-dashboard.radixdlt.com"},Mardunet:{networkName:"Mardunet",networkId:ji.Mardunet,gatewayUrl:"https://mardunet-gateway.radixdlt.com",dashboardUrl:"https://mardunet-dashboard.rdx-works-main.extratools.works"},Gilganet:{networkName:"Gilganet",networkId:ji.Gilganet,gatewayUrl:"https://gilganet-gateway.radixdlt.com",dashboardUrl:"https://gilganet-dashboard.rdx-works-main.extratools.works"},Enkinet:{networkName:"Enkinet",networkId:ji.Enkinet,gatewayUrl:"https://enkinet-gateway.radixdlt.com",dashboardUrl:"https://enkinet-dashboard.rdx-works-main.extratools.works"},Hammunet:{networkName:"Hammunet",networkId:ji.Hammunet,gatewayUrl:"https://hammunet-gateway.radixdlt.com",dashboardUrl:"https://hammunet-dashboard.rdx-works-main.extratools.works"},Dumunet:{networkName:"Dumunet",networkId:ji.Dumunet,gatewayUrl:"https://dumunet-gateway.radixdlt.com",dashboardUrl:"https://dumunet-dashboard.rdx-works-main.extratools.works"}},zi=Object.values(Hi).reduce(((e,t)=>(e[t.networkId]=t,e)),{}),Wi=({networkId:e,dAppDefinitionAddress:t,gatewayBaseUrl:n,applicationName:r,applicationVersion:o})=>({basePath:n??zi[e].gatewayUrl,applicationName:r??"Unknown",applicationVersion:o??"Unknown",applicationDappDefinitionAddress:t}),Ki=e=>{const t=e.logger?.getSubLogger({name:"WalletRequestModule"}),n=e.useCache,r=e.networkId,o=new Oe,i=new Oe,s=new Oe,a=e.providers.gatewayModule,l=e.dAppDefinitionAddress,c=e.providers.stateModule,u=e.providers.storageModule,d=e.providers.dataRequestStateModule??(e=>{const t=new Re(e),n=()=>t.next(e),r=e=>t.next(e),o=()=>t.getValue(),i=(...e)=>e.filter((e=>"function"==typeof e._toObject)).reduce(((e,t)=>({...e,...t._toObject()})),{});return{reset:n,setState:(...e)=>{0===e.length?n():r(i(...e))},getState:o,patchState:(...e)=>{0!==e.length&&r({...o(),...i(...e)})},removeState:(...e)=>{r($r(o(),(t=>{e.forEach((e=>{delete t[e]}))})))},toDataRequestState:i,state$:t.asObservable()}})({}),f=e.providers.requestItemModule??(e=>{const t=e?.logger?.getSubLogger({name:"RequestItemModule"}),n=new h,r=e.providers.storageModule,o=(e,n)=>(t?.debug({method:"patchRequestItemStatus",item:{id:e,...n}}),r.patchItem(e,n)),i=r.storage$.pipe(ce((()=>r.getItemList())),Q((e=>{if(e.isOk())return e.value})),le((e=>!!e)));return{add:e=>{const n=(({type:e,walletInteraction:t,isOneTimeRequest:n})=>({type:e,status:"pending",createdAt:Date.now(),interactionId:t.interactionId,showCancel:!0,walletInteraction:t,isOneTimeRequest:n}))(e);return t?.debug({method:"addRequestItem",item:n}),r.setItems({[n.interactionId]:n}).map((()=>n))},cancel:e=>(t?.debug({method:"cancelRequestItem",id:e}),o(e,{status:"fail",error:Vo})),updateStatus:({id:e,status:n,error:o,transactionIntentHash:i})=>r.getItemById(e).mapErr((()=>({reason:"couldNotReadFromStore"}))).andThen((s=>{if(s){const a={...s,status:"ignored"===s.status?s.status:n};return"fail"===a.status&&(a.error=o),"success"===a.status&&"sendTransaction"===a.type&&(a.transactionIntentHash=i),["success","fail","ignored","cancelled"].includes(a.status)&&(delete a.walletInteraction,delete a.walletResponse),t?.debug({method:"updateRequestItemStatus",updated:a}),r.setItems({[e]:a}).mapErr((()=>({reason:"couldNotWriteToStore"})))}return He({reason:"itemNotFound"})})),patch:o,getById:e=>r.getItemById(e),getPending:()=>r.getItemList().map((e=>e.filter((e=>"pending"===e.status)))),requests$:i,clear:r.clear,destroy:()=>{n.unsubscribe()}}})({logger:t,providers:{storageModule:u.getPartition("requests")}}),p=e.providers.transports??[qi({logger:t,providers:{requestItemModule:f,storageModule:u}}),Di({logger:t,walletUrl:"radixWallet://connect",baseUrl:"https://radix-connect-relay.radixdlt.com",dAppDefinitionAddress:e.dAppDefinitionAddress,providers:{requestItemModule:f,storageModule:u}})],m=e.providers.walletRequestSdk??(e=>{const t={version:2,dAppDefinitionAddress:e.dAppDefinitionAddress,networkId:e.networkId,origin:e.origin||window.location.origin};St(So,t);const n=e?.logger?.getSubLogger({name:"WalletSdk"}),r=e.providers.transports,o=e.requestInterceptor??(async e=>e);n?.debug({metadata:t});const i=e=>Ue.fromPromise(o(e),(t=>Zo("requestInterceptorError",e.interactionId,t.message))),s=e=>{const t=r.find((e=>e.isSupported()));return t?Ze(t):Xe({error:"SupportedTransportNotFound",interactionId:e,message:"No supported transport found"})};return{request:({interactionId:e=Vr(),items:n},r={})=>i({items:n,interactionId:e,metadata:t}).andThen((e=>s(e.interactionId).asyncAndThen((t=>t.send(e,r).andThen(Xo))))),sendTransaction:({interactionId:e=Vr(),items:n},r={})=>i({interactionId:e,items:n,metadata:t}).andThen((t=>s(e).asyncAndThen((e=>e.send(t,r).andThen(Xo))))),createWalletInteraction:(e,n=Vr())=>({items:e,interactionId:n,metadata:t}),getTransport:s}})({logger:t,networkId:r,origin:e.origin,dAppDefinitionAddress:l,requestInterceptor:e.requestInterceptor,providers:{transports:p}}),y=e=>{const t=new Oe;return{eventCallback:e=>{t.next(e)},requestControl:({cancelRequest:n,getRequest:r})=>{et(t.pipe(le((e=>"receivedByWallet"===e)),Q((()=>r())),ue((t=>{"transaction"===t.items.discriminator&&f.patch(e,{showCancel:!1})})))),et(o.pipe(le((t=>t===e)),ce((()=>f.cancel(e).andThen((()=>n())))))),et(i.pipe(le((t=>t===e)),ce((()=>f.updateStatus({id:e,status:"ignored"}).andThen((()=>n()))))))}}};let g,b,v=()=>Promise.resolve("");const w=e=>(e=>e.accounts?.withProof||e.persona?.withProof)(e)?Ue.fromPromise(v(),(()=>Zo("ChallengeGeneratorError","","failed to generate challenge"))):je(void 0),E=({isConnect:e,oneTime:r,dataRequestState:o})=>Ue.combine([w(o),c.getState().mapErr((()=>Zo("FailedToReadRdtState","")))]).andThen((([i,a])=>(({dataRequestState:e,isConnect:t,challenge:n,oneTime:r,walletData:o})=>((e,t)=>((e,t)=>Ze(e?$r(t,(e=>{e.accounts&&(e.accounts.oneTime=!1,e.accounts.reset=!1),e.personaData&&(e.personaData.oneTime=!1,e.personaData.reset=!1)})):t))(e,t).andThen((e=>(e=>{const{persona:t,accounts:n,personaData:r}=e,o=!!t;return!!(n?.reset||r?.reset||n&&!n?.oneTime||r&&!r?.oneTime||o)})(e)?(e=>Ze({discriminator:"authorizedRequest",auth:xi(e)}).map(_i(e)).map(Ii(e)).map((e=>t=>{const{accounts:n,personaData:r}=e;return{...t,reset:{accounts:!!n?.reset,personaData:!!r?.reset}}})(e)))(e):(e=>Ze({discriminator:"unauthorizedRequest"}).map(_i(e)).map(Ii(e)))(e))))(t,$r({},(t=>{if(e.accounts&&(t.accounts={numberOfAccounts:e.accounts.numberOfAccounts||{quantifier:"atLeast",quantity:1},oneTime:r,reset:!!e.accounts.reset,challenge:e.accounts.withProof?n:void 0}),e.personaData&&(t.personaData={...e.personaData,reset:!!e.personaData.reset,oneTime:r}),!r){const r=o.persona;o.persona&&(t.persona=r),e.persona?.withProof&&(t.persona={...t.persona??{},challenge:n}),0===Object.values(e).length&&(t.persona={challenge:void 0})}}))))({dataRequestState:o,isConnect:e,oneTime:r,challenge:i,walletData:a.walletData}).mapErr((()=>Zo("FailedToTransformWalletRequest",""))).asyncAndThen((e=>{const o=m.createWalletInteraction(e);if(((e,t)=>{if("authorizedRequest"===e.discriminator){const n=e.reset?.accounts||e.reset?.personaData,r=!(!e.oneTimeAccounts&&!e.oneTimePersonaData),o="loginWithChallenge"===e.auth.discriminator||!!e.oneTimeAccounts?.challenge||!!e.ongoingAccounts?.challenge;if(n||r||o)return!1;let i=!1;if(e.ongoingAccounts){const{quantifier:n,quantity:r}=e.ongoingAccounts.numberOfAccounts;i=t.sharedData?.ongoingAccounts?.numberOfAccounts?.quantifier===n&&t.sharedData?.ongoingAccounts?.numberOfAccounts?.quantity===r}return e.ongoingPersonaData&&(i=wi(e.ongoingPersonaData,t.sharedData?.ongoingPersonaData)),i}return!1})(e,a)&&n)return je(a.walletData);const i=!a.walletData.persona&&"authorizedRequest"===e.discriminator;return f.add({type:i?"loginRequest":"dataRequest",walletInteraction:o,isOneTimeRequest:r}).mapErr((({message:e})=>Zo("FailedToCreateRequestItem",o.interactionId,e))).andThen((()=>(e=>m.request(e,y(e.interactionId)).map((e=>(t?.debug({method:"sendDataRequest.successResponse",response:e}),e))).mapErr((n=>(t?.debug({method:"sendDataRequest.errorResponse",error:n}),f.updateStatus({id:e.interactionId,status:"fail",error:n.error}),n))))(o).andThen((e=>"success"===e.discriminator&&"transaction"!==e.items.discriminator?Ze(e.items):Xe(Zo("WalletResponseFailure",e.interactionId,"expected data response")))).andThen(Pi).andThen((e=>b?b(e).andThen((()=>f.updateStatus({id:o.interactionId,status:"success"}).mapErr((e=>Zo(e.reason,o.interactionId))).map((()=>e)))).mapErr((e=>(f.updateStatus({id:o.interactionId,status:"fail",error:e.error}),Zo(e.error,o.interactionId)))):f.updateStatus({id:o.interactionId,status:"success"}).map((()=>e)).mapErr((e=>Zo(e.reason,o.interactionId))))).map((e=>(s.next("success"),r||c.setState({loggedInTimestamp:Date.now().toString(),walletData:e,sharedData:ki(o,a.sharedData)}).map((()=>{c.emitWalletData()})),e))).mapErr((e=>(s.next("fail"),e)))))})))).mapErr((e=>(t?.error(e),e))),x=new h;return x.add(f.requests$.pipe(te((e=>{const t=e.filter((e=>"pending"===e.status&&e.walletResponse)).map((e=>{return t=e.walletInteraction,"success"===(n=e.walletResponse).discriminator&&"authorizedRequest"===n.items.discriminator?Ue.combine([Pi(n.items),c.getState()]).andThen((([e,r])=>c.setState({loggedInTimestamp:Date.now().toString(),walletData:e,sharedData:ki(t,r.sharedData)}).andThen((()=>f.updateStatus({id:n.interactionId,status:"success"}))))):je(void 0);var t,n}));return Ue.combineWithAllErrors(t)}))).subscribe()),{sendRequest:e=>{const t=E({isConnect:e.isConnect,oneTime:e.oneTime,dataRequestState:d.getState()});return g&&t.map((e=>{g(Ze(e))})).mapErr((e=>{g(Xe(e))})),t},sendTransaction:e=>{const n=m.createWalletInteraction({discriminator:"transaction",send:{blobs:e.blobs,transactionManifest:e.transactionManifest,message:e.message,version:e.version??1}});return f.add({type:"sendTransaction",walletInteraction:n,isOneTimeRequest:!1}),m.sendTransaction(n,y(n.interactionId)).mapErr((e=>(f.updateStatus({id:n.interactionId,status:"fail",error:e.error}),s.next("fail"),t?.debug({method:"sendTransaction.errorResponse",response:e}),e))).andThen((e=>(t?.debug({method:"sendTransaction.successResponse",response:e}),"success"===e.discriminator&&"transaction"===e.items.discriminator?Ze(e.items.send):"failure"===e.discriminator?Xe(Zo(e.error,e.interactionId,e.message)):Xe(Zo("WalletResponseFailure",e.interactionId))))).andThen((({transactionIntentHash:t})=>(e.onTransactionId&&e.onTransactionId(t),a.pollTransactionStatus(t).map((e=>({transactionIntentHash:t,status:e.status})))))).andThen((e=>{const r=[Ui,$i].includes(e.status);t?.debug({method:"sendTransaction.pollTransactionStatus.completed",response:e});const o=r?"fail":"success";return f.updateStatus({id:n.interactionId,status:o,transactionIntentHash:e.transactionIntentHash}).mapErr((()=>Zo("FailedToUpdateRequestItem",n.interactionId))).andThen((()=>(s.next(o),r?Xe(Zo("TransactionNotSuccessful",n.interactionId)):Ze(e))))}))},cancelRequest:e=>{o.next(e),f.cancel(e),s.next("fail")},ignoreTransaction:e=>{i.next(e),f.updateStatus({id:e,status:"ignored"}),s.next("fail")},requestItemModule:f,provideChallengeGenerator:e=>{v=e},provideDataRequestControl:e=>{b=t=>Ue.fromPromise(e(t),(()=>({error:"LoginRejectedByDapp",message:"Login rejected by dApp"})))},provideConnectResponseCallback:e=>{g=t=>e(t)},sendOneTimeRequest:(...e)=>E({dataRequestState:d.toDataRequestState(...e),isConnect:!1,oneTime:!0}),setRequestDataState:(...e)=>(d.setState(...e),{sendRequest:()=>E({dataRequestState:d.getState(),isConnect:!1,oneTime:!1})}),getPendingRequests:()=>f.getPending(),getTransport:()=>p.find((e=>e.isSupported())),updateSharedAccounts:()=>c.getState().mapErr((e=>(t?.error(e),{error:"FailedToReadRdtState",message:"failed to read rdt state",jsError:e}))).andThen((e=>{return E({dataRequestState:(t=e.sharedData,$r({},(e=>{t.ongoingAccounts&&(e.accounts={numberOfAccounts:t.ongoingAccounts.numberOfAccounts,withProof:t.ongoingAccounts.proof,reset:!0}),t.ongoingPersonaData&&(e.personaData={fullName:t.ongoingPersonaData.isRequestingName,phoneNumbers:t.ongoingPersonaData.numberOfRequestedPhoneNumbers,emailAddresses:t.ongoingPersonaData.numberOfRequestedEmailAddresses,reset:!1}),t.persona&&(e.persona={withProof:!1})}))),isConnect:!1,oneTime:!1});var t})),dataRequestStateModule:d,interactionStatusChange$:s.asObservable(),requestItems$:f.requests$,disconnect:()=>{f.getPending().map((e=>{e.forEach((e=>{e.showCancel&&o.next(e.interactionId)}))})),c.reset(),f.clear(),p.forEach((e=>e?.disconnect()))},destroy:()=>{c.destroy(),f.destroy(),e.providers.transports?.forEach((e=>e.destroy())),x.unsubscribe()}}},Vi=(e,t)=>{const n=t?`${e}:${t}`:e,r=()=>new Promise(((e,t)=>{try{e(localStorage.getItem(n))}catch(e){t(e)}})),o=e=>new Promise(((t,r)=>{try{localStorage.setItem(n,e),t()}catch(e){r(e)}})),i=()=>Ue.fromPromise(r(),Qr).andThen((e=>e?eo(e):Ze({}))),s=e=>Ue.fromPromise(r(),Qr).andThen((e=>e?eo(e):Ze(void 0))).map((t=>t?t[e]:void 0)),a=e=>i().andThen((t=>oo({...t,...e}).asyncAndThen((e=>Ue.fromPromise(o(e),Qr).map((()=>{window.dispatchEvent(new StorageEvent("storage",{key:n,oldValue:JSON.stringify(t),newValue:e}))})))))),l=()=>Ue.fromPromise(r(),Qr).andThen((e=>e?eo(e):Ze(void 0))),c=e=>l().andThen((t=>oo({...t??{},...e}).asyncAndThen((e=>Ue.fromPromise(o(e),Qr).map((()=>{window.dispatchEvent(new StorageEvent("storage",{key:n,oldValue:JSON.stringify(t),newValue:e}))})))))),u=ve(se(window,"storage"),_e({key:n,newValue:null,oldValue:null})).pipe(le((e=>e.key===n)),te((e=>{const{key:t,newValue:n,oldValue:r}=e;if(!t)return[];const[o,i,s,a]=t.split(":");if("rdt"===o&&i&&s){const e=r?eo(r):Ze(void 0),o=n?eo(n):Ze(void 0);return[Ge.combine([e,o]).map((([e,n])=>({key:t,partition:a,newValue:n,oldValue:e})))]}return[]})),le((e=>e.isOk())),Q((({value:e})=>e)));return{getItems:i,getItemById:s,removeItemById:e=>i().andThen((t=>{const{[e]:n,...r}=t;return a(r)})),patchItem:(e,t)=>s(e).andThen((n=>n?a({[e]:{...n,...t}}):Xe(new Error("Item not found")))),setItems:a,getItemList:()=>i().map(Object.values),getPartition:t=>Vi(e,t),setState:c,getState:l,patchState:e=>l().mapErr((()=>({reason:"FailedToReadFromLocalStorage"}))).andThen((t=>t?c({...t,...e}).mapErr((()=>({reason:"FailedToWriteToLocalStorage"}))):Xe({reason:"PatchingStateFailed"}))),clear:()=>Ue.fromPromise(new Promise((e=>e(localStorage.removeItem(n)))),Qr),storage$:u}};globalThis.Buffer||(globalThis.Buffer=r.hp);var Gi=e=>{const t=e.dAppDefinitionAddress??e.applicationDappDefinitionAddress,{networkId:r,providers:o,logger:i,onDisconnect:s,gatewayBaseUrl:a,applicationName:l,applicationVersion:c,useCache:u=!0}=e||{},d=o?.storageModule??Vi(`rdt:${t}:${r}`),f=o?.stateModule??(e=>{const t=e?.logger?.getSubLogger({name:"StateModule"}),n=e.providers.storageModule,r=new h,o=e=>n.setState(e),i=()=>n.getState().andThen((e=>e?Ze(e):Xe(Zo("StateNotFound","")))),s={walletData:Oi,loggedInTimestamp:"",sharedData:{}},a=()=>n.setState(s).map((()=>{c()}));i().mapErr((()=>{t?.debug({method:"initializeState.loadedCorruptedStateFromStorage"}),a().map((()=>{c()}))})).map((()=>{c()}));const l=new Re(void 0),c=()=>{n.getState().map((e=>{l.next(e?.walletData)}))},u=l.asObservable().pipe(le((e=>!!e)));return{setState:o,patchState:e=>i().andThen((t=>o({...t,...e}))),getState:i,walletData$:u,emitWalletData:c,getWalletData:()=>l.value,reset:a,storage$:n.storage$,destroy:()=>{r.unsubscribe()}}})({logger:i,providers:{storageModule:d.getPartition("state")}}),p=o?.gatewayModule??(e=>{const t=e.logger?.getSubLogger({name:"GatewayModule"}),n=e?.providers?.gatewayApiService??(({basePath:e,applicationName:t,applicationVersion:n,applicationDappDefinitionAddress:r})=>{const o=(o,i)=>no(fetch(`${e}${o}`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json","RDX-Client-Name":"@radixdlt/radix-dapp-toolkit","RDX-Client-Version":"2.0.0","RDX-App-Name":t,"RDX-App-Version":n,"RDX-App-Dapp-Definition":r}})).map((e=>e.data));return{getTransactionStatus:e=>o("/transaction/status",{intent_hash:e}),getEntityMetadataPage:e=>o("/state/entity/page/metadata",{address:e})}})(e.clientConfig);return{pollTransactionStatus:r=>{const o=(({maxDelayTime:e=1e4,multiplier:t=2,timeout:n,interval:r=2e3}={})=>{const o=new Oe;let i=0;const s=ve(_e(0),o.pipe(Q((()=>(i+=1,i))))).pipe(ce((n=>{const o=n*r*t;return Te(o>e?e:o).pipe(Q((()=>Ze(n))))})));return{trigger:o,withBackoff$:n?ve(s,Te(n).pipe(Q((()=>Xe({error:"timeout"}))))):s}})(e.retryConfig),i=new Set(["CommittedSuccess","CommittedFailure","Rejected"]);return Ue.fromPromise(et(o.withBackoff$.pipe(ce((e=>e.isErr()?[Xe(Zo("failedToPollSubmittedTransaction",""))]:(t?.debug(`pollingTxStatus retry #${e.value+1}`),n.getTransactionStatus(r).map((e=>{if(i.has(e.status))return e;o.trigger.next()})).mapErr((e=>(t?.debug(e),Zo("failedToPollSubmittedTransaction",""))))))),le((e=>e.isOk()&&!!e.value||e.isErr())),xe())),(e=>e)).andThen((e=>e))},gatewayApi:n,configuration:e.clientConfig}})({logger:i,clientConfig:Wi({networkId:r,dAppDefinitionAddress:t,gatewayBaseUrl:a,applicationName:l,applicationVersion:c})}),m=o?.walletRequestModule??Ki({logger:i,useCache:u,networkId:r,dAppDefinitionAddress:t,requestInterceptor:e.requestInterceptor,providers:{stateModule:f,storageModule:d,gatewayModule:p}}),y=o?.connectButtonModule??(e=>{if([typeof window,typeof document].includes("undefined"))return{status$:Yr,onConnect$:Yr,onDisconnect$:Yr,onUpdateSharedAccounts$:Yr,onShowPopover$:Yr,onCancelRequestItem$:Yr,onLinkClick$:Yr,setStatus:()=>{},setMode:()=>{},setTheme:()=>{},setActiveTab:()=>{},setIsMobile:()=>{},setIsWalletLinked:()=>{},setIsExtensionAvailable:()=>{},setConnected:()=>{},setLoggedInTimestamp:()=>{},setRequestItems:()=>{},setAccounts:()=>{},setPersonaData:()=>{},setPersonaLabel:()=>{},setDappName:()=>{},destroy:()=>{},disconnect:()=>{}};n.e(313).then(n.bind(n,313));const t=e?.logger?.getSubLogger({name:"ConnectButtonModule"}),r=e.subjects||{onConnect:new Oe,onDisconnect:new Oe,onUpdateSharedAccounts:new Oe,connected:new Pe(1),requestItems:new Re([]),onCancelRequestItem:new Oe,onIgnoreTransactionItem:new Oe,accounts:new Re([]),onShowPopover:new Oe,status:new Re("default"),loggedInTimestamp:new Re(""),isMobile:new Re(ro()),isWalletLinked:new Re(!1),showPopoverMenu:new Re(!1),isExtensionAvailable:new Re(!1),fullWidth:new Re(!1),activeTab:new Re("sharing"),mode:new Re("light"),theme:new Re("radix-blue"),avatarUrl:new Re(""),personaLabel:new Re(""),personaData:new Re([]),dAppName:new Re(""),onLinkClick:new Oe},o=e.dAppDefinitionAddress,{baseUrl:i,accountsPath:s,transactionPath:a}=e.explorer??{baseUrl:zi[e.networkId].dashboardUrl,transactionPath:"/transaction/",accountsPath:"/account/"},l=e.providers.storageModule,c=e.providers.stateModule,u=e.providers.gatewayModule,d=e.providers.walletRequestModule,f=e.onConnect||(e=>{e()}),p=d.getTransport(),m=new h,y=se(window,"onConnectButtonRender");m.add(y.pipe(Q((()=>document.querySelector("radix-connect-button"))),le((e=>!!e)),ce((e=>{t?.debug({observable:"onConnectButtonRender$"});const n=se(e,"onConnect").pipe(ue((()=>{f((e=>r.onConnect.next(e)))}))),o=se(e,"onDisconnect").pipe(ue((()=>r.onDisconnect.next()))),i=se(e,"onLinkClick").pipe(ue((e=>{r.onLinkClick.next(e.detail)}))),s=se(e,"onDestroy").pipe(Q((()=>(t?.debug({observable:"onDestroy$"}),!0)))),a=se(e,"onCancelRequestItem").pipe(ue((e=>{const n=e.detail.id;t?.debug({method:"onCancelRequestItem",id:n}),r.onCancelRequestItem.next(n)}))),l=se(e,"onIgnoreTransactionItem").pipe(ue((e=>{const n=e.detail.id;t?.debug({method:"onIgnoreTransactionItem",id:n}),r.onIgnoreTransactionItem.next(n)}))),c=se(e,"onUpdateSharedAccounts").pipe(ue((()=>{t?.debug("onUpdateSharedAccounts"),r.onUpdateSharedAccounts.next()}))),u=se(e,"onShowPopover").pipe(ue((()=>r.onShowPopover.next()))),d=r.isWalletLinked.pipe(ue((t=>e.isWalletLinked=t))),p=r.isExtensionAvailable.pipe(ue((t=>e.isExtensionAvailable=t))),m=r.status.pipe(ue((t=>e.status=t))),h=r.mode.pipe(ue((t=>e.mode=t))),y=r.connected.pipe(ue((t=>e.connected=t))),g=r.isMobile.pipe(ue((t=>e.isMobile=t))),b=r.loggedInTimestamp.pipe(ue((t=>e.loggedInTimestamp=t))),v=r.activeTab.pipe(ue((t=>e.activeTab=t))),w=r.requestItems.pipe(ue((t=>e.requestItems=t))),E=r.showPopoverMenu.pipe(ue((t=>{t?e.setAttribute("showPopoverMenu","true"):e.removeAttribute("showPopoverMenu")}))),x=r.accounts.pipe(ue((t=>e.accounts=t))),_=r.personaData.pipe(ue((t=>e.personaData=t))),I=r.personaLabel.pipe(ue((t=>e.personaLabel=t))),k=r.dAppName.pipe(ue((t=>e.dAppName=t))),A=ve(n,m,r.theme.pipe(ue((t=>e.theme=t))),h,y,E,w,b,g,v,d,p,o,a,l,x,_,I,c,u,k,i).pipe(Q((()=>!1)));return ve(A,s).pipe(le((e=>!!e)),xe(),(S=()=>{t?.debug({observable:"onConnectButtonRender$.finalize"})},X((function(e,t){try{e.subscribe(t)}finally{t.add(S)}}))));var S}))).subscribe()),m.add((p&&p.isAvailable$||_e(!0)).pipe(ue((e=>r.isExtensionAvailable.next(e)))).subscribe()),m.add((p&&p.isLinked$||_e(!0)).pipe(ue((e=>r.isWalletLinked.next(e)))).subscribe()),m.add(r.onLinkClick.pipe(ue((({type:e,data:t})=>{if(["account","transaction"].includes(e)){if(!i||!window)return;const n=`${i}${"transaction"===e?a:s}${t}`;window.open(n)}else"setupGuide"===e?window.open("https://wallet.radixdlt.com"):"getWallet"===e?window.open("https://app.radixdlt.com/qr-code"):"showQrCode"===e&&p?.showQrCode&&p.showQrCode()}))).subscribe());const g={status$:r.status.asObservable(),onConnect$:r.onConnect.asObservable(),onDisconnect$:r.onDisconnect.asObservable(),onShowPopover$:r.onShowPopover.asObservable(),onUpdateSharedAccounts$:r.onUpdateSharedAccounts.asObservable(),onCancelRequestItem$:r.onCancelRequestItem.asObservable(),onIgnoreTransactionItem$:r.onIgnoreTransactionItem.asObservable(),onLinkClick$:r.onLinkClick.asObservable(),setStatus:e=>r.status.next(e),setTheme:e=>r.theme.next(e),setMode:e=>r.mode.next(e),setActiveTab:e=>r.activeTab.next(e),setIsMobile:e=>r.isMobile.next(e),setIsWalletLinked:e=>r.isWalletLinked.next(e),setIsExtensionAvailable:e=>r.isExtensionAvailable.next(e),setLoggedInTimestamp:e=>r.loggedInTimestamp.next(e),setConnected:e=>r.connected.next(e),setShowPopoverMenu:e=>r.showPopoverMenu.next(e),setRequestItems:e=>r.requestItems.next(e),setAccounts:e=>r.accounts.next(e),setPersonaData:e=>r.personaData.next(e),setPersonaLabel:e=>r.personaLabel.next(e),setDappName:e=>r.dAppName.next(e),disconnect:()=>{r.connected.next(!1),r.status.next("default")},destroy:()=>{m.unsubscribe()}};return m.add(c.storage$.pipe(ce((()=>c.getState().map((e=>{const{personaData:t,accounts:n,personaLabel:r,connected:o}=(e=>{const t=e.accounts??[],n=e?.persona?.label??"",r=!!e?.persona,o=e?.personaData?.map((e=>{if("fullName"===e.entry){const{variant:t,givenNames:n,familyName:r,nickname:o}=e.fields;return{value:"western"===t?`${n}${o?` "${o}" `:" "}${r}`:`${r}${o?` "${o}" `:" "}${n}`,field:"fullName"}}return"emailAddresses"===e.entry?{value:e.fields[0],field:"emailAddress"}:"phoneNumbers"===e.entry?{value:e.fields[0],field:"phoneNumber"}:void 0})).filter((e=>!!e&&!!e.value?.trim()));return{accounts:t,personaLabel:n,connected:r,personaData:o}})(e.walletData);g.setLoggedInTimestamp(e.loggedInTimestamp),g.setAccounts(n),g.setPersonaData(t),g.setPersonaLabel(r),g.setConnected(o)}))))).subscribe()),m.add(r.onCancelRequestItem.pipe(ue((e=>{d.cancelRequest(e)}))).subscribe()),m.add(r.onIgnoreTransactionItem.pipe(ue((e=>{d.ignoreTransaction(e)}))).subscribe()),m.add(d.requestItems$.pipe(ue((e=>{e.find((e=>"pending"===e.status))&&g.setStatus("pending"),g.setRequestItems([...e].reverse())}))).subscribe()),m.add(r.onShowPopover.pipe(ue((()=>{d.getPendingRequests().map((e=>{e.length>0&&r.activeTab.next("requests")}))}))).subscribe()),m.add(r.onConnect.pipe(ce((()=>c.reset().andThen((()=>d.sendRequest({isConnect:!0,oneTime:!1}))).map((()=>ro()&&r.showPopoverMenu.next(!1)))))).subscribe()),m.add(r.onUpdateSharedAccounts.pipe(ce((()=>d.updateSharedAccounts()))).subscribe()),m.add(r.onDisconnect.pipe(ue((()=>{r.connected.next(!1),r.status.next("default"),d.disconnect(),e.onDisconnect&&e.onDisconnect()}))).subscribe()),m.add(l.storage$.pipe(ce((()=>l.getState().map((e=>{e?.status&&r.status.next(e.status)}))))).subscribe()),m.add(d.interactionStatusChange$.pipe(te((e=>(l.setState({status:"success"===e?"success":"error"}),Te(2e3).pipe(ue((()=>{d.getPendingRequests().map((e=>{l.setState({status:e.length?"pending":"default"})}))}))))))).subscribe()),o&&u.gatewayApi.getEntityMetadataPage(o).map((e=>e?.items.find((e=>"name"===e.key))?.value?.typed?.value)).map((e=>{r.dAppName.next(e??"Unnamed dApp")})),g})({logger:i,networkId:r,explorer:e.explorer,onDisconnect:s,dAppDefinitionAddress:t,providers:{stateModule:f,walletRequestModule:m,gatewayModule:p,storageModule:d.getPartition("connectButton")}});return{walletApi:{setRequestData:m.setRequestDataState,sendRequest:()=>m.sendRequest({isConnect:!1,oneTime:!1}),provideChallengeGenerator:e=>m.provideChallengeGenerator(e),dataRequestControl:e=>{m.provideDataRequestControl(e)},provideConnectResponseCallback:m.provideConnectResponseCallback,updateSharedAccounts:()=>m.updateSharedAccounts(),sendOneTimeRequest:m.sendOneTimeRequest,sendTransaction:e=>m.sendTransaction(e),walletData$:f.walletData$,getWalletData:f.getWalletData},buttonApi:{setTheme:y.setTheme,setMode:y.setMode,status$:y.status$},gatewayApi:{clientConfig:p.configuration},disconnect:()=>{m.disconnect(),y.disconnect(),s&&s()},destroy:()=>{f.destroy(),m.destroy(),y.destroy()}}}}},a={};function l(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return s[e].call(n.exports,n,n.exports,l),n.exports}l.m=s,e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},l.a=(o,i,s)=>{var a;s&&((a=[]).d=-1);var l,c,u,d=new Set,f=o.exports,p=new Promise(((e,t)=>{u=t,c=e}));p[t]=f,p[e]=e=>(a&&e(a),d.forEach(e),p.catch((e=>{}))),o.exports=p,i((o=>{var i;l=(o=>o.map((o=>{if(null!==o&&"object"==typeof o){if(o[e])return o;if(o.then){var i=[];i.d=0,o.then((e=>{s[t]=e,r(i)}),(e=>{s[n]=e,r(i)}));var s={};return s[e]=e=>e(i),s}}var a={};return a[e]=e=>{},a[t]=o,a})))(o);var s=()=>l.map((e=>{if(e[n])throw e[n];return e[t]})),c=new Promise((t=>{(i=()=>t(s)).r=0;var n=e=>e!==a&&!d.has(e)&&(d.add(e),e&&!e.d&&(i.r++,e.push(i)));l.map((t=>t[e](n)))}));return i.r?c:s()}),(e=>(e?u(p[n]=e):c(f),r(a)))),a&&a.d<0&&(a.d=0)},l.d=(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.f={},l.e=e=>Promise.all(Object.keys(l.f).reduce(((t,n)=>(l.f[n](e,t),t)),[])),l.u=e=>e+".main.js",l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o={},i="client:",l.l=(e,t,n,r)=>{if(o[e])o[e].push(t);else{var s,a;if(void 0!==n)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==i+n){s=d;break}}s||(a=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,l.nc&&s.setAttribute("nonce",l.nc),s.setAttribute("data-webpack",i+n),s.src=e),o[e]=[t];var f=(t,n)=>{s.onerror=s.onload=null,clearTimeout(p);var r=o[e];if(delete o[e],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((e=>e(n))),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),a&&document.head.appendChild(s)}},l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;l.g.importScripts&&(e=l.g.location+"");var t=l.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),l.p=e})(),(()=>{var e={792:0};l.f.j=(t,n)=>{var r=l.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=o);var i=l.p+l.u(t),s=new Error;l.l(i,(n=>{if(l.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,o,[i,s,a]=n,c=0;if(i.some((t=>0!==e[t]))){for(r in s)l.o(s,r)&&(l.m[r]=s[r]);a&&a(l)}for(t&&t(n);c<i.length;c++)o=i[c],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunkclient=self.webpackChunkclient||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),l(439)})();
//# sourceMappingURL=main.js.map