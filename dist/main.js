/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var e,t,n,r,a,i,o={439:(e,t,n)=>{n.a(e,(async(e,t)=>{try{var r=n(405);const U="account_tdx_2_12yjctk8r4csusav9c7z9a7j9vahmnnhnht5ym2ffngh9rqyajsgsdd";let z="resource_tdx_2_1ngnptx4ly75dwcv2knf6cp957qfjjprsz90kc8qmqh4ttamj4a2as3",Z="component_tdx_2_1cqjzlg9w5vzs7a6ckue8flnypjjja5pfktpzjapfgv0vzwphgmt38p",V="component_tdx_2_1cpktta3wywkjphzmfxe4fy5ssuedq8hpygml08c06kr8gk8rlkwm0t",H="component_tdx_2_1cra5k08la9gxt46de3ljpt85g20jqsyy89cwu5typk360h7vyhn2ke",W="pool_tdx_2_1c5t7qreyk8jyg2peseqfd79k8uqmcnwqekey7hdxhvqh5x54wl9xkc",K="resource_tdx_2_1t5j9ml0u4cazp58ycs8wmgsanrs0x5shffd3ay0s32ush58l3t2a32",G="resource_tdx_2_1ngms5ywepk69z9qgtsrmmf73w2lxgqj7e9mgpsvjuc5pw5yzdqa7eu",J="resource_tdx_2_1t5zap4sfxwwghv4ft7kgtx26llxt4msepqnvzr97un7aegxa2zj89x",X="resource_tdx_2_1tknxxxxxxxxxradxrdxxxxxxxxx009923554798xxxxxxxxxtfd2jc",Y="resource_tdx_2_1t4tsw7n2d0yfs27myw7x5khx00an2lwnvdsj9tyhkv3l8xvgn7mxdc",Q="resource_tdx_2_1t4mjl2p89k58uxfvrxxeqjl65erdmu9zlyf6m5txt7vxnugltmxzw3",ee="resource_tdx_2_1n2wy83wwhgsq5fpjx4g5uljwr0rhuen87x96zdfd2j0urtzm4tuc8l",te="resource_tdx_2_1ntyu6fsh37l98vecwwsw47rgt2lxakfaqp0c9n24q555k5kapvc6gw",ne="component_tdx_2_1cp3k6zm5xqgx0wcf0qtcndjzlxvpusdfpm4eq4838wuswn5h66j8px",re="account_tdx_2_129kt8327ulqyq0ahdh74plu0r23qn9jugxppehggtp27m9n063heec",ae="internal_keyvaluestore_tdx_2_1krnw9ezkq0s88ulru4auanycfad3xnk4qhqfdcdaxjf3jtusv2wp4w",ie="5c805da66318c6318c61f5a61b4c6318c6318cf794aa8d295f14e6318c6318c6",oe=["5c805d78ab93fb11d006a1df76c2f432fc9e7db5f1c5d3931900a25ac8298ce3","5c805d57077a6a6bc8982bdb23bc6a5ae67bfb357dd3636122ac97b323f39988"];const se=[["XRD","resource_tdx_2_1tknxxxxxxxxxradxrdxxxxxxxxx009923554798xxxxxxxxxtfd2jc","","images/radix-logo.svg",1,"XRD",0],["Hermes LSU","resource_tdx_2_1th9k30slgu9uekfu42llstgcq80dx8d59hxgexe5hdaqzyp8etc2dv","validator_tdx_2_1s0l6946a2kx33vjmuuh3qrax3ueauznd2fc3d69md2exx29rcnjmnj","https://hermesprotocol.io/assets/images/icon.svg",1,"LSU",0],["Radst0kes LSU","resource_tdx_2_1thutwwmqwk6z4vyju8v0fhdlxdhgj2h7kgc8822cfsdeyjp7e5j3hd","validator_tdx_2_1sdvnyupyl2atq72f5lsq7lcyw3cc4vnevf05yvtemn5c8fyncvv3xw","images/radstokes-logo.png",1,"LSU",0]];let ue,le,ce,de,pe,fe,me,he,ye,ge,_e,ve,be,we,xe,ke,Ee,Ie,Se,Ce,Te,Ae,Oe,Pe,Re,qe,Le,Be,Ne,De,je,Fe,Me,$e,Ue,ze,Ze,Ve,He,We,Ke,Ge,Je,Xe,Ye,Qe,et,tt=[],nt=[],rt=[],at=.001,it=!0,ot=!1,st=!1,ut=!0,lt=!1,ct=[],dt=[];function pt(e,t,n){1===n?Toastify({text:`${t} submitted successfully!`,duration:5e3,close:!0,gravity:"top",position:"right",stopOnFocus:!0,style:{background:"linear-gradient(90deg, rgba(65,58,179,1) 0%, rgba(90,90,172,1) 41%, rgba(118,133,180,1) 100%)"},onClick:function(){}}).showToast():2===n?Toastify({text:`${t} successful! Click for more info.`,duration:5e3,destination:`https://stokenet-dashboard.radixdlt.com/transaction/${e}`,newWindow:!0,close:!0,gravity:"top",position:"right",stopOnFocus:!0,style:{background:"linear-gradient(90deg, rgba(86,130,80,1) 0%, rgba(94,172,90,1) 41%, rgba(124,180,118,1) 100%)"},onClick:function(){}}).showToast():3===n&&Toastify({text:"Transaction failed.",duration:5e3,newWindow:!0,close:!0,gravity:"top",position:"right",stopOnFocus:!0,style:{background:"linear-gradient(90deg, rgba(152,67,67,1) 0%, rgba(177,72,72,1) 41%, rgba(227,90,90,1) 100%)"},onClick:function(){}}).showToast()}function ft(e,t,n){return le*(e/t)/(n*_e)}function mt(e,t,n){return e*_e*t*n/le}function ht(e,t,n){return e*le/(t*_e*n)}function yt(e){var t=e.parentElement.querySelector(".dropdown-custom-button"),n=t.querySelector(".chevron-down"),r=t.querySelector(".chevron-up");"none"===e.style.display?(n.style.display="block",r.style.display="none"):(n.style.display="none",r.style.display="block")}function gt(){var e=document.getElementById("provide"),t=!0;0==a||parseFloat(document.getElementById("amount-stab-provide-lp").value)>ke||parseFloat(document.getElementById("amount-xrd-provide-lp").value)>we||""==document.getElementById("amount-xrd-provide-lp").value||""==document.getElementById("amount-stab-provide-lp").value?t=!1:0!=parseFloat(document.getElementById("amount-xrd-provide-lp").value)&&0!=parseFloat(document.getElementById("amount-stab-provide-lp").value)||(t=!1),t?(e.style.backgroundColor="",e.disabled=!1):(e.style.backgroundColor="hsl(0, 0%, 78%)",e.disabled=!0)}function _t(){var e=document.getElementById("remove"),t=!0;(0==a||parseFloat(document.getElementById("amount-remove-lp").value)>xe||""==document.getElementById("amount-remove-lp").value||0==parseFloat(document.getElementById("amount-remove-lp").value))&&(t=!1),t?(e.style.backgroundColor="",e.disabled=!1):(e.style.backgroundColor="hsl(0, 0%, 78%)",e.disabled=!0)}function vt(){var e=document.getElementById("mint-button"),t=!0;(0==a||parseFloat(document.getElementById("colToUse").value)>Fe||""==document.getElementById("colToUse").value||0==parseFloat(document.getElementById("colToUse").value)||ze<1)&&(t=!1),t?(e.style.backgroundColor="",e.disabled=!1):(e.style.backgroundColor="hsl(0, 0%, 78%)",e.disabled=!0)}function bt(){var e=document.getElementById("close-entire-button"),t=!0,n="";0==a?t=!1:parseFloat(Pe)>ke?(t=!1,n="Insufficient STAB to close loan."):null==Me?t=!1:"Marked"==Ae&&(t=!1,n="Cannot close marked loans."),t?(e.style.backgroundColor="",e.disabled=!1,document.getElementById("warning-message-close").style.display="none"):(e.style.backgroundColor="hsl(0, 0%, 78%)",e.disabled=!0,""!=n&&(document.getElementById("message-close").textContent=n,document.getElementById("warning-message-close").style.display="block"))}function wt(){var e=document.getElementById("add-col-button"),t=!0,n=!1,r=!1;0==a||null==Me||"Liquidated"==Ae||"ForceLiquidated"==Ae||"Closed"==Ae?t=!1:parseFloat(document.getElementById("amount-to-remove").value)>Fe||Ge<150?(t=!1,n=!0):""!=document.getElementById("amount-to-remove").value&&0!=parseFloat(document.getElementById("amount-to-remove").value)||(t=!1,n=!0,r=!0),t?(e.style.backgroundColor="",e.disabled=!1,document.getElementById("slider-col").disabled=!1,document.getElementById("amount-to-remove").disabled=!1,document.getElementById("max-new-cr").disabled=!1,document.getElementById("new-cr").style.color="",document.getElementById("max-new-cr").style.cursor="pointer",document.getElementById("max-new-cr").style.fontWeight=""):(e.style.backgroundColor="hsl(0, 0%, 78%)",e.disabled=!0,0==n&&(document.getElementById("new-cr").style.color="",document.getElementById("slider-col").disabled=!0,document.getElementById("amount-to-remove").disabled=!0,document.getElementById("max-new-cr").disabled=!0,document.getElementById("max-new-cr").style.cursor="default",document.getElementById("new-cr").textContent="New CR: -",document.getElementById("max-new-cr").textContent="Max CR: -",document.getElementById("max-new-cr").style.fontWeight="normal"),1==n&&(document.getElementById("new-cr").style.color=1==r?"":"red",document.getElementById("max-new-cr").style.cursor="pointer",document.getElementById("max-new-cr").style.fontWeight="",document.getElementById("slider-col").disabled=!1,document.getElementById("amount-to-remove").disabled=!1,document.getElementById("max-new-cr").disabled=!1))}function xt(){document.getElementById("new-cr").style.color="";var e=document.getElementById("remove-col-button"),t=!0,n=!1,r=!1;0==a||null==Me||"Liquidated"==Ae||"ForceLiquidated"==Ae||"Closed"==Ae?t=!1:et<150?(t=!1,n=!0):""!=document.getElementById("amount-to-remove").value&&0!=parseFloat(document.getElementById("amount-to-remove").value)||(t=!1,n=!0,r=!0),t?(e.style.backgroundColor="",e.disabled=!1,document.getElementById("slider-col").disabled=!1,document.getElementById("amount-to-remove").disabled=!1,document.getElementById("max-new-cr").disabled=!1,document.getElementById("max-new-cr").style.cursor="pointer",document.getElementById("max-new-cr").style.fontWeight=""):(e.style.backgroundColor="hsl(0, 0%, 78%)",e.disabled=!0,0==n&&(document.getElementById("new-cr").style.color="",document.getElementById("slider-col").disabled=!0,document.getElementById("amount-to-remove").disabled=!0,document.getElementById("max-new-cr").disabled=!0,document.getElementById("max-new-cr").style.cursor="default",document.getElementById("new-cr").textContent="New CR: -",document.getElementById("max-new-cr").textContent="Max CR: -",document.getElementById("max-new-cr").style.fontWeight="normal"),1==n&&(document.getElementById("new-cr").style.color=1==r?"":"red",document.getElementById("max-new-cr").style.cursor="pointer",document.getElementById("max-new-cr").style.fontWeight="",document.getElementById("slider-col").disabled=!1,document.getElementById("amount-to-remove").disabled=!1,document.getElementById("max-new-cr").disabled=!1))}function kt(){var e=document.getElementById("add-debt-button"),t=!0,n=!1;0==a||null==Me||"Liquidated"==Ae||"ForceLiquidated"==Ae||"Closed"==Ae?t=!1:parseFloat(document.getElementById("amount-to-remove-debt").value)>ke||We<150?(t=!1,n=!0):""!=document.getElementById("amount-to-remove-debt").value&&0!=parseFloat(document.getElementById("amount-to-remove-debt").value)||(t=!1,n=!0),t?(e.style.backgroundColor="",e.disabled=!1,document.getElementById("slider-debt").disabled=!1,document.getElementById("amount-to-remove-debt").disabled=!1,document.getElementById("max-new-cr-debt").disabled=!1,document.getElementById("new-cr-debt").style.color="",document.getElementById("max-new-cr-debt").style.cursor="pointer",document.getElementById("max-new-cr-debt").style.fontWeight=""):(e.style.backgroundColor="hsl(0, 0%, 78%)",e.disabled=!0,0==n&&(document.getElementById("slider-debt").disabled=!0,document.getElementById("amount-to-remove-debt").disabled=!0,document.getElementById("max-new-cr-debt").disabled=!0,document.getElementById("max-new-cr-debt").style.cursor="default",document.getElementById("new-cr-debt").textContent="New CR: -",document.getElementById("max-new-cr-debt").textContent="Max CR: -",document.getElementById("max-new-cr-debt").style.fontWeight="normal"),1==n&&(document.getElementById("max-new-cr-debt").style.cursor="pointer",document.getElementById("max-new-cr-debt").style.fontWeight="",document.getElementById("slider-debt").disabled=!1,document.getElementById("amount-to-remove-debt").disabled=!1,document.getElementById("max-new-cr-debt").disabled=!1))}function Et(){var e=document.getElementById("remove-debt-button"),t=!0,n=!1;document.getElementById("new-cr-debt").style.color="black",0==a||null==Me||"Liquidated"==Ae||"ForceLiquidated"==Ae||"Closed"==Ae?t=!1:parseFloat(document.getElementById("amount-to-remove-debt").value)>ke?(t=!1,n=!0):parseFloat(Qe)<150?(t=!1,n=!0,document.getElementById("new-cr-debt").style.color="red"):""!=document.getElementById("amount-to-remove-debt").value&&0!=parseFloat(document.getElementById("amount-to-remove-debt").value)||(t=!1,n=!0),t?(e.style.backgroundColor="",e.disabled=!1,document.getElementById("slider-debt").disabled=!1,document.getElementById("amount-to-remove-debt").disabled=!1,document.getElementById("max-new-cr-debt").disabled=!1,document.getElementById("max-new-cr-debt").style.cursor="pointer",document.getElementById("max-new-cr-debt").style.fontWeight=""):(e.style.backgroundColor="hsl(0, 0%, 78%)",e.disabled=!0,0==n&&(document.getElementById("slider-debt").disabled=!0,document.getElementById("amount-to-remove-debt").disabled=!0,document.getElementById("max-new-cr-debt").disabled=!0,document.getElementById("max-new-cr-debt").style.cursor="default",document.getElementById("new-cr-debt").textContent="New CR: -",document.getElementById("max-new-cr-debt").textContent="Max CR: -",document.getElementById("max-new-cr-debt").style.fontWeight="normal"),1==n&&(document.getElementById("max-new-cr-debt").style.cursor="pointer",document.getElementById("max-new-cr-debt").style.fontWeight="",document.getElementById("slider-debt").disabled=!1,document.getElementById("amount-to-remove-debt").disabled=!1,document.getElementById("max-new-cr-debt").disabled=!1))}function It(){var e=document.getElementById("liqwithmark"),t=!0,n="";0==a?t=!1:parseFloat(Pe)>ke?(t=!1,n="Insufficient STAB to liquidate loan."):(null==Ue||"Pending"==document.getElementById("marker-state").textContent)&&(t=!1),t?(e.style.backgroundColor="",e.disabled=!1,document.getElementById("warning-message-liq").style.display="none"):(e.style.backgroundColor="hsl(0, 0%, 78%)",e.disabled=!0,document.getElementById("warning-message-liq").style.display="none",""!=n&&(document.getElementById("warning-message-liq").style.display="block"))}function St(){if(1!=Ye){var e=document.getElementById("liqnextskip"),t=!0,n="";0==a?t=!1:parseFloat(Je)>ke&&(t=!1,n="Insufficient STAB to liquidate loan."),t?(e.style.backgroundColor="",e.disabled=!1,document.getElementById("warning-liq-not-enough-stab").style.display="none"):(e.style.backgroundColor="hsl(0, 0%, 78%)",e.disabled=!0,""!=n&&(document.getElementById("warning-liq-not-enough-stab").style.display="block"))}}function Ct(){var e,t;e=document.getElementById("sell"),t=!0,(0==a||1==it&&parseFloat(document.getElementById("amount-sell").value)>we||0==it&&parseFloat(document.getElementById("amount-sell").value)>ke||""==document.getElementById("amount-sell").value||0==parseFloat(document.getElementById("amount-sell").value))&&(t=!1),t?(document.getElementById("swap-warning").style.display="none",e.style.backgroundColor="",e.disabled=!1):(e.style.backgroundColor="hsl(0, 0%, 78%)",e.disabled=!0);var n=parseFloat(document.getElementById("amount-sell").value),r=parseFloat(Se),i=parseFloat(Ie),o=document.getElementById("percentage-change");if(isNaN(n)&&(n=0),1==it){var s=((c=i+n)/(l=r-r*(1-at)*n/(i+n*(1-at)))-i/r)/(i/r)*100,u=_e/le;o.style.color=i/r>u?"red":c/l<u?"green":"red",document.getElementById("percentage-change").childNodes[0].nodeValue="+"+s.toFixed(2)+"%"}else{let e=i*(1-at)*n/(r+n*(1-at));var l,c=parseFloat(i)-e;s=((l=parseFloat(r)+n)/c-r/i)/(r/i)*100,u=_e/le,o.style.color=i/r<u?"red":c/l>u?"green":"red",document.getElementById("percentage-change").childNodes[0].nodeValue="+"+s.toFixed(2)+"%"}}async function Tt(e){const t={"Content-Type":"application/json"};try{const n=await fetch("https://stokenet.radixdlt.com/status/gateway-status",{method:"POST",headers:t,body:JSON.stringify({})}),r=(await n.json()).ledger_state.epoch,a=r,i=r+2,o="https://stokenet.radixdlt.com/transaction/preview";let s="";const u=`\n            CALL_METHOD\n                Address("${Z}")\n                "mark_for_liquidation"\n                Address("resource_tdx_2_1tknxxxxxxxxxradxrdxxxxxxxxx009923554798xxxxxxxxxtfd2jc")\n                ;\n            `;for(let t=0;t<e;t++)s+=u;s+='\n            CALL_METHOD\n                Address("account_tdx_2_168z9kn6xeg7s0m7qsgdf5wmvsh0v656ndkh295d8p4j5lu47ta5rnv")\n                "deposit_batch"\n                Expression("ENTIRE_WORKTOP");\n            ';const l={manifest:s,start_epoch_inclusive:a,end_epoch_exclusive:i,tip_percentage:0,nonce:1,signer_public_keys:[{key_type:"EcdsaSecp256k1",key_hex:"0305684de356f5126befda977935827f6f74ca3b7865cd8516ca72ef7afc8c0e06"}],flags:{use_free_credit:!0,assume_all_signature_proofs:!0,skip_epoch_check:!0,disable_auth_checks:!0}},c=await fetch(o,{method:"POST",headers:t,body:JSON.stringify(l)}),d=await c.json();return console.log(d),"Succeeded"===d.receipt.status?(document.getElementById("warning-mark").style.display="none",document.getElementById("mark").style.backgroundColor="",document.getElementById("mark").disabled=!1,Ye=!1):(document.getElementById("warning-mark").style.display="block",document.getElementById("mark").style.backgroundColor="hsl(0, 0%, 78%)",document.getElementById("mark").disabled=!0,Ye=!0),d}catch(e){throw console.error("Error:",e),e}}async function At(e){const t={"Content-Type":"application/json"};try{const n=await fetch("https://stokenet.radixdlt.com/status/gateway-status",{method:"POST",headers:t,body:JSON.stringify({})}),r=(await n.json()).ledger_state.epoch,i="https://stokenet.radixdlt.com/transaction/preview",o={manifest:`CALL_METHOD\n            Address("account_tdx_2_168z9kn6xeg7s0m7qsgdf5wmvsh0v656ndkh295d8p4j5lu47ta5rnv")\n            "create_proof_of_amount"\n            Address("${J}")\n            Decimal("0.75");\n\n\n        CALL_METHOD\n            Address("${V}")\n            "free_stab"\n            Decimal("100000000");\n\n        TAKE_ALL_FROM_WORKTOP\n            Address("${K}")\n            Bucket("stab");\n\n        CALL_METHOD\n            Address("${Z}")\n            "liquidate_position_without_marker"\n            Bucket("stab")\n            true\n            ${e}i64\n            NonFungibleLocalId("#0#");\n\n        CALL_METHOD\n            Address("account_tdx_2_168z9kn6xeg7s0m7qsgdf5wmvsh0v656ndkh295d8p4j5lu47ta5rnv")\n            "deposit_batch"\n            Expression("ENTIRE_WORKTOP");\n            `,start_epoch_inclusive:r,end_epoch_exclusive:r+2,tip_percentage:0,nonce:1,signer_public_keys:[{key_type:"EcdsaSecp256k1",key_hex:"0305684de356f5126befda977935827f6f74ca3b7865cd8516ca72ef7afc8c0e06"}],flags:{use_free_credit:!0,assume_all_signature_proofs:!0,skip_epoch_check:!0,disable_auth_checks:!0}},s=await fetch(i,{method:"POST",headers:t,body:JSON.stringify(o)}),u=await s.json();if("Succeeded"===u.receipt.status){document.getElementById("warning-liq").style.display="none";const e=u.resource_changes,t=(t,n)=>{for(const r of e){const e={[t]:null,[n]:null,thirdResource:{address:null,amount:null}};for(const a of r.resource_changes)a.resource_address===t?e[t]=a.amount:a.resource_address===n?e[n]=a.amount:(e.thirdResource.address=a.resource_address,e.thirdResource.amount=a.amount);if(e[t]&&e[n]&&e.thirdResource.address)return e}return null},n=K,r=t(n,ee);r?(Je=1e8-r[n],Je<=ke?1==a&&(console.log(Je,ke),document.getElementById("liqnextskip").style.backgroundColor="",document.getElementById("liqnextskip").disabled=!1):Je>ke&&1==a?(document.getElementById("warning-liq-not-enough-stab").style.display="block",document.getElementById("warning-liq").style.display="none",document.getElementById("liqnextskip").style.backgroundColor="hsl(0, 0%, 78%)",document.getElementById("liqnextskip").disabled=!0):0==a&&(document.getElementById("warning-liq").style.display="none",document.getElementById("warning-liq-not-enough-stab").style.display="none",document.getElementById("liqnextskip").style.backgroundColor="hsl(0, 0%, 78%)",document.getElementById("liqnextskip").disabled=!0),Xe=r.thirdResource.address,document.getElementById("stab-debt").textContent=(1*Je).toFixed(2)+" STAB",document.getElementById("col-reward").textContent=(1*r.thirdResource.amount).toFixed(2)+" "+Lt(r.thirdResource.address)):console.log("Could not find all specified resources within the same parent.")}else document.getElementById("warning-liq").style.display="block",document.getElementById("warning-liq-not-enough-stab").style.display="none",document.getElementById("liqnextskip").style.backgroundColor="hsl(0, 0%, 78%)",document.getElementById("liqnextskip").disabled=!0,document.getElementById("stab-debt").textContent="-",document.getElementById("col-reward").textContent="-";return St(),u}catch(e){throw console.error("Error:",e),e}}async function Ot(){if("/incentives"===window.location.pathname){let e={resource_address:z,non_fungible_ids:[$e]};if(void 0===$e)return;await fetch("https://stokenet.radixdlt.com/state/non-fungible/data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{de=e.non_fungible_ids[0].data.programmatic_json.fields[0].elements[1].value,pe=e.non_fungible_ids[0].data.programmatic_json.fields[1].elements[1].value,he=e.non_fungible_ids[0].data.programmatic_json.fields[2].value,fe=e.non_fungible_ids[0].data.programmatic_json.fields[0].elements[0].value,me=e.non_fungible_ids[0].data.programmatic_json.fields[1].elements[0].value})).catch((e=>console.error("Error:",e))),document.getElementById("lpAmountId").textContent=(1*de).toFixed(2)+` (${(1*pe).toFixed(2)})`,document.getElementById("ilisAmountId").textContent=(1*fe).toFixed(2)+` (${(1*me).toFixed(2)})`,document.getElementById("nextClaim").textContent=Math.min(ye-he+1,5);let t=document.getElementById("stake-ilis-amount"),n=(Math.floor(10*be)/10).toLocaleString("en-US");t.textContent="max. "+n,t.style.cursor="pointer",t.addEventListener("click",(function(){document.getElementById("stake-ilis-field").value=Math.floor(10*be)/10}));let r=document.getElementById("stake-lp-amount"),a=(Math.floor(10*xe)/10).toLocaleString("en-US");r.textContent="max. "+a,r.style.cursor="pointer",r.addEventListener("click",(function(){document.getElementById("stake-lp-field").value=Math.floor(10*xe)/10}));let i=document.getElementById("unstake-ilis-amount"),o=(Math.floor(10*(fe+me))/10).toLocaleString("en-US");i.textContent="max. "+o,i.style.cursor="pointer",i.addEventListener("click",(function(){document.getElementById("unstake-ilis-field").value=Math.floor(10*(fe+me))/10}));let s=document.getElementById("unstake-lp-amount"),u=(Math.floor(10*(de+pe))/10).toLocaleString("en-US");s.textContent="max. "+u,s.style.cursor="pointer",s.addEventListener("click",(function(){document.getElementById("unstake-lp-field").value=Math.floor(10*(de+pe))/10}))}}async function Pt(){if("/liquidations"===window.location.pathname){if(void 0===Ue)return St(),void It();(async()=>{let e={resource_address:te,non_fungible_ids:[Ue]};try{let t=await fetch("https://stokenet.radixdlt.com/state/non-fungible/data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json();Be=n.non_fungible_ids[0].data.programmatic_json.fields[1].value,Ne=n.non_fungible_ids[0].data.programmatic_json.fields[4].value;let r=1e3*parseInt(Be);De=new Date(r).toLocaleString();let a=(Date.now()-new Date(r))/1e3/60,i={resource_address:G,non_fungible_ids:[n.non_fungible_ids[0].data.programmatic_json.fields[2].value]};t=await fetch("https://stokenet.radixdlt.com/state/non-fungible/data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});let o,s=await t.json();if(0==s.non_fungible_ids[0].is_burned){Oe=s.non_fungible_ids[0].data.programmatic_json.fields[0].value;const e=se.find((e=>e[1]===Oe));ve=e[4],Re=s.non_fungible_ids[0].data.programmatic_json.fields[1].value,qe=s.non_fungible_ids[0].data.programmatic_json.fields[3].value,Pe=s.non_fungible_ids[0].data.programmatic_json.fields[4].value,Le=s.non_fungible_ids[0].data.programmatic_json.fields[5].value,Ae=s.non_fungible_ids[0].data.programmatic_json.fields[6].variant_name,o=Lt(Oe)}else Re="-",qe="-",Pe="-",Le="-",Ae="Receipt burned",o="-";document.getElementById("status").textContent=Ae,"XRD"==o?(document.getElementById("collateralAmount").textContent=(1*qe).toFixed(2)+" XRD",document.getElementById("debtAmount").textContent=(1*Pe).toFixed(2)+" STAB",document.getElementById("cr").textContent=(Le*le*100).toFixed(2)+"%"):"-"==o?(document.getElementById("collateralAmount").textContent="-",document.getElementById("debtAmount").textContent="-",document.getElementById("cr").textContent="-",document.getElementById("status").style.color="red"):(document.getElementById("collateralAmount").textContent=(1*qe).toFixed(2)+" LSUs",document.getElementById("debtAmount").textContent=(1*Pe).toFixed(2)+" STAB",document.getElementById("cr").textContent=(Le*le*100).toFixed(2)+"%"),1==Ne?(document.getElementById("marker-state").style.color="red",document.getElementById("marker-state").textContent="Expired",document.getElementById("liqwithmark").querySelector(".button-text").textContent="BURN MARKER",st=!0):a>5?(document.getElementById("liqwithmark").querySelector(".button-text").textContent="LIQUIDATE",document.getElementById("marker-state").style.color="green",document.getElementById("marker-state").textContent="Useable",st=!0):(document.getElementById("liqwithmark").querySelector(".button-text").textContent="LIQUIDATE",document.getElementById("marker-state").style.color="orange",document.getElementById("marker-state").textContent="Pending",st=!1),document.getElementById("marker-time").textContent=De,"Liquidated"==Ae?(document.getElementById("status").style.color="red",document.getElementById("debtAmount").textContent="-",document.getElementById("cr").textContent="-"):"Marked"==Ae?document.getElementById("status").style.color="green":"Closed"!=Ae&&"Healthy"!=Ae||(document.getElementById("status").style.color="black"),St(),It()}catch(e){console.error("Error:",e)}})()}}async function Rt(){if("/manage-loans"===window.location.pathname){if(void 0===Me)return ut?wt():xt(),void(lt?Et():kt());let n={resource_address:G,non_fungible_ids:[Me]};await fetch("https://stokenet.radixdlt.com/state/non-fungible/data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((e=>e.json())).then((e=>{Oe=e.non_fungible_ids[0].data.programmatic_json.fields[0].value;const t=se.find((e=>e[1]===Oe));if(ve=t[4],qe=e.non_fungible_ids[0].data.programmatic_json.fields[3].value,Pe=e.non_fungible_ids[0].data.programmatic_json.fields[4].value,Ae=e.non_fungible_ids[0].data.programmatic_json.fields[6].variant_name,Ze=ft(qe,Pe,ve),Le=Ze,Fe=qt(Oe,Ke,0),ut?(Ve=100*ft(parseFloat(Fe)+parseFloat(qe),Pe,ve),Ge=(100*Ze).toFixed(2),(r=document.getElementById("slider-col")).min=Ge,r.max=Ve>1e3?1e3:Ve,r.value=Math.round(100*Ge)/100):(Ge=(100*Ze).toFixed(2),Ve=(100*Ze).toFixed(2),(r=document.getElementById("slider-col")).min=0,r.max=Ve-150,r.value=r.min),0==lt){var n=Math.max(Pe-ke,1);He=100*ft(parseFloat(qe),n,ve),We=(100*Ze).toFixed(2),(r=document.getElementById("slider-debt")).min=We,r.max=He>1e3?1e3:He,r.value=Math.round(100*We)/100}else{var r;We=(100*Ze).toFixed(2),He=(100*Ze).toFixed(2),(r=document.getElementById("slider-debt")).min=0,r.max=He-150,r.value=r.min}document.getElementById("amount-to-remove").value="",document.getElementById("amount-to-remove-debt").value="",se.forEach((e=>{e[1]===Oe&&(document.querySelector(".stab-logo").src=e[3])}))})).catch((e=>console.error("Error:",e)));let r=Lt(Oe);document.getElementById("status").textContent=Ae,document.getElementById("collateral").textContent=r;var e=document.getElementById("close-entire-button"),t=e.querySelector(".button-text");document.getElementById("collateralAmount").textContent="XRD"==r?(1*qe).toFixed(2)+" XRD":(1*qe).toFixed(2)+" LSUs",document.getElementById("debtAmount").textContent=(1*Pe).toFixed(2)+" STAB",document.getElementById("cr").textContent=(100*Ze).toFixed(2)+"%",t.textContent="CLOSE LOAN",("Liquidated"==Ae||"ForceLiquidated"==Ae)&&qe>0?(t.textContent="RETRIEVE COLLATERAL",t.color="white",e.backgroundColor="black",document.getElementById("status").style.color="red",document.getElementById("debtAmount").textContent="-",document.getElementById("cr").textContent="-"):"Marked"==Ae?(document.getElementById("new-cr").textContent="New CR: "+(100*Ze).toFixed(2)+"%",document.getElementById("max-new-cr").textContent=ut?"Max CR: "+(1*Ve).toFixed(2)+"%":"Min CR: 150%",document.getElementById("new-cr-debt").textContent="New CR: "+(100*Ze).toFixed(2)+"%",document.getElementById("max-new-cr-debt").textContent=0==lt?"Max CR: "+(1*He).toFixed(2)+"%":"Min CR: 150%",t.textContent="CLOSE LOAN",document.getElementById("status").style.color="#ef7200",e.backgroundColor="",t.color=""):"Closed"==Ae||0==qe&&("Liquidated"==Ae||"ForceLiquidated"==Ae)?(t.textContent="BURN LOAN RECEIPT",document.getElementById("status").style.color="Closed"==Ae?"black":"red",document.getElementById("debtAmount").textContent="-",document.getElementById("cr").textContent="-",document.getElementById("collateralAmount").textContent="-",e.backgroundColor="",t.color=""):"Healthy"==Ae&&(100*Ze<150?(document.getElementById("status").textContent="In Danger",document.getElementById("status").style.color="orange"):document.getElementById("status").style.color="green",document.getElementById("new-cr").textContent="New CR: "+(100*Ze).toFixed(2)+"%",document.getElementById("max-new-cr").textContent=ut?"Max CR: "+(1*Ve).toFixed(2)+"%":"Min CR: 150%",document.getElementById("new-cr-debt").textContent="New CR: "+(100*Ze).toFixed(2)+"%",document.getElementById("max-new-cr-debt").textContent=0==lt?"Max CR: "+(1*He).toFixed(2)+"%":"Min CR: 150%",t.textContent="CLOSE LOAN",e.backgroundColor="",t.color=""),bt(),ut?wt():xt(),lt?Et():kt()}}function qt(e,t,n){let r=t[n];if(r.fungible_resources&&r.fungible_resources.items){const t=r.fungible_resources.items.find((t=>t.resource_address===e));if(t&&t.vaults&&t.vaults.items.length>0)return t.vaults.items[0].amount}return 0}function Lt(e){return se.find((t=>t[1]===e))[0]}function Bt(e){return e<1?e.toFixed(5):e<10?e.toFixed(4):e<100?e.toFixed(3):e<1e3?e.toFixed(2):e<1e4?e.toFixed(1):Math.round(e).toString()}document.querySelectorAll(".decimal-only").forEach((function(e){e.addEventListener("keypress",(function(e){var t=e.which?e.which:event.keyCode,n=this.value.indexOf("."),r=this.selectionStart;(46!=t&&(t<48||t>57)||-1!=n&&r>n&&this.value.split(".")[1].length>=18&&46!=t||46==t&&(-1!=n||this.value.length-r>18))&&e.preventDefault()}))})),window.addEventListener("scroll",(function(){var e=document.querySelector(".navbar-logo-left-container");window.pageYOffset>100?e.classList.add("translucent"):e.classList.remove("translucent")}));for(var a=!1,i=document.querySelectorAll("button.wallet-necessary"),o=0;o<i.length;o++)i[o].addEventListener("click",(function(){a||(this.querySelector(".warning").style.display="block",this.querySelector(".chevron").style.display="none",this.querySelector(".button-text").style.display="none",this.querySelector(".button-warning").style.display="block",this.style.backgroundColor="red")}));function Nt(){if(!a){for(var e=0;e<i.length;e++)i[e].querySelector(".warning").style.display="none",i[e].querySelector(".chevron").style.display="block",i[e].querySelector(".button-text").style.display="block",i[e].querySelector(".button-warning").style.display="none",i[e].style.backgroundColor="";a=!0}}const Dt=(0,r.KMV)({dAppDefinitionAddress:U,networkId:r.Lvb.Stokenet,applicationName:"Stabilis",applicationVersion:"1.0.0"});if(Dt.buttonApi.setTheme("white-with-outline"),Dt.buttonApi.setMode("dark"),Dt.walletApi.setRequestData(r.$Jz.accounts().exactly(1)),"/borrow"===window.location.pathname||"/manage-loans"===window.location.pathname){var s=document.querySelector(".dropdown-custom-button"),u=window.getComputedStyle(s).width;s.style.minWidth=u;for(let zt of se){let Zt=zt[1];ct.push(Zt)}for(let Vt of se){let Ht=Vt[2];dt.push(Ht)}let Ft="https://stokenet.radixdlt.com/state/entity/details",Mt={addresses:ct,aggregation_level:"Vault",opt_ins:{ancestor_identities:!0,component_royalty_vault_balance:!0,package_royalty_vault_balance:!0,non_fungible_include_nfids:!0,explicit_metadata:[]}},$t="https://stokenet.radixdlt.com/state/validators/list",Ut={at_ledger_state:null};await fetch(Ft,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Mt)}).then((e=>e.json())).then((e=>{for(let t of e.items)se.forEach((e=>{e[1]===t.address&&(e[6]=t.details.total_supply)}))})).catch((e=>{console.error("Error:",e)})),await fetch($t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ut)}).then((e=>e.json())).then((e=>{let t=e.validators.items;for(let e=0;e<t.length;e++){let n=dt.indexOf(t[e].address);-1!==n&&(se[n][4]=se[n][6]/t[e].stake_vault.balance)}console.log(se)})).catch((e=>{console.error("Error:",e)}))}function jt(e){Dt.walletApi.walletData$.subscribe((t=>{console.log("subscription wallet data: ",t),t&&t.accounts&&t.accounts.length>0?(re=t.accounts[0].address,Nt()):(a=!1,ke=0,we=0,xe=0,Me=void 0,Ue=void 0,$e=void 0,re="account_tdx_2_129kt8327ulqyq0ahdh74plu0r23qn9jugxppehggtp27m9n063heec"),oe[0],oe[1];const n=[re,Z,H,K,W,ne],r={addresses:n,aggregation_level:"Vault",opt_ins:{ancestor_identities:!1,component_royalty_vault_balance:!1,package_royalty_vault_balance:!1,non_fungible_include_nfids:!0,explicit_metadata:["name","description"]}};(async function(){try{const e=fetch("https://stokenet.radixdlt.com/state/entity/details",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),[t]=await Promise.all([e]);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}, ${t.status}`);const[a]=await Promise.all([t.json()]);let i=[];if(n.forEach((e=>{let t=a.items.find((t=>t.address===e));t&&i.push(t)})),i.forEach((e=>{e.non_fungible_resources&&e.non_fungible_resources.items.forEach((e=>{e.resource_address===z&&e.vaults&&e.vaults.items.forEach((e=>{tt=tt.concat(e.items)})),e.resource_address===G&&e.vaults&&e.vaults.items.forEach((e=>{nt=nt.concat(e.items)})),e.resource_address===te&&e.vaults&&e.vaults.items.forEach((e=>{rt=rt.concat(e.items)}))}))})),nt.length>0){const e={resource_address:G,non_fungible_ids:nt};await fetch("https://stokenet.radixdlt.com/state/non-fungible/data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>{if(!e.ok)throw new Error("Network response was not ok "+e.statusText);return e.json()})).then((e=>{i.push(e.non_fungible_ids)})).catch((e=>{console.error("There was a problem with the fetch operation:",e)}))}return i}catch(e){console.error("Error:",e)}})().then((t=>{Ke=t,!1===e&&function(e){if(tt=[],nt=[],rt=[],_e=e[1].details.state.fields[12].value,le=e[1].details.state.fields[19].value,ge=_e/le,ve=1,"/borrow"===window.location.pathname){let h=!0;(i=document.querySelector(".dropdown-custom-content")).innerHTML="";var t=document.querySelector(".dropdown-custom-button b"),n=document.querySelector(".dropdown-custom-button");if(async function(e){const t=await fetch("https://stokenet.radixdlt.com/state/entity/details",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({addresses:[e],aggregation_level:"Vault",opt_ins:{ancestor_identities:!0,component_royalty_vault_balance:!0,package_royalty_vault_balance:!0,non_fungible_include_nfids:!0,explicit_metadata:[]}})}),n=(await t.json()).items.flatMap((e=>e.fungible_resources.items.filter((e=>se.some((t=>t[1]===e.resource_address)))).map((e=>{const t=se.find((t=>t[1]===e.resource_address));return e.name=t?t[0]:"",e.logo=t?t[3]:"",e.multiplier=t?t[4]:1,e.identifier=t?t[5]:"",e})))).map((e=>{let t=0;return e.vaults&&e.vaults.items&&e.vaults.items.length>0&&(t=parseFloat(e.vaults.items[0].amount)),{name:e.name,resourceAddress:e.resource_address,amount:t,logo:e.logo,multiplier:e.multiplier,identifier:e.identifier}}));return n.sort(((e,t)=>t.amount-e.amount)),n}(re).then((e=>{e.forEach((e=>{n.disabled=!1,n.style.backgroundColor="";var t=e.name,r=e.resourceAddress,a=e.logo,i="max. "+e.amount.toFixed(2),o=document.getElementById("slider-single");let s=document.getElementById("colToUse");r===je&&(Fe=e.amount,document.getElementById("col-max").textContent="max. "+Fe.toFixed(2).toLocaleString("en-US"));var u=document.createElement("div");u.className="dropdown-custom-option",u.dataset.logoUrl=a,u.setAttribute("tabindex","0");var l=document.createElement("img");l.src=a,l.alt="Logo",u.appendChild(l);var c=document.createElement("div");c.className="option-text";var d=document.createElement("div");d.className="option-title",d.textContent=t,c.appendChild(d);var p=document.createElement("div");p.className="option-subtext",p.textContent=i,c.appendChild(p),u.appendChild(c),u.addEventListener("click",(function(){document.getElementById("col-max").textContent="max. "+e.amount.toLocaleString("en-US"),Fe=e.amount,je=r,ue=e.identifier,ve=e.multiplier,document.querySelectorAll(".dropdown-custom-option").forEach((function(e){e.classList.remove("selected")})),u.classList.add("selected"),document.querySelector(".dropdown-custom-button b").textContent=t;var n=document.querySelector(".dropdown-custom-content");if(n.style.display="none",yt(n),document.querySelector(".stab-logo").src=a,""!==s.value){let e=1/(ge*ve)/(o.value/100)*s.value;ze=e,qe=s.value,document.getElementById("outputStab").innerHTML=Bt(e)}else{let e=1/(ge*ve)/(o.value/100);ze=e,qe=0,document.getElementById("outputStab").innerHTML=Bt(e)}""!==s.value?document.getElementById("ratio-suffix").innerHTML="STAB":document.getElementById("ratio-suffix").innerHTML="STAB/"+ue,vt()})),h&&(u.click(),h=!1),document.querySelector(".dropdown-custom-content").appendChild(u)}))})),h){var r=document.getElementById("slider-single");let y=document.getElementById("colToUse");if(document.getElementById("col-max").textContent="max. 0",Fe=0,je=X,ue="XRD",document.querySelector(".stab-logo").src="images/radix-logo.svg",(t=document.querySelector(".dropdown-custom-button b")).textContent="XRD",n.disabled=!0,n.style.backgroundColor="hsl(0, 0%, 78%)",""!==y.value){let g=1/(ge*ve)/(r.value/100)*y.value;ze=g,qe=y.value,document.getElementById("outputStab").innerHTML=Bt(g)}else{let _=1/(ge*ve)/(r.value/100);ze=_,qe=0,document.getElementById("outputStab").innerHTML=Bt(_)}""!==y.value?document.getElementById("ratio-suffix").innerHTML="STAB":document.getElementById("ratio-suffix").innerHTML="STAB/"+ue}if(!a){var i=document.querySelector(".dropdown-custom-content");t=document.querySelector(".dropdown-custom-button b"),i.innerHTML="",t.textContent="XRD",document.querySelector(".stab-logo").src="images/radix-logo.svg",n.disabled=!0,n.style.backgroundColor="hsl(0, 0%, 78%)"}vt()}if(e.forEach((e=>{e.non_fungible_resources&&e.non_fungible_resources.items.forEach((e=>{e.resource_address===z&&e.vaults&&e.vaults.items.forEach((e=>{tt=tt.concat(e.items)})),e.resource_address===G&&e.vaults&&e.vaults.items.forEach((e=>{nt=nt.concat(e.items)})),e.resource_address===te&&e.vaults&&e.vaults.items.forEach((e=>{rt=rt.concat(e.items)}))}))})),be=qt(Y,e,0),we=qt(X,e,0),xe=qt(Q,e,0),ke=qt(K,e,0),Ie=qt(X,e,4),Se=qt(K,e,4),ce=(100*(e[1].details.state.fields[14].value**525600-1)).toFixed(2),"/incentives"===window.location.pathname&&(document.getElementById("ilis-staking-rewards").textContent=Ce+" ILIS/day",document.getElementById("lpstab-staking-rewards").textContent=Te+" ILIS/day",document.getElementById("update-rewards").textContent=updateRewards+" ILIS/day"),"/"!==window.location.pathname&&"/secret_index"!==window.location.pathname&&"/index"!==window.location.pathname||(document.getElementById("interest-rate").textContent=ce,document.getElementById("circulating-counter").textContent=(1*e[3].details.total_supply).toFixed(0),document.getElementById("price-counter").textContent=(le*ge).toFixed(2)),"/swap"===window.location.pathname){async function v(){try{const t=await fetch("https://stokenet.radixdlt.com/status/gateway-status",{method:"POST",headers:{"Content-Type":"application/json"}}),n=await t.json();var e=new Date(n.ledger_state.proposer_round_timestamp)}catch(e){console.error("Error:",e)}const t=new Date(e-6048e5),n="https://stokenet.radixdlt.com/state/entity/details",r="https://stokenet.radixdlt.com/state/entity/page/fungibles",a=e=>({addresses:[Q],aggregation_level:"Vault",at_ledger_state:{timestamp:e},opt_ins:{ancestor_identities:!0,component_royalty_config:!0,component_royalty_vault_balance:!0,package_royalty_vault_balance:!0,non_fungible_include_nfids:!0,explicit_metadata:["name","description"]}}),i=e=>({address:W,at_ledger_state:{timestamp:e}});try{const _=new Date("2024-06-23T22:58:31.273Z"),v=_>t?_:t,[b,w,x,k,E]=await Promise.all([fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a(v.toISOString()))}),fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i(v.toISOString()))}),fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a(e.toISOString()))}),fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i(e.toISOString()))}),fetch("https://stokenet.radixdlt.com/state/entity/details",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((g=v.toISOString(),{addresses:[Z],aggregation_level:"Vault",at_ledger_state:{timestamp:g},opt_ins:{ancestor_identities:!0,component_royalty_config:!0,component_royalty_vault_balance:!0,package_royalty_vault_balance:!0,non_fungible_include_nfids:!0,explicit_metadata:["name","description"]}}))})]);if(!(b.ok&&w.ok&&x.ok&&k.ok&&E.ok))throw new Error("Failed to fetch entity data");const[I,S,C,T,A]=await Promise.all([b.json(),w.json(),x.json(),k.json(),E.json()]),O=new Map(S.items.map((e=>[e.resource_address,e.amount]))),P=new Map(T.items.map((e=>[e.resource_address,e.amount]))),R=S.items.map((e=>e.resource_address)),q=R.map((e=>O.get(e))),L=R.map((e=>P.get(e))),B=I.items[0]?.details?.total_supply,N=C.items[0]?.details?.total_supply;var o=q[0],s=q[1],u=L[0],l=L[1],c=u/l,d=(A.items[0].details.state.fields[19].value,c*le),p=(o*le+s*d)/B,f=(u*le+l*d)/N,m=100*(Math.pow(f/p,365/7)-1),h=document.getElementById("apy-real"),y=document.getElementById("pool-liq");Ie=qt(X,Ke,4),y.textContent="$"+Number((2*Ie*le).toFixed(2)).toLocaleString("en-US"),h.textContent=m.toFixed(2)+"%",h.style.color=m>0?"green":"red"}catch(e){console.error("Error fetching data:",e)}var g}Ct(),gt(),_t(),v(),1==it?(Ee=Math.floor(10*we)/10,document.getElementById("swap-sell-amount").textContent="max. "+Ee.toLocaleString("en-US")):(Ee=ke>=.1?Math.floor(10*ke)/10:0,document.getElementById("swap-sell-amount").textContent="max. "+Ee.toLocaleString("en-US")),document.getElementById("internal-price-xrd").innerHTML=ge.toFixed(2)+" XRD",document.getElementById("internal-price-usd").innerHTML="$"+(ge*le).toFixed(3),document.getElementById("market-price-xrd").innerHTML=(Ie/Se).toFixed(2)+" XRD",document.getElementById("market-price-usd").innerHTML="$"+(Ie/Se*le).toFixed(3),document.getElementById("interest-rate").innerHTML=ce+"% APY",document.getElementById("recommendation").innerHTML=Ie/Se<.995*ge?"<strong>Market price &lt; Internal price</strong>, sell XRD to arbitrage!":Ie/Se>1.005*ge?"<strong>Market price &gt; Internal price</strong>, sell STAB to arbitrage!":"Price error is within acceptable bounds. Minimal arbitrage opportunities.",document.getElementById("provide-xrd-amount").textContent="max. "+(Math.floor(10*we)/10).toLocaleString("en-US"),document.getElementById("provide-stab-amount").textContent=ke>=.1?"max. "+(Math.floor(10*ke)/10).toLocaleString("en-US"):"max. 0",document.getElementById("remove-lp-amount").textContent="max. "+(Math.floor(10*xe)/10).toLocaleString("en-US")}if("/liquidations"===window.location.pathname){(i=document.querySelector(".dropdown-custom-content")).innerHTML="";var o=!1;rt.forEach((e=>{0==o&&(o=!0);var t=e,n="images/marker-receipt.png",r=document.createElement("div");r.className="dropdown-custom-option",r.dataset.logoUrl=n,r.setAttribute("tabindex","0");var a=document.createElement("img");a.src=n,a.alt="Logo",a.style.borderRadius="0",r.appendChild(a);var i=document.createElement("div");i.className="option-text";var s=document.createElement("div");s.className="option-title",s.textContent=t,i.appendChild(s);var u=document.createElement("div");u.className="option-subtext",u.textContent="Stabilis Marker Receipt",i.appendChild(u),r.appendChild(i),r.addEventListener("click",(function(){document.querySelectorAll(".dropdown-custom-option").forEach((function(e){e.classList.remove("selected")})),r.classList.add("selected"),document.querySelector(".dropdown-custom-button b").textContent="Marker "+t;var n=document.querySelector(".dropdown-custom-content");n.style.display="none",yt(n),Ue=e,Pt(),It(),St()})),document.querySelector(".dropdown-custom-content").appendChild(r)})),t=document.querySelector(".dropdown-custom-button"),0==o?(t.style.backgroundColor="hsl(0, 0%, 78%)",t.disabled=!0):(t.disabled=!1,t.style.backgroundColor=""),void 0!==Ue?Pt():(!1===a&&(i.innerHTML=""),(t=document.querySelector(".dropdown-custom-button b")).textContent="select a marker",document.getElementById("liqwithmark").querySelector(".button-text").textContent="LIQUIDATE",document.getElementById("liqwithmark").style.color="black",document.getElementById("marker-time").textContent="-",document.getElementById("status").style.color="black",document.getElementById("marker-state").textContent="-",document.getElementById("marker-state").style.color="black",document.getElementById("status").textContent="-",document.getElementById("collateralAmount").textContent="-",document.getElementById("debtAmount").textContent="-",document.getElementById("cr").textContent="-"),At(parseInt(document.getElementById("liq-counter").textContent)),St()}if("/incentives"===window.location.pathname)if($e=void 0,(i=document.querySelector(".dropdown-custom-content")).innerHTML="",tt.forEach((e=>{var t=e,n="images/staking-id.png",r=document.createElement("div");r.className="dropdown-custom-option",r.dataset.logoUrl=n,r.setAttribute("tabindex","0");var a=document.createElement("img");a.src=n,a.alt="Logo",a.style.borderRadius="0",r.appendChild(a);var i=document.createElement("div");i.className="option-text";var o=document.createElement("div");o.className="option-title",o.textContent=t,i.appendChild(o);var s=document.createElement("div");s.className="option-subtext",s.textContent="Stabilis Staking ID",i.appendChild(s),r.appendChild(i),r.addEventListener("click",(function(){document.querySelectorAll(".dropdown-custom-option").forEach((function(e){e.classList.remove("selected")})),r.classList.add("selected"),document.querySelector(".dropdown-custom-button b").textContent="ID "+t;var n=document.querySelector(".dropdown-custom-content");n.style.display="none",yt(n),$e=e,Ot()})),document.querySelector(".dropdown-custom-content").appendChild(r)})),void 0!==$e)Ot();else{!1===a&&(i.innerHTML=""),(t=document.querySelector(".dropdown-custom-button b")).textContent="Select ID",document.getElementById("ilisAmountId").textContent="-",document.getElementById("lpAmountId").textContent="-",document.getElementById("nextClaim").textContent="-";let b=document.getElementById("stake-ilis-amount");b.textContent="max. -";var s=b.cloneNode(!0);b.parentNode.replaceChild(s,b);let w=document.getElementById("stake-lp-amount");w.textContent="max. -";var u=w.cloneNode(!0);w.parentNode.replaceChild(u,w);let x=document.getElementById("unstake-ilis-amount");x.textContent="max. -";var l=x.cloneNode(!0);x.parentNode.replaceChild(l,x);let k=document.getElementById("unstake-lp-amount");k.textContent="max. -";var c=k.cloneNode(!0);k.parentNode.replaceChild(c,k)}if("/borrow"===window.location.pathname||"/manage-loans"===window.location.pathname){document.getElementById("interest-rate").textContent=ce+"% APY";var d=(1*e[3].details.total_supply).toFixed(0);document.getElementById("circulating-stab").textContent=Number(d).toLocaleString("en-US"),document.getElementById("stab-internal-price").textContent="$"+(le*ge).toFixed(2),document.getElementById("stab-market-price").textContent="$"+(le*Ie/Se).toFixed(2);var p=(e[3].details.total_supply*le*Ie/Se).toFixed(0);document.getElementById("stab-mc").textContent="$"+Number(p).toLocaleString("en-US");const E={key_value_store_address:ae,keys:[{key_hex:ie},{key_json:{kind:"Tuple",fields:[{kind:"U32",value:"1"}]}}]};fetch("https://stokenet.radixdlt.com/state/key-value-store/data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)}).then((e=>e.json())).then((e=>{let t,n;e.entries.forEach((e=>{e.value.programmatic_json.fields.forEach((e=>{"minted_stab"===e.field_name?t=e.value:"collateral_amount"===e.field_name&&(n=e.value)}))})),document.getElementById("stab-cr").textContent=(n*le/(t*_e)*100).toFixed(2)+"%"})).catch((e=>{console.error("Error:",e)}))}if("/manage-loans"===window.location.pathname){(i=document.querySelector(".dropdown-custom-content")).innerHTML="";var f,m=!1;e.length>5&&(f=e[5].length-1),nt.forEach((t=>{0==m&&(m=!0);for(var n="Receipt "+t,r="images/receipt.png";1==e[5][f].is_burned&&f>0;)f-=1;const a=se.find((t=>t[1]===e[5][f].data.programmatic_json.fields[0].value));ve=a[4];var i=e[5][f].data.programmatic_json.fields[3].value/e[5][f].data.programmatic_json.fields[4].value*le*100/_e/ve,o=e[5][f].data.programmatic_json.fields[6].variant_name;if("Liquidated"!=o&&"ForceLiquidated"!=o)var s=o+", CR: "+(1*i).toFixed(2)+"%";else s=o;var u=document.createElement("div");u.className="dropdown-custom-option",i<150||"Marked"===o?u.classList.add("extrawarning"):i<200&&u.classList.add("littlewarning"),u.dataset.logoUrl=r,u.setAttribute("tabindex","0");var l=document.createElement("img");l.src=r,l.alt="Logo",l.style.borderRadius="0",u.appendChild(l);var c=document.createElement("div");c.className="option-text";var d=document.createElement("div");d.className="option-title",d.textContent=n,c.appendChild(d);var p=document.createElement("div");p.className="option-subtext",p.textContent=s,c.appendChild(p),u.appendChild(c),u.addEventListener("click",(function(){document.getElementById("amount-to-remove").value="",document.querySelectorAll(".dropdown-custom-option").forEach((function(e){e.classList.remove("selected")})),u.classList.add("selected"),document.querySelector(".dropdown-custom-button b").textContent=n;var e=document.querySelector(".dropdown-custom-content");e.style.display="none",yt(e),Me=t,Rt()})),document.querySelector(".dropdown-custom-content").appendChild(u),f-=1})),t=document.querySelector(".dropdown-custom-button"),0==m?(t.style.backgroundColor="hsl(0, 0%, 78%)",t.disabled=!0):(t.disabled=!1,t.style.backgroundColor=""),void 0!==Me?Rt():(!1===a&&(i.innerHTML=""),(t=document.querySelector(".dropdown-custom-button b")).textContent="select loan receipt",document.querySelector(".stab-logo").src="images/radix-logo.svg",document.getElementById("status").textContent="-",document.getElementById("collateral").textContent="-",document.getElementById("collateralAmount").textContent="-",document.getElementById("debtAmount").textContent="-",document.getElementById("cr").textContent="-"),bt(),ut?wt():xt(),lt?Et():kt()}}(t),Rt(),Pt(),Ot(),"/liquidations"===window.location.pathname&&(It(),St())})).catch((e=>{console.error("Error:",e)}))}))}if(jt(!1),"/swap"===window.location.pathname){const Wt=document.querySelectorAll(".stake-button");Wt.forEach((e=>{e.addEventListener("click",(function(){Wt.forEach((e=>e.classList.remove("selected"))),this.classList.add("selected"),"provide-liq-button"===this.id?(document.getElementById("provide-section").style.display="block",document.getElementById("remove-section").style.display="none"):(document.getElementById("provide-section").style.display="none",document.getElementById("remove-section").style.display="block")}))}));let Kt=document.getElementById("swap-sell-amount"),Gt=document.getElementById("amount-receive"),Jt=document.getElementById("amount-sell"),Xt=document.getElementById("amount-xrd-provide-lp"),Yt=document.getElementById("amount-stab-provide-lp"),Qt=document.getElementById("amount-remove-lp");Jt.oninput=function(){if(1==it){Ee=this.value;let e=parseFloat(Se)*(1-at)*Ee/(parseFloat(Ie)+Ee*(1-at));Gt.value=e.toFixed(5),Ct()}else{Ee=this.value;let e=parseFloat(Ie)*(1-at)*Ee/(parseFloat(Se)+Ee*(1-at));Gt.value=e.toFixed(5),Ct()}},document.getElementById("switch-button").onclick=function(){let e=document.getElementById("swap-logo-1").getAttribute("src"),t=document.getElementById("swap-logo-2").getAttribute("src");document.getElementById("swap-logo-1").setAttribute("src",t),document.getElementById("swap-logo-2").setAttribute("src",e),it=!it,Jt.value="",Gt.value="",1==it?(Ee=Math.floor(10*we)/10,Kt.textContent="max. "+Ee.toLocaleString("en-US")):(Ee=ke>=.1?Math.floor(10*ke)/10:0,Kt.textContent="max. "+Ee.toLocaleString("en-US")),Ct()},Kt.addEventListener("click",(function(){if(1==it){Jt.value=we,Ee=Math.floor(10*we)/10;let e=parseFloat(Se)*(1-at)*Ee/(parseFloat(Ie)+Ee*(1-at));Gt.value=e.toFixed(5)}else{Jt.value=ke,Ee=ke>=.1?Math.floor(10*ke)/10:0;let e=parseFloat(Ie)*(1-at)*Ee/(parseFloat(Se)+Ee*(1-at));Gt.value=e.toFixed(5)}Ct()})),Kt.style.cursor="pointer";let en=document.getElementById("provide-xrd-amount"),tn=document.getElementById("provide-stab-amount"),nn=document.getElementById("remove-lp-amount");tn.style.cursor="pointer",en.style.cursor="pointer",nn.style.cursor="pointer",en.addEventListener("click",(function(){Xt.value=we,Yt.value=Xt.value*(Se/Ie),gt()})),tn.addEventListener("click",(function(){Yt.value=ke,Xt.value=Yt.value*(Ie/Se),gt()})),nn.addEventListener("click",(function(){Qt.value=xe,_t()})),Qt.oninput=function(){_t()},Yt.oninput=function(){Xt.value=Yt.value*(Ie/Se),""==this.value&&(Xt.value=""),gt()},Xt.oninput=function(){Yt.value=Xt.value*(Se/Ie),""==this.value&&(Yt.value=""),gt()},document.getElementById("sell").onclick=async function(){if(jt(!0),!a)return;if(""===document.getElementById("amount-sell").value)return void alert("Please enter an amount to swap.");const e=this,t=e.querySelector(".button-text"),n=e.querySelector(".button-waiting"),r=e.querySelector(".spin"),i=e.querySelector(".chevron");r.style.display="inline-block",i.style.display="none",t.style.display="none",n.style.display="inline-block",e.disabled=!0,e.style.backgroundColor="#c6c6c6";let o,s,u=document.getElementById("amount-sell").value;1==it?(o=X,s="Selling XRD for STAB using the Stabilis Protocol"):(o=K,s="Selling STAB for XRD using the Stabilis Protocol");let l=`\n                CALL_METHOD\n                Address("${re}")\n                "withdraw"    \n                Address("${o}")\n                Decimal("${u}");\n                TAKE_ALL_FROM_WORKTOP\n                Address("${o}")\n                Bucket("sell");\n                CALL_METHOD\n                Address("${H}")\n                "swap"\n                Bucket("sell");\n                CALL_METHOD\n                Address("${re}")\n                "deposit_batch"\n                Expression("ENTIRE_WORKTOP");\n                `;console.log("Swap manifest: ",l),pt(0,"Swap",1),Dt.walletApi.sendTransaction({transactionManifest:l,version:1,message:s}).then((a=>{pt(a.value.transactionIntentHash,"Swap",2),console.log(a),r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",jt(!1)})).catch((a=>{r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.error(a)}))},document.getElementById("provide").onclick=async function(){if(jt(!0),!a)return;if(""===document.getElementById("amount-xrd-provide-lp").value||""===document.getElementById("amount-stab-provide-lp").value)return void alert("Please enter an amount to provide.");const e=this,t=e.querySelector(".button-text"),n=e.querySelector(".button-waiting"),r=e.querySelector(".spin"),i=e.querySelector(".chevron");r.style.display="inline-block",i.style.display="none",t.style.display="none",n.style.display="inline-block",e.disabled=!0,e.style.backgroundColor="#c6c6c6";let o=document.getElementById("amount-xrd-provide-lp").value,s=document.getElementById("amount-stab-provide-lp").value,u=`\n    CALL_METHOD\n      Address("${re}") #Primary account \n      "withdraw"\n      Address("${X}") # XRD address\n      Decimal("${o}");\n  \n    TAKE_FROM_WORKTOP \n        Address("${X}") # XRD address\n        Decimal("${o}") \n        Bucket("xrd_bucket");\n      \n    CALL_METHOD\n        Address("${re}") #Primary account \n        "withdraw"\n        Address("${K}") # STAB address\n        Decimal("${s}");\n  \n    TAKE_FROM_WORKTOP \n        Address("${K}") # STAB address\n        Decimal("${s}") \n        Bucket("stab_bucket");\n  \n    CALL_METHOD    \n        Address("${H}") #pool comp address\n        "add_liquidity"\n        Bucket("stab_bucket")\n        Bucket("xrd_bucket");\n  \n    CALL_METHOD\n        Address("${re}") \n        "deposit_batch"\n        Expression("ENTIRE_WORKTOP");\n        `;console.log("add liq manifest: ",u),pt(0,"Liquidity provision request",1),Dt.walletApi.sendTransaction({transactionManifest:u,version:1,message:"Adding liquidity to the Stabilis Protocol"}).then((a=>{pt(a.value.transactionIntentHash,"Liquidity provision",2),r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",jt(!1)})).catch((a=>{r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.error(a)}))},document.getElementById("remove").onclick=async function(){if(jt(!0),!a)return;if(""===document.getElementById("amount-remove-lp").value)return void alert("Please enter an amount to remove.");const e=this,t=e.querySelector(".button-text"),n=e.querySelector(".button-waiting"),r=e.querySelector(".spin"),i=e.querySelector(".chevron");r.style.display="inline-block",i.style.display="none",t.style.display="none",n.style.display="inline-block",e.disabled=!0,e.style.backgroundColor="#c6c6c6";let o=document.getElementById("amount-remove-lp").value,s=`\n    CALL_METHOD\n      Address("${re}") #Primary account \n      "withdraw"\n      Address("${Q}") # XRD address\n      Decimal("${o}");\n  \n    TAKE_FROM_WORKTOP \n        Address("${Q}") # XRD address\n        Decimal("${o}") \n        Bucket("lp_bucket");\n  \n    CALL_METHOD    \n        Address("${H}") #pool comp address\n        "remove_liquidity"\n        Bucket("lp_bucket");\n  \n    CALL_METHOD\n        Address("${re}") \n        "deposit_batch"\n        Expression("ENTIRE_WORKTOP");\n        `;console.log("remove liq manifest: ",s),pt(0,"Liquidity removal request",1),Dt.walletApi.sendTransaction({transactionManifest:s,version:1,message:"Removing liquidity from the Stabilis Protocol"}).then((a=>{pt(a.value.transactionIntentHash,"Liquidity removal",2),r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",jt(!1)})).catch((a=>{r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.error(a)}))}}if("/liquidations"===window.location.pathname){var l=document.getElementById("plus-symbol-mark"),c=document.getElementById("minus-symbol-mark"),d=document.getElementById("mark-counter");c.style.backgroundColor="hsl(0, 0%, 78%)",Tt(1),St(),l.onclick=function(){d.textContent=parseInt(d.textContent)+1,c.disabled=!1,c.style.backgroundColor="",Tt(parseInt(d.textContent))},c.onclick=function(){parseInt(d.textContent)>1&&(d.textContent=parseInt(d.textContent)-1),1==parseInt(d.textContent)&&(c.disabled=!0,c.style.backgroundColor="hsl(0, 0%, 78%)"),Tt(parseInt(d.textContent))};var p=document.getElementById("plus-symbol-liq"),f=document.getElementById("minus-symbol-liq"),m=document.getElementById("liq-counter");f.style.backgroundColor="hsl(0, 0%, 78%)",At(0),p.onclick=function(){m.textContent=parseInt(m.textContent)+1,f.disabled=!1,f.style.backgroundColor="",At(parseInt(m.textContent)),St()},f.onclick=function(){parseInt(m.textContent)>0&&(m.textContent=parseInt(m.textContent)-1),0==parseInt(m.textContent)&&(f.disabled=!0,f.style.backgroundColor="hsl(0, 0%, 78%)"),At(parseInt(m.textContent)),St()},document.getElementById("liq-helper-button").addEventListener("click",(function(){""===document.getElementById("liq-helper").style.display?(document.getElementById("liq-helper").style.display="none",document.getElementById("chevron-down").style.display="",document.getElementById("chevron-up").style.display="none"):(document.getElementById("liq-helper").style.display="",document.getElementById("chevron-down").style.display="none",document.getElementById("chevron-up").style.display="")})),s=document.querySelector(".dropdown-custom-button"),u=window.getComputedStyle(s).width,s.style.minWidth=u;var h=document.querySelector(".dropdown-custom-button"),y=document.querySelector(".dropdown-custom-content"),g=document.querySelectorAll(".dropdown-custom-option");h.addEventListener("click",(function(){if(!h.disabled){if(void 0!==y){var e=y.style.display;y.style.display="block"===e?"none":"block",yt(y)}0===document.querySelectorAll(".dropdown-custom-option").length&&alert("No marker receipts available in wallet.")}})),document.addEventListener("click",(function(e){var t=h.contains(e.target),n=Array.from(g).some((function(t){return t.contains(e.target)}));t||n||(y.style.display="none",yt(y))})),document.getElementById("mark").onclick=async function(){if(jt(!0),!a)return;const e=this,t=e.querySelector(".button-text"),n=e.querySelector(".button-waiting"),r=e.querySelector(".spin"),i=e.querySelector(".chevron");r.style.display="inline-block",i.style.display="none",t.style.display="none",n.style.display="inline-block",e.disabled=!0,e.style.backgroundColor="#c6c6c6";var o=parseInt(document.getElementById("mark-counter").textContent);let s="";const u=`\n            CALL_METHOD\n                Address("${Z}")\n                "mark_for_liquidation"\n                Address("${X}")\n                ;\n            `;for(let e=0;e<o;e++)s+=u;s+=`\n            CALL_METHOD\n                Address("${re}")\n                "deposit_batch"\n                Expression("ENTIRE_WORKTOP");\n            `,console.log("mark manifest: ",s),pt(0,"Marking request",1),Dt.walletApi.sendTransaction({transactionManifest:s,version:1,message:"Marking STAB loan for liquidation"}).then((a=>{pt(a.value.transactionIntentHash,"Marking",2),r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.log("Mint Result: ",a.value),jt(!1),Tt(parseInt(d.textContent))})).catch((a=>{r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.error(a)}))},document.getElementById("liqwithmark").onclick=async function(){if(!a)return;if(void 0===Ue)return void alert("Please select a marker receipt.");let e,t,n=Ue;const r=this,i=r.querySelector(".button-text"),o=r.querySelector(".button-waiting"),s=r.querySelector(".spin"),u=r.querySelector(".chevron");let l;s.style.display="inline-block",u.style.display="none",i.style.display="none",o.style.display="inline-block",r.disabled=!0,r.style.backgroundColor="#c6c6c6",0==Ne?(l="Liquidating STAB loan with marker",t="Liquidation",e=`\n    CALL_METHOD\n      Address("${re}")\n      "create_proof_of_non_fungibles"\n      Address("${te}") #marker resource address\n      Array<NonFungibleLocalId>(\n        NonFungibleLocalId("${n}")\n      );\n    POP_FROM_AUTH_ZONE\n      Proof("marker_proof");\n    CALL_METHOD\n      Address("${re}")\n      "withdraw"\n      Address("${K}")\n      Decimal("${Pe}");\n    TAKE_ALL_FROM_WORKTOP\n      Address("${K}")\n      Bucket("stab");\n    CALL_METHOD\n      Address("${Z}")\n      "liquidate_position_with_marker"\n      Proof("marker_proof")\n      Bucket("stab");\n    CALL_METHOD\n      Address("${re}")\n      "deposit_batch"\n      Expression("ENTIRE_WORKTOP");\n      `,console.log("liq /w mark manifest: ",e)):(l="Burning STAB loan marker",t="Burning marker receipt",e=`\n            CALL_METHOD\n      Address("${re}") #Primary account \n      "withdraw_non_fungibles"\n      Address("${te}") # XRD address\n      Array<NonFungibleLocalId>(\n        NonFungibleLocalId("${n}")\n      );\n  \n    TAKE_NON_FUNGIBLES_FROM_WORKTOP \n        Address("${te}") # XRD address\n        Array<NonFungibleLocalId>(\n            NonFungibleLocalId("${n}")\n          )\n        Bucket("marker_bucket");\n  \n    CALL_METHOD    \n        Address("${Z}") #pool comp address\n        "burn_marker"\n        Bucket("marker_bucket");\n      `,console.log("burn manifest: ",e)),pt(0,t,1),Dt.walletApi.sendTransaction({transactionManifest:e,version:1,message:l}).then((e=>{"Burning marker receipt"==t&&(Ue=void 0),pt(e.value.transactionIntentHash,t,2),s.style.display="none",u.style.display="inline-block",i.style.display="inline-block",o.style.display="none",r.disabled=!1,r.style.backgroundColor="",console.log("Mint Result: ",e.value),jt(!1),Tt(parseInt(document.getElementById("mark-counter").textContent)),At(parseInt(document.getElementById("liq-counter").textContent))})).catch((e=>{s.style.display="none",u.style.display="inline-block",i.style.display="inline-block",o.style.display="none",r.disabled=!1,r.style.backgroundColor="",console.error(e)}))},document.getElementById("liqnextskip").onclick=async function(){if(!a)return;const e=this,t=e.querySelector(".button-text"),n=e.querySelector(".button-waiting"),r=e.querySelector(".spin"),i=e.querySelector(".chevron");r.style.display="inline-block",i.style.display="none",t.style.display="none",n.style.display="inline-block",e.disabled=!0,e.style.backgroundColor="#c6c6c6";let o=parseFloat(document.getElementById("liq-counter").textContent),s=`\n    CALL_METHOD\n      Address("${re}")\n      "withdraw"\n      Address("${K}")\n      Decimal("${Je+1e-6}");\n    TAKE_ALL_FROM_WORKTOP\n      Address("${K}")\n      Bucket("stab");\n    CALL_METHOD\n      Address("${Z}")\n      "liquidate_position_without_marker"\n      Bucket("stab")\n      true\n      ${o}i64\n      NonFungibleLocalId("#0#");\n    CALL_METHOD\n      Address("${re}")\n      "deposit_batch"\n      Expression("ENTIRE_WORKTOP");\n      `;console.log("liquidate manifest: ",s),pt(0,"Liquidation request",1),Dt.walletApi.sendTransaction({transactionManifest:s,version:1,message:"Liquidating STAB loan without marker"}).then((a=>{pt(a.value.transactionIntentHash,"Liquidition",2),r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.log("Mint Result: ",a.value),jt(!1),Tt(parseInt(document.getElementById("mark-counter").textContent)),At(parseInt(document.getElementById("liq-counter").textContent))})).catch((a=>{r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.error(a)}))}}if("/incentives"===window.location.pathname){const rn=document.querySelectorAll(".stake-button");rn.forEach((e=>{e.addEventListener("click",(function(){rn.forEach((e=>e.classList.remove("selected"))),this.classList.add("selected"),"stake-selector"===this.id?(console.log("showing stake section"),document.getElementById("stake-section").style.display="",document.getElementById("unstake-section").style.display="none"):(console.log("showing unstake section"),document.getElementById("stake-section").style.display="none",document.getElementById("unstake-section").style.display="")}))})),h=document.querySelector(".dropdown-custom-button"),y=document.querySelector(".dropdown-custom-content"),g=document.querySelectorAll(".dropdown-custom-option"),h.addEventListener("click",(function(){if(!h.disabled){if(void 0!==y){var e=y.style.display;y.style.display="block"===e?"none":"block",yt(y)}0===document.querySelectorAll(".dropdown-custom-option").length&&alert("No Stabilis Staking ID in wallet. Please create one.")}})),document.addEventListener("click",(function(e){var t=h.contains(e.target),n=Array.from(g).some((function(t){return t.contains(e.target)}));t||n||(y.style.display="none",yt(y))})),document.getElementById("new-id").onclick=async function(){if(jt(!0),!a)return;const e=this,t=e.querySelector(".button-text"),n=e.querySelector(".button-waiting"),r=e.querySelector(".spin"),i=e.querySelector(".chevron");r.style.display="inline-block",i.style.display="none",t.style.display="none",n.style.display="inline-block",e.disabled=!0,e.style.backgroundColor="#c6c6c6";let o=`\n    CALL_METHOD    \n    Address("${Z}") #proxy comp address\n    "create_stab_id";\n  \n  CALL_METHOD\n    Address("${re}") \n    "deposit_batch"\n    Expression("ENTIRE_WORKTOP");\n      `;console.log("create id manifest: ",o),pt(0,"ID creation request",1),Dt.walletApi.sendTransaction({transactionManifest:o,version:1,message:"Creating a new Stabilis Staking ID"}).then((a=>{pt(a.value.transactionIntentHash,"ID creation",2),r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.log("Mint Result: ",a.value),jt(!1),Ot()})).catch((a=>{r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.error(a)}))},document.getElementById("update").onclick=async function(){if(jt(!0),!a)return;const e=this,t=e.querySelector(".button-text"),n=e.querySelector(".button-waiting"),r=e.querySelector(".spin"),i=e.querySelector(".chevron");r.style.display="inline-block",i.style.display="none",t.style.display="none",n.style.display="inline-block",e.disabled=!0,e.style.backgroundColor="#c6c6c6";let o=`\n    CALL_METHOD\n      Address("${Z}")\n      "update";\n    CALL_METHOD\n      Address("${re}")\n      "deposit_batch"\n      Expression("ENTIRE_WORKTOP");\n      `;console.log("update manifest: ",o),pt(0,"Protocol update",1),Dt.walletApi.sendTransaction({transactionManifest:o,version:1,message:"Updating Stabilis Protocol"}).then((a=>{pt(a.value.transactionIntentHash,"Update",2),r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.log("Mint Result: ",a.value),Ot()})).catch((a=>{r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.error(a)}))},document.getElementById("claim-button").onclick=async function(){if(jt(!0),!a)return;const e=this,t=e.querySelector(".button-text"),n=e.querySelector(".button-waiting"),r=e.querySelector(".spin"),i=e.querySelector(".chevron");r.style.display="inline-block",i.style.display="none",t.style.display="none",n.style.display="inline-block",e.disabled=!0,e.style.backgroundColor="#c6c6c6";let o=`\n    CALL_METHOD\n      Address("${re}")\n      "create_proof_of_non_fungibles"\n      Address("${z}")\n      Array<NonFungibleLocalId>(\n        NonFungibleLocalId("${$e}")\n      );\n  \n    POP_FROM_AUTH_ZONE\n      Proof("id_proof");\n  \n    CALL_METHOD    \n      Address("${Z}")\n      "update_id"\n      Proof("id_proof")\n      false;\n  \n    CALL_METHOD\n      Address("${re}") \n      "deposit_batch"\n      Expression("ENTIRE_WORKTOP");\n      `;console.log("claim manifest: ",o),pt(0,"Reward claim",1),Dt.walletApi.sendTransaction({transactionManifest:o,version:1,message:"Claiming staking rewards from Stabilis Staking ID"}).then((a=>{pt(a.value.transactionIntentHash,"Reward claim",2),r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.log("Mint Result: ",a.value),Ot()})).catch((a=>{r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.error(a)}))},document.getElementById("stake-button").onclick=async function(){if(jt(!0),!a)return;let e,t=$e,n=document.getElementById("stake-lp-field").value,r=document.getElementById("stake-ilis-field").value;const i=this,o=i.querySelector(".button-text"),s=i.querySelector(".button-waiting"),u=i.querySelector(".spin"),l=i.querySelector(".chevron");u.style.display="inline-block",l.style.display="none",o.style.display="none",s.style.display="inline-block",i.disabled=!0,i.style.backgroundColor="#c6c6c6",""!==n?""==r?(e=`\n            CALL_METHOD\n              Address("${re}")\n              "create_proof_of_non_fungibles"\n              Address("${z}")\n              Array<NonFungibleLocalId>(\n                NonFungibleLocalId("${t}")\n              );\n          \n            POP_FROM_AUTH_ZONE\n              Proof("id_proof");\n          \n              CALL_METHOD\n              Address("${re}") #Primary account \n              "withdraw"\n              Address("${Q}") # ILIS address\n              Decimal("${n}");\n          \n            TAKE_FROM_WORKTOP \n                Address("${Q}") # ILIS address\n                Decimal("${n}") \n                Bucket("lp_bucket");\n          \n            CALL_METHOD    \n              Address("${Z}") #proxy comp address\n              "stake"\n              Bucket("lp_bucket")\n              Proof("id_proof");\n          \n            CALL_METHOD\n              Address("${re}") \n              "deposit_batch"\n              Expression("ENTIRE_WORKTOP");\n              `,console.log("stake manifest: ",e)):(e=`\n        CALL_METHOD\n          Address("${re}")\n          "create_proof_of_non_fungibles"\n          Address("${z}")\n          Array<NonFungibleLocalId>(\n            NonFungibleLocalId("${t}")\n          );\n      \n        POP_FROM_AUTH_ZONE\n          Proof("id_proof");\n      \n          CALL_METHOD\n          Address("${re}") #Primary account \n          "withdraw"\n          Address("${Q}") # ILIS address\n          Decimal("${n}");\n      \n        TAKE_FROM_WORKTOP \n            Address("${Q}") # ILIS address\n            Decimal("${n}") \n            Bucket("lp_bucket");\n      \n        CALL_METHOD    \n          Address("${Z}") #proxy comp address\n          "stake"\n          Bucket("lp_bucket")\n          Proof("id_proof");\n\n          CALL_METHOD\n              Address("${re}") #Primary account \n              "withdraw"\n              Address("${Y}") # ILIS address\n              Decimal("${r}");\n          \n            TAKE_FROM_WORKTOP \n                Address("${Y}") # ILIS address\n                Decimal("${r}") \n                Bucket("ilis_bucket");\n\n                CALL_METHOD\n          Address("${re}")\n          "create_proof_of_non_fungibles"\n          Address("${z}")\n          Array<NonFungibleLocalId>(\n            NonFungibleLocalId("${t}")\n          );\n      \n        POP_FROM_AUTH_ZONE\n          Proof("id_proof_2");\n          \n            CALL_METHOD    \n              Address("${Z}") #proxy comp address\n              "stake"\n              Bucket("ilis_bucket")\n              Proof("id_proof_2");\n      \n        CALL_METHOD\n          Address("${re}") \n          "deposit_batch"\n          Expression("ENTIRE_WORKTOP");\n          `,console.log("stake manifest: ",e)):""!==r&&(e=`\n            CALL_METHOD\n              Address("${re}")\n              "create_proof_of_non_fungibles"\n              Address("${z}")\n              Array<NonFungibleLocalId>(\n                NonFungibleLocalId("${t}")\n              );\n          \n            POP_FROM_AUTH_ZONE\n              Proof("id_proof");\n          \n              CALL_METHOD\n              Address("${re}") #Primary account \n              "withdraw"\n              Address("${Y}") # ILIS address\n              Decimal("${r}");\n          \n            TAKE_FROM_WORKTOP \n                Address("${Y}") # ILIS address\n                Decimal("${r}") \n                Bucket("ilis_bucket");\n          \n            CALL_METHOD    \n              Address("${Z}") #proxy comp address\n              "stake"\n              Bucket("ilis_bucket")\n              Proof("id_proof");\n          \n            CALL_METHOD\n              Address("${re}") \n              "deposit_batch"\n              Expression("ENTIRE_WORKTOP");\n              `,console.log("stake manifest: ",e)),pt(0,"Staking request",1),Dt.walletApi.sendTransaction({transactionManifest:e,version:1,message:"Staking to Stabilis Staking ID"}).then((e=>{pt(e.value.transactionIntentHash,"Staking",2),u.style.display="none",l.style.display="inline-block",o.style.display="inline-block",s.style.display="none",i.disabled=!1,i.style.backgroundColor="",console.log("Mint Result: ",e.value),""!==n&&(xe-=n),""!==r&&(be-=r),Ot()})).catch((e=>{u.style.display="none",l.style.display="inline-block",o.style.display="inline-block",s.style.display="none",i.disabled=!1,i.style.backgroundColor="",console.error(e)}))},document.getElementById("unstake-button").onclick=async function(){if(jt(!0),!a)return;let e,t=$e,n=document.getElementById("unstake-lp-field").value,r=document.getElementById("unstake-ilis-field").value;const i=this,o=i.querySelector(".button-text"),s=i.querySelector(".button-waiting"),u=i.querySelector(".spin"),l=i.querySelector(".chevron");if(u.style.display="inline-block",l.style.display="none",o.style.display="none",s.style.display="inline-block",i.disabled=!0,i.style.backgroundColor="#c6c6c6",""!==n?""==r?(e=`\n                CALL_METHOD\n                  Address("${re}")\n                  "create_proof_of_non_fungibles"\n                  Address("${z}")\n                  Array<NonFungibleLocalId>(\n                    NonFungibleLocalId("${t}")\n                  );\n              \n                POP_FROM_AUTH_ZONE\n                  Proof("id_proof");\n              \n                CALL_METHOD    \n                  Address("${Z}") #proxy comp address\n                  "unstake"\n                  Proof("id_proof")\n                  Address("${Q}")\n                  Decimal("${n}")\n                  false;\n              \n                CALL_METHOD\n                  Address("${re}") \n                  "deposit_batch"\n                  Expression("ENTIRE_WORKTOP");\n                  `,console.log("unstake manifest: ",e)):(e=`\n            CALL_METHOD\n              Address("${re}")\n              "create_proof_of_non_fungibles"\n              Address("${z}")\n              Array<NonFungibleLocalId>(\n                NonFungibleLocalId("${t}")\n              );\n          \n            POP_FROM_AUTH_ZONE\n              Proof("id_proof");\n          \n              CALL_METHOD    \n              Address("${Z}") #proxy comp address\n              "unstake"\n              Proof("id_proof")\n              Address("${Q}")\n              Decimal("${n}")\n              false;\n    \n                    CALL_METHOD\n              Address("${re}")\n              "create_proof_of_non_fungibles"\n              Address("${z}")\n              Array<NonFungibleLocalId>(\n                NonFungibleLocalId("${t}")\n              );\n          \n            POP_FROM_AUTH_ZONE\n              Proof("id_proof_2");\n              \n              CALL_METHOD    \n              Address("${Z}") #proxy comp address\n              "unstake"\n              Proof("id_proof_2")\n              Address("${Y}")\n              Decimal("${r}")\n              false;\n          \n            CALL_METHOD\n              Address("${re}") \n              "deposit_batch"\n              Expression("ENTIRE_WORKTOP");\n              `,console.log("unstake manifest: ",e)):""!==r&&(e=`\n                CALL_METHOD\n                  Address("${re}")\n                  "create_proof_of_non_fungibles"\n                  Address("${z}")\n                  Array<NonFungibleLocalId>(\n                    NonFungibleLocalId("${t}")\n                  );\n              \n                POP_FROM_AUTH_ZONE\n                  Proof("id_proof");\n              \n                  CALL_METHOD    \n                  Address("${Z}") #proxy comp address\n                  "unstake"\n                  Proof("id_proof")\n                  Address("${Y}")\n                  Decimal("${r}")\n                  false;\n              \n                CALL_METHOD\n                  Address("${re}") \n                  "deposit_batch"\n                  Expression("ENTIRE_WORKTOP");\n                  `,console.log("unstake manifest: ",e)),pt(0,"Unstaking request",1),Dt.walletApi.sendTransaction({transactionManifest:e,version:1,message:"Unstaking from Stabilis Staking ID"}).then((e=>{pt(e.value.transactionIntentHash,"Unstaking",2),u.style.display="none",l.style.display="inline-block",o.style.display="inline-block",s.style.display="none",i.disabled=!1,i.style.backgroundColor="",console.log("Mint Result: ",e.value),Ot()})).catch((e=>{u.style.display="none",l.style.display="inline-block",o.style.display="inline-block",s.style.display="none",i.disabled=!1,i.style.backgroundColor="",console.error(e)})),""!==n){let e=Math.min(n,de+pe);xe+=e}if(""!==r){let e=Math.min(r,fe+me);be+=e}}}if("/manage-loans"===window.location.pathname){bt(),ut?wt():xt(),lt?Et():kt();var _=document.getElementById("slider-col"),v=document.getElementById("amount-to-remove"),b=document.getElementById("max-new-cr"),w=document.getElementById("slider-debt"),x=document.getElementById("amount-to-remove-debt"),k=document.getElementById("max-new-cr-debt");_.oninput=function(){if(ut){Ge=this.value;var e=Math.max(0,mt(Pe,this.value/100,ve)-qe);document.getElementById("new-cr").textContent="New CR: "+this.value+"%",v.value=e.toFixed(2),wt()}else Ge=Ve-this.value,et=Ge,e=Math.max(0,qe-mt(Pe,Ge/100,ve)),document.getElementById("new-cr").textContent="New CR: "+Ge.toFixed(2)+"%",v.value=e.toFixed(2),xt()},v.oninput=function(){ut?(Ge=100*ft(parseFloat(this.value)+parseFloat(qe),Pe,ve),document.getElementById("new-cr").textContent="New CR: "+Ge.toFixed(2)+"%",""!=this.value?_.value=Ge:(_.value=_.min,document.getElementById("new-cr").textContent="New CR: "+_.min+"%"),wt()):(Ge=100*ft(parseFloat(qe)-parseFloat(this.value),Pe,ve),et=Ge,document.getElementById("new-cr").textContent="New CR: "+Ge.toFixed(2)+"%",""!=this.value?(_.value=Ve-Ge,Ge=_.value):(_.value=_.min,document.getElementById("new-cr").textContent="New CR: "+Ve+"%"),xt())},b.onclick=function(){"Closed"!==Ae&&"Liquidated"!==Ae&&(ut?(Ve=Number(Ve),Ge=Ve,document.getElementById("new-cr").textContent="New CR: "+(1*Ve).toFixed(2)+"%",_.value=Ve>1e3?1e3:Ve,v.value=(1*Fe).toFixed(2),wt()):"Marked"!=Ae&&(Ge=150,et=Ge,document.getElementById("new-cr").textContent="New CR: 150%",_.value=Ve-150,v.value=qe-mt(Pe,1.5,ve),xt()))},w.oninput=function(){if(0==lt){We=this.value;var e=Math.max(0,Pe-ht(qe,this.value/100,ve));document.getElementById("new-cr-debt").textContent="New CR: "+this.value+"%",x.value=e.toFixed(2),kt()}else{We=He-this.value,Qe=We;var t=Math.max(0,ht(qe,We/100,ve)-Pe);document.getElementById("new-cr-debt").textContent="New CR: "+We.toFixed(2)+"%",x.value=t.toFixed(2),Et()}},x.oninput=function(){if(0==lt){var e=Math.min(Pe-1,ke);this.value>e&&(this.value=e),We=100*ft(parseFloat(qe),Pe-parseFloat(this.value),ve),We<0&&(We=0),document.getElementById("new-cr-debt").textContent="New CR: "+We.toFixed(2)+"%",""!=this.value?w.value=We:(w.value=w.min,document.getElementById("new-cr-debt").textContent="New CR: "+w.min+"%"),kt()}else We=100*ft(parseFloat(qe),parseFloat(Pe)+parseFloat(this.value),ve),Qe=We,console.log(We),document.getElementById("new-cr-debt").textContent="New CR: "+We.toFixed(2)+"%",""!=this.value?(w.value=He-We,We=w.value):(w.value=w.min,document.getElementById("new-cr-debt").textContent="New CR: "+He+"%"),Et()},k.onclick=function(){if("Closed"!==Ae&&"Liquidated"!==Ae)if(0==lt){var e=Math.min(Pe-1,ke);He=Number(He),We=He,document.getElementById("new-cr-debt").textContent="New CR: "+(1*He).toFixed(2)+"%",w.value=He>1e3?1e3:He,x.value=(1*e).toFixed(2),kt()}else"Marked"!=Ae&&(We=150,Qe=We,document.getElementById("new-cr-debt").textContent="New CR: 150%",w.value=Ve-150,x.value=ht(qe,1.5,ve)-Pe,Et())},s=document.querySelector(".dropdown-custom-button"),u=window.getComputedStyle(s).width,s.style.minWidth=u,h=document.querySelector(".dropdown-custom-button"),y=document.querySelector(".dropdown-custom-content");const an=document.querySelectorAll(".stake-button.col"),on=document.querySelectorAll(".stake-button.debt");an.forEach((e=>{e.addEventListener("click",(function(){an.forEach((e=>e.classList.remove("selected"))),this.classList.add("selected"),"add-collateral-selector"===this.id?(document.getElementById("add-col-button").style.display="",document.getElementById("remove-col-button").style.display="none",ut=!0):"remove-collateral-selector"===this.id&&(document.getElementById("add-col-button").style.display="none",document.getElementById("remove-col-button").style.display="",ut=!1),Rt()}))})),on.forEach((e=>{e.addEventListener("click",(function(){on.forEach((e=>e.classList.remove("selected"))),this.classList.add("selected"),"add-debt-selector"===this.id?(document.getElementById("add-debt-button").style.display="none",document.getElementById("remove-debt-button").style.display="",lt=!0):"remove-debt-selector"===this.id&&(document.getElementById("add-debt-button").style.display="",document.getElementById("remove-debt-button").style.display="none",lt=!1),Rt()}))})),g=document.querySelectorAll(".dropdown-custom-option"),h.addEventListener("click",(function(){if(!h.disabled){if(void 0!==y){var e=y.style.display;y.style.display="block"===e?"none":"block",yt(y)}0===document.querySelectorAll(".dropdown-custom-option").length&&alert("No loan receipts in wallet.")}})),document.addEventListener("click",(function(e){var t=h.contains(e.target),n=Array.from(g).some((function(t){return t.contains(e.target)}));t||n||(y.style.display="none",yt(y))})),document.getElementById("add-col-button").onclick=async function(){if(!a)return;if(void 0===Me)return void alert("Please select a loan receipt.");if(""===document.getElementById("amount-to-remove").value)return void alert("Please enter an amount to add.");const e=this,t=e.querySelector(".button-text"),n=e.querySelector(".button-waiting"),r=e.querySelector(".spin"),i=e.querySelector(".chevron");r.style.display="inline-block",i.style.display="none",t.style.display="none",n.style.display="inline-block",e.disabled=!0,e.style.backgroundColor="#c6c6c6";let o=Me,s=document.getElementById("amount-to-remove").value,u=`\n          CALL_METHOD\n          Address("${re}")\n          "create_proof_of_non_fungibles"\n          Address("${G}")\n          Array<NonFungibleLocalId>(\n            NonFungibleLocalId("${o}")\n          );\n         \n        POP_FROM_AUTH_ZONE\n          Proof("cdp_proof");\n         \n        CALL_METHOD\n          Address("${re}") #Primary account \n          "withdraw"\n          Address("${Oe}") # Collateral address\n          Decimal("${s}");\n         \n        TAKE_FROM_WORKTOP \n            Address("${Oe}") # Collateral address\n            Decimal("${s}") \n            Bucket("xrd_bucket");\n         \n        CALL_METHOD    \n          Address("${Z}")\n          "top_up_cdp"\n          Proof("cdp_proof")\n          Bucket("xrd_bucket");\n          `;console.log("top up manifest: ",u),pt(0,"Collateral addition",1),Dt.walletApi.sendTransaction({transactionManifest:u,version:1,message:"Adding collateral to STAB loan"}).then((a=>{pt(a.value.transactionIntentHash,"Collateral addition",2),r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.log("Mint Result: ",a.value),jt(!1)})).catch((a=>{r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.error(a)}))},document.getElementById("remove-col-button").onclick=async function(){if(!a)return;if(void 0===Me)return void alert("Please select a loan receipt.");if(""===document.getElementById("amount-to-remove").value)return void alert("Please enter an amount to add.");const e=this,t=e.querySelector(".button-text"),n=e.querySelector(".button-waiting"),r=e.querySelector(".spin"),i=e.querySelector(".chevron");r.style.display="inline-block",i.style.display="none",t.style.display="none",n.style.display="inline-block",e.disabled=!0,e.style.backgroundColor="#c6c6c6";let o=Me,s=document.getElementById("amount-to-remove").value,u=`\n        CALL_METHOD\n          Address("${re}")\n          "create_proof_of_non_fungibles"\n          Address("${G}")\n          Array<NonFungibleLocalId>(\n            NonFungibleLocalId("${o}")\n          );\n         \n        POP_FROM_AUTH_ZONE\n          Proof("cdp_proof");\n         \n        CALL_METHOD    \n          Address("${Z}")\n          "remove_collateral"\n          Proof("cdp_proof")\n          Decimal("${s}");\n         \n        CALL_METHOD\n          Address("${re}") \n          "deposit_batch"\n          Expression("ENTIRE_WORKTOP");\n          `;console.log("remove col. manifest: ",u),pt(0,"Collateral removal",1),Dt.walletApi.sendTransaction({transactionManifest:u,version:1,message:"Removing collateral from STAB loan"}).then((a=>{pt(a.value.transactionIntentHash,"Collateral removal",2),r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.log("Mint Result: ",a.value),jt(!1)})).catch((a=>{r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.error(a)}))},document.getElementById("close-entire-button").onclick=async function(){if(!a)return;if(void 0===Me)return void alert("Please select a loan receipt.");if("Marked"===Ae)return void alert("Please save loan before closing.");const e=this,t=e.querySelector(".button-text"),n=e.querySelector(".button-waiting"),r=e.querySelector(".spin"),i=e.querySelector(".chevron");r.style.display="inline-block",i.style.display="none",t.style.display="none",n.style.display="inline-block",e.disabled=!0,e.style.backgroundColor="#c6c6c6";let o=Me;if("Closed"==Ae||0==qe){let a=`\n            CALL_METHOD\n                Address("${re}") #Primary account \n                "withdraw_non_fungibles"\n                Address("${G}") # XRD address\n                Array<NonFungibleLocalId>(\n                    NonFungibleLocalId("${o}")\n                );\n            \n                TAKE_NON_FUNGIBLES_FROM_WORKTOP \n                    Address("${G}") # XRD address\n                    Array<NonFungibleLocalId>(\n                        NonFungibleLocalId("${o}")\n                    )\n                    Bucket("receipt_bucket");\n            \n                CALL_METHOD    \n                    Address("${Z}") #pool comp address\n                    "burn_loan_receipt"\n                    Bucket("receipt_bucket");\n                `;console.log("burn receipt manifest: ",a),pt(0,"Burning loan receipt",1),Dt.walletApi.sendTransaction({transactionManifest:a,version:1,message:"Burning STAB loan receipt"}).then((a=>{"Closed"!=Ae&&0!=qe||(Me=void 0),pt(a.value.transactionIntentHash,"Burning loan receipt",2),r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.log("Mint Result: ",a.value),Rt(),jt(!1)})).catch((a=>{r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.error(a)}))}else if("Liquidated"==Ae||"ForceLiquidated"==Ae){let a=`\n            CALL_METHOD\n              Address("${re}")\n              "create_proof_of_non_fungibles"\n              Address("${G}")\n              Array<NonFungibleLocalId>(\n                NonFungibleLocalId("${o}")\n              );\n             \n            POP_FROM_AUTH_ZONE\n              Proof("cdp_proof");\n             \n            CALL_METHOD    \n              Address("${Z}")\n              "retrieve_leftover_collateral"\n              Proof("cdp_proof");\n             \n            CALL_METHOD\n              Address("${re}") \n              "deposit_batch"\n              Expression("ENTIRE_WORKTOP");\n              `;console.log("retrieve col. manifest: ",a),pt(0,"Collateral retrieval",1),Dt.walletApi.sendTransaction({transactionManifest:a,version:1,message:"Retrieving leftover collateral from STAB loan"}).then((a=>{pt(a.value.transactionIntentHash,"Collateral retrieval",2),r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.log("Mint Result: ",a.value),Rt()})).catch((a=>{r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.error(a)}))}else{let a=`\n            CALL_METHOD\n              Address("${re}")\n              "create_proof_of_non_fungibles"\n              Address("${G}")\n              Array<NonFungibleLocalId>(\n                NonFungibleLocalId("${o}")\n              );\n             \n            POP_FROM_AUTH_ZONE\n              Proof("cdp_proof");\n             \n            CALL_METHOD\n              Address("${re}") #Primary account \n              "withdraw"\n              Address("${K}") # Collateral address\n              Decimal("${Pe}");\n             \n            TAKE_FROM_WORKTOP \n                Address("${K}") # Collateral address\n                Decimal("${Pe}") \n                Bucket("repayment_bucket");\n             \n            CALL_METHOD    \n              Address("${Z}")\n              "close_cdp"\n              Proof("cdp_proof")\n              Bucket("repayment_bucket");\n             \n            CALL_METHOD\n              Address("${re}") \n              "deposit_batch"\n              Expression("ENTIRE_WORKTOP");\n              `;console.log("Close cdp manifest: ",a),pt(0,"Loan close request",1),Dt.walletApi.sendTransaction({transactionManifest:a,version:1,message:"Closing STAB loan"}).then((a=>{pt(a.value.transactionIntentHash,"Closing loan",2),r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.log("Mint Result: ",a.value),Rt(),jt(!0)})).catch((a=>{r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.error(a)}))}}}if("/borrow"===window.location.pathname){let sn=document.getElementById("col-max");sn.addEventListener("click",(function(){if(qe=Fe,void 0!==je){document.getElementById("colToUse").value=Math.floor(100*Fe)/100;let e=1/(ge*ve)/(_.value/100)*Math.floor(100*Fe)/100;ze=e,qe=Math.floor(100*Fe)/100,document.getElementById("outputStab").innerHTML=Bt(e),document.getElementById("ratio-suffix").innerHTML="STAB"}vt()})),sn.style.cursor="pointer",_=document.getElementById("slider-single");var E=document.getElementById("plus-button"),I=document.getElementById("minus-button"),S=document.getElementById("colRatioStab");let un=document.getElementById("colToUse");h=document.querySelector(".dropdown-custom-button"),y=document.querySelector(".dropdown-custom-content"),g=document.querySelectorAll(".dropdown-custom-option"),h.addEventListener("click",(function(){if(!h.disabled){if(void 0!==y){var e=y.style.display;y.style.display="block"===e?"none":"block",yt(y)}a||alert("Connect wallet.")}})),document.addEventListener("click",(function(e){var t=h.contains(e.target),n=Array.from(g).some((function(t){return t.contains(e.target)}));t||n||(y.style.display="none",yt(y))})),_.oninput=function(){if(S.textContent=_.value,void 0!==je){if(""!==un.value){let e=1/(ge*ve)/(this.value/100)*un.value;ze=e,qe=un.value,document.getElementById("outputStab").innerHTML=Bt(e)}else{let e=1/(ge*ve)/(this.value/100);ze=e,qe=0,document.getElementById("outputStab").innerHTML=Bt(e)}vt()}this.value>=200?(document.getElementById("warning-low-ratio").style.display="none",document.getElementById("warning-good-ratio").style.display="",document.getElementById("warning-impossible-ratio").style.display="none"):this.value>=150?(document.getElementById("warning-low-ratio").style.display="",document.getElementById("warning-good-ratio").style.display="none",document.getElementById("warning-impossible-ratio").style.display="none"):(document.getElementById("warning-low-ratio").style.display="none",document.getElementById("warning-good-ratio").style.display="none",document.getElementById("warning-impossible-ratio").style.display="")},E.onclick=function(){if(_.value=parseInt(_.value)+1,S.textContent=_.value,void 0!==je){if(""!==un.value){let e=1/(ge*ve)/(_.value/100)*un.value;ze=e,qe=un.value,document.getElementById("outputStab").innerHTML=Bt(e)}else{let e=1/(ge*ve)/(_.value/100)*1;ze=e,qe=0,document.getElementById("outputStab").innerHTML=Bt(e)}vt()}_.value>=200?(document.getElementById("warning-low-ratio").style.display="none",document.getElementById("warning-good-ratio").style.display="",document.getElementById("warning-impossible-ratio").style.display="none"):_.value>=150?(document.getElementById("warning-low-ratio").style.display="",document.getElementById("warning-good-ratio").style.display="none",document.getElementById("warning-impossible-ratio").style.display="none"):(document.getElementById("warning-low-ratio").style.display="none",document.getElementById("warning-good-ratio").style.display="none",document.getElementById("warning-impossible-ratio").style.display="")},I.onclick=function(){if(_.value=parseInt(_.value)-1,S.textContent=_.value,void 0!==je){if(""!==un.value){let e=1/(ge*ve)/(_.value/100)*un.value;ze=e,qe=un.value,document.getElementById("outputStab").innerHTML=Bt(e)}else{let e=1/(ge*ve)/(_.value/100)*1;ze=e,qe=0,document.getElementById("outputStab").innerHTML=Bt(e)}vt()}_.value>=200?(document.getElementById("warning-low-ratio").style.display="none",document.getElementById("warning-good-ratio").style.display="",document.getElementById("warning-impossible-ratio").style.display="none"):_.value>=150?(document.getElementById("warning-low-ratio").style.display="",document.getElementById("warning-good-ratio").style.display="none",document.getElementById("warning-impossible-ratio").style.display="none"):(document.getElementById("warning-low-ratio").style.display="none",document.getElementById("warning-good-ratio").style.display="none",document.getElementById("warning-impossible-ratio").style.display="")},document.getElementById("colToUse").oninput=function(){if(S.textContent=_.value,void 0!==je){if(""!==this.value){let e=1/(ge*ve)/(_.value/100)*this.value;ze=e,qe=this.value,document.getElementById("outputStab").innerHTML=Bt(e)}else{let e=1/(ge*ve)/(_.value/100)*1;ze=e,qe=0,document.getElementById("outputStab").innerHTML=Bt(e)}vt()}""!==un.value?document.getElementById("ratio-suffix").innerHTML="STAB":document.getElementById("ratio-suffix").innerHTML="STAB/"+ue},document.getElementById("mint-button").onclick=async function(){if(jt(!0),!a)return;if(void 0===je)return void alert("Please select a collateral type.");if(""===document.getElementById("colToUse").value)return void alert("Please enter the amount of collateral to use.");const e=this,t=e.querySelector(".button-text"),n=e.querySelector(".button-waiting"),r=e.querySelector(".spin"),i=e.querySelector(".chevron");let o;r.style.display="inline-block",i.style.display="none",t.style.display="none",n.style.display="inline-block",e.disabled=!0,e.style.backgroundColor="#c6c6c6",console.log(ot),o=`\n    CALL_METHOD\n    Address("${re}")\n    "withdraw"    \n    Address("${je}")\n    Decimal("${qe}");\n    TAKE_ALL_FROM_WORKTOP\n    Address("${je}")\n    Bucket("collateral");\n    CALL_METHOD\n    Address("${Z}")\n    "open_cdp"\n    Bucket("collateral")\n    Decimal("${ze}")\n    false;\n    CALL_METHOD\n    Address("${re}")\n    "deposit_batch"\n    Expression("ENTIRE_WORKTOP");\n    `,console.log("Mint manifest: ",o),pt(0,"Borrow request",1),Dt.walletApi.sendTransaction({transactionManifest:o,version:1,message:"Borrowing STAB through a loan"}).then((a=>{pt(a.value.transactionIntentHash,"Borrowing",2),r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",jt(!1)})).catch((a=>{r.style.display="none",i.style.display="inline-block",t.style.display="inline-block",n.style.display="none",e.disabled=!1,e.style.backgroundColor="",console.error(a)}))}}T=(C=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports))((()=>{window.tram=function(e){function t(e,t){return(new N.Bare).init(e,t)}function n(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}))}function r(e){var t=parseInt(e.slice(1),16);return[t>>16&255,t>>8&255,255&t]}function a(e,t,n){return"#"+(1<<24|e<<16|t<<8|n).toString(16).slice(1)}function i(){}function o(e,t,n){if(void 0!==t&&(n=t),void 0===e)return n;var r=n;return J.test(e)||!X.test(e)?r=parseInt(e,10):X.test(e)&&(r=1e3*parseFloat(e)),0>r&&(r=0),r==r?r:n}function s(e){Z.debug&&window&&window.console.warn(e)}var u=function(e,t,n){function r(e){return"object"==typeof e}function a(e){return"function"==typeof e}function i(){}return function n(o,s){function u(){var e=new l;return a(e.init)&&e.init.apply(e,arguments),e}function l(){}void 0===s&&(s=o,o=Object),u.Bare=l;var c,d=i[e]=o[e],p=l[e]=u[e]=new i;return p.constructor=u,u.mixin=function(t){return l[e]=u[e]=n(u,t)[e],u},u.open=function(e){if(c={},a(e)?c=e.call(u,p,d,u,o):r(e)&&(c=e),r(c))for(var n in c)t.call(c,n)&&(p[n]=c[n]);return a(p.init)||(p.init=o),u},u.open(s)}}("prototype",{}.hasOwnProperty),l={ease:["ease",function(e,t,n,r){var a=(e/=r)*e,i=a*e;return t+n*(-2.75*i*a+11*a*a+-15.5*i+8*a+.25*e)}],"ease-in":["ease-in",function(e,t,n,r){var a=(e/=r)*e,i=a*e;return t+n*(-1*i*a+3*a*a+-3*i+2*a)}],"ease-out":["ease-out",function(e,t,n,r){var a=(e/=r)*e,i=a*e;return t+n*(.3*i*a+-1.6*a*a+2.2*i+-1.8*a+1.9*e)}],"ease-in-out":["ease-in-out",function(e,t,n,r){var a=(e/=r)*e,i=a*e;return t+n*(2*i*a+-5*a*a+2*i+2*a)}],linear:["linear",function(e,t,n,r){return n*e/r+t}],"ease-in-quad":["cubic-bezier(0.550, 0.085, 0.680, 0.530)",function(e,t,n,r){return n*(e/=r)*e+t}],"ease-out-quad":["cubic-bezier(0.250, 0.460, 0.450, 0.940)",function(e,t,n,r){return-n*(e/=r)*(e-2)+t}],"ease-in-out-quad":["cubic-bezier(0.455, 0.030, 0.515, 0.955)",function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}],"ease-in-cubic":["cubic-bezier(0.550, 0.055, 0.675, 0.190)",function(e,t,n,r){return n*(e/=r)*e*e+t}],"ease-out-cubic":["cubic-bezier(0.215, 0.610, 0.355, 1)",function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}],"ease-in-out-cubic":["cubic-bezier(0.645, 0.045, 0.355, 1)",function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t}],"ease-in-quart":["cubic-bezier(0.895, 0.030, 0.685, 0.220)",function(e,t,n,r){return n*(e/=r)*e*e*e+t}],"ease-out-quart":["cubic-bezier(0.165, 0.840, 0.440, 1)",function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t}],"ease-in-out-quart":["cubic-bezier(0.770, 0, 0.175, 1)",function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t}],"ease-in-quint":["cubic-bezier(0.755, 0.050, 0.855, 0.060)",function(e,t,n,r){return n*(e/=r)*e*e*e*e+t}],"ease-out-quint":["cubic-bezier(0.230, 1, 0.320, 1)",function(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t}],"ease-in-out-quint":["cubic-bezier(0.860, 0, 0.070, 1)",function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t}],"ease-in-sine":["cubic-bezier(0.470, 0, 0.745, 0.715)",function(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t}],"ease-out-sine":["cubic-bezier(0.390, 0.575, 0.565, 1)",function(e,t,n,r){return n*Math.sin(e/r*(Math.PI/2))+t}],"ease-in-out-sine":["cubic-bezier(0.445, 0.050, 0.550, 0.950)",function(e,t,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+t}],"ease-in-expo":["cubic-bezier(0.950, 0.050, 0.795, 0.035)",function(e,t,n,r){return 0===e?t:n*Math.pow(2,10*(e/r-1))+t}],"ease-out-expo":["cubic-bezier(0.190, 1, 0.220, 1)",function(e,t,n,r){return e===r?t+n:n*(1-Math.pow(2,-10*e/r))+t}],"ease-in-out-expo":["cubic-bezier(1, 0, 0, 1)",function(e,t,n,r){return 0===e?t:e===r?t+n:(e/=r/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(2-Math.pow(2,-10*--e))+t}],"ease-in-circ":["cubic-bezier(0.600, 0.040, 0.980, 0.335)",function(e,t,n,r){return-n*(Math.sqrt(1-(e/=r)*e)-1)+t}],"ease-out-circ":["cubic-bezier(0.075, 0.820, 0.165, 1)",function(e,t,n,r){return n*Math.sqrt(1-(e=e/r-1)*e)+t}],"ease-in-out-circ":["cubic-bezier(0.785, 0.135, 0.150, 0.860)",function(e,t,n,r){return(e/=r/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t}],"ease-in-back":["cubic-bezier(0.600, -0.280, 0.735, 0.045)",function(e,t,n,r,a){return void 0===a&&(a=1.70158),n*(e/=r)*e*((a+1)*e-a)+t}],"ease-out-back":["cubic-bezier(0.175, 0.885, 0.320, 1.275)",function(e,t,n,r,a){return void 0===a&&(a=1.70158),n*((e=e/r-1)*e*((a+1)*e+a)+1)+t}],"ease-in-out-back":["cubic-bezier(0.680, -0.550, 0.265, 1.550)",function(e,t,n,r,a){return void 0===a&&(a=1.70158),(e/=r/2)<1?n/2*e*e*((1+(a*=1.525))*e-a)+t:n/2*((e-=2)*e*((1+(a*=1.525))*e+a)+2)+t}]},c={"ease-in-back":"cubic-bezier(0.600, 0, 0.735, 0.045)","ease-out-back":"cubic-bezier(0.175, 0.885, 0.320, 1)","ease-in-out-back":"cubic-bezier(0.680, 0, 0.265, 1)"},d=document,p=window,f="bkwld-tram",m=/[\-\.0-9]/g,h=/[A-Z]/,y="number",g=/^(rgb|#)/,_=/(em|cm|mm|in|pt|pc|px)$/,v=/(em|cm|mm|in|pt|pc|px|%)$/,b=/(deg|rad|turn)$/,w="unitless",x=/(all|none) 0s ease 0s/,k=/^(width|height)$/,E=" ",I=d.createElement("a"),S=["Webkit","Moz","O","ms"],C=["-webkit-","-moz-","-o-","-ms-"],T=function(e){if(e in I.style)return{dom:e,css:e};var t,n,r="",a=e.split("-");for(t=0;t<a.length;t++)r+=a[t].charAt(0).toUpperCase()+a[t].slice(1);for(t=0;t<S.length;t++)if((n=S[t]+r)in I.style)return{dom:n,css:C[t]+e}},A=t.support={bind:Function.prototype.bind,transform:T("transform"),transition:T("transition"),backface:T("backface-visibility"),timing:T("transition-timing-function")};if(A.transition){var O=A.timing.dom;if(I.style[O]=l["ease-in-back"][0],!I.style[O])for(var P in c)l[P][0]=c[P]}var R,q=t.frame=(R=p.requestAnimationFrame||p.webkitRequestAnimationFrame||p.mozRequestAnimationFrame||p.oRequestAnimationFrame||p.msRequestAnimationFrame)&&A.bind?R.bind(p):function(e){p.setTimeout(e,16)},L=t.now=function(){var e=p.performance,t=e&&(e.now||e.webkitNow||e.msNow||e.mozNow);return t&&A.bind?t.bind(e):Date.now||function(){return+new Date}}(),B=u((function(t){function r(e,t){var n=function(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var a=e[t];a&&r.push(a)}return r}((""+e).split(E)),r=n[0];t=t||{};var a=K[r];if(!a)return s("Unsupported property: "+r);if(!t.weak||!this.props[r]){var i=a[0],o=this.props[r];return o||(o=this.props[r]=new i.Bare),o.init(this.$el,n,a,t),o}}function a(e,t,n){if(e){var a=typeof e;if(t||(this.timer&&this.timer.destroy(),this.queue=[],this.active=!1),"number"==a&&t)return this.timer=new U({duration:e,context:this,complete:i}),void(this.active=!0);if("string"==a&&t){switch(e){case"hide":l.call(this);break;case"stop":u.call(this);break;case"redraw":c.call(this);break;default:r.call(this,e,n&&n[1])}return i.call(this)}if("function"==a)return void e.call(this,this);if("object"==a){var s=0;p.call(this,e,(function(e,t){e.span>s&&(s=e.span),e.stop(),e.animate(t)}),(function(e){"wait"in e&&(s=o(e.wait,0))})),d.call(this),s>0&&(this.timer=new U({duration:s,context:this}),this.active=!0,t&&(this.timer.complete=i));var f=this,m=!1,h={};q((function(){p.call(f,e,(function(e){e.active&&(m=!0,h[e.name]=e.nextStyle)})),m&&f.$el.css(h)}))}}}function i(){if(this.timer&&this.timer.destroy(),this.active=!1,this.queue.length){var e=this.queue.shift();a.call(this,e.options,!0,e.args)}}function u(e){var t;this.timer&&this.timer.destroy(),this.queue=[],this.active=!1,"string"==typeof e?(t={})[e]=1:t="object"==typeof e&&null!=e?e:this.props,p.call(this,t,m),d.call(this)}function l(){u.call(this),this.el.style.display="none"}function c(){this.el.offsetHeight}function d(){var e,t,n=[];for(e in this.upstream&&n.push(this.upstream),this.props)(t=this.props[e]).active&&n.push(t.string);n=n.join(","),this.style!==n&&(this.style=n,this.el.style[A.transition.dom]=n)}function p(e,t,a){var i,o,s,u,l=t!==m,c={};for(i in e)s=e[i],i in G?(c.transform||(c.transform={}),c.transform[i]=s):(h.test(i)&&(i=n(i)),i in K?c[i]=s:(u||(u={}),u[i]=s));for(i in c){if(s=c[i],!(o=this.props[i])){if(!l)continue;o=r.call(this,i)}t.call(this,o,s)}a&&u&&a.call(this,u)}function m(e){e.stop()}function y(e,t){e.set(t)}function g(e){this.$el.css(e)}function _(e,n){t[e]=function(){return this.children?v.call(this,n,arguments):(this.el&&n.apply(this,arguments),this)}}function v(e,t){var n,r=this.children.length;for(n=0;r>n;n++)e.apply(this.children[n],t);return this}t.init=function(t){if(this.$el=e(t),this.el=this.$el[0],this.props={},this.queue=[],this.style="",this.active=!1,Z.keepInherited&&!Z.fallback){var n=H(this.el,"transition");n&&!x.test(n)&&(this.upstream=n)}A.backface&&Z.hideBackface&&V(this.el,A.backface.css,"hidden")},_("add",r),_("start",a),_("wait",(function(e){e=o(e,0),this.active?this.queue.push({options:e}):(this.timer=new U({duration:e,context:this,complete:i}),this.active=!0)})),_("then",(function(e){return this.active?(this.queue.push({options:e,args:arguments}),void(this.timer.complete=i)):s("No active transition timer. Use start() or wait() before then().")})),_("next",i),_("stop",u),_("set",(function(e){u.call(this,e),p.call(this,e,y,g)})),_("show",(function(e){"string"!=typeof e&&(e="block"),this.el.style.display=e})),_("hide",l),_("redraw",c),_("destroy",(function(){u.call(this),e.removeData(this.el,f),this.$el=this.el=null}))})),N=u(B,(function(t){function n(t,n){var r=e.data(t,f)||e.data(t,f,new B.Bare);return r.el||r.init(t),n?r.start(n):r}t.init=function(t,r){var a=e(t);if(!a.length)return this;if(1===a.length)return n(a[0],r);var i=[];return a.each((function(e,t){i.push(n(t,r))})),this.children=i,this}})),D=u((function(e){function t(){var e=this.get();this.update("auto");var t=this.get();return this.update(e),t}e.init=function(e,t,n,r){this.$el=e,this.el=e[0];var a=t[0];n[2]&&(a=n[2]),W[a]&&(a=W[a]),this.name=a,this.type=n[1],this.duration=o(t[1],this.duration,500),this.ease=function(e,t,n){return void 0!==t&&(n=t),e in l?e:n}(t[2],this.ease,"ease"),this.delay=o(t[3],this.delay,0),this.span=this.duration+this.delay,this.active=!1,this.nextStyle=null,this.auto=k.test(this.name),this.unit=r.unit||this.unit||Z.defaultUnit,this.angle=r.angle||this.angle||Z.defaultAngle,Z.fallback||r.fallback?this.animate=this.fallback:(this.animate=this.transition,this.string=this.name+E+this.duration+"ms"+("ease"!=this.ease?E+l[this.ease][0]:"")+(this.delay?E+this.delay+"ms":""))},e.set=function(e){e=this.convert(e,this.type),this.update(e),this.redraw()},e.transition=function(e){this.active=!0,e=this.convert(e,this.type),this.auto&&("auto"==this.el.style[this.name]&&(this.update(this.get()),this.redraw()),"auto"==e&&(e=t.call(this))),this.nextStyle=e},e.fallback=function(e){var n=this.el.style[this.name]||this.convert(this.get(),this.type);e=this.convert(e,this.type),this.auto&&("auto"==n&&(n=this.convert(this.get(),this.type)),"auto"==e&&(e=t.call(this))),this.tween=new $({from:n,to:e,duration:this.duration,delay:this.delay,ease:this.ease,update:this.update,context:this})},e.get=function(){return H(this.el,this.name)},e.update=function(e){V(this.el,this.name,e)},e.stop=function(){(this.active||this.nextStyle)&&(this.active=!1,this.nextStyle=null,V(this.el,this.name,this.get()));var e=this.tween;e&&e.context&&e.destroy()},e.convert=function(e,t){if("auto"==e&&this.auto)return e;var n,r="number"==typeof e,i="string"==typeof e;switch(t){case y:if(r)return e;if(i&&""===e.replace(m,""))return+e;n="number(unitless)";break;case g:if(i){if(""===e&&this.original)return this.original;if(t.test(e))return"#"==e.charAt(0)&&7==e.length?e:function(e){var t=/rgba?\((\d+),\s*(\d+),\s*(\d+)/.exec(e);return(t?a(t[1],t[2],t[3]):e).replace(/#(\w)(\w)(\w)$/,"#$1$1$2$2$3$3")}(e)}n="hex or rgb string";break;case _:if(r)return e+this.unit;if(i&&t.test(e))return e;n="number(px) or string(unit)";break;case v:if(r)return e+this.unit;if(i&&t.test(e))return e;n="number(px) or string(unit or %)";break;case b:if(r)return e+this.angle;if(i&&t.test(e))return e;n="number(deg) or string(angle)";break;case w:if(r||i&&v.test(e))return e;n="number(unitless) or string(unit or %)"}return function(e,t){s("Type warning: Expected: ["+e+"] Got: ["+typeof t+"] "+t)}(n,e),e},e.redraw=function(){this.el.offsetHeight}})),j=u(D,(function(e,t){e.init=function(){t.init.apply(this,arguments),this.original||(this.original=this.convert(this.get(),g))}})),F=u(D,(function(e,t){e.init=function(){t.init.apply(this,arguments),this.animate=this.fallback},e.get=function(){return this.$el[this.name]()},e.update=function(e){this.$el[this.name](e)}})),M=u(D,(function(e,t){function n(e,t){var n,r,a,i,o;for(n in e)a=(i=G[n])[0],r=i[1]||n,o=this.convert(e[n],a),t.call(this,r,o,a)}e.init=function(){t.init.apply(this,arguments),this.current||(this.current={},G.perspective&&Z.perspective&&(this.current.perspective=Z.perspective,V(this.el,this.name,this.style(this.current)),this.redraw()))},e.set=function(e){n.call(this,e,(function(e,t){this.current[e]=t})),V(this.el,this.name,this.style(this.current)),this.redraw()},e.transition=function(e){var t=this.values(e);this.tween=new z({current:this.current,values:t,duration:this.duration,delay:this.delay,ease:this.ease});var n,r={};for(n in this.current)r[n]=n in t?t[n]:this.current[n];this.active=!0,this.nextStyle=this.style(r)},e.fallback=function(e){var t=this.values(e);this.tween=new z({current:this.current,values:t,duration:this.duration,delay:this.delay,ease:this.ease,update:this.update,context:this})},e.update=function(){V(this.el,this.name,this.style(this.current))},e.style=function(e){var t,n="";for(t in e)n+=t+"("+e[t]+") ";return n},e.values=function(e){var t,r={};return n.call(this,e,(function(e,n,a){r[e]=n,void 0===this.current[e]&&(t=0,~e.indexOf("scale")&&(t=1),this.current[e]=this.convert(t,a))})),r}})),$=u((function(t){function n(){var e,t,r,a=u.length;if(a)for(q(n),t=L(),e=a;e--;)(r=u[e])&&r.render(t)}var o={ease:l.ease[1],from:0,to:1};t.init=function(e){this.duration=e.duration||0,this.delay=e.delay||0;var t=e.ease||o.ease;l[t]&&(t=l[t][1]),"function"!=typeof t&&(t=o.ease),this.ease=t,this.update=e.update||i,this.complete=e.complete||i,this.context=e.context||this,this.name=e.name;var n=e.from,r=e.to;void 0===n&&(n=o.from),void 0===r&&(r=o.to),this.unit=e.unit||"","number"==typeof n&&"number"==typeof r?(this.begin=n,this.change=r-n):this.format(r,n),this.value=this.begin+this.unit,this.start=L(),!1!==e.autoplay&&this.play()},t.play=function(){this.active||(this.start||(this.start=L()),this.active=!0,this,1===u.push(this)&&q(n))},t.stop=function(){var t,n;this.active&&(this.active=!1,this,(n=e.inArray(this,u))>=0&&(t=u.slice(n+1),u.length=n,t.length&&(u=u.concat(t))))},t.render=function(e){var t,n=e-this.start;if(this.delay){if(n<=this.delay)return;n-=this.delay}if(n<this.duration){var r=this.ease(n,0,1,this.duration);return t=this.startRGB?function(e,t,n){return a(e[0]+n*(t[0]-e[0]),e[1]+n*(t[1]-e[1]),e[2]+n*(t[2]-e[2]))}(this.startRGB,this.endRGB,r):function(e){return Math.round(e*c)/c}(this.begin+r*this.change),this.value=t+this.unit,void this.update.call(this.context,this.value)}t=this.endHex||this.begin+this.change,this.value=t+this.unit,this.update.call(this.context,this.value),this.complete.call(this.context),this.destroy()},t.format=function(e,t){if(t+="","#"==(e+="").charAt(0))return this.startRGB=r(t),this.endRGB=r(e),this.endHex=e,this.begin=0,void(this.change=1);if(!this.unit){var n=t.replace(m,"");n!==e.replace(m,"")&&function(e,t,n){s("Units do not match [tween]: "+t+", "+n)}(0,t,e),this.unit=n}t=parseFloat(t),e=parseFloat(e),this.begin=this.value=t,this.change=e-t},t.destroy=function(){this.stop(),this.context=null,this.ease=this.update=this.complete=i};var u=[],c=1e3})),U=u($,(function(e){e.init=function(e){this.duration=e.duration||0,this.complete=e.complete||i,this.context=e.context,this.play()},e.render=function(e){e-this.start<this.duration||(this.complete.call(this.context),this.destroy())}})),z=u($,(function(e,t){e.init=function(e){var t,n;for(t in this.context=e.context,this.update=e.update,this.tweens=[],this.current=e.current,e.values)n=e.values[t],this.current[t]!==n&&this.tweens.push(new $({name:t,from:this.current[t],to:n,duration:e.duration,delay:e.delay,ease:e.ease,autoplay:!1}));this.play()},e.render=function(e){var t,n,r=!1;for(t=this.tweens.length;t--;)(n=this.tweens[t]).context&&(n.render(e),this.current[n.name]=n.value,r=!0);return r?void(this.update&&this.update.call(this.context)):this.destroy()},e.destroy=function(){if(t.destroy.call(this),this.tweens){var e;for(e=this.tweens.length;e--;)this.tweens[e].destroy();this.tweens=null,this.current=null}}})),Z=t.config={debug:!1,defaultUnit:"px",defaultAngle:"deg",keepInherited:!1,hideBackface:!1,perspective:"",fallback:!A.transition,agentTests:[]};t.fallback=function(e){if(!A.transition)return Z.fallback=!0;Z.agentTests.push("("+e+")");var t=new RegExp(Z.agentTests.join("|"),"i");Z.fallback=t.test(navigator.userAgent)},t.fallback("6.0.[2-5] Safari"),t.tween=function(e){return new $(e)},t.delay=function(e,t,n){return new U({complete:t,duration:e,context:n})},e.fn.tram=function(e){return t.call(null,this,e)};var V=e.style,H=e.css,W={transform:A.transform&&A.transform.css},K={color:[j,g],background:[j,g,"background-color"],"outline-color":[j,g],"border-color":[j,g],"border-top-color":[j,g],"border-right-color":[j,g],"border-bottom-color":[j,g],"border-left-color":[j,g],"border-width":[D,_],"border-top-width":[D,_],"border-right-width":[D,_],"border-bottom-width":[D,_],"border-left-width":[D,_],"border-spacing":[D,_],"letter-spacing":[D,_],margin:[D,_],"margin-top":[D,_],"margin-right":[D,_],"margin-bottom":[D,_],"margin-left":[D,_],padding:[D,_],"padding-top":[D,_],"padding-right":[D,_],"padding-bottom":[D,_],"padding-left":[D,_],"outline-width":[D,_],opacity:[D,y],top:[D,v],right:[D,v],bottom:[D,v],left:[D,v],"font-size":[D,v],"text-indent":[D,v],"word-spacing":[D,v],width:[D,v],"min-width":[D,v],"max-width":[D,v],height:[D,v],"min-height":[D,v],"max-height":[D,v],"line-height":[D,w],"scroll-top":[F,y,"scrollTop"],"scroll-left":[F,y,"scrollLeft"]},G={};A.transform&&(K.transform=[M],G={x:[v,"translateX"],y:[v,"translateY"],rotate:[b],rotateX:[b],rotateY:[b],scale:[y],scaleX:[y],scaleY:[y],skew:[b],skewX:[b],skewY:[b]}),A.transform&&A.backface&&(G.z=[v,"translateZ"],G.rotateZ=[b],G.scaleZ=[y],G.perspective=[_]);var J=/ms/,X=/s|\./;return e.tram=t}(window.jQuery)})),A=C(((e,t)=>{var n=window.$,r=T()&&n.tram;t.exports=function(){var e={VERSION:"1.6.0-Webflow"},t={},n=Array.prototype,a=Object.prototype,i=Function.prototype,o=(n.push,n.slice),s=(n.concat,a.toString,a.hasOwnProperty),u=n.forEach,l=n.map,c=(n.reduce,n.reduceRight,n.filter),d=(n.every,n.some),p=n.indexOf,f=(n.lastIndexOf,Array.isArray,Object.keys),m=(i.bind,e.each=e.forEach=function(n,r,a){if(null==n)return n;if(u&&n.forEach===u)n.forEach(r,a);else if(n.length===+n.length){for(var i=0,o=n.length;i<o;i++)if(r.call(a,n[i],i,n)===t)return}else{var s=e.keys(n);for(i=0,o=s.length;i<o;i++)if(r.call(a,n[s[i]],s[i],n)===t)return}return n});e.map=e.collect=function(e,t,n){var r=[];return null==e?r:l&&e.map===l?e.map(t,n):(m(e,(function(e,a,i){r.push(t.call(n,e,a,i))})),r)},e.find=e.detect=function(e,t,n){var r;return h(e,(function(e,a,i){if(t.call(n,e,a,i))return r=e,!0})),r},e.filter=e.select=function(e,t,n){var r=[];return null==e?r:c&&e.filter===c?e.filter(t,n):(m(e,(function(e,a,i){t.call(n,e,a,i)&&r.push(e)})),r)};var h=e.some=e.any=function(n,r,a){r||(r=e.identity);var i=!1;return null==n?i:d&&n.some===d?n.some(r,a):(m(n,(function(e,n,o){if(i||(i=r.call(a,e,n,o)))return t})),!!i)};e.contains=e.include=function(e,t){return null!=e&&(p&&e.indexOf===p?-1!=e.indexOf(t):h(e,(function(e){return e===t})))},e.delay=function(e,t){var n=o.call(arguments,2);return setTimeout((function(){return e.apply(null,n)}),t)},e.defer=function(t){return e.delay.apply(e,[t,1].concat(o.call(arguments,1)))},e.throttle=function(e){var t,n,a;return function(){t||(t=!0,n=arguments,a=this,r.frame((function(){t=!1,e.apply(a,n)})))}},e.debounce=function(t,n,r){var a,i,o,s,u,l=function(){var c=e.now()-s;c<n?a=setTimeout(l,n-c):(a=null,r||(u=t.apply(o,i),o=i=null))};return function(){o=this,i=arguments,s=e.now();var c=r&&!a;return a||(a=setTimeout(l,n)),c&&(u=t.apply(o,i),o=i=null),u}},e.defaults=function(t){if(!e.isObject(t))return t;for(var n=1,r=arguments.length;n<r;n++){var a=arguments[n];for(var i in a)void 0===t[i]&&(t[i]=a[i])}return t},e.keys=function(t){if(!e.isObject(t))return[];if(f)return f(t);var n=[];for(var r in t)e.has(t,r)&&n.push(r);return n},e.has=function(e,t){return s.call(e,t)},e.isObject=function(e){return e===Object(e)},e.now=Date.now||function(){return(new Date).getTime()},e.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var y=/(.)^/,g={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},_=/\\|'|\r|\n|\u2028|\u2029/g,v=function(e){return"\\"+g[e]},b=/^\s*(\w|\$)+\s*$/;return e.template=function(t,n,r){!n&&r&&(n=r),n=e.defaults({},n,e.templateSettings);var a=RegExp([(n.escape||y).source,(n.interpolate||y).source,(n.evaluate||y).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(a,(function(e,n,r,a,s){return o+=t.slice(i,s).replace(_,v),i=s+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e})),o+="';\n";var s,u=n.variable;if(u){if(!b.test(u))throw new Error("variable is not a bare identifier: "+u)}else o="with(obj||{}){\n"+o+"}\n",u="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{s=new Function(n.variable||"obj","_",o)}catch(e){throw e.source=o,e}var l=function(t){return s.call(this,t,e)};return l.source="function("+u+"){\n"+o+"}",l},e}()})),O=C(((e,t)=>{var n={},r={},a=[],i=window.Webflow||[],o=window.jQuery,s=o(window),u=o(document),l=o.isFunction,c=n._=A(),d=n.tram=T()&&o.tram,p=!1,f=!1;function m(e){n.env()&&(l(e.design)&&s.on("__wf_design",e.design),l(e.preview)&&s.on("__wf_preview",e.preview)),l(e.destroy)&&s.on("__wf_destroy",e.destroy),e.ready&&l(e.ready)&&function(e){p?e.ready():c.contains(a,e.ready)||a.push(e.ready)}(e)}function h(e){l(e.design)&&s.off("__wf_design",e.design),l(e.preview)&&s.off("__wf_preview",e.preview),l(e.destroy)&&s.off("__wf_destroy",e.destroy),e.ready&&l(e.ready)&&function(e){a=c.filter(a,(function(t){return t!==e.ready}))}(e)}d.config.hideBackface=!1,d.config.keepInherited=!0,n.define=function(e,t,n){r[e]&&h(r[e]);var a=r[e]=t(o,c,n)||{};return m(a),a},n.require=function(e){return r[e]},n.push=function(e){p?l(e)&&e():i.push(e)},n.env=function(e){var t=window.__wf_design,n=typeof t<"u";return e?"design"===e?n&&t:"preview"===e?n&&!t:"slug"===e?n&&window.__wf_slug:"editor"===e?window.WebflowEditor:"test"===e?window.__wf_test:"frame"===e?window!==window.top:void 0:n};var y,g=navigator.userAgent.toLowerCase(),_=n.env.touch="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,v=n.env.chrome=/chrome/.test(g)&&/Google/.test(navigator.vendor)&&parseInt(g.match(/chrome\/(\d+)\./)[1],10),b=n.env.ios=/(ipod|iphone|ipad)/.test(g);n.env.safari=/safari/.test(g)&&!v&&!b,_&&u.on("touchstart mousedown",(function(e){y=e.target})),n.validClick=_?function(e){return e===y||o.contains(e,y)}:function(){return!0};var w,x="resize.webflow orientationchange.webflow load.webflow",k="scroll.webflow "+x;function E(e,t){var n=[],r={};return r.up=c.throttle((function(e){c.each(n,(function(t){t(e)}))})),e&&t&&e.on(t,r.up),r.on=function(e){"function"==typeof e&&(c.contains(n,e)||n.push(e))},r.off=function(e){n=arguments.length?c.filter(n,(function(t){return t!==e})):[]},r}function I(e){l(e)&&e()}function S(){w&&(w.reject(),s.off("load",w.resolve)),w=new o.Deferred,s.on("load",w.resolve)}n.resize=E(s,x),n.scroll=E(s,k),n.redraw=E(),n.location=function(e){window.location=e},n.env()&&(n.location=function(){}),n.ready=function(){p=!0,f?(f=!1,c.each(r,m)):c.each(a,I),c.each(i,I),n.resize.up()},n.load=function(e){w.then(e)},n.destroy=function(e){e=e||{},f=!0,s.triggerHandler("__wf_destroy"),null!=e.domready&&(p=e.domready),c.each(r,h),n.resize.off(),n.scroll.off(),n.redraw.off(),a=[],i=[],"pending"===w.state()&&S()},o(n.ready),S(),t.exports=window.Webflow=n})),P=C(((e,t)=>{var n=O();n.define("brand",t.exports=function(e){var t,r={},a=document,i=e("html"),o=e("body"),s=window.location,u=/PhantomJS/i.test(navigator.userAgent),l="fullscreenchange webkitfullscreenchange mozfullscreenchange msfullscreenchange";function c(){var n=a.fullScreen||a.mozFullScreen||a.webkitIsFullScreen||a.msFullscreenElement||!!a.webkitFullscreenElement;e(t).attr("style",n?"display: none !important;":"")}function d(){var e=o.children(".w-webflow-badge"),r=e.length&&e.get(0)===t,a=n.env("editor");r?a&&e.remove():(e.length&&e.remove(),a||o.append(t))}return r.ready=function(){var n=i.attr("data-wf-status"),r=i.attr("data-wf-domain")||"";/\.webflow\.io$/i.test(r)&&s.hostname!==r&&(n=!0),n&&!u&&(t=t||function(){var t=e('<a class="w-webflow-badge"></a>').attr("href","https://webflow.com?utm_campaign=brandjs"),n=e("<img>").attr("src","https://d3e54v103j8qbb.cloudfront.net/img/webflow-badge-icon-d2.89e12c322e.svg").attr("alt","").css({marginRight:"4px",width:"26px"}),r=e("<img>").attr("src","https://d3e54v103j8qbb.cloudfront.net/img/webflow-badge-text-d2.c82cec3b78.svg").attr("alt","Made in Webflow");return t.append(n,r),t[0]}(),d(),setTimeout(d,500),e(a).off(l,c).on(l,c))},r})})),R=C(((e,t)=>{O().define("focus-visible",t.exports=function(){return{ready:function(){if(typeof document<"u")try{document.querySelector(":focus-visible")}catch{!function(e){var t=!0,n=!1,r=null,a={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function i(e){return!!(e&&e!==document&&"HTML"!==e.nodeName&&"BODY"!==e.nodeName&&"classList"in e&&"contains"in e.classList)}function o(e){e.getAttribute("data-wf-focus-visible")||e.setAttribute("data-wf-focus-visible","true")}function s(){t=!1}function u(){document.addEventListener("mousemove",l),document.addEventListener("mousedown",l),document.addEventListener("mouseup",l),document.addEventListener("pointermove",l),document.addEventListener("pointerdown",l),document.addEventListener("pointerup",l),document.addEventListener("touchmove",l),document.addEventListener("touchstart",l),document.addEventListener("touchend",l)}function l(e){e.target.nodeName&&"html"===e.target.nodeName.toLowerCase()||(t=!1,document.removeEventListener("mousemove",l),document.removeEventListener("mousedown",l),document.removeEventListener("mouseup",l),document.removeEventListener("pointermove",l),document.removeEventListener("pointerdown",l),document.removeEventListener("pointerup",l),document.removeEventListener("touchmove",l),document.removeEventListener("touchstart",l),document.removeEventListener("touchend",l))}document.addEventListener("keydown",(function(n){n.metaKey||n.altKey||n.ctrlKey||(i(e.activeElement)&&o(e.activeElement),t=!0)}),!0),document.addEventListener("mousedown",s,!0),document.addEventListener("pointerdown",s,!0),document.addEventListener("touchstart",s,!0),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&(n&&(t=!0),u())}),!0),u(),e.addEventListener("focus",(function(e){i(e.target)&&(t||function(e){var t=e.type,n=e.tagName;return!!("INPUT"===n&&a[t]&&!e.readOnly||"TEXTAREA"===n&&!e.readOnly||e.isContentEditable)}(e.target))&&o(e.target)}),!0),e.addEventListener("blur",(function(e){i(e.target)&&e.target.hasAttribute("data-wf-focus-visible")&&(n=!0,window.clearTimeout(r),r=window.setTimeout((function(){n=!1}),100),function(e){e.getAttribute("data-wf-focus-visible")&&e.removeAttribute("data-wf-focus-visible")}(e.target))}),!0)}(document)}}}})})),q=C(((e,t)=>{var n=O();n.define("focus",t.exports=function(){var e=[],t=!1;function r(n){t&&(n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation(),e.unshift(n))}function a(n){(function(e){var t=e.target,n=t.tagName;return/^a$/i.test(n)&&null!=t.href||/^(button|textarea)$/i.test(n)&&!0!==t.disabled||/^input$/i.test(n)&&/^(button|reset|submit|radio|checkbox)$/i.test(t.type)&&!t.disabled||!/^(button|input|textarea|select|a)$/i.test(n)&&!Number.isNaN(Number.parseFloat(t.tabIndex))||/^audio$/i.test(n)||/^video$/i.test(n)&&!0===t.controls})(n)&&(t=!0,setTimeout((()=>{for(t=!1,n.target.focus();e.length>0;){var r=e.pop();r.target.dispatchEvent(new MouseEvent(r.type,r))}}),0))}return{ready:function(){typeof document<"u"&&document.body.hasAttribute("data-wf-focus-within")&&n.env.safari&&(document.addEventListener("mousedown",a,!0),document.addEventListener("mouseup",r,!0),document.addEventListener("click",r,!0))}}})})),L=C(((e,t)=>{var n=O();n.define("links",t.exports=function(e,t){var r,a,i,o={},s=e(window),u=n.env(),l=window.location,c=document.createElement("a"),d="w--current",p=/index\.(html|php)$/,f=/\/$/;function m(t){if(!t.getAttribute("hreflang")){var n=r&&t.getAttribute("href-disabled")||t.getAttribute("href");if(c.href=n,!(n.indexOf(":")>=0)){var o=e(t);if(c.hash.length>1&&c.host+c.pathname===l.host+l.pathname){if(!/^#[a-zA-Z0-9\-\_]+$/.test(c.hash))return;var s=e(c.hash);return void(s.length&&a.push({link:o,sec:s,active:!1}))}if("#"!==n&&""!==n){var u=c.href===l.href||n===i||p.test(n)&&f.test(i);y(o,d,u)}}}}function h(){var e=s.scrollTop(),n=s.height();t.each(a,(function(t){if(!t.link.attr("hreflang")){var r=t.link,a=t.sec,i=a.offset().top,o=a.outerHeight(),s=.5*n,u=a.is(":visible")&&i+o-s>=e&&i+s<=e+n;t.active!==u&&(t.active=u,y(r,d,u))}}))}function y(e,t,n){var r=e.hasClass(t);n&&r||!n&&!r||(n?e.addClass(t):e.removeClass(t))}return o.ready=o.design=o.preview=function(){r=u&&n.env("design"),i=n.env("slug")||l.pathname||"",n.scroll.off(h),a=[];for(var e=document.links,t=0;t<e.length;++t)m(e[t]);a.length&&(n.scroll.on(h),h())},o})})),B=C(((e,t)=>{var n=O();n.define("scroll",t.exports=function(e){var t={WF_CLICK_EMPTY:"click.wf-empty-link",WF_CLICK_SCROLL:"click.wf-scroll"},r=window.location,a=function(){try{return!!window.frameElement}catch{return!0}}()?null:window.history,i=e(window),o=e(document),s=e(document.body),u=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){window.setTimeout(e,15)},l=n.env("editor")?".w-editor-body":"body",c="header, "+l+" > .header, "+l+" > .w-nav:not([data-no-scroll])",d='a[href="#"]',p='a[href*="#"]:not(.w-tab-link):not('+d+")",f=document.createElement("style");f.appendChild(document.createTextNode('.wf-force-outline-none[tabindex="-1"]:focus{outline:none;}'));var m=/^#[a-zA-Z0-9][\w:.-]*$/;let h="function"==typeof window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)");function y(e,t){var n;switch(t){case"add":(n=e.attr("tabindex"))?e.attr("data-wf-tabindex-swap",n):e.attr("tabindex","-1");break;case"remove":(n=e.attr("data-wf-tabindex-swap"))?(e.attr("tabindex",n),e.removeAttr("data-wf-tabindex-swap")):e.removeAttr("tabindex")}e.toggleClass("wf-force-outline-none","add"===t)}function g(t){var o=t.currentTarget;if(!(n.env("design")||window.$.mobile&&/(?:^|\s)ui-link(?:$|\s)/.test(o.className))){var l=function(e){return m.test(e.hash)&&e.host+e.pathname===r.host+r.pathname}(o)?o.hash:"";if(""!==l){var d=e(l);d.length&&(t&&(t.preventDefault(),t.stopPropagation()),function(e){r.hash===e||!a||!a.pushState||n.env.chrome&&"file:"===r.protocol||(a.state&&a.state.hash)!==e&&a.pushState({hash:e},"",e)}(l),window.setTimeout((function(){!function(t,n){var r=i.scrollTop(),a=function(t){var n=e(c),r="fixed"===n.css("position")?n.outerHeight():0,a=t.offset().top-r;if("mid"===t.data("scroll")){var o=i.height()-r,s=t.outerHeight();s<o&&(a-=Math.round((o-s)/2))}return a}(t);if(r!==a){var o=function(e,t,n){if("none"===document.body.getAttribute("data-wf-scroll-motion")||h.matches)return 0;var r=1;return s.add(e).each((function(e,t){var n=parseFloat(t.getAttribute("data-scroll-time"));!isNaN(n)&&n>=0&&(r=n)})),(472.143*Math.log(Math.abs(t-n)+125)-2e3)*r}(t,r,a),l=Date.now(),d=function(){var e=Date.now()-l;window.scroll(0,function(e,t,n,r){return n>r?t:e+(t-e)*function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}(n/r)}(r,a,e,o)),e<=o?u(d):n()};u(d)}}(d,(function(){y(d,"add"),d.get(0).focus({preventScroll:!0}),y(d,"remove")}))}),t?0:300))}}}return{ready:function(){var{WF_CLICK_EMPTY:e,WF_CLICK_SCROLL:n}=t;o.on(n,p,g),o.on(e,d,(function(e){e.preventDefault()})),document.head.insertBefore(f,document.head.firstChild)}}})})),N=C(((e,t)=>{O().define("touch",t.exports=function(e){var t={},n=window.getSelection;function r(t){var r,a,i=!1,o=!1,s=Math.min(Math.round(.04*window.innerWidth),40);function u(e){var t=e.touches;t&&t.length>1||(i=!0,t?(o=!0,r=t[0].clientX):r=e.clientX,a=r)}function l(t){if(i){if(o&&"mousemove"===t.type)return t.preventDefault(),void t.stopPropagation();var r=t.touches,u=r?r[0].clientX:t.clientX,l=u-a;a=u,Math.abs(l)>s&&n&&""===String(n())&&(function(t,n,r){var a=e.Event("swipe",{originalEvent:n});e(n.target).trigger(a,r)}(0,t,{direction:l>0?"right":"left"}),d())}}function c(e){if(i&&(i=!1,o&&"mouseup"===e.type))return e.preventDefault(),e.stopPropagation(),void(o=!1)}function d(){i=!1}t.addEventListener("touchstart",u,!1),t.addEventListener("touchmove",l,!1),t.addEventListener("touchend",c,!1),t.addEventListener("touchcancel",d,!1),t.addEventListener("mousedown",u,!1),t.addEventListener("mousemove",l,!1),t.addEventListener("mouseup",c,!1),t.addEventListener("mouseout",d,!1),this.destroy=function(){t.removeEventListener("touchstart",u,!1),t.removeEventListener("touchmove",l,!1),t.removeEventListener("touchend",c,!1),t.removeEventListener("touchcancel",d,!1),t.removeEventListener("mousedown",u,!1),t.removeEventListener("mousemove",l,!1),t.removeEventListener("mouseup",c,!1),t.removeEventListener("mouseout",d,!1),t=null}}return e.event.special.tap={bindType:"click",delegateType:"click"},t.init=function(t){return(t="string"==typeof t?e(t).get(0):t)?new r(t):null},t.instance=t.init(document),t})})),D=C(((e,t)=>{var n=window.jQuery,r={},a=[],i=".w-ix",o={reset:function(e,t){t.__wf_intro=null},intro:function(e,t){t.__wf_intro||(t.__wf_intro=!0,n(t).triggerHandler(r.types.INTRO))},outro:function(e,t){t.__wf_intro&&(t.__wf_intro=null,n(t).triggerHandler(r.types.OUTRO))}};r.triggers={},r.types={INTRO:"w-ix-intro"+i,OUTRO:"w-ix-outro"+i},r.init=function(){for(var e=a.length,t=0;t<e;t++){var i=a[t];i[0](0,i[1])}a=[],n.extend(r.triggers,o)},r.async=function(){for(var e in o){var t=o[e];o.hasOwnProperty(e)&&(r.triggers[e]=function(e,n){a.push([t,n])})}},r.async(),t.exports=r})),j=C(((e,t)=>{var n=D();function r(e,t){var n=document.createEvent("CustomEvent");n.initCustomEvent(t,!0,!0,null),e.dispatchEvent(n)}var a=window.jQuery,i={},o=".w-ix",s={reset:function(e,t){n.triggers.reset(e,t)},intro:function(e,t){n.triggers.intro(e,t),r(t,"COMPONENT_ACTIVE")},outro:function(e,t){n.triggers.outro(e,t),r(t,"COMPONENT_INACTIVE")}};i.triggers={},i.types={INTRO:"w-ix-intro"+o,OUTRO:"w-ix-outro"+o},a.extend(i.triggers,s),t.exports=i})),F=C(((e,t)=>{var n=O(),r=j(),a=/^#[a-zA-Z0-9\-_]+$/;n.define("dropdown",t.exports=function(e,t){var i,o,s=t.debounce,u={},l=n.env(),c=!1,d=n.env.touch,p=".w-dropdown",f="w--open",m=r.triggers,h=900,y="focusout"+p,g="keydown"+p,_="mouseenter"+p,v="mousemove"+p,b="mouseleave"+p,w=(d?"click":"mouseup")+p,x="w-close"+p,k="setting"+p,E=e(document);function I(){i=l&&n.env("design"),(o=E.find(p)).each(S)}function S(t,r){var o=e(r),u=e.data(r,p);u||(u=e.data(r,p,{open:!1,el:o,config:{},selectedIdx:-1})),u.toggle=u.el.children(".w-dropdown-toggle"),u.list=u.el.children(".w-dropdown-list"),u.links=u.list.find("a:not(.w-dropdown .w-dropdown a)"),u.complete=function(e){return function(){e.list.removeClass(f),e.toggle.removeClass(f),e.manageZ&&e.el.css("z-index","")}}(u),u.mouseLeave=function(e){return function(){e.hovering=!1,e.links.is(":focus")||O(e)}}(u),u.mouseUpOutside=function(t){return t.mouseUpOutside&&E.off(w,t.mouseUpOutside),s((function(r){if(t.open){var a=e(r.target);if(!a.closest(".w-dropdown-toggle").length){var i=-1===e.inArray(t.el[0],a.parents(p)),o=n.env("editor");if(i){if(o){var s=1===a.parents().length&&1===a.parents("svg").length,u=a.parents(".w-editor-bem-EditorHoverControls").length;if(s||u)return}O(t)}}}}))}(u),u.mouseMoveOutside=function(t){return s((function(n){if(t.open){var r=e(n.target);if(-1===e.inArray(t.el[0],r.parents(p))){var a=r.parents(".w-editor-bem-EditorHoverControls").length,i=r.parents(".w-editor-bem-RTToolbar").length,o=e(".w-editor-bem-EditorOverlay"),s=o.find(".w-editor-edit-outline").length||o.find(".w-editor-bem-RTToolbar").length;if(a||i||s)return;t.hovering=!1,O(t)}}}))}(u),C(u);var c=u.toggle.attr("id"),d=u.list.attr("id");c||(c="w-dropdown-toggle-"+t),d||(d="w-dropdown-list-"+t),u.toggle.attr("id",c),u.toggle.attr("aria-controls",d),u.toggle.attr("aria-haspopup","menu"),u.toggle.attr("aria-expanded","false"),u.toggle.find(".w-icon-dropdown-toggle").attr("aria-hidden","true"),"BUTTON"!==u.toggle.prop("tagName")&&(u.toggle.attr("role","button"),u.toggle.attr("tabindex")||u.toggle.attr("tabindex","0")),u.list.attr("id",d),u.list.attr("aria-labelledby",c),u.links.each((function(e,t){t.hasAttribute("tabindex")||t.setAttribute("tabindex","0"),a.test(t.hash)&&t.addEventListener("click",O.bind(null,u))})),u.el.off(p),u.toggle.off(p),u.nav&&u.nav.off(p);var m=T(u,!0);i&&u.el.on(k,function(e){return function(t,n){n=n||{},C(e),!0===n.open&&A(e),!1===n.open&&O(e,{immediate:!0})}}(u)),i||(l&&(u.hovering=!1,O(u)),u.config.hover&&u.toggle.on(_,function(e){return function(){e.hovering=!0,A(e)}}(u)),u.el.on(x,m),u.el.on(g,function(e){return function(t){if(!i&&e.open)switch(e.selectedIdx=e.links.index(document.activeElement),t.keyCode){case 36:return e.open?(e.selectedIdx=0,P(e),t.preventDefault()):void 0;case 35:return e.open?(e.selectedIdx=e.links.length-1,P(e),t.preventDefault()):void 0;case 27:return O(e),e.toggle.focus(),t.stopPropagation();case 39:case 40:return e.selectedIdx=Math.min(e.links.length-1,e.selectedIdx+1),P(e),t.preventDefault();case 37:case 38:return e.selectedIdx=Math.max(-1,e.selectedIdx-1),P(e),t.preventDefault()}}}(u)),u.el.on(y,function(e){return s((function(t){var{relatedTarget:n,target:r}=t,a=e.el[0];return a.contains(n)||a.contains(r)||O(e),t.stopPropagation()}))}(u)),u.toggle.on(w,m),u.toggle.on(g,function(e){var t=T(e,true);return function(n){if(!i){if(!e.open)switch(n.keyCode){case 38:case 40:return n.stopPropagation()}switch(n.keyCode){case 32:case 13:return t(),n.stopPropagation(),n.preventDefault()}}}}(u)),u.nav=u.el.closest(".w-nav"),u.nav.on(x,m))}function C(e){var t=Number(e.el.css("z-index"));e.manageZ=t===h||t===h+1,e.config={hover:"true"===e.el.attr("data-hover")&&!d,delay:e.el.attr("data-delay")}}function T(e,t){return s((function(n){if(e.open||n&&"w-close"===n.type)return O(e,{forceClose:t});A(e)}))}function A(t){if(!t.open){(function(t){var n=t.el[0];o.each((function(t,r){var a=e(r);a.is(n)||a.has(n).length||a.triggerHandler(x)}))})(t),t.open=!0,t.list.addClass(f),t.toggle.addClass(f),t.toggle.attr("aria-expanded","true"),m.intro(0,t.el[0]),n.redraw.up(),t.manageZ&&t.el.css("z-index",h+1);var r=n.env("editor");i||E.on(w,t.mouseUpOutside),t.hovering&&!r&&t.el.on(b,t.mouseLeave),t.hovering&&r&&E.on(v,t.mouseMoveOutside),window.clearTimeout(t.delayId)}}function O(e,{immediate:t,forceClose:n}={}){if(e.open&&(!e.config.hover||!e.hovering||n)){e.toggle.attr("aria-expanded","false"),e.open=!1;var r=e.config;if(m.outro(0,e.el[0]),E.off(w,e.mouseUpOutside),E.off(v,e.mouseMoveOutside),e.el.off(b,e.mouseLeave),window.clearTimeout(e.delayId),!r.delay||t)return e.complete();e.delayId=window.setTimeout(e.complete,r.delay)}}function P(e){e.links[e.selectedIdx]&&e.links[e.selectedIdx].focus()}return u.ready=I,u.design=function(){c&&E.find(p).each((function(t,n){e(n).triggerHandler(x)})),c=!1,I()},u.preview=function(){c=!0,I()},u})})),M=C(((e,t)=>{var n=O();n.define("forms",t.exports=function(e,t){var r,a,i,o,s,u={},l=e(document),c=window.location,d=window.XDomainRequest&&!window.atob,p=".w-form",f=/e(-)?mail/i,m=/^\S+@\S+$/,h=window.alert,y=n.env(),g=/list-manage[1-9]?.com/i,_=t.debounce((function(){h("Oops! This page has improperly configured forms. Please contact your website administrator to fix this issue.")}),100);function v(t,n){var r=e(n),i=e.data(n,p);i||(i=e.data(n,p,{form:r})),b(i);var o=r.closest("div.w-form");i.done=o.find("> .w-form-done"),i.fail=o.find("> .w-form-fail"),i.fileUploads=o.find(".w-file-upload"),i.fileUploads.each((function(t){!function(t,n){if(n.fileUploads&&n.fileUploads[t]){var r,a=e(n.fileUploads[t]),i=a.find("> .w-file-upload-default"),o=a.find("> .w-file-upload-uploading"),u=a.find("> .w-file-upload-success"),l=a.find("> .w-file-upload-error"),c=i.find(".w-file-upload-input"),d=i.find(".w-file-upload-label"),p=d.children(),f=l.find(".w-file-upload-error-msg"),m=u.find(".w-file-upload-file"),h=u.find(".w-file-remove-link"),g=m.find(".w-file-upload-file-name"),_=f.attr("data-w-size-error"),v=f.attr("data-w-type-error"),x=f.attr("data-w-generic-error");if(y||d.on("click keydown",(function(e){"keydown"===e.type&&13!==e.which&&32!==e.which||(e.preventDefault(),c.click())})),d.find(".w-icon-file-upload-icon").attr("aria-hidden","true"),h.find(".w-icon-file-upload-remove").attr("aria-hidden","true"),y)c.on("click",(function(e){e.preventDefault()})),d.on("click",(function(e){e.preventDefault()})),p.on("click",(function(e){e.preventDefault()}));else{h.on("click keydown",(function(e){if("keydown"===e.type){if(13!==e.which&&32!==e.which)return;e.preventDefault()}c.removeAttr("data-value"),c.val(""),g.html(""),i.toggle(!0),u.toggle(!1),d.focus()})),c.on("change",(function(a){(r=a.target&&a.target.files&&a.target.files[0])&&(i.toggle(!1),l.toggle(!1),o.toggle(!0),o.focus(),g.text(r.name),C()||w(n),n.fileUploads[t].uploading=!0,function(t,n){var r=new URLSearchParams({name:t.name,size:t.size});e.ajax({type:"GET",url:`${s}?${r}`,crossDomain:!0}).done((function(e){n(null,e)})).fail((function(e){n(e)}))}(r,I))}));var k=d.outerHeight();c.height(k),c.width(1)}}function E(e){var r=e.responseJSON&&e.responseJSON.msg,a=x;"string"==typeof r&&0===r.indexOf("InvalidFileTypeError")?a=v:"string"==typeof r&&0===r.indexOf("MaxFileSizeError")&&(a=_),f.text(a),c.removeAttr("data-value"),c.val(""),o.toggle(!1),i.toggle(!0),l.toggle(!0),l.focus(),n.fileUploads[t].uploading=!1,C()||b(n)}function I(t,n){if(t)return E(t);var a=n.fileName,i=n.postData,o=n.fileId,s=n.s3Url;c.attr("data-value",o),function(t,n,r,a,i){var o=new FormData;for(var s in n)o.append(s,n[s]);o.append("file",r,a),e.ajax({type:"POST",url:t,data:o,processData:!1,contentType:!1}).done((function(){i(null)})).fail((function(e){i(e)}))}(s,i,r,a,S)}function S(e){if(e)return E(e);o.toggle(!1),u.css("display","inline-block"),u.focus(),n.fileUploads[t].uploading=!1,C()||b(n)}function C(){return(n.fileUploads&&n.fileUploads.toArray()||[]).some((function(e){return e.uploading}))}}(t,i)}));var u=i.form.attr("aria-label")||i.form.attr("data-name")||"Form";i.done.attr("aria-label")||i.form.attr("aria-label",u),i.done.attr("tabindex","-1"),i.done.attr("role","region"),i.done.attr("aria-label")||i.done.attr("aria-label",u+" success"),i.fail.attr("tabindex","-1"),i.fail.attr("role","region"),i.fail.attr("aria-label")||i.fail.attr("aria-label",u+" failure");var l=i.action=r.attr("action");if(i.handler=null,i.redirect=r.attr("data-redirect"),g.test(l))i.handler=k;else if(!l){if(a)return void(i.handler=x);_()}}function b(e){var t=e.btn=e.form.find(':input[type="submit"]');e.wait=e.btn.attr("data-wait")||null,e.success=!1,t.prop("disabled",!1),e.label&&t.val(e.label)}function w(e){var t=e.btn,n=e.wait;t.prop("disabled",!0),n&&(e.label=t.val(),t.val(n))}function x(e){I(e),E(e)}function k(n){b(n);var r=n.form,a={};if(!/^https/.test(c.href)||/^https/.test(n.action)){I(n);var i,o=function(t,n){var r=null;return n=n||{},t.find(':input:not([type="submit"]):not([type="file"])').each((function(a,i){var o=e(i),s=o.attr("type"),u=o.attr("data-name")||o.attr("name")||"Field "+(a+1);u=encodeURIComponent(u);var l=o.val();if("checkbox"===s)l=o.is(":checked");else if("radio"===s){if(null===n[u]||"string"==typeof n[u])return;l=t.find('input[name="'+o.attr("name")+'"]:checked').val()||null}"string"==typeof l&&(l=e.trim(l)),n[u]=l,r=r||function(e,t,n,r){var a=null;return"password"===t?a="Passwords cannot be submitted.":e.attr("required")?r?f.test(e.attr("type"))&&(m.test(r)||(a="Please enter a valid email address for: "+n)):a="Please fill out the required field: "+n:"g-recaptcha-response"===n&&!r&&(a="Please confirm you’re not a robot."),a}(o,s,u,l)})),r}(r,a);if(o)return h(o);w(n),t.each(a,(function(e,t){f.test(t)&&(a.EMAIL=e),/^((full[ _-]?)?name)$/i.test(t)&&(i=e),/^(first[ _-]?name)$/i.test(t)&&(a.FNAME=e),/^(last[ _-]?name)$/i.test(t)&&(a.LNAME=e)})),i&&!a.FNAME&&(i=i.split(" "),a.FNAME=i[0],a.LNAME=a.LNAME||i[1]);var s=n.action.replace("/post?","/post-json?")+"&c=?",u=s.indexOf("u=")+2;u=s.substring(u,s.indexOf("&",u));var l=s.indexOf("id=")+3;l=s.substring(l,s.indexOf("&",l)),a["b_"+u+"_"+l]="",e.ajax({url:s,data:a,dataType:"jsonp"}).done((function(e){n.success="success"===e.result||/already/.test(e.msg),n.success||console.info("MailChimp error: "+e.msg),E(n)})).fail((function(){E(n)}))}else r.attr("method","post")}function E(e){var t=e.form,r=e.redirect,a=e.success;a&&r?n.location(r):(e.done.toggle(a),e.fail.toggle(!a),a?e.done.focus():e.fail.focus(),t.toggle(!a),b(e))}function I(e){e.evt&&e.evt.preventDefault(),e.evt=null}return u.ready=u.design=u.preview=function(){a=e("html").attr("data-wf-site"),o="https://webflow.com/api/v1/form/"+a,d&&o.indexOf("https://webflow.com")>=0&&(o=o.replace("https://webflow.com","https://formdata.webflow.com")),s=`${o}/signFile`,(r=e(p+" form")).length&&r.each(v),!y&&!i&&function(){i=!0,l.on("submit",p+" form",(function(t){var n=e.data(this,p);n.handler&&(n.evt=t,n.handler(n))}));let t=".w-checkbox-input",n=".w-radio-input",r="w--redirected-checked",a="w--redirected-focus",o="w--redirected-focus-visible",s=[["checkbox",t],["radio",n]];l.on("change",p+' form input[type="checkbox"]:not('+t+")",(n=>{e(n.target).siblings(t).toggleClass(r)})),l.on("change",p+' form input[type="radio"]',(a=>{e(`input[name="${a.target.name}"]:not(${t})`).map(((t,a)=>e(a).siblings(n).removeClass(r)));let i=e(a.target);i.hasClass("w-radio-input")||i.siblings(n).addClass(r)})),s.forEach((([t,n])=>{l.on("focus",p+` form input[type="${t}"]:not(`+n+")",(t=>{e(t.target).siblings(n).addClass(a),e(t.target).filter(":focus-visible, [data-wf-focus-visible]").siblings(n).addClass(o)})),l.on("blur",p+` form input[type="${t}"]:not(`+n+")",(t=>{e(t.target).siblings(n).removeClass(`${a} ${o}`)}))}))}()},u})})),$=C(((e,t)=>{var n=O(),r=j();n.define("navbar",t.exports=function(e,t){var a,i,o,s,u={},l=e.tram,c=e(window),d=e(document),p=t.debounce,f=n.env(),m=".w-nav",h="w--open",y="w--nav-dropdown-open",g="w--nav-dropdown-toggle-open",_="w--nav-dropdown-list-open",v="w--nav-link-open",b=r.triggers,w=e();function x(){n.resize.off(k)}function k(){i.each(q)}function E(n,r){var a=e(r),i=e.data(r,m);i||(i=e.data(r,m,{open:!1,el:a,config:{},selectedIdx:-1})),i.menu=a.find(".w-nav-menu"),i.links=i.menu.find(".w-nav-link"),i.dropdowns=i.menu.find(".w-dropdown"),i.dropdownToggle=i.menu.find(".w-dropdown-toggle"),i.dropdownList=i.menu.find(".w-dropdown-list"),i.button=a.find(".w-nav-button"),i.container=a.find(".w-container"),i.overlayContainerId="w-nav-overlay-"+n,i.outside=function(t){return t.outside&&d.off("click"+m,t.outside),function(n){var r=e(n.target);s&&r.closest(".w-editor-bem-EditorOverlay").length||R(t,r)}}(i);var u=a.find(".w-nav-brand");u&&"/"===u.attr("href")&&null==u.attr("aria-label")&&u.attr("aria-label","home"),i.button.attr("style","-webkit-user-select: text;"),null==i.button.attr("aria-label")&&i.button.attr("aria-label","menu"),i.button.attr("role","button"),i.button.attr("tabindex","0"),i.button.attr("aria-controls",i.overlayContainerId),i.button.attr("aria-haspopup","menu"),i.button.attr("aria-expanded","false"),i.el.off(m),i.button.off(m),i.menu.off(m),C(i),o?(S(i),i.el.on("setting"+m,function(e){return function(n,r){r=r||{};var a=c.width();C(e),!0===r.open&&D(e,!0),!1===r.open&&F(e,!0),e.open&&t.defer((function(){a!==c.width()&&A(e)}))}}(i))):(function(t){t.overlay||(t.overlay=e('<div class="w-nav-overlay" data-wf-ignore />').appendTo(t.el),t.overlay.attr("id",t.overlayContainerId),t.parent=t.menu.parent(),F(t,!0))}(i),i.button.on("click"+m,O(i)),i.menu.on("click"+m,"a",P(i)),i.button.on("keydown"+m,function(e){return function(t){switch(t.keyCode){case 32:case 13:return O(e)(),t.preventDefault(),t.stopPropagation();case 27:return F(e),t.preventDefault(),t.stopPropagation();case 39:case 40:case 36:case 35:return e.open?(35===t.keyCode?e.selectedIdx=e.links.length-1:e.selectedIdx=0,T(e),t.preventDefault(),t.stopPropagation()):(t.preventDefault(),t.stopPropagation())}}}(i)),i.el.on("keydown"+m,function(e){return function(t){if(e.open)switch(e.selectedIdx=e.links.index(document.activeElement),t.keyCode){case 36:case 35:return 35===t.keyCode?e.selectedIdx=e.links.length-1:e.selectedIdx=0,T(e),t.preventDefault(),t.stopPropagation();case 27:return F(e),e.button.focus(),t.preventDefault(),t.stopPropagation();case 37:case 38:return e.selectedIdx=Math.max(-1,e.selectedIdx-1),T(e),t.preventDefault(),t.stopPropagation();case 39:case 40:return e.selectedIdx=Math.min(e.links.length-1,e.selectedIdx+1),T(e),t.preventDefault(),t.stopPropagation()}}}(i))),q(0,r)}function I(t,n){var r=e.data(n,m);r&&(S(r),e.removeData(n,m))}function S(e){e.overlay&&(F(e,!0),e.overlay.remove(),e.overlay=null)}function C(e){var n={},r=e.config||{},a=n.animation=e.el.attr("data-animation")||"default";n.animOver=/^over/.test(a),n.animDirect=/left$/.test(a)?-1:1,r.animation!==a&&e.open&&t.defer(A,e),n.easing=e.el.attr("data-easing")||"ease",n.easing2=e.el.attr("data-easing2")||"ease";var i=e.el.attr("data-duration");n.duration=null!=i?Number(i):400,n.docHeight=e.el.attr("data-doc-height"),e.config=n}function T(e){if(e.links[e.selectedIdx]){var t=e.links[e.selectedIdx];t.focus(),P(t)}}function A(e){e.open&&(F(e,!0),D(e,!0))}function O(e){return p((function(){e.open?F(e):D(e)}))}function P(t){return function(r){var a=e(this).attr("href");n.validClick(r.currentTarget)?a&&0===a.indexOf("#")&&t.open&&F(t):r.preventDefault()}}u.ready=u.design=u.preview=function(){o=f&&n.env("design"),s=n.env("editor"),a=e(document.body),(i=d.find(m)).length&&(i.each(E),x(),n.resize.on(k))},u.destroy=function(){w=e(),x(),i&&i.length&&i.each(I)};var R=p((function(e,t){if(e.open){var n=t.closest(".w-nav-menu");e.menu.is(n)||F(e)}}));function q(t,n){var r=e.data(n,m),a=r.collapsed="none"!==r.button.css("display");if(r.open&&!a&&!o&&F(r,!0),r.container.length){var i=function(t){var n=t.container.css(L);return"none"===n&&(n=""),function(t,r){(r=e(r)).css(L,""),"none"===r.css(L)&&r.css(L,n)}}(r);r.links.each(i),r.dropdowns.each(i)}r.open&&j(r)}var L="max-width";function B(e,t){t.setAttribute("data-nav-menu-open","")}function N(e,t){t.removeAttribute("data-nav-menu-open")}function D(e,t){if(!e.open){e.open=!0,e.menu.each(B),e.links.addClass(v),e.dropdowns.addClass(y),e.dropdownToggle.addClass(g),e.dropdownList.addClass(_),e.button.addClass(h);var r=e.config;("none"===r.animation||!l.support.transform||r.duration<=0)&&(t=!0);var a=j(e),i=e.menu.outerHeight(!0),s=e.menu.outerWidth(!0),u=e.el.height(),c=e.el[0];if(q(0,c),b.intro(0,c),n.redraw.up(),o||d.on("click"+m,e.outside),t)x();else{var p="transform "+r.duration+"ms "+r.easing;if(e.overlay&&(w=e.menu.prev(),e.overlay.show().append(e.menu)),r.animOver)return l(e.menu).add(p).set({x:r.animDirect*s,height:a}).start({x:0}).then(x),void(e.overlay&&e.overlay.width(s));var f=u+i;l(e.menu).add(p).set({y:-f}).start({y:0}).then(x)}}function x(){e.button.attr("aria-expanded","true")}}function j(e){var t=e.config,n=t.docHeight?d.height():a.height();return t.animOver?e.menu.height(n):"fixed"!==e.el.css("position")&&(n-=e.el.outerHeight(!0)),e.overlay&&e.overlay.height(n),n}function F(e,t){if(e.open){e.open=!1,e.button.removeClass(h);var n=e.config;if(("none"===n.animation||!l.support.transform||n.duration<=0)&&(t=!0),b.outro(0,e.el[0]),d.off("click"+m,e.outside),t)return l(e.menu).stop(),void u();var r="transform "+n.duration+"ms "+n.easing2,a=e.menu.outerHeight(!0),i=e.menu.outerWidth(!0),o=e.el.height();if(n.animOver)l(e.menu).add(r).start({x:i*n.animDirect}).then(u);else{var s=o+a;l(e.menu).add(r).start({y:-s}).then(u)}}function u(){e.menu.height(""),l(e.menu).set({x:0,y:0}),e.menu.each(N),e.links.removeClass(v),e.dropdowns.removeClass(y),e.dropdownToggle.removeClass(g),e.dropdownList.removeClass(_),e.overlay&&e.overlay.children().length&&(w.length?e.menu.insertAfter(w):e.menu.prependTo(e.parent),e.overlay.attr("style","").hide()),e.el.triggerHandler("w-close"),e.button.attr("aria-expanded","false")}}return u})})),P(),R(),q(),L(),B(),N(),F(),M(),$(),t()}catch(ln){t(ln)}var C,T,A,O,P,R,q,L,B,N,D,j,F,M,$}),1)},405:(e,t,n)=>{n.d(t,{$Jz:()=>lp,KMV:()=>up,Lvb:()=>Zs});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}function o(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o}function u(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)(r||!(a in t))&&(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}function l(e){return this instanceof l?(this.v=e,this):new l(e)}function c(e){return"function"==typeof e}function d(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var p=d((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function f(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var m=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,a;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var l=o(i),d=l.next();!d.done;d=l.next())d.value.remove(this)}catch(t){e={error:t}}finally{try{d&&!d.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}else i.remove(this);var f=this.initialTeardown;if(c(f))try{f()}catch(e){a=e instanceof p?e.errors:[e]}var m=this._finalizers;if(m){this._finalizers=null;try{for(var h=o(m),y=h.next();!y.done;y=h.next()){var _=y.value;try{g(_)}catch(e){a=a??[],e instanceof p?a=u(u([],s(a)),s(e.errors)):a.push(e)}}}catch(e){n={error:e}}finally{try{y&&!y.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}if(a)throw new p(a)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)g(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&f(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&f(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e;var t}(),h=m.EMPTY;function y(e){return e instanceof m||e&&"closed"in e&&c(e.remove)&&c(e.add)&&c(e.unsubscribe)}function g(e){c(e)?e():e.unsubscribe()}var _={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a=_.delegate;return null!=a&&a.setTimeout?a.setTimeout.apply(a,u([e,t],s(n))):setTimeout.apply(void 0,u([e,t],s(n)))},clearTimeout:function(e){var t=_.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function v(e){_.setTimeout((function(){throw e}))}function b(){}function w(e){e()}var x=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,y(t)&&t.add(n)):n.destination=S,n}return a(t,e),t.create=function(e,t,n){return new E(e,t,n)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(m);Function.prototype.bind;var k=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){I(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){I(e)}else I(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){I(e)}},e}(),E=function(e){function t(t,n,r){var a,i=e.call(this)||this;return a=c(t)||!t?{next:t??void 0,error:n??void 0,complete:r??void 0}:t,i.destination=new k(a),i}return a(t,e),t}(x);function I(e){v(e)}var S={closed:!0,next:b,error:function(e){throw e},complete:b},C="function"==typeof Symbol&&Symbol.observable||"@@observable";function T(e){return e}var A=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this,a=function(e){return e&&e instanceof x||function(e){return e&&c(e.next)&&c(e.error)&&c(e.complete)}(e)&&y(e)}(e)?e:new E(e,t,n);return w((function(){var e=r,t=e.operator,n=e.source;a.add(t?t.call(a,n):n?r._subscribe(a):r._trySubscribe(a))})),a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=O(t))((function(t,r){var a=new E({next:function(t){try{e(t)}catch(e){r(e),a.unsubscribe()}},error:r,complete:t});n.subscribe(a)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[C]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(e){return 0===e.length?T:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=O(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function O(e){var t;return null!==(t=e??undefined)&&void 0!==t?t:Promise}function P(e){return function(t){if(function(e){return c(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function R(e,t,n,r,a){return new q(e,t,n,r,a)}var q=function(e){function t(t,n,r,a,i,o){var s=e.call(this,t)||this;return s.onFinalize=i,s.shouldUnsubscribe=o,s._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=a?function(e){try{a(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return a(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(x),L=d((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),B=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return a(t,e),t.prototype.lift=function(e){var t=new N(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new L},t.prototype.next=function(e){var t=this;w((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var a=o(t.currentObservers),i=a.next();!i.done;i=a.next())i.value.next(e)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;w((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;w((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,a=n.isStopped,i=n.observers;return r||a?h:(this.currentObservers=null,i.push(e),new m((function(){t.currentObservers=null,f(i,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,a=t.isStopped;n?e.error(r):a&&e.complete()},t.prototype.asObservable=function(){var e=new A;return e.source=this,e},t.create=function(e,t){return new N(e,t)},t}(A),N=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return a(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:h},t}(B),D=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return a(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(B),j={now:function(){return(j.delegate||Date).now()},delegate:void 0},F=function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=j);var a=e.call(this)||this;return a._bufferSize=t,a._windowTime=n,a._timestampProvider=r,a._buffer=[],a._infiniteTimeWindow=!0,a._infiniteTimeWindow=n===1/0,a._bufferSize=Math.max(1,t),a._windowTime=Math.max(1,n),a}return a(t,e),t.prototype.next=function(t){var n=this,r=n.isStopped,a=n._buffer,i=n._infiniteTimeWindow,o=n._timestampProvider,s=n._windowTime;r||(a.push(t),!i&&a.push(o.now()+s)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),a=0;a<r.length&&!e.closed;a+=n?1:2)e.next(r[a]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,n=e._timestampProvider,r=e._buffer,a=e._infiniteTimeWindow,i=(a?1:2)*t;if(t<1/0&&i<r.length&&r.splice(0,r.length-i),!a){for(var o=n.now(),s=0,u=1;u<r.length&&r[u]<=o;u+=2)s=u;s&&r.splice(0,s+1)}},t}(B),M=function(e){function t(t,n){return e.call(this)||this}return a(t,e),t.prototype.schedule=function(e,t){return this},t}(m),$={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a=$.delegate;return null!=a&&a.setInterval?a.setInterval.apply(a,u([e,t],s(n))):setInterval.apply(void 0,u([e,t],s(n)))},clearInterval:function(e){var t=$.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},U=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return a(t,e),t.prototype.schedule=function(e,t){var n;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,a=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(a,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(a,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),$.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&$.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,f(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(M),z=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=j.now,e}(),Z=function(e){function t(t,n){void 0===n&&(n=z.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return a(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(z),V=new Z(U),H=V,W=new A((function(e){return e.complete()}));function K(e){return e&&c(e.schedule)}function G(e){return e[e.length-1]}function J(e){return c(G(e))?e.pop():void 0}function X(e){return K(G(e))?e.pop():void 0}var Y=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function Q(e){return c(null==e?void 0:e.then)}function ee(e){return c(e[C])}function te(e){return Symbol.asyncIterator&&c(null==e?void 0:e[Symbol.asyncIterator])}function ne(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var re="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function ae(e){return c(null==e?void 0:e[re])}function ie(e){return function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,a=n.apply(e,t||[]),i=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){a[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof l?Promise.resolve(e.value.v).then(u,c):d(i[0][2],e)}(a[e](t))}catch(e){d(i[0][3],e)}}function u(e){s("next",e)}function c(e){s("throw",e)}function d(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}(this,arguments,(function(){var t,n,r;return i(this,(function(a){switch(a.label){case 0:t=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,l(t.read())];case 3:return n=a.sent(),r=n.value,n.done?[4,l(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,l(r)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function oe(e){return c(null==e?void 0:e.getReader)}function se(e){if(e instanceof A)return e;if(null!=e){if(ee(e))return function(e){return new A((function(t){var n=e[C]();if(c(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}(e);if(Y(e))return function(e){return new A((function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()}))}(e);if(Q(e))return function(e){return new A((function(t){e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,v)}))}(e);if(te(e))return ue(e);if(ae(e))return function(e){return new A((function(t){var n,r;try{for(var a=o(e),i=a.next();!i.done;i=a.next()){var s=i.value;if(t.next(s),t.closed)return}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}t.complete()}))}(e);if(oe(e))return function(e){return ue(ie(e))}(e)}throw ne(e)}function ue(e){return new A((function(t){(function(e,t){var n,r,a,s;return function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?a(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(o,s)}u((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var u,l;return i(this,(function(i){switch(i.label){case 0:i.trys.push([0,5,6,11]),n=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=o(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,a){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,a,(t=e[n](t)).done,t.value)}))}}}(e),i.label=1;case 1:return[4,n.next()];case 2:if((r=i.sent()).done)return[3,4];if(u=r.value,t.next(u),t.closed)return[2];i.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=i.sent(),a={error:l},[3,11];case 6:return i.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:i.sent(),i.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function le(e,t,n,r,a){void 0===r&&(r=0),void 0===a&&(a=!1);var i=t.schedule((function(){n(),a?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(i),!a)return i}function ce(e,t){return void 0===t&&(t=0),P((function(n,r){n.subscribe(R(r,(function(n){return le(r,e,(function(){return r.next(n)}),t)}),(function(){return le(r,e,(function(){return r.complete()}),t)}),(function(n){return le(r,e,(function(){return r.error(n)}),t)})))}))}function de(e,t){return void 0===t&&(t=0),P((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}function pe(e,t){if(!e)throw new Error("Iterable cannot be null");return new A((function(n){le(n,t,(function(){var r=e[Symbol.asyncIterator]();le(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function fe(e,t){return t?function(e,t){if(null!=e){if(ee(e))return function(e,t){return se(e).pipe(de(t),ce(t))}(e,t);if(Y(e))return function(e,t){return new A((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(Q(e))return function(e,t){return se(e).pipe(de(t),ce(t))}(e,t);if(te(e))return pe(e,t);if(ae(e))return function(e,t){return new A((function(n){var r;return le(n,t,(function(){r=e[re](),le(n,t,(function(){var e,t,a;try{t=(e=r.next()).value,a=e.done}catch(e){return void n.error(e)}a?n.complete():n.next(t)}),0,!0)})),function(){return c(null==r?void 0:r.return)&&r.return()}}))}(e,t);if(oe(e))return function(e,t){return pe(ie(e),t)}(e,t)}throw ne(e)}(e,t):se(e)}function me(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return fe(e,X(e))}var he=d((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));function ye(e,t){var n="object"==typeof t;return new Promise((function(r,a){var i=new E({next:function(e){r(e),i.unsubscribe()},error:a,complete:function(){n?r(t.defaultValue):a(new he)}});e.subscribe(i)}))}function ge(e,t){return P((function(n,r){var a=0;n.subscribe(R(r,(function(n){r.next(e.call(t,n,a++))})))}))}var _e=Array.isArray;function ve(e){return ge((function(t){return function(e,t){return _e(t)?e.apply(void 0,u([],s(t))):e(t)}(e,t)}))}var be=Array.isArray,we=Object.getPrototypeOf,xe=Object.prototype,ke=Object.keys;function Ee(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=X(e),r=J(e),a=function(e){if(1===e.length){var t=e[0];if(be(t))return{args:t,keys:null};if(function(e){return e&&"object"==typeof e&&we(e)===xe}(t)){var n=ke(t);return{args:n.map((function(e){return t[e]})),keys:n}}}return{args:e,keys:null}}(e),i=a.args,o=a.keys;if(0===i.length)return fe([],n);var s=new A(function(e,t,n){return void 0===n&&(n=T),function(r){Ie(t,(function(){for(var a=e.length,i=new Array(a),o=a,s=a,u=function(a){Ie(t,(function(){var u=fe(e[a],t),l=!1;u.subscribe(R(r,(function(e){i[a]=e,l||(l=!0,s--),s||r.next(n(i.slice()))}),(function(){--o||r.complete()})))}),r)},l=0;l<a;l++)u(l)}),r)}}(i,n,o?function(e){return function(e,t){return e.reduce((function(e,n,r){return e[n]=t[r],e}),{})}(o,e)}:T));return r?s.pipe(ve(r)):s}function Ie(e,t,n){e?le(n,e,t):t()}function Se(e,t,n){return void 0===n&&(n=1/0),c(t)?Se((function(n,r){return ge((function(e,a){return t(n,e,r,a)}))(se(e(n,r)))}),n):("number"==typeof t&&(n=t),P((function(t,r){return function(e,t,n,r,a,i,o,s){var u=[],l=0,c=0,d=!1,p=function(){d&&!u.length&&!l&&t.complete()},f=function(e){return l<r?m(e):u.push(e)},m=function(e){l++;var a=!1;se(n(e,c++)).subscribe(R(t,(function(e){t.next(e)}),(function(){a=!0}),void 0,(function(){if(a)try{l--;for(;u.length&&l<r;)e=void 0,e=u.shift(),m(e);p()}catch(e){t.error(e)}var e})))};return e.subscribe(R(t,f,(function(){d=!0,p()}))),function(){}}(t,r,e,n)})))}var Ce=["addListener","removeListener"],Te=["addEventListener","removeEventListener"],Ae=["on","off"];function Oe(e,t,n,r){if(c(n)&&(r=n,n=void 0),r)return Oe(e,t,n).pipe(ve(r));var a=s(function(e){return c(e.addEventListener)&&c(e.removeEventListener)}(e)?Te.map((function(r){return function(a){return e[r](t,a,n)}})):function(e){return c(e.addListener)&&c(e.removeListener)}(e)?Ce.map(Pe(e,t)):function(e){return c(e.on)&&c(e.off)}(e)?Ae.map(Pe(e,t)):[],2),i=a[0],o=a[1];if(!i&&Y(e))return Se((function(e){return Oe(e,t,n)}))(se(e));if(!i)throw new TypeError("Invalid event target");return new A((function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return i(t),function(){return o(t)}}))}function Pe(e,t){return function(n){return function(r){return e[n](t,r)}}}function Re(e,t,n){void 0===e&&(e=0),void 0===n&&(n=H);var r=-1;return null!=t&&(K(t)?n=t:r=t),new A((function(t){var a=function(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;a<0&&(a=0);var i=0;return n.schedule((function(){t.closed||(t.next(i++),0<=r?this.schedule(void 0,r):t.complete())}),a)}))}function qe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=X(e),r=function(e,t){return"number"==typeof G(e)?e.pop():1/0}(e),a=e;return a.length?1===a.length?se(a[0]):function(e){return void 0===e&&(e=1/0),Se(T,e)}(r)(fe(a,n)):W}var Le=Array.isArray;function Be(e,t){return P((function(n,r){var a=0;n.subscribe(R(r,(function(n){return e.call(t,n,a++)&&r.next(n)})))}))}function Ne(e,t){return void 0===t&&(t=V),P((function(n,r){var a=null,i=null,o=null,s=function(){if(a){a.unsubscribe(),a=null;var e=i;i=null,r.next(e)}};function u(){var n=o+e,i=t.now();if(i<n)return a=this.schedule(void 0,n-i),void r.add(a);s()}n.subscribe(R(r,(function(n){i=n,o=t.now(),a||(a=t.schedule(u,e),r.add(a))}),(function(){s(),r.complete()}),void 0,(function(){i=a=null})))}))}function De(){return new he}function je(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Be((function(t,n){return e(t,n,r)})):T,P((function(e,t){var n=0;e.subscribe(R(t,(function(e){++n<=1&&(t.next(e),1<=n&&t.complete())})))})),n?function(e){return P((function(t,n){var r=!1;t.subscribe(R(n,(function(e){r=!0,n.next(e)}),(function(){r||n.next(e),n.complete()})))}))}(t):function(e){return void 0===e&&(e=De),P((function(t,n){var r=!1;t.subscribe(R(n,(function(e){r=!0,n.next(e)}),(function(){return r?n.complete():n.error(e())})))}))}((function(){return new he})))}}function Fe(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!0!==t){if(!1!==t){var a=new E({next:function(){a.unsubscribe(),e()}});return se(t.apply(void 0,u([],s(n)))).subscribe(a)}}else e()}function Me(e,t){return P((function(n,r){var a=null,i=0,o=!1,s=function(){return o&&!a&&r.complete()};n.subscribe(R(r,(function(n){null==a||a.unsubscribe();var o=0,u=i++;se(e(n,u)).subscribe(a=R(r,(function(e){return r.next(t?t(n,e,u,o++):e)}),(function(){a=null,s()})))}),(function(){o=!0,s()})))}))}function $e(e,t,n){var r=c(e)||t||n?{next:e,error:t,complete:n}:e;return r?P((function(e,t){var n;null===(n=r.subscribe)||void 0===n||n.call(r);var a=!0;e.subscribe(R(t,(function(e){var n;null===(n=r.next)||void 0===n||n.call(r,e),t.next(e)}),(function(){var e;a=!1,null===(e=r.complete)||void 0===e||e.call(r),t.complete()}),(function(e){var n;a=!1,null===(n=r.error)||void 0===n||n.call(r,e),t.error(e)}),(function(){var e,t;a&&(null===(e=r.unsubscribe)||void 0===e||e.call(r)),null===(t=r.finalize)||void 0===t||t.call(r)})))})):T}function Ue(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=J(e);return P((function(t,r){for(var a=e.length,i=new Array(a),o=e.map((function(){return!1})),l=!1,c=function(t){se(e[t]).subscribe(R(r,(function(e){i[t]=e,!l&&!o[t]&&(o[t]=!0,(l=o.every(T))&&(o=null))}),b))},d=0;d<a;d++)c(d);t.subscribe(R(r,(function(e){if(l){var t=u([e],s(i));r.next(n?n.apply(void 0,u([],s(t))):t)}})))}))}function ze(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?a(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function Ze(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function Ve(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o}function He(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)(r||!(a in t))&&(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}var We={withStackTrace:!1},Ke=function(e,t,n){return void 0===n&&(n=We),{data:t.isOk()?{type:"Ok",value:t.value}:{type:"Err",value:t.error},message:e,stack:n.withStackTrace?(new Error).stack:void 0}},Ge=function(){function e(e){this._promise=e}return e.fromSafePromise=function(t){return new e(t.then((function(e){return new st(e)})))},e.fromPromise=function(t,n){return new e(t.then((function(e){return new st(e)})).catch((function(e){return new ut(n(e))})))},e.combine=function(e){return et(e)},e.combineWithAllErrors=function(e){return nt(e)},e.prototype.map=function(t){var n=this;return new e(this._promise.then((function(e){return ze(n,void 0,void 0,(function(){var n;return Ze(this,(function(r){switch(r.label){case 0:return e.isErr()?[2,new ut(e.error)]:(n=st.bind,[4,t(e.value)]);case 1:return[2,new(n.apply(st,[void 0,r.sent()]))]}}))}))})))},e.prototype.mapErr=function(t){var n=this;return new e(this._promise.then((function(e){return ze(n,void 0,void 0,(function(){var n;return Ze(this,(function(r){switch(r.label){case 0:return e.isOk()?[2,new st(e.value)]:(n=ut.bind,[4,t(e.error)]);case 1:return[2,new(n.apply(ut,[void 0,r.sent()]))]}}))}))})))},e.prototype.andThen=function(t){return new e(this._promise.then((function(n){if(n.isErr())return new ut(n.error);var r=t(n.value);return r instanceof e?r._promise:r})))},e.prototype.orElse=function(t){var n=this;return new e(this._promise.then((function(e){return ze(n,void 0,void 0,(function(){return Ze(this,(function(n){return e.isErr()?[2,t(e.error)]:[2,new st(e.value)]}))}))})))},e.prototype.match=function(e,t){return this._promise.then((function(n){return n.match(e,t)}))},e.prototype.unwrapOr=function(e){return this._promise.then((function(t){return t.unwrapOr(e)}))},e.prototype.then=function(e,t){return this._promise.then(e,t)},e}(),Je=function(e){return new Ge(Promise.resolve(new ut(e)))};Ge.fromPromise,Ge.fromSafePromise;var Xe,Ye,Qe=function(e){return e.reduce((function(e,t){return e.isOk()?t.isErr()?ot(t.error):e.map(function(e){return function(t){return He(He([],Ve(t),!1),[e],!1)}}(t.value)):e}),it([]))},et=function(e){return Ge.fromSafePromise(Promise.all(e)).andThen(Qe)},tt=function(e){return e.reduce((function(e,t){return t.isErr()?e.isErr()?ot(He(He([],Ve(e.error),!1),[t.error],!1)):ot([t.error]):e.isErr()?e:it(He(He([],Ve(e.value),!1),[t.value],!1))}),it([]))},nt=function(e){return Ge.fromSafePromise(Promise.all(e)).andThen(tt)};(Ye=Xe||(Xe={})).fromThrowable=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{var a=e.apply(void 0,He([],Ve(n),!1));return it(a)}catch(e){return ot(t?t(e):e)}}},Ye.combine=function(e){return Qe(e)},Ye.combineWithAllErrors=function(e){return tt(e)};var rt,at,it=function(e){return new st(e)},ot=function(e){return new ut(e)},st=function(){function e(e){this.value=e}return e.prototype.isOk=function(){return!0},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(e){return it(e(this.value))},e.prototype.mapErr=function(e){return it(this.value)},e.prototype.andThen=function(e){return e(this.value)},e.prototype.orElse=function(e){return it(this.value)},e.prototype.asyncAndThen=function(e){return e(this.value)},e.prototype.asyncMap=function(e){return Ge.fromSafePromise(e(this.value))},e.prototype.unwrapOr=function(e){return this.value},e.prototype.match=function(e,t){return e(this.value)},e.prototype._unsafeUnwrap=function(e){return this.value},e.prototype._unsafeUnwrapErr=function(e){throw Ke("Called `_unsafeUnwrapErr` on an Ok",this,e)},e}(),ut=function(){function e(e){this.error=e}return e.prototype.isOk=function(){return!1},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(e){return ot(this.error)},e.prototype.mapErr=function(e){return ot(e(this.error))},e.prototype.andThen=function(e){return ot(this.error)},e.prototype.orElse=function(e){return e(this.error)},e.prototype.asyncAndThen=function(e){return Je(this.error)},e.prototype.asyncMap=function(e){return Je(this.error)},e.prototype.unwrapOr=function(e){return e},e.prototype.match=function(e,t){return t(this.error)},e.prototype._unsafeUnwrap=function(e){throw Ke("Called `_unsafeUnwrap` on an Err",this,e)},e.prototype._unsafeUnwrapErr=function(e){return this.error},e}();Xe.fromThrowable,function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(rt||(rt={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(at||(at={}));const lt=rt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ct=e=>{switch(typeof e){case"undefined":return lt.undefined;case"string":return lt.string;case"number":return isNaN(e)?lt.nan:lt.number;case"boolean":return lt.boolean;case"function":return lt.function;case"bigint":return lt.bigint;case"symbol":return lt.symbol;case"object":return Array.isArray(e)?lt.array:null===e?lt.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?lt.promise:typeof Map<"u"&&e instanceof Map?lt.map:typeof Set<"u"&&e instanceof Set?lt.set:typeof Date<"u"&&e instanceof Date?lt.date:lt.object;default:return lt.unknown}},dt=rt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);let pt=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(r);else if("invalid_return_type"===a.code)r(a.returnTypeError);else if("invalid_arguments"===a.code)r(a.argumentsError);else if(0===a.path.length)n._errors.push(t(a));else{let e=n,r=0;for(;r<a.path.length;){const n=a.path[r];r===a.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(a))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,rt.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}};pt.create=e=>new pt(e);const ft=(e,t)=>{let n;switch(e.code){case dt.invalid_type:n=e.received===lt.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case dt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,rt.jsonStringifyReplacer)}`;break;case dt.unrecognized_keys:n=`Unrecognized key(s) in object: ${rt.joinValues(e.keys,", ")}`;break;case dt.invalid_union:n="Invalid input";break;case dt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${rt.joinValues(e.options)}`;break;case dt.invalid_enum_value:n=`Invalid enum value. Expected ${rt.joinValues(e.options)}, received '${e.received}'`;break;case dt.invalid_arguments:n="Invalid function arguments";break;case dt.invalid_return_type:n="Invalid function return type";break;case dt.invalid_date:n="Invalid date";break;case dt.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:rt.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case dt.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case dt.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case dt.custom:n="Invalid input";break;case dt.invalid_intersection_types:n="Intersection results could not be merged";break;case dt.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case dt.not_finite:n="Number must be finite";break;default:n=t.defaultError,rt.assertNever(e)}return{message:n}};let mt=ft;function ht(e,t){const n=(e=>{const{data:t,path:n,errorMaps:r,issueData:a}=e,i=[...n,...a.path||[]],o={...a,path:i};let s="";const u=r.filter((e=>!!e)).slice().reverse();for(const e of u)s=e(o,{data:t,defaultError:s}).message;return{...a,path:i,message:a.message||s}})({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,mt,ft].filter((e=>!!e))});e.common.issues.push(n)}class yt{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return gt;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const e of t)n.push({key:await e.key,value:await e.value});return yt.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:a}=r;if("aborted"===t.status||"aborted"===a.status)return gt;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),(typeof a.value<"u"||r.alwaysSet)&&(n[t.value]=a.value)}return{status:e.value,value:n}}}const gt=Object.freeze({status:"aborted"}),_t=e=>({status:"valid",value:e}),vt=e=>"aborted"===e.status,bt=e=>"dirty"===e.status,wt=e=>"valid"===e.status,xt=e=>typeof Promise<"u"&&e instanceof Promise;var kt;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(kt||(kt={}));let Et=class{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}};const It=(e,t)=>{if(wt(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new pt(e.common.issues);return this._error=t,this._error}}};function St(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:typeof t.data>"u"?{message:r??t.defaultError}:{message:n??t.defaultError},description:a}}let Ct=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return ct(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ct(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new yt,ctx:{common:e.parent.common,data:e.data,parsedType:ct(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(xt(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ct(e)},a=this._parseSync({data:e,path:r.path,parent:r});return It(r,a)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ct(e)},r=this._parse({data:e,path:n.path,parent:n}),a=await(xt(r)?r:Promise.resolve(r));return It(n,a)}refine(e,t){const n=e=>"string"==typeof t||typeof t>"u"?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,r)=>{const a=e(t),i=()=>r.addIssue({code:dt.custom,...n(t)});return typeof Promise<"u"&&a instanceof Promise?a.then((e=>!!e||(i(),!1))):!!a||(i(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)))}_refinement(e){return new fn({schema:this,typeName:wn.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return mn.create(this,this._def)}nullable(){return hn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Xt.create(this,this._def)}promise(){return pn.create(this,this._def)}or(e){return en.create([this,e],this._def)}and(e){return nn.create(this,e,this._def)}transform(e){return new fn({...St(this._def),schema:this,typeName:wn.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new yn({...St(this._def),innerType:this,defaultValue:t,typeName:wn.ZodDefault})}brand(){return new vn({typeName:wn.ZodBranded,type:this,...St(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new gn({...St(this._def),innerType:this,catchValue:t,typeName:wn.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return bn.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};const Tt=/^c[^\s-]{8,}$/i,At=/^[a-z][a-z0-9]*$/,Ot=/[0-9A-HJKMNP-TV-Z]{26}/,Pt=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,Rt=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,qt=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,Lt=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Bt=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Nt=e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):0===e.precision?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Dt(e,t){return!(("v4"!==t&&t||!Lt.test(e))&&("v6"!==t&&t||!Bt.test(e)))}let jt=class e extends Ct{constructor(){super(...arguments),this._regex=(e,t,n)=>this.refinement((t=>e.test(t)),{validation:t,code:dt.invalid_string,...kt.errToObj(n)}),this.nonempty=e=>this.min(1,kt.errToObj(e)),this.trim=()=>new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==lt.string){const t=this._getOrReturnCtx(e);return ht(t,{code:dt.invalid_type,expected:lt.string,received:t.parsedType}),gt}const t=new yt;let n;for(const r of this._def.checks)if("min"===r.kind)e.data.length<r.value&&(n=this._getOrReturnCtx(e,n),ht(n,{code:dt.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("max"===r.kind)e.data.length>r.value&&(n=this._getOrReturnCtx(e,n),ht(n,{code:dt.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("length"===r.kind){const a=e.data.length>r.value,i=e.data.length<r.value;(a||i)&&(n=this._getOrReturnCtx(e,n),a?ht(n,{code:dt.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):i&&ht(n,{code:dt.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),t.dirty())}else if("email"===r.kind)Rt.test(e.data)||(n=this._getOrReturnCtx(e,n),ht(n,{validation:"email",code:dt.invalid_string,message:r.message}),t.dirty());else if("emoji"===r.kind)qt.test(e.data)||(n=this._getOrReturnCtx(e,n),ht(n,{validation:"emoji",code:dt.invalid_string,message:r.message}),t.dirty());else if("uuid"===r.kind)Pt.test(e.data)||(n=this._getOrReturnCtx(e,n),ht(n,{validation:"uuid",code:dt.invalid_string,message:r.message}),t.dirty());else if("cuid"===r.kind)Tt.test(e.data)||(n=this._getOrReturnCtx(e,n),ht(n,{validation:"cuid",code:dt.invalid_string,message:r.message}),t.dirty());else if("cuid2"===r.kind)At.test(e.data)||(n=this._getOrReturnCtx(e,n),ht(n,{validation:"cuid2",code:dt.invalid_string,message:r.message}),t.dirty());else if("ulid"===r.kind)Ot.test(e.data)||(n=this._getOrReturnCtx(e,n),ht(n,{validation:"ulid",code:dt.invalid_string,message:r.message}),t.dirty());else if("url"===r.kind)try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),ht(n,{validation:"url",code:dt.invalid_string,message:r.message}),t.dirty()}else"regex"===r.kind?(r.regex.lastIndex=0,r.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),ht(n,{validation:"regex",code:dt.invalid_string,message:r.message}),t.dirty())):"trim"===r.kind?e.data=e.data.trim():"includes"===r.kind?e.data.includes(r.value,r.position)||(n=this._getOrReturnCtx(e,n),ht(n,{code:dt.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),t.dirty()):"toLowerCase"===r.kind?e.data=e.data.toLowerCase():"toUpperCase"===r.kind?e.data=e.data.toUpperCase():"startsWith"===r.kind?e.data.startsWith(r.value)||(n=this._getOrReturnCtx(e,n),ht(n,{code:dt.invalid_string,validation:{startsWith:r.value},message:r.message}),t.dirty()):"endsWith"===r.kind?e.data.endsWith(r.value)||(n=this._getOrReturnCtx(e,n),ht(n,{code:dt.invalid_string,validation:{endsWith:r.value},message:r.message}),t.dirty()):"datetime"===r.kind?Nt(r).test(e.data)||(n=this._getOrReturnCtx(e,n),ht(n,{code:dt.invalid_string,validation:"datetime",message:r.message}),t.dirty()):"ip"===r.kind?Dt(e.data,r.version)||(n=this._getOrReturnCtx(e,n),ht(n,{validation:"ip",code:dt.invalid_string,message:r.message}),t.dirty()):rt.assertNever(r);return{status:t.value,value:e.data}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}email(e){return this._addCheck({kind:"email",...kt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...kt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...kt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...kt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...kt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...kt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...kt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...kt.errToObj(e)})}datetime(e){var t;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(null==e?void 0:e.precision)>"u"?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,...kt.errToObj(null==e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...kt.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...kt.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...kt.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...kt.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...kt.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...kt.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...kt.errToObj(t)})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}};function Ft(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r;return parseInt(e.toFixed(a).replace(".",""))%parseInt(t.toFixed(a).replace(".",""))/Math.pow(10,a)}jt.create=e=>{var t;return new jt({checks:[],typeName:wn.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...St(e)})};let Mt=class e extends Ct{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==lt.number){const t=this._getOrReturnCtx(e);return ht(t,{code:dt.invalid_type,expected:lt.number,received:t.parsedType}),gt}let t;const n=new yt;for(const r of this._def.checks)"int"===r.kind?rt.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),ht(t,{code:dt.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty()):"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),ht(t,{code:dt.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),ht(t,{code:dt.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"multipleOf"===r.kind?0!==Ft(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),ht(t,{code:dt.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),ht(t,{code:dt.not_finite,message:r.message}),n.dirty()):rt.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,kt.toString(t))}gt(e,t){return this.setLimit("min",e,!1,kt.toString(t))}lte(e,t){return this.setLimit("max",e,!0,kt.toString(t))}lt(e,t){return this.setLimit("max",e,!1,kt.toString(t))}setLimit(t,n,r,a){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:kt.toString(a)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(e){return this._addCheck({kind:"int",message:kt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:kt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:kt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:kt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:kt.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:kt.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:kt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:kt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:kt.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&rt.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}};Mt.create=e=>new Mt({checks:[],typeName:wn.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...St(e)});let $t=class e extends Ct{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==lt.bigint){const t=this._getOrReturnCtx(e);return ht(t,{code:dt.invalid_type,expected:lt.bigint,received:t.parsedType}),gt}let t;const n=new yt;for(const r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),ht(t,{code:dt.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),ht(t,{code:dt.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),ht(t,{code:dt.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):rt.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,kt.toString(t))}gt(e,t){return this.setLimit("min",e,!1,kt.toString(t))}lte(e,t){return this.setLimit("max",e,!0,kt.toString(t))}lt(e,t){return this.setLimit("max",e,!1,kt.toString(t))}setLimit(t,n,r,a){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:kt.toString(a)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:kt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:kt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:kt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:kt.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:kt.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}};$t.create=e=>{var t;return new $t({checks:[],typeName:wn.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...St(e)})};let Ut=class extends Ct{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==lt.boolean){const t=this._getOrReturnCtx(e);return ht(t,{code:dt.invalid_type,expected:lt.boolean,received:t.parsedType}),gt}return _t(e.data)}};Ut.create=e=>new Ut({typeName:wn.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...St(e)});let zt=class e extends Ct{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==lt.date){const t=this._getOrReturnCtx(e);return ht(t,{code:dt.invalid_type,expected:lt.date,received:t.parsedType}),gt}if(isNaN(e.data.getTime()))return ht(this._getOrReturnCtx(e),{code:dt.invalid_date}),gt;const t=new yt;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),ht(n,{code:dt.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),ht(n,{code:dt.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):rt.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:kt.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:kt.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}};zt.create=e=>new zt({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:wn.ZodDate,...St(e)});let Zt=class extends Ct{_parse(e){if(this._getType(e)!==lt.symbol){const t=this._getOrReturnCtx(e);return ht(t,{code:dt.invalid_type,expected:lt.symbol,received:t.parsedType}),gt}return _t(e.data)}};Zt.create=e=>new Zt({typeName:wn.ZodSymbol,...St(e)});let Vt=class extends Ct{_parse(e){if(this._getType(e)!==lt.undefined){const t=this._getOrReturnCtx(e);return ht(t,{code:dt.invalid_type,expected:lt.undefined,received:t.parsedType}),gt}return _t(e.data)}};Vt.create=e=>new Vt({typeName:wn.ZodUndefined,...St(e)});let Ht=class extends Ct{_parse(e){if(this._getType(e)!==lt.null){const t=this._getOrReturnCtx(e);return ht(t,{code:dt.invalid_type,expected:lt.null,received:t.parsedType}),gt}return _t(e.data)}};Ht.create=e=>new Ht({typeName:wn.ZodNull,...St(e)});let Wt=class extends Ct{constructor(){super(...arguments),this._any=!0}_parse(e){return _t(e.data)}};Wt.create=e=>new Wt({typeName:wn.ZodAny,...St(e)});let Kt=class extends Ct{constructor(){super(...arguments),this._unknown=!0}_parse(e){return _t(e.data)}};Kt.create=e=>new Kt({typeName:wn.ZodUnknown,...St(e)});let Gt=class extends Ct{_parse(e){const t=this._getOrReturnCtx(e);return ht(t,{code:dt.invalid_type,expected:lt.never,received:t.parsedType}),gt}};Gt.create=e=>new Gt({typeName:wn.ZodNever,...St(e)});let Jt=class extends Ct{_parse(e){if(this._getType(e)!==lt.undefined){const t=this._getOrReturnCtx(e);return ht(t,{code:dt.invalid_type,expected:lt.void,received:t.parsedType}),gt}return _t(e.data)}};Jt.create=e=>new Jt({typeName:wn.ZodVoid,...St(e)});let Xt=class e extends Ct{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==lt.array)return ht(t,{code:dt.invalid_type,expected:lt.array,received:t.parsedType}),gt;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,a=t.data.length<r.exactLength.value;(e||a)&&(ht(t,{code:e?dt.too_big:dt.too_small,minimum:a?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(ht(t,{code:dt.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(ht(t,{code:dt.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new Et(t,e,t.path,n))))).then((e=>yt.mergeArray(n,e)));const a=[...t.data].map(((e,n)=>r.type._parseSync(new Et(t,e,t.path,n))));return yt.mergeArray(n,a)}get element(){return this._def.type}min(t,n){return new e({...this._def,minLength:{value:t,message:kt.toString(n)}})}max(t,n){return new e({...this._def,maxLength:{value:t,message:kt.toString(n)}})}length(t,n){return new e({...this._def,exactLength:{value:t,message:kt.toString(n)}})}nonempty(e){return this.min(1,e)}};function Yt(e){if(e instanceof Qt){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=mn.create(Yt(r))}return new Qt({...e._def,shape:()=>t})}return e instanceof Xt?new Xt({...e._def,type:Yt(e.element)}):e instanceof mn?mn.create(Yt(e.unwrap())):e instanceof hn?hn.create(Yt(e.unwrap())):e instanceof rn?rn.create(e.items.map((e=>Yt(e)))):e}Xt.create=(e,t)=>new Xt({type:e,minLength:null,maxLength:null,exactLength:null,typeName:wn.ZodArray,...St(t)});let Qt=class e extends Ct{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=rt.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==lt.object){const t=this._getOrReturnCtx(e);return ht(t,{code:dt.invalid_type,expected:lt.object,received:t.parsedType}),gt}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:a}=this._getCached(),i=[];if(!(this._def.catchall instanceof Gt&&"strip"===this._def.unknownKeys))for(const e in n.data)a.includes(e)||i.push(e);const o=[];for(const e of a){const t=r[e],a=n.data[e];o.push({key:{status:"valid",value:e},value:t._parse(new Et(n,a,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof Gt){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of i)o.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)i.length>0&&(ht(n,{code:dt.unrecognized_keys,keys:i}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of i){const r=n.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new Et(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of o){const n=await t.key;e.push({key:n,value:await t.value,alwaysSet:t.alwaysSet})}return e})).then((e=>yt.mergeObjectSync(t,e))):yt.mergeObjectSync(t,o)}get shape(){return this._def.shape()}strict(t){return kt.errToObj,new e({...this._def,unknownKeys:"strict",...void 0!==t?{errorMap:(e,n)=>{var r,a,i,o;const s=null!==(i=null===(a=(r=this._def).errorMap)||void 0===a?void 0:a.call(r,e,n).message)&&void 0!==i?i:n.defaultError;return"unrecognized_keys"===e.code?{message:null!==(o=kt.errToObj(t).message)&&void 0!==o?o:s}:{message:s}}}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(t){return new e({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:wn.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(t){return new e({...this._def,catchall:t})}pick(t){const n={};return rt.objectKeys(t).forEach((e=>{t[e]&&this.shape[e]&&(n[e]=this.shape[e])})),new e({...this._def,shape:()=>n})}omit(t){const n={};return rt.objectKeys(this.shape).forEach((e=>{t[e]||(n[e]=this.shape[e])})),new e({...this._def,shape:()=>n})}deepPartial(){return Yt(this)}partial(t){const n={};return rt.objectKeys(this.shape).forEach((e=>{const r=this.shape[e];t&&!t[e]?n[e]=r:n[e]=r.optional()})),new e({...this._def,shape:()=>n})}required(t){const n={};return rt.objectKeys(this.shape).forEach((e=>{if(t&&!t[e])n[e]=this.shape[e];else{let t=this.shape[e];for(;t instanceof mn;)t=t._def.innerType;n[e]=t}})),new e({...this._def,shape:()=>n})}keyof(){return ln(rt.objectKeys(this.shape))}};Qt.create=(e,t)=>new Qt({shape:()=>e,unknownKeys:"strip",catchall:Gt.create(),typeName:wn.ZodObject,...St(t)}),Qt.strictCreate=(e,t)=>new Qt({shape:()=>e,unknownKeys:"strict",catchall:Gt.create(),typeName:wn.ZodObject,...St(t)}),Qt.lazycreate=(e,t)=>new Qt({shape:e,unknownKeys:"strip",catchall:Gt.create(),typeName:wn.ZodObject,...St(t)});let en=class extends Ct{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map((e=>new pt(e.ctx.common.issues)));return ht(t,{code:dt.invalid_union,unionErrors:n}),gt}));{let e;const r=[];for(const a of n){const n={...t,common:{...t.common,issues:[]},parent:null},i=a._parseSync({data:t.data,path:t.path,parent:n});if("valid"===i.status)return i;"dirty"===i.status&&!e&&(e={result:i,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const a=r.map((e=>new pt(e)));return ht(t,{code:dt.invalid_union,unionErrors:a}),gt}}get options(){return this._def.options}};function tn(e,t){const n=ct(e),r=ct(t);if(e===t)return{valid:!0,data:e};if(n===lt.object&&r===lt.object){const n=rt.objectKeys(t),r=rt.objectKeys(e).filter((e=>-1!==n.indexOf(e))),a={...e,...t};for(const n of r){const r=tn(e[n],t[n]);if(!r.valid)return{valid:!1};a[n]=r.data}return{valid:!0,data:a}}if(n===lt.array&&r===lt.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const a=tn(e[r],t[r]);if(!a.valid)return{valid:!1};n.push(a.data)}return{valid:!0,data:n}}return n===lt.date&&r===lt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}en.create=(e,t)=>new en({options:e,typeName:wn.ZodUnion,...St(t)});let nn=class extends Ct{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(vt(e)||vt(r))return gt;const a=tn(e.value,r.value);return a.valid?((bt(e)||bt(r))&&t.dirty(),{status:t.value,value:a.data}):(ht(n,{code:dt.invalid_intersection_types}),gt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>r(e,t))):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};nn.create=(e,t,n)=>new nn({left:e,right:t,typeName:wn.ZodIntersection,...St(n)});let rn=class e extends Ct{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==lt.array)return ht(n,{code:dt.invalid_type,expected:lt.array,received:n.parsedType}),gt;if(n.data.length<this._def.items.length)return ht(n,{code:dt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),gt;!this._def.rest&&n.data.length>this._def.items.length&&(ht(n,{code:dt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new Et(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>yt.mergeArray(t,e))):yt.mergeArray(t,r)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};rn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new rn({items:e,typeName:wn.ZodTuple,rest:null,...St(t)})};let an=class extends Ct{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==lt.map)return ht(n,{code:dt.invalid_type,expected:lt.map,received:n.parsedType}),gt;const r=this._def.keyType,a=this._def.valueType,i=[...n.data.entries()].map((([e,t],i)=>({key:r._parse(new Et(n,e,n.path,[i,"key"])),value:a._parse(new Et(n,t,n.path,[i,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of i){const r=await n.key,a=await n.value;if("aborted"===r.status||"aborted"===a.status)return gt;("dirty"===r.status||"dirty"===a.status)&&t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of i){const r=n.key,a=n.value;if("aborted"===r.status||"aborted"===a.status)return gt;("dirty"===r.status||"dirty"===a.status)&&t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}}};an.create=(e,t,n)=>new an({valueType:t,keyType:e,typeName:wn.ZodMap,...St(n)});let on=class e extends Ct{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==lt.set)return ht(n,{code:dt.invalid_type,expected:lt.set,received:n.parsedType}),gt;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(ht(n,{code:dt.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(ht(n,{code:dt.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const a=this._def.valueType;function i(e){const n=new Set;for(const r of e){if("aborted"===r.status)return gt;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const o=[...n.data.values()].map(((e,t)=>a._parse(new Et(n,e,n.path,t))));return n.common.async?Promise.all(o).then((e=>i(e))):i(o)}min(t,n){return new e({...this._def,minSize:{value:t,message:kt.toString(n)}})}max(t,n){return new e({...this._def,maxSize:{value:t,message:kt.toString(n)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};on.create=(e,t)=>new on({valueType:e,minSize:null,maxSize:null,typeName:wn.ZodSet,...St(t)});let sn=class extends Ct{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};sn.create=(e,t)=>new sn({getter:e,typeName:wn.ZodLazy,...St(t)});let un=class extends Ct{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return ht(t,{received:t.data,code:dt.invalid_literal,expected:this._def.value}),gt}return{status:"valid",value:e.data}}get value(){return this._def.value}};function ln(e,t){return new cn({values:e,typeName:wn.ZodEnum,...St(t)})}un.create=(e,t)=>new un({value:e,typeName:wn.ZodLiteral,...St(t)});let cn=class e extends Ct{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return ht(t,{expected:rt.joinValues(n),received:t.parsedType,code:dt.invalid_type}),gt}if(-1===this._def.values.indexOf(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return ht(t,{received:t.data,code:dt.invalid_enum_value,options:n}),gt}return _t(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(t){return e.create(t)}exclude(t){return e.create(this.options.filter((e=>!t.includes(e))))}};cn.create=ln;let dn=class extends Ct{_parse(e){const t=rt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==lt.string&&n.parsedType!==lt.number){const e=rt.objectValues(t);return ht(n,{expected:rt.joinValues(e),received:n.parsedType,code:dt.invalid_type}),gt}if(-1===t.indexOf(e.data)){const e=rt.objectValues(t);return ht(n,{received:n.data,code:dt.invalid_enum_value,options:e}),gt}return _t(e.data)}get enum(){return this._def.values}};dn.create=(e,t)=>new dn({values:e,typeName:wn.ZodNativeEnum,...St(t)});let pn=class extends Ct{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==lt.promise&&!1===t.common.async)return ht(t,{code:dt.invalid_type,expected:lt.promise,received:t.parsedType}),gt;const n=t.parsedType===lt.promise?t.data:Promise.resolve(t.data);return _t(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}};pn.create=(e,t)=>new pn({type:e,typeName:wn.ZodPromise,...St(t)});let fn=class extends Ct{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===wn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null;if("preprocess"===r.type){const e=r.transform(n.data);return n.common.async?Promise.resolve(e).then((e=>this._def.schema._parseAsync({data:e,path:n.path,parent:n}))):this._def.schema._parseSync({data:e,path:n.path,parent:n})}const a={addIssue:e=>{ht(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),"refinement"===r.type){const e=e=>{const t=r.refinement(e,a);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?gt:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?gt:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!wt(e))return e;const i=r.transform(e.value,a);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>wt(e)?Promise.resolve(r.transform(e.value,a)).then((e=>({status:t.value,value:e}))):e))}rt.assertNever(r)}};fn.create=(e,t,n)=>new fn({schema:e,typeName:wn.ZodEffects,effect:t,...St(n)}),fn.createWithPreprocess=(e,t,n)=>new fn({schema:t,effect:{type:"preprocess",transform:e},typeName:wn.ZodEffects,...St(n)});let mn=class extends Ct{_parse(e){return this._getType(e)===lt.undefined?_t(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};mn.create=(e,t)=>new mn({innerType:e,typeName:wn.ZodOptional,...St(t)});let hn=class extends Ct{_parse(e){return this._getType(e)===lt.null?_t(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};hn.create=(e,t)=>new hn({innerType:e,typeName:wn.ZodNullable,...St(t)});let yn=class extends Ct{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===lt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};yn.create=(e,t)=>new yn({innerType:e,typeName:wn.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...St(t)});let gn=class extends Ct{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return xt(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new pt(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new pt(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};gn.create=(e,t)=>new gn({innerType:e,typeName:wn.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...St(t)});let _n=class extends Ct{_parse(e){if(this._getType(e)!==lt.nan){const t=this._getOrReturnCtx(e);return ht(t,{code:dt.invalid_type,expected:lt.nan,received:t.parsedType}),gt}return{status:"valid",value:e.data}}};_n.create=e=>new _n({typeName:wn.ZodNaN,...St(e)});let vn=class extends Ct{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}},bn=class e extends Ct{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?gt:"dirty"===e.status?(t.dirty(),(e=>({status:"dirty",value:e}))(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})();{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?gt:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(t,n){return new e({in:t,out:n,typeName:wn.ZodPipeline})}};var wn;Qt.lazycreate,function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline"}(wn||(wn={}));const xn=jt.create,kn=Mt.create,En=Ut.create;Gt.create;const In=Xt.create,Sn=Qt.create;Qt.strictCreate;const Cn=en.create;nn.create,rn.create;const Tn=un.create;cn.create,pn.create,mn.create,hn.create;const An=Sn({address:xn(),label:xn(),appearanceId:kn()}),On=Sn({publicKey:xn(),signature:xn(),curve:Cn([Tn("curve25519"),Tn("secp256k1")])}),Pn=Sn({accountAddress:xn(),proof:On}),Rn=Sn({identityAddress:xn(),label:xn()}),qn=Sn({variant:Cn([Tn("eastern"),Tn("western")]),familyName:xn(),nickname:xn(),givenNames:xn()}),Ln=Sn({quantifier:Cn([Tn("exactly"),Tn("atLeast")]),quantity:kn().gte(0)}),Bn=Sn({challenge:xn().optional(),numberOfAccounts:Ln}),Nn=Sn({accounts:In(An),challenge:xn().optional(),proofs:In(Pn).optional()}).refine((e=>{var t;return!(e.challenge||null!=e&&e.proofs)||e.challenge&&(null==(t=null==e?void 0:e.proofs)?void 0:t.length)}),"missing challenge or proofs"),Dn=Sn({isRequestingName:En().optional(),numberOfRequestedEmailAddresses:Ln.optional(),numberOfRequestedPhoneNumbers:Ln.optional()}),jn=Sn({name:qn.optional(),emailAddresses:In(xn()).optional(),phoneNumbers:In(xn()).optional()}),Fn=Sn({accounts:En(),personaData:En()}),Mn=(Sn({persona:Rn,challenge:xn().optional(),proof:On.optional()}).refine((e=>!e.challenge&&!e.proof||e.challenge&&e.proof),"missing challenge or proof"),Sn({discriminator:Tn("unauthorizedRequest"),oneTimeAccounts:Bn.optional(),oneTimePersonaData:Dn.optional()})),$n=Sn({discriminator:Tn("usePersona"),identityAddress:xn()}),Un=Cn([Sn({discriminator:Tn("loginWithoutChallenge")}),Sn({discriminator:Tn("loginWithChallenge"),challenge:xn()})]),zn=Cn([$n,Un]),Zn=Cn([Mn,Sn({discriminator:Tn("authorizedRequest"),auth:zn,reset:Fn.optional(),oneTimeAccounts:Bn.optional(),ongoingAccounts:Bn.optional(),oneTimePersonaData:Dn.optional(),ongoingPersonaData:Dn.optional()})]),Vn=Sn({transactionManifest:xn(),version:kn(),blobs:In(xn()).optional(),message:xn().optional()}),Hn=Sn({discriminator:Tn("transaction"),send:Vn}),Wn=Sn({transactionIntentHash:xn()}),Kn=Sn({discriminator:Tn("transaction"),send:Wn}),Gn=Cn([Zn,Hn,Sn({discriminator:Tn("cancelRequest")})]),Jn=Sn({version:Tn(2),networkId:kn(),dAppDefinitionAddress:xn()}),Xn=Sn({interactionId:xn(),metadata:Jn,items:Gn}),Yn=Sn({discriminator:Tn("unauthorizedRequest"),oneTimeAccounts:Nn.optional(),oneTimePersonaData:jn.optional()}),Qn=Cn([Sn({discriminator:Tn("loginWithoutChallenge"),persona:Rn}),Sn({discriminator:Tn("loginWithChallenge"),persona:Rn,challenge:xn(),proof:On})]),er=Cn([Sn({discriminator:Tn("usePersona"),persona:Rn}),Qn]),tr=Cn([Yn,Sn({discriminator:Tn("authorizedRequest"),auth:er,oneTimeAccounts:Nn.optional(),ongoingAccounts:Nn.optional(),oneTimePersonaData:jn.optional(),ongoingPersonaData:jn.optional()})]),nr=Cn([tr,Kn]),rr=Cn([Sn({discriminator:Tn("success"),interactionId:xn(),items:nr}),Sn({discriminator:Tn("failure"),interactionId:xn(),error:xn(),message:xn().optional()})]),ar=(Sn({interactionId:xn(),discriminator:Tn("extensionStatus")}),"extensionStatus"),ir=(Sn({eventType:Tn(ar),interactionId:xn(),isWalletLinked:En(),isExtensionAvailable:En()}),Sn({eventType:Cn([Tn(ar),Tn("receivedByExtension"),Tn("receivedByWallet"),Tn("requestCancelSuccess"),Tn("requestCancelFail")]),interactionId:xn()}));Cn([ir,rr]);const or="radix#chromeExtension#send",sr="radix#chromeExtension#receive",ur=(Symbol.toStringTag,e=>e),lr={rejectedByUser:"rejectedByUser",missingExtension:"missingExtension",canceledByUser:"canceledByUser",walletRequestValidation:"walletRequestValidation",walletResponseValidation:"walletResponseValidation",wrongNetwork:"wrongNetwork",failedToPrepareTransaction:"failedToPrepareTransaction",failedToCompileTransaction:"failedToCompileTransaction",failedToSignTransaction:"failedToSignTransaction",failedToSubmitTransaction:"failedToSubmitTransaction",failedToPollSubmittedTransaction:"failedToPollSubmittedTransaction",submittedTransactionWasDuplicate:"submittedTransactionWasDuplicate",submittedTransactionHasFailedTransactionStatus:"submittedTransactionHasFailedTransactionStatus",submittedTransactionHasRejectedTransactionStatus:"submittedTransactionHasRejectedTransactionStatus",failedToFindAccountWithEnoughFundsToLockFee:"failedToFindAccountWithEnoughFundsToLockFee",wrongAccountType:"wrongAccountType",unknownWebsite:"unknownWebsite",radixJsonNotFound:"radixJsonNotFound",unknownDappDefinitionAddress:"unknownDappDefinitionAddress",invalidPersona:"invalidPersona"},cr=(new Map).set(lr.missingExtension,"extension could not be found").set(lr.rejectedByUser,"user rejected request").set(lr.canceledByUser,"user has canceled the request"),dr=(e,t,n)=>({error:e,interactionId:t,message:n||cr.get(e)||""}),pr=e=>Ge.fromPromise(rr.parseAsync(e),(e=>e.issues)).andThen((e=>"success"===e.discriminator?it(e):ot(e))).mapErr((()=>dr("walletResponseValidation",""))),fr=(e,t)=>{const n=(e=>(t,n,r=crypto.randomUUID())=>{const a={items:n,interactionId:r,metadata:t};return((e,t)=>Ge.fromPromise(e.parseAsync(t),(e=>e.issues)))(Xn,a).mapErr((t=>(null==e||e.error("🔵⬆️❌ invalidWalletInteraction",t),dr(lr.walletRequestValidation,a.interactionId))))})(e.logger);return{request:(r,a={})=>n(e,r).andThen((e=>t.send(e,a))).andThen(pr).map((e=>e.items)),sendTransaction:(r,a={})=>n(e,{discriminator:"transaction",send:r}).andThen((e=>t.send(e,a))).andThen(pr).map((e=>e.items.send)),extensionStatus$:t.extensionStatus$,openPopup:t.openPopup}};var mr=function(e,t){return(mr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function hr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}mr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function yr(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}function gr(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _r(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o}function vr(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)(r||!(a in t))&&(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}function br(e){return this instanceof br?(this.v=e,this):new br(e)}function wr(e){return"function"==typeof e}function xr(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var kr=xr((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function Er(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Ir=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,a;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var o=gr(i),s=o.next();!s.done;s=o.next())s.value.remove(this)}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}else i.remove(this);var u=this.initialTeardown;if(wr(u))try{u()}catch(e){a=e instanceof kr?e.errors:[e]}var l=this._finalizers;if(l){this._finalizers=null;try{for(var c=gr(l),d=c.next();!d.done;d=c.next()){var p=d.value;try{Tr(p)}catch(e){a=a??[],e instanceof kr?a=vr(vr([],_r(a)),_r(e.errors)):a.push(e)}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}if(a)throw new kr(a)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Tr(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Er(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&Er(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e;var t}(),Sr=Ir.EMPTY;function Cr(e){return e instanceof Ir||e&&"closed"in e&&wr(e.remove)&&wr(e.add)&&wr(e.unsubscribe)}function Tr(e){wr(e)?e():e.unsubscribe()}var Ar={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,vr([e,t],_r(n)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function Or(e){Ar.setTimeout((function(){throw e}))}function Pr(){}function Rr(e){e()}var qr=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,Cr(t)&&t.add(n)):n.destination=Dr,n}return hr(t,e),t.create=function(e,t,n){return new Br(e,t,n)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Ir);Function.prototype.bind;var Lr=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){Nr(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){Nr(e)}else Nr(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){Nr(e)}},e}(),Br=function(e){function t(t,n,r){var a,i=e.call(this)||this;return a=wr(t)||!t?{next:t??void 0,error:n??void 0,complete:r??void 0}:t,i.destination=new Lr(a),i}return hr(t,e),t}(qr);function Nr(e){Or(e)}var Dr={closed:!0,next:Pr,error:function(e){throw e},complete:Pr},jr="function"==typeof Symbol&&Symbol.observable||"@@observable";function Fr(e){return e}var Mr=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this,a=function(e){return e&&e instanceof qr||function(e){return e&&wr(e.next)&&wr(e.error)&&wr(e.complete)}(e)&&Cr(e)}(e)?e:new Br(e,t,n);return Rr((function(){var e=r,t=e.operator,n=e.source;a.add(t?t.call(a,n):n?r._subscribe(a):r._trySubscribe(a))})),a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=$r(t))((function(t,r){var a=new Br({next:function(t){try{e(t)}catch(e){r(e),a.unsubscribe()}},error:r,complete:t});n.subscribe(a)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[jr]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(e){return 0===e.length?Fr:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=$r(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function $r(e){var t;return null!==(t=e??undefined)&&void 0!==t?t:Promise}function Ur(e){return function(t){if(function(e){return wr(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function zr(e,t,n,r,a){return new Zr(e,t,n,r,a)}var Zr=function(e){function t(t,n,r,a,i,o){var s=e.call(this,t)||this;return s.onFinalize=i,s.shouldUnsubscribe=o,s._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=a?function(e){try{a(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return hr(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(qr),Vr=xr((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),Hr=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return hr(t,e),t.prototype.lift=function(e){var t=new Wr(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new Vr},t.prototype.next=function(e){var t=this;Rr((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var a=gr(t.currentObservers),i=a.next();!i.done;i=a.next())i.value.next(e)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;Rr((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;Rr((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,a=n.isStopped,i=n.observers;return r||a?Sr:(this.currentObservers=null,i.push(e),new Ir((function(){t.currentObservers=null,Er(i,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,a=t.isStopped;n?e.error(r):a&&e.complete()},t.prototype.asObservable=function(){var e=new Mr;return e.source=this,e},t.create=function(e,t){return new Wr(e,t)},t}(Mr),Wr=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return hr(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:Sr},t}(Hr),Kr=function(){return Date.now()},Gr=function(e){function t(t,n){return e.call(this)||this}return hr(t,e),t.prototype.schedule=function(e,t){return this},t}(Ir),Jr={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a=Jr.delegate;return null!=a&&a.setInterval?a.setInterval.apply(a,vr([e,t],_r(n))):setInterval.apply(void 0,vr([e,t],_r(n)))},clearInterval:function(e){return clearInterval(e)},delegate:void 0},Xr=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return hr(t,e),t.prototype.schedule=function(e,t){var n;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,a=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(a,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(a,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),Jr.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&Jr.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Er(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Gr),Yr=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=Kr,e}(),Qr=function(e){function t(t,n){void 0===n&&(n=Yr.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return hr(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(Yr),ea=new Qr(Xr),ta=new Mr((function(e){return e.complete()}));function na(e){return e&&wr(e.schedule)}function ra(e){return e[e.length-1]}function aa(e){return na(ra(e))?e.pop():void 0}var ia=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function oa(e){return wr(null==e?void 0:e.then)}function sa(e){return wr(e[jr])}function ua(e){return Symbol.asyncIterator&&wr(null==e?void 0:e[Symbol.asyncIterator])}function la(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var ca="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function da(e){return wr(null==e?void 0:e[ca])}function pa(e){return function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,a=n.apply(e,t||[]),i=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){a[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof br?Promise.resolve(e.value.v).then(u,l):c(i[0][2],e)}(a[e](t))}catch(e){c(i[0][3],e)}}function u(e){s("next",e)}function l(e){s("throw",e)}function c(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}(this,arguments,(function(){var t,n,r;return yr(this,(function(a){switch(a.label){case 0:t=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,br(t.read())];case 3:return n=a.sent(),r=n.value,n.done?[4,br(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,br(r)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function fa(e){return wr(null==e?void 0:e.getReader)}function ma(e){if(e instanceof Mr)return e;if(null!=e){if(sa(e))return function(e){return new Mr((function(t){var n=e[jr]();if(wr(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}(e);if(ia(e))return function(e){return new Mr((function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()}))}(e);if(oa(e))return function(e){return new Mr((function(t){e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,Or)}))}(e);if(ua(e))return ha(e);if(da(e))return function(e){return new Mr((function(t){var n,r;try{for(var a=gr(e),i=a.next();!i.done;i=a.next()){var o=i.value;if(t.next(o),t.closed)return}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}t.complete()}))}(e);if(fa(e))return function(e){return ha(pa(e))}(e)}throw la(e)}function ha(e){return new Mr((function(t){(function(e,t){var n,r,a,i;return function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?a(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(o,s)}u((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var o,s;return yr(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=gr(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,a){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,a,(t=e[n](t)).done,t.value)}))}}}(e),u.label=1;case 1:return[4,n.next()];case 2:if((r=u.sent()).done)return[3,4];if(o=r.value,t.next(o),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=u.sent(),a={error:s},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function ya(e,t,n,r,a){void 0===r&&(r=0),void 0===a&&(a=!1);var i=t.schedule((function(){n(),a?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(i),!a)return i}function ga(e,t){return void 0===t&&(t=0),Ur((function(n,r){n.subscribe(zr(r,(function(n){return ya(r,e,(function(){return r.next(n)}),t)}),(function(){return ya(r,e,(function(){return r.complete()}),t)}),(function(n){return ya(r,e,(function(){return r.error(n)}),t)})))}))}function _a(e,t){return void 0===t&&(t=0),Ur((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}function va(e,t){if(!e)throw new Error("Iterable cannot be null");return new Mr((function(n){ya(n,t,(function(){var r=e[Symbol.asyncIterator]();ya(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function ba(e,t){return t?function(e,t){if(null!=e){if(sa(e))return function(e,t){return ma(e).pipe(_a(t),ga(t))}(e,t);if(ia(e))return function(e,t){return new Mr((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(oa(e))return function(e,t){return ma(e).pipe(_a(t),ga(t))}(e,t);if(ua(e))return va(e,t);if(da(e))return function(e,t){return new Mr((function(n){var r;return ya(n,t,(function(){r=e[ca](),ya(n,t,(function(){var e,t,a;try{t=(e=r.next()).value,a=e.done}catch(e){return void n.error(e)}a?n.complete():n.next(t)}),0,!0)})),function(){return wr(null==r?void 0:r.return)&&r.return()}}))}(e,t);if(fa(e))return function(e,t){return va(pa(e),t)}(e,t)}throw la(e)}(e,t):ma(e)}function wa(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ba(e,aa(e))}var xa=xr((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));function ka(e,t){var n="object"==typeof t;return new Promise((function(r,a){var i=new Br({next:function(e){r(e),i.unsubscribe()},error:a,complete:function(){n?r(t.defaultValue):a(new xa)}});e.subscribe(i)}))}function Ea(e,t){return Ur((function(n,r){var a=0;n.subscribe(zr(r,(function(n){r.next(e.call(t,n,a++))})))}))}function Ia(e,t,n){return void 0===n&&(n=1/0),wr(t)?Ia((function(n,r){return Ea((function(e,a){return t(n,e,r,a)}))(ma(e(n,r)))}),n):("number"==typeof t&&(n=t),Ur((function(t,r){return function(e,t,n,r,a,i,o,s){var u=[],l=0,c=0,d=!1,p=function(){d&&!u.length&&!l&&t.complete()},f=function(e){return l<r?m(e):u.push(e)},m=function(e){l++;var a=!1;ma(n(e,c++)).subscribe(zr(t,(function(e){t.next(e)}),(function(){a=!0}),void 0,(function(){if(a)try{l--;for(;u.length&&l<r;)e=void 0,e=u.shift(),m(e);p()}catch(e){t.error(e)}var e})))};return e.subscribe(zr(t,f,(function(){d=!0,p()}))),function(){}}(t,r,e,n)})))}function Sa(e,t,n){void 0===e&&(e=0),void 0===n&&(n=ea);var r=-1;return null!=t&&(na(t)?n=t:r=t),new Mr((function(t){var a=function(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;a<0&&(a=0);var i=0;return n.schedule((function(){t.closed||(t.next(i++),0<=r?this.schedule(void 0,r):t.complete())}),a)}))}function Ca(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=aa(e),r=function(e,t){return"number"==typeof ra(e)?e.pop():1/0}(e),a=e;return a.length?1===a.length?ma(a[0]):function(e){return void 0===e&&(e=1/0),Ia(Fr,e)}(r)(ba(a,n)):ta}var Ta=Array.isArray;function Aa(e,t){return Ur((function(n,r){var a=0;n.subscribe(zr(r,(function(n){return e.call(t,n,a++)&&r.next(n)})))}))}function Oa(){return new xa}function Pa(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Aa((function(t,n){return e(t,n,r)})):Fr,Ur((function(e,t){var n=0;e.subscribe(zr(t,(function(e){++n<=1&&(t.next(e),1<=n&&t.complete())})))})),n?function(e){return Ur((function(t,n){var r=!1;t.subscribe(zr(n,(function(e){r=!0,n.next(e)}),(function(){r||n.next(e),n.complete()})))}))}(t):function(e){return void 0===e&&(e=Oa),Ur((function(t,n){var r=!1;t.subscribe(zr(n,(function(e){r=!0,n.next(e)}),(function(){return r?n.complete():n.error(e())})))}))}((function(){return new xa})))}}function Ra(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!0!==t){if(!1!==t){var a=new Br({next:function(){a.unsubscribe(),e()}});return ma(t.apply(void 0,vr([],_r(n)))).subscribe(a)}}else e()}function qa(e,t){return Ur((function(n,r){var a=null,i=0,o=!1,s=function(){return o&&!a&&r.complete()};n.subscribe(zr(r,(function(n){null==a||a.unsubscribe();var o=0,u=i++;ma(e(n,u)).subscribe(a=zr(r,(function(e){return r.next(t?t(n,e,u,o++):e)}),(function(){a=null,s()})))}),(function(){o=!0,s()})))}))}function La(e,t,n){var r=wr(e)||t||n?{next:e,error:t,complete:n}:e;return r?Ur((function(e,t){var n;null===(n=r.subscribe)||void 0===n||n.call(r);var a=!0;e.subscribe(zr(t,(function(e){var n;null===(n=r.next)||void 0===n||n.call(r,e),t.next(e)}),(function(){var e;a=!1,null===(e=r.complete)||void 0===e||e.call(r),t.complete()}),(function(e){var n;a=!1,null===(n=r.error)||void 0===n||n.call(r,e),t.error(e)}),(function(){var e,t;a&&(null===(e=r.unsubscribe)||void 0===e||e.call(r)),null===(t=r.finalize)||void 0===t||t.call(r)})))})):Fr}const Ba=e=>{const t=null==e?void 0:e.logger,n=(null==e?void 0:e.subjects)??{outgoingMessageSubject:new Hr,incomingMessageSubject:new Hr,responseSubject:new Hr,messageLifeCycleEventSubject:new Hr},r=new Ir;r.add(n.incomingMessageSubject.pipe(La((e=>{"eventType"in e?(null==t||t.debug("🔵💬⬇️ messageLifecycleEvent",e),n.messageLifeCycleEventSubject.next(e)):(null==t||t.debug("🔵⬇️ walletResponse",e),n.responseSubject.next(e))}))).subscribe()),r.add(n.outgoingMessageSubject.pipe(La((e=>{null==t||t.debug("🔵⬆️ walletRequest",e),window.dispatchEvent(new CustomEvent(or,{detail:e}))}))).subscribe());const a=e=>{const t=e.detail;n.incomingMessageSubject.next(t)};addEventListener(sr,a);const i=n.messageLifeCycleEventSubject.pipe(Aa((e=>"extensionStatus"===e.eventType)));return{send:(e,r)=>{const a=new Hr,i=n.responseSubject.pipe(Aa((t=>t.interactionId===e.interactionId)),Ea((e=>"success"===e.discriminator?it(e):ot(e)))),o=n.messageLifeCycleEventSubject.pipe(Aa((({interactionId:t,eventType:n})=>e.interactionId===t&&["requestCancelSuccess","requestCancelFail"].includes(n))),Ea((e=>{const n=dr("canceledByUser",e.interactionId);return null==t||t.debug("🔵⬆️❌ walletRequestCanceled",n),e})));r.requestControl&&r.requestControl({cancelRequest:()=>(n.outgoingMessageSubject.next({interactionId:e.interactionId,items:{discriminator:"cancelRequest"},metadata:e.metadata}),setTimeout((()=>{a.next(ot(dr("canceledByUser",e.interactionId)))})),Ge.fromSafePromise(ka(Ca(i.pipe(Ea((()=>"requestCancelFail"))),o.pipe(Ea((({eventType:e})=>e))))))).andThen((e=>"requestCancelSuccess"===e?it("requestCancelSuccess"):ot("requestCancelFail"))),getRequest:()=>e});const s=Ca(i,a).pipe(Pa()),u=n.messageLifeCycleEventSubject.pipe(Aa((({interactionId:t})=>e.interactionId===t)),La((e=>{r.eventCallback&&r.eventCallback(e.eventType)})),function(e){return Ur((function(t,n){ma(e).subscribe(zr(n,(function(){return n.complete()}),Pr)),!n.closed&&t.subscribe(n)}))}(i),function(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new Hr}:t,r=e.resetOnError,a=void 0===r||r,i=e.resetOnComplete,o=void 0===i||i,s=e.resetOnRefCountZero,u=void 0===s||s;return function(e){var t,r,i,s=0,l=!1,c=!1,d=function(){null==r||r.unsubscribe(),r=void 0},p=function(){d(),t=i=void 0,l=c=!1},f=function(){var e=t;p(),null==e||e.unsubscribe()};return Ur((function(e,m){s++,!c&&!l&&d();var h=i=i??n();m.add((function(){0==--s&&!c&&!l&&(r=Ra(f,u))})),h.subscribe(m),!t&&s>0&&(t=new Br({next:function(e){return h.next(e)},error:function(e){c=!0,d(),r=Ra(p,a,e),h.error(e)},complete:function(){l=!0,d(),r=Ra(p,o),h.complete()}}),ma(e).subscribe(t))}))(e)}}()),l=u.subscribe(),c=Ca(Sa(100).pipe(Ea((()=>ot(dr("missingExtension",e.interactionId))))),u).pipe(Pa(),Aa((e=>!("eventType"in e))));return(e=>Ge.fromPromise(ka(e),ur).andThen((e=>e)))(Ca(s,c,wa(e).pipe(La((e=>{n.outgoingMessageSubject.next(e)})),Aa((e=>!1)))).pipe(La((()=>{l.unsubscribe()}))))},destroy:()=>{r.unsubscribe(),removeEventListener(sr,a)},openPopup:()=>{window.dispatchEvent(new CustomEvent(or,{detail:{discriminator:"openPopup"}}))},extensionStatus$:wa(!0).pipe(La((()=>{n.outgoingMessageSubject.next({interactionId:crypto.randomUUID(),discriminator:"extensionStatus"})})),qa((()=>function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===(e=function(e){return 1===e.length&&Ta(e[0])?e[0]:e}(e)).length?ma(e[0]):new Mr(function(e){return function(t){for(var n=[],r=function(r){n.push(ma(e[r]).subscribe(zr(t,(function(e){if(n){for(var a=0;a<n.length;a++)a!==r&&n[a].unsubscribe();n=null}t.next(e)}))))},a=0;n&&!t.closed&&a<e.length;a++)r(a)}}(e))}(i,Ca(i,Sa(100).pipe(Ea((()=>({eventType:"extensionStatus",isWalletLinked:!1,isExtensionAvailable:!1})))))))))}};function Na(e,t){const n={seen:[],stylize:ja};return null!=t&&function(e,t){if(!t||!Va(t))return e;const n=Object.keys(t);let r=n.length;for(;r--;)e[n[r]]=t[n[r]]}(n,t),Da(n.showHidden)&&(n.showHidden=!1),Da(n.depth)&&(n.depth=2),Da(n.colors)&&(n.colors=!0),Da(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=Fa),Ja(n,e,n.depth)}function Da(e){return null==e}function ja(e){return e}function Fa(e,t){var n,r,a,i;const o=Na.styles[t];return null!=o&&null!=(null==(r=null==(n=null==Na?void 0:Na.colors)?void 0:n[o])?void 0:r[0])&&null!=(null==(i=null==(a=null==Na?void 0:Na.colors)?void 0:a[o])?void 0:i[1])?"["+Na.colors[o][0]+"m"+e+"["+Na.colors[o][1]+"m":e}function Ma(e){return"function"==typeof e}function $a(e){return"string"==typeof e}function Ua(e){return null===e}function za(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Za(e){return Va(e)&&"[object RegExp]"===Ka(e)}function Va(e){return"object"==typeof e&&null!==e}function Ha(e){return Va(e)&&("[object Error]"===Ka(e)||e instanceof Error)}function Wa(e){return Va(e)&&"[object Date]"===Ka(e)}function Ka(e){return Object.prototype.toString.call(e)}function Ga(e){return"["+Error.prototype.toString.call(e)+"]"}function Ja(e,t,n=0){if(e.customInspect&&null!=t&&Ma(t)&&(null==t?void 0:t.inspect)!==Na&&(null==t||!t.constructor||(null==t?void 0:t.constructor.prototype)!==t)){if("function"!=typeof t.inspect&&null!=t.toString)return t.toString();let r=null==t?void 0:t.inspect(n,e);return $a(r)||(r=Ja(e,r,n)),r}const r=function(e,t){if(Da(t))return e.stylize("undefined","undefined");if($a(t)){const n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,"\\'")+"'";return e.stylize(n,"string")}return function(e){return"number"==typeof e}(t)?e.stylize(""+t,"number"):function(e){return"boolean"==typeof e}(t)?e.stylize(""+t,"boolean"):Ua(t)?e.stylize("null","null"):void 0}(e,t);if(r)return r;let a=Object.keys(t);const i=function(e){const t={};return e.forEach((e=>{t[e]=!0})),t}(a);try{e.showHidden&&Object.getOwnPropertyNames&&(a=Object.getOwnPropertyNames(t))}catch{}if(Ha(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return Ga(t);if(0===a.length){if(!Ma(e.stylize))return t;if(Ma(t)){const n=t.name?": "+t.name:"";return e.stylize("[Function"+n+"]","special")}if(Za(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(Wa(t))return e.stylize(Date.prototype.toString.call(t),"date");if(Ha(t))return Ga(t)}let o,s="",u=!1,l=["{\n","\n}"];return Array.isArray(t)&&(u=!0,l=["[\n","\n]"]),Ma(t)&&(s=" [Function"+(t.name?": "+t.name:"")+"]"),Za(t)&&(s=" "+RegExp.prototype.toString.call(t)),Wa(t)&&(s=" "+Date.prototype.toUTCString.call(t)),Ha(t)&&(s=" "+Ga(t)),0!==a.length||u&&0!=t.length?n<0?Za(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),o=u?function(e,t,n,r,a){const i=[];for(let a=0,o=t.length;a<o;++a)za(t,String(a))?i.push(Xa(e,t,n,r,String(a),!0)):i.push("");return a.forEach((a=>{a.match(/^\d+$/)||i.push(Xa(e,t,n,r,a,!0))})),i}(e,t,n,i,a):a.map((r=>Xa(e,t,n,i,r,u))),e.seen.pop(),function(e,t,n){return n[0]+(""===t?"":t+"\n")+"  "+e.join(",\n  ")+" "+n[1]}(o,s,l)):l[0]+s+l[1]}function Xa(e,t,n,r,a,i){let o,s,u;u={value:void 0};try{u.value=t[a]}catch{}try{Object.getOwnPropertyDescriptor&&(u=Object.getOwnPropertyDescriptor(t,a)||u)}catch{}if(u.get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),za(r,a)||(o="["+a+"]"),s||(e.seen.indexOf(u.value)<0?(s=Ua(n)?Ja(e,u.value,void 0):Ja(e,u.value,n-1),s.indexOf("\n")>-1&&(s=i?s.split("\n").map((e=>"  "+e)).join("\n").substr(2):"\n"+s.split("\n").map((e=>"   "+e)).join("\n"))):s=e.stylize("[Circular]","special")),Da(o)){if(i&&a.match(/^\d+$/))return s;o=JSON.stringify(""+a),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,"\\'").replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}var Ya,Qa,ei;Na.colors={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]},Na.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},[typeof window,typeof document].includes("undefined"),null==(Ya=null==globalThis?void 0:globalThis.navigator)||Ya.userAgent,function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(Qa||(Qa={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(ei||(ei={}));const ti=Qa.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ni=e=>{switch(typeof e){case"undefined":return ti.undefined;case"string":return ti.string;case"number":return isNaN(e)?ti.nan:ti.number;case"boolean":return ti.boolean;case"function":return ti.function;case"bigint":return ti.bigint;case"symbol":return ti.symbol;case"object":return Array.isArray(e)?ti.array:null===e?ti.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?ti.promise:typeof Map<"u"&&e instanceof Map?ti.map:typeof Set<"u"&&e instanceof Set?ti.set:typeof Date<"u"&&e instanceof Date?ti.date:ti.object;default:return ti.unknown}},ri=Qa.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ai extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(r);else if("invalid_return_type"===a.code)r(a.returnTypeError);else if("invalid_arguments"===a.code)r(a.argumentsError);else if(0===a.path.length)n._errors.push(t(a));else{let e=n,r=0;for(;r<a.path.length;){const n=a.path[r];r===a.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(a))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,Qa.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}ai.create=e=>new ai(e);const ii=(e,t)=>{let n;switch(e.code){case ri.invalid_type:n=e.received===ti.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case ri.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Qa.jsonStringifyReplacer)}`;break;case ri.unrecognized_keys:n=`Unrecognized key(s) in object: ${Qa.joinValues(e.keys,", ")}`;break;case ri.invalid_union:n="Invalid input";break;case ri.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Qa.joinValues(e.options)}`;break;case ri.invalid_enum_value:n=`Invalid enum value. Expected ${Qa.joinValues(e.options)}, received '${e.received}'`;break;case ri.invalid_arguments:n="Invalid function arguments";break;case ri.invalid_return_type:n="Invalid function return type";break;case ri.invalid_date:n="Invalid date";break;case ri.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Qa.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case ri.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case ri.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case ri.custom:n="Invalid input";break;case ri.invalid_intersection_types:n="Intersection results could not be merged";break;case ri.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case ri.not_finite:n="Number must be finite";break;default:n=t.defaultError,Qa.assertNever(e)}return{message:n}};let oi=ii;function si(e,t){const n=(e=>{const{data:t,path:n,errorMaps:r,issueData:a}=e,i=[...n,...a.path||[]],o={...a,path:i};let s="";const u=r.filter((e=>!!e)).slice().reverse();for(const e of u)s=e(o,{data:t,defaultError:s}).message;return{...a,path:i,message:a.message||s}})({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,oi,ii].filter((e=>!!e))});e.common.issues.push(n)}class ui{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return li;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const e of t)n.push({key:await e.key,value:await e.value});return ui.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:a}=r;if("aborted"===t.status||"aborted"===a.status)return li;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"!==t.value&&(typeof a.value<"u"||r.alwaysSet)&&(n[t.value]=a.value)}return{status:e.value,value:n}}}const li=Object.freeze({status:"aborted"}),ci=e=>({status:"valid",value:e}),di=e=>"aborted"===e.status,pi=e=>"dirty"===e.status,fi=e=>"valid"===e.status,mi=e=>typeof Promise<"u"&&e instanceof Promise;var hi;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(hi||(hi={}));class yi{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const gi=(e,t)=>{if(fi(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new ai(e.common.issues);return this._error=t,this._error}}};function _i(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:typeof t.data>"u"?{message:r??t.defaultError}:{message:n??t.defaultError},description:a}}class vi{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return ni(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ni(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ui,ctx:{common:e.parent.common,data:e.data,parsedType:ni(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(mi(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ni(e)},a=this._parseSync({data:e,path:r.path,parent:r});return gi(r,a)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ni(e)},r=this._parse({data:e,path:n.path,parent:n}),a=await(mi(r)?r:Promise.resolve(r));return gi(n,a)}refine(e,t){const n=e=>"string"==typeof t||typeof t>"u"?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,r)=>{const a=e(t),i=()=>r.addIssue({code:ri.custom,...n(t)});return typeof Promise<"u"&&a instanceof Promise?a.then((e=>!!e||(i(),!1))):!!a||(i(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)))}_refinement(e){return new oo({schema:this,typeName:yo.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return so.create(this,this._def)}nullable(){return uo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return zi.create(this,this._def)}promise(){return io.create(this,this._def)}or(e){return Hi.create([this,e],this._def)}and(e){return Ji.create(this,e,this._def)}transform(e){return new oo({..._i(this._def),schema:this,typeName:yo.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new lo({..._i(this._def),innerType:this,defaultValue:t,typeName:yo.ZodDefault})}brand(){return new fo({typeName:yo.ZodBranded,type:this,..._i(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new co({..._i(this._def),innerType:this,catchValue:t,typeName:yo.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return mo.create(this,e)}readonly(){return ho.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const bi=/^c[^\s-]{8,}$/i,wi=/^[a-z][a-z0-9]*$/,xi=/^[0-9A-HJKMNP-TV-Z]{26}$/,ki=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ei=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let Ii;const Si=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Ci=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Ti=e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):0===e.precision?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Ai(e,t){return!(("v4"!==t&&t||!Si.test(e))&&("v6"!==t&&t||!Ci.test(e)))}class Oi extends vi{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ti.string){const t=this._getOrReturnCtx(e);return si(t,{code:ri.invalid_type,expected:ti.string,received:t.parsedType}),li}const t=new ui;let n;for(const r of this._def.checks)if("min"===r.kind)e.data.length<r.value&&(n=this._getOrReturnCtx(e,n),si(n,{code:ri.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("max"===r.kind)e.data.length>r.value&&(n=this._getOrReturnCtx(e,n),si(n,{code:ri.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("length"===r.kind){const a=e.data.length>r.value,i=e.data.length<r.value;(a||i)&&(n=this._getOrReturnCtx(e,n),a?si(n,{code:ri.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):i&&si(n,{code:ri.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),t.dirty())}else if("email"===r.kind)Ei.test(e.data)||(n=this._getOrReturnCtx(e,n),si(n,{validation:"email",code:ri.invalid_string,message:r.message}),t.dirty());else if("emoji"===r.kind)Ii||(Ii=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Ii.test(e.data)||(n=this._getOrReturnCtx(e,n),si(n,{validation:"emoji",code:ri.invalid_string,message:r.message}),t.dirty());else if("uuid"===r.kind)ki.test(e.data)||(n=this._getOrReturnCtx(e,n),si(n,{validation:"uuid",code:ri.invalid_string,message:r.message}),t.dirty());else if("cuid"===r.kind)bi.test(e.data)||(n=this._getOrReturnCtx(e,n),si(n,{validation:"cuid",code:ri.invalid_string,message:r.message}),t.dirty());else if("cuid2"===r.kind)wi.test(e.data)||(n=this._getOrReturnCtx(e,n),si(n,{validation:"cuid2",code:ri.invalid_string,message:r.message}),t.dirty());else if("ulid"===r.kind)xi.test(e.data)||(n=this._getOrReturnCtx(e,n),si(n,{validation:"ulid",code:ri.invalid_string,message:r.message}),t.dirty());else if("url"===r.kind)try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),si(n,{validation:"url",code:ri.invalid_string,message:r.message}),t.dirty()}else"regex"===r.kind?(r.regex.lastIndex=0,r.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),si(n,{validation:"regex",code:ri.invalid_string,message:r.message}),t.dirty())):"trim"===r.kind?e.data=e.data.trim():"includes"===r.kind?e.data.includes(r.value,r.position)||(n=this._getOrReturnCtx(e,n),si(n,{code:ri.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),t.dirty()):"toLowerCase"===r.kind?e.data=e.data.toLowerCase():"toUpperCase"===r.kind?e.data=e.data.toUpperCase():"startsWith"===r.kind?e.data.startsWith(r.value)||(n=this._getOrReturnCtx(e,n),si(n,{code:ri.invalid_string,validation:{startsWith:r.value},message:r.message}),t.dirty()):"endsWith"===r.kind?e.data.endsWith(r.value)||(n=this._getOrReturnCtx(e,n),si(n,{code:ri.invalid_string,validation:{endsWith:r.value},message:r.message}),t.dirty()):"datetime"===r.kind?Ti(r).test(e.data)||(n=this._getOrReturnCtx(e,n),si(n,{code:ri.invalid_string,validation:"datetime",message:r.message}),t.dirty()):"ip"===r.kind?Ai(e.data,r.version)||(n=this._getOrReturnCtx(e,n),si(n,{validation:"ip",code:ri.invalid_string,message:r.message}),t.dirty()):Qa.assertNever(r);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:ri.invalid_string,...hi.errToObj(n)})}_addCheck(e){return new Oi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...hi.errToObj(e)})}url(e){return this._addCheck({kind:"url",...hi.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...hi.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...hi.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...hi.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...hi.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...hi.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...hi.errToObj(e)})}datetime(e){var t;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(null==e?void 0:e.precision)>"u"?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,...hi.errToObj(null==e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...hi.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...hi.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...hi.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...hi.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...hi.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...hi.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...hi.errToObj(t)})}nonempty(e){return this.min(1,hi.errToObj(e))}trim(){return new Oi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Oi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Oi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Pi(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r;return parseInt(e.toFixed(a).replace(".",""))%parseInt(t.toFixed(a).replace(".",""))/Math.pow(10,a)}Oi.create=e=>{var t;return new Oi({checks:[],typeName:yo.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,..._i(e)})};class Ri extends vi{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ti.number){const t=this._getOrReturnCtx(e);return si(t,{code:ri.invalid_type,expected:ti.number,received:t.parsedType}),li}let t;const n=new ui;for(const r of this._def.checks)"int"===r.kind?Qa.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),si(t,{code:ri.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty()):"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),si(t,{code:ri.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),si(t,{code:ri.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"multipleOf"===r.kind?0!==Pi(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),si(t,{code:ri.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),si(t,{code:ri.not_finite,message:r.message}),n.dirty()):Qa.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,hi.toString(t))}gt(e,t){return this.setLimit("min",e,!1,hi.toString(t))}lte(e,t){return this.setLimit("max",e,!0,hi.toString(t))}lt(e,t){return this.setLimit("max",e,!1,hi.toString(t))}setLimit(e,t,n,r){return new Ri({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:hi.toString(r)}]})}_addCheck(e){return new Ri({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:hi.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:hi.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:hi.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:hi.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:hi.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:hi.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:hi.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:hi.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:hi.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&Qa.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Ri.create=e=>new Ri({checks:[],typeName:yo.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,..._i(e)});class qi extends vi{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ti.bigint){const t=this._getOrReturnCtx(e);return si(t,{code:ri.invalid_type,expected:ti.bigint,received:t.parsedType}),li}let t;const n=new ui;for(const r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),si(t,{code:ri.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),si(t,{code:ri.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),si(t,{code:ri.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):Qa.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,hi.toString(t))}gt(e,t){return this.setLimit("min",e,!1,hi.toString(t))}lte(e,t){return this.setLimit("max",e,!0,hi.toString(t))}lt(e,t){return this.setLimit("max",e,!1,hi.toString(t))}setLimit(e,t,n,r){return new qi({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:hi.toString(r)}]})}_addCheck(e){return new qi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:hi.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:hi.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:hi.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:hi.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:hi.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}qi.create=e=>{var t;return new qi({checks:[],typeName:yo.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,..._i(e)})};class Li extends vi{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ti.boolean){const t=this._getOrReturnCtx(e);return si(t,{code:ri.invalid_type,expected:ti.boolean,received:t.parsedType}),li}return ci(e.data)}}Li.create=e=>new Li({typeName:yo.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,..._i(e)});class Bi extends vi{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ti.date){const t=this._getOrReturnCtx(e);return si(t,{code:ri.invalid_type,expected:ti.date,received:t.parsedType}),li}if(isNaN(e.data.getTime()))return si(this._getOrReturnCtx(e),{code:ri.invalid_date}),li;const t=new ui;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),si(n,{code:ri.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),si(n,{code:ri.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):Qa.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Bi({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:hi.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:hi.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}Bi.create=e=>new Bi({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:yo.ZodDate,..._i(e)});class Ni extends vi{_parse(e){if(this._getType(e)!==ti.symbol){const t=this._getOrReturnCtx(e);return si(t,{code:ri.invalid_type,expected:ti.symbol,received:t.parsedType}),li}return ci(e.data)}}Ni.create=e=>new Ni({typeName:yo.ZodSymbol,..._i(e)});class Di extends vi{_parse(e){if(this._getType(e)!==ti.undefined){const t=this._getOrReturnCtx(e);return si(t,{code:ri.invalid_type,expected:ti.undefined,received:t.parsedType}),li}return ci(e.data)}}Di.create=e=>new Di({typeName:yo.ZodUndefined,..._i(e)});class ji extends vi{_parse(e){if(this._getType(e)!==ti.null){const t=this._getOrReturnCtx(e);return si(t,{code:ri.invalid_type,expected:ti.null,received:t.parsedType}),li}return ci(e.data)}}ji.create=e=>new ji({typeName:yo.ZodNull,..._i(e)});class Fi extends vi{constructor(){super(...arguments),this._any=!0}_parse(e){return ci(e.data)}}Fi.create=e=>new Fi({typeName:yo.ZodAny,..._i(e)});class Mi extends vi{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ci(e.data)}}Mi.create=e=>new Mi({typeName:yo.ZodUnknown,..._i(e)});class $i extends vi{_parse(e){const t=this._getOrReturnCtx(e);return si(t,{code:ri.invalid_type,expected:ti.never,received:t.parsedType}),li}}$i.create=e=>new $i({typeName:yo.ZodNever,..._i(e)});class Ui extends vi{_parse(e){if(this._getType(e)!==ti.undefined){const t=this._getOrReturnCtx(e);return si(t,{code:ri.invalid_type,expected:ti.void,received:t.parsedType}),li}return ci(e.data)}}Ui.create=e=>new Ui({typeName:yo.ZodVoid,..._i(e)});class zi extends vi{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==ti.array)return si(t,{code:ri.invalid_type,expected:ti.array,received:t.parsedType}),li;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,a=t.data.length<r.exactLength.value;(e||a)&&(si(t,{code:e?ri.too_big:ri.too_small,minimum:a?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(si(t,{code:ri.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(si(t,{code:ri.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new yi(t,e,t.path,n))))).then((e=>ui.mergeArray(n,e)));const a=[...t.data].map(((e,n)=>r.type._parseSync(new yi(t,e,t.path,n))));return ui.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new zi({...this._def,minLength:{value:e,message:hi.toString(t)}})}max(e,t){return new zi({...this._def,maxLength:{value:e,message:hi.toString(t)}})}length(e,t){return new zi({...this._def,exactLength:{value:e,message:hi.toString(t)}})}nonempty(e){return this.min(1,e)}}function Zi(e){if(e instanceof Vi){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=so.create(Zi(r))}return new Vi({...e._def,shape:()=>t})}return e instanceof zi?new zi({...e._def,type:Zi(e.element)}):e instanceof so?so.create(Zi(e.unwrap())):e instanceof uo?uo.create(Zi(e.unwrap())):e instanceof Xi?Xi.create(e.items.map((e=>Zi(e)))):e}zi.create=(e,t)=>new zi({type:e,minLength:null,maxLength:null,exactLength:null,typeName:yo.ZodArray,..._i(t)});class Vi extends vi{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=Qa.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==ti.object){const t=this._getOrReturnCtx(e);return si(t,{code:ri.invalid_type,expected:ti.object,received:t.parsedType}),li}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:a}=this._getCached(),i=[];if(!(this._def.catchall instanceof $i&&"strip"===this._def.unknownKeys))for(const e in n.data)a.includes(e)||i.push(e);const o=[];for(const e of a){const t=r[e],a=n.data[e];o.push({key:{status:"valid",value:e},value:t._parse(new yi(n,a,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof $i){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of i)o.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)i.length>0&&(si(n,{code:ri.unrecognized_keys,keys:i}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of i){const r=n.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new yi(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of o){const n=await t.key;e.push({key:n,value:await t.value,alwaysSet:t.alwaysSet})}return e})).then((e=>ui.mergeObjectSync(t,e))):ui.mergeObjectSync(t,o)}get shape(){return this._def.shape()}strict(e){return hi.errToObj,new Vi({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,a,i,o;const s=null!==(i=null===(a=(r=this._def).errorMap)||void 0===a?void 0:a.call(r,t,n).message)&&void 0!==i?i:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(o=hi.errToObj(e).message)&&void 0!==o?o:s}:{message:s}}}:{}})}strip(){return new Vi({...this._def,unknownKeys:"strip"})}passthrough(){return new Vi({...this._def,unknownKeys:"passthrough"})}extend(e){return new Vi({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Vi({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:yo.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Vi({...this._def,catchall:e})}pick(e){const t={};return Qa.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new Vi({...this._def,shape:()=>t})}omit(e){const t={};return Qa.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new Vi({...this._def,shape:()=>t})}deepPartial(){return Zi(this)}partial(e){const t={};return Qa.objectKeys(this.shape).forEach((n=>{const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()})),new Vi({...this._def,shape:()=>t})}required(e){const t={};return Qa.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof so;)e=e._def.innerType;t[n]=e}})),new Vi({...this._def,shape:()=>t})}keyof(){return no(Qa.objectKeys(this.shape))}}Vi.create=(e,t)=>new Vi({shape:()=>e,unknownKeys:"strip",catchall:$i.create(),typeName:yo.ZodObject,..._i(t)}),Vi.strictCreate=(e,t)=>new Vi({shape:()=>e,unknownKeys:"strict",catchall:$i.create(),typeName:yo.ZodObject,..._i(t)}),Vi.lazycreate=(e,t)=>new Vi({shape:e,unknownKeys:"strip",catchall:$i.create(),typeName:yo.ZodObject,..._i(t)});class Hi extends vi{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map((e=>new ai(e.ctx.common.issues)));return si(t,{code:ri.invalid_union,unionErrors:n}),li}));{let e;const r=[];for(const a of n){const n={...t,common:{...t.common,issues:[]},parent:null},i=a._parseSync({data:t.data,path:t.path,parent:n});if("valid"===i.status)return i;"dirty"===i.status&&!e&&(e={result:i,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const a=r.map((e=>new ai(e)));return si(t,{code:ri.invalid_union,unionErrors:a}),li}}get options(){return this._def.options}}Hi.create=(e,t)=>new Hi({options:e,typeName:yo.ZodUnion,..._i(t)});const Wi=e=>e instanceof eo?Wi(e.schema):e instanceof oo?Wi(e.innerType()):e instanceof to?[e.value]:e instanceof ro?e.options:e instanceof ao?Object.keys(e.enum):e instanceof lo?Wi(e._def.innerType):e instanceof Di?[void 0]:e instanceof ji?[null]:null;class Ki extends vi{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ti.object)return si(t,{code:ri.invalid_type,expected:ti.object,received:t.parsedType}),li;const n=this.discriminator,r=t.data[n],a=this.optionsMap.get(r);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(si(t,{code:ri.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),li)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const n of t){const t=Wi(n.shape[e]);if(!t)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of t){if(r.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);r.set(a,n)}}return new Ki({typeName:yo.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,..._i(n)})}}function Gi(e,t){const n=ni(e),r=ni(t);if(e===t)return{valid:!0,data:e};if(n===ti.object&&r===ti.object){const n=Qa.objectKeys(t),r=Qa.objectKeys(e).filter((e=>-1!==n.indexOf(e))),a={...e,...t};for(const n of r){const r=Gi(e[n],t[n]);if(!r.valid)return{valid:!1};a[n]=r.data}return{valid:!0,data:a}}if(n===ti.array&&r===ti.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const a=Gi(e[r],t[r]);if(!a.valid)return{valid:!1};n.push(a.data)}return{valid:!0,data:n}}return n===ti.date&&r===ti.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Ji extends vi{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(di(e)||di(r))return li;const a=Gi(e.value,r.value);return a.valid?((pi(e)||pi(r))&&t.dirty(),{status:t.value,value:a.data}):(si(n,{code:ri.invalid_intersection_types}),li)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>r(e,t))):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ji.create=(e,t,n)=>new Ji({left:e,right:t,typeName:yo.ZodIntersection,..._i(n)});class Xi extends vi{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ti.array)return si(n,{code:ri.invalid_type,expected:ti.array,received:n.parsedType}),li;if(n.data.length<this._def.items.length)return si(n,{code:ri.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),li;!this._def.rest&&n.data.length>this._def.items.length&&(si(n,{code:ri.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new yi(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>ui.mergeArray(t,e))):ui.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new Xi({...this._def,rest:e})}}Xi.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Xi({items:e,typeName:yo.ZodTuple,rest:null,..._i(t)})};class Yi extends vi{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ti.map)return si(n,{code:ri.invalid_type,expected:ti.map,received:n.parsedType}),li;const r=this._def.keyType,a=this._def.valueType,i=[...n.data.entries()].map((([e,t],i)=>({key:r._parse(new yi(n,e,n.path,[i,"key"])),value:a._parse(new yi(n,t,n.path,[i,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of i){const r=await n.key,a=await n.value;if("aborted"===r.status||"aborted"===a.status)return li;("dirty"===r.status||"dirty"===a.status)&&t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of i){const r=n.key,a=n.value;if("aborted"===r.status||"aborted"===a.status)return li;("dirty"===r.status||"dirty"===a.status)&&t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}}}Yi.create=(e,t,n)=>new Yi({valueType:t,keyType:e,typeName:yo.ZodMap,..._i(n)});class Qi extends vi{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ti.set)return si(n,{code:ri.invalid_type,expected:ti.set,received:n.parsedType}),li;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(si(n,{code:ri.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(si(n,{code:ri.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const a=this._def.valueType;function i(e){const n=new Set;for(const r of e){if("aborted"===r.status)return li;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const o=[...n.data.values()].map(((e,t)=>a._parse(new yi(n,e,n.path,t))));return n.common.async?Promise.all(o).then((e=>i(e))):i(o)}min(e,t){return new Qi({...this._def,minSize:{value:e,message:hi.toString(t)}})}max(e,t){return new Qi({...this._def,maxSize:{value:e,message:hi.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Qi.create=(e,t)=>new Qi({valueType:e,minSize:null,maxSize:null,typeName:yo.ZodSet,..._i(t)});class eo extends vi{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}eo.create=(e,t)=>new eo({getter:e,typeName:yo.ZodLazy,..._i(t)});class to extends vi{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return si(t,{received:t.data,code:ri.invalid_literal,expected:this._def.value}),li}return{status:"valid",value:e.data}}get value(){return this._def.value}}function no(e,t){return new ro({values:e,typeName:yo.ZodEnum,..._i(t)})}to.create=(e,t)=>new to({value:e,typeName:yo.ZodLiteral,..._i(t)});class ro extends vi{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return si(t,{expected:Qa.joinValues(n),received:t.parsedType,code:ri.invalid_type}),li}if(-1===this._def.values.indexOf(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return si(t,{received:t.data,code:ri.invalid_enum_value,options:n}),li}return ci(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return ro.create(e)}exclude(e){return ro.create(this.options.filter((t=>!e.includes(t))))}}ro.create=no;class ao extends vi{_parse(e){const t=Qa.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==ti.string&&n.parsedType!==ti.number){const e=Qa.objectValues(t);return si(n,{expected:Qa.joinValues(e),received:n.parsedType,code:ri.invalid_type}),li}if(-1===t.indexOf(e.data)){const e=Qa.objectValues(t);return si(n,{received:n.data,code:ri.invalid_enum_value,options:e}),li}return ci(e.data)}get enum(){return this._def.values}}ao.create=(e,t)=>new ao({values:e,typeName:yo.ZodNativeEnum,..._i(t)});class io extends vi{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ti.promise&&!1===t.common.async)return si(t,{code:ri.invalid_type,expected:ti.promise,received:t.parsedType}),li;const n=t.parsedType===ti.promise?t.data:Promise.resolve(t.data);return ci(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}io.create=(e,t)=>new io({type:e,typeName:yo.ZodPromise,..._i(t)});class oo extends vi{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===yo.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,a={addIssue:e=>{si(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===r.type){const e=r.transform(n.data,a);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(e).then((e=>this._def.schema._parseAsync({data:e,path:n.path,parent:n}))):this._def.schema._parseSync({data:e,path:n.path,parent:n})}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,a);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?li:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?li:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!fi(e))return e;const i=r.transform(e.value,a);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>fi(e)?Promise.resolve(r.transform(e.value,a)).then((e=>({status:t.value,value:e}))):e))}Qa.assertNever(r)}}oo.create=(e,t,n)=>new oo({schema:e,typeName:yo.ZodEffects,effect:t,..._i(n)}),oo.createWithPreprocess=(e,t,n)=>new oo({schema:t,effect:{type:"preprocess",transform:e},typeName:yo.ZodEffects,..._i(n)});class so extends vi{_parse(e){return this._getType(e)===ti.undefined?ci(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}so.create=(e,t)=>new so({innerType:e,typeName:yo.ZodOptional,..._i(t)});class uo extends vi{_parse(e){return this._getType(e)===ti.null?ci(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}uo.create=(e,t)=>new uo({innerType:e,typeName:yo.ZodNullable,..._i(t)});class lo extends vi{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===ti.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}lo.create=(e,t)=>new lo({innerType:e,typeName:yo.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,..._i(t)});class co extends vi{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return mi(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new ai(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new ai(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}co.create=(e,t)=>new co({innerType:e,typeName:yo.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,..._i(t)});class po extends vi{_parse(e){if(this._getType(e)!==ti.nan){const t=this._getOrReturnCtx(e);return si(t,{code:ri.invalid_type,expected:ti.nan,received:t.parsedType}),li}return{status:"valid",value:e.data}}}po.create=e=>new po({typeName:yo.ZodNaN,..._i(e)});class fo extends vi{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class mo extends vi{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?li:"dirty"===e.status?(t.dirty(),(e=>({status:"dirty",value:e}))(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})();{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?li:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new mo({in:e,out:t,typeName:yo.ZodPipeline})}}class ho extends vi{_parse(e){const t=this._def.innerType._parse(e);return fi(t)&&(t.value=Object.freeze(t.value)),t}}var yo;ho.create=(e,t)=>new ho({innerType:e,typeName:yo.ZodReadonly,..._i(t)}),Vi.lazycreate,function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(yo||(yo={}));const go=Oi.create;Ri.create,po.create,qi.create;const _o=Li.create;Bi.create,Ni.create,Di.create,ji.create,Fi.create,Mi.create,$i.create,Ui.create;const vo=zi.create,bo=Vi.create;Vi.strictCreate,Hi.create;const wo=Ki.create;Ji.create,Xi.create,Yi.create,Qi.create,eo.create;const xo=to.create;ro.create,ao.create,io.create,oo.create,so.create,uo.create,oo.createWithPreprocess,mo.create;const ko="persona",Eo="account",Io=wo("type",[bo({challenge:go(),proof:On,address:go(),type:xo(ko)}),bo({challenge:go(),proof:On,address:go(),type:xo(Eo)})]),So=wo("entry",[bo({entry:xo("fullName"),fields:qn}),bo({entry:xo("emailAddresses"),fields:vo(go())}),bo({entry:xo("phoneNumbers"),fields:vo(go())})]),Co=bo({accounts:vo(An),personaData:vo(So),persona:Rn.optional(),proofs:vo(Io)}),To=bo({persona:bo({proof:_o()}).optional(),ongoingAccounts:bo({numberOfAccounts:Ln.optional(),proof:_o()}).optional(),ongoingPersonaData:Dn.optional()}),Ao=bo({loggedInTimestamp:go(),walletData:Co,sharedData:To}),Oo={accounts:[],personaData:[],proofs:[],persona:void 0};function Po(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?a(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function Ro(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function qo(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o}function Lo(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)(r||!(a in t))&&(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}var Bo={withStackTrace:!1},No=function(e,t,n){return void 0===n&&(n=Bo),{data:t.isOk()?{type:"Ok",value:t.value}:{type:"Err",value:t.error},message:e,stack:n.withStackTrace?(new Error).stack:void 0}},Do=function(){function e(e){this._promise=e}return e.fromSafePromise=function(t){return new e(t.then((function(e){return new Wo(e)})))},e.fromPromise=function(t,n){return new e(t.then((function(e){return new Wo(e)})).catch((function(e){return new Ko(n(e))})))},e.combine=function(e){return Uo(e)},e.combineWithAllErrors=function(e){return Zo(e)},e.prototype.map=function(t){var n=this;return new e(this._promise.then((function(e){return Po(n,void 0,void 0,(function(){var n;return Ro(this,(function(r){switch(r.label){case 0:return e.isErr()?[2,new Ko(e.error)]:(n=Wo.bind,[4,t(e.value)]);case 1:return[2,new(n.apply(Wo,[void 0,r.sent()]))]}}))}))})))},e.prototype.mapErr=function(t){var n=this;return new e(this._promise.then((function(e){return Po(n,void 0,void 0,(function(){var n;return Ro(this,(function(r){switch(r.label){case 0:return e.isOk()?[2,new Wo(e.value)]:(n=Ko.bind,[4,t(e.error)]);case 1:return[2,new(n.apply(Ko,[void 0,r.sent()]))]}}))}))})))},e.prototype.andThen=function(t){return new e(this._promise.then((function(n){if(n.isErr())return new Ko(n.error);var r=t(n.value);return r instanceof e?r._promise:r})))},e.prototype.orElse=function(t){var n=this;return new e(this._promise.then((function(e){return Po(n,void 0,void 0,(function(){return Ro(this,(function(n){return e.isErr()?[2,t(e.error)]:[2,new Wo(e.value)]}))}))})))},e.prototype.match=function(e,t){return this._promise.then((function(n){return n.match(e,t)}))},e.prototype.unwrapOr=function(e){return this._promise.then((function(t){return t.unwrapOr(e)}))},e.prototype.then=function(e,t){return this._promise.then(e,t)},e}(),jo=function(e){return new Do(Promise.resolve(new Wo(e)))},Fo=function(e){return new Do(Promise.resolve(new Ko(e)))};Do.fromPromise,Do.fromSafePromise;var Mo,$o=function(e){return e.reduce((function(e,t){return e.isOk()?t.isErr()?Ho(t.error):e.map(function(e){return function(t){return Lo(Lo([],qo(t),!1),[e],!1)}}(t.value)):e}),Vo([]))},Uo=function(e){return Do.fromSafePromise(Promise.all(e)).andThen($o)},zo=function(e){return e.reduce((function(e,t){return t.isErr()?e.isErr()?Ho(Lo(Lo([],qo(e.error),!1),[t.error],!1)):Ho([t.error]):e.isErr()?e:Vo(Lo(Lo([],qo(e.value),!1),[t.value],!1))}),Vo([]))},Zo=function(e){return Do.fromSafePromise(Promise.all(e)).andThen(zo)};!function(e){e.fromThrowable=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{var a=e.apply(void 0,Lo([],qo(n),!1));return Vo(a)}catch(e){return Ho(t?t(e):e)}}},e.combine=function(e){return $o(e)},e.combineWithAllErrors=function(e){return zo(e)}}(Mo||(Mo={}));var Vo=function(e){return new Wo(e)},Ho=function(e){return new Ko(e)},Wo=function(){function e(e){this.value=e}return e.prototype.isOk=function(){return!0},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(e){return Vo(e(this.value))},e.prototype.mapErr=function(e){return Vo(this.value)},e.prototype.andThen=function(e){return e(this.value)},e.prototype.orElse=function(e){return Vo(this.value)},e.prototype.asyncAndThen=function(e){return e(this.value)},e.prototype.asyncMap=function(e){return Do.fromSafePromise(e(this.value))},e.prototype.unwrapOr=function(e){return this.value},e.prototype.match=function(e,t){return e(this.value)},e.prototype._unsafeUnwrap=function(e){return this.value},e.prototype._unsafeUnwrapErr=function(e){throw No("Called `_unsafeUnwrapErr` on an Ok",this,e)},e}(),Ko=function(){function e(e){this.error=e}return e.prototype.isOk=function(){return!1},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(e){return Ho(this.error)},e.prototype.mapErr=function(e){return Ho(e(this.error))},e.prototype.andThen=function(e){return Ho(this.error)},e.prototype.orElse=function(e){return e(this.error)},e.prototype.asyncAndThen=function(e){return Fo(this.error)},e.prototype.asyncMap=function(e){return Fo(this.error)},e.prototype.unwrapOr=function(e){return e},e.prototype.match=function(e,t){return t(this.error)},e.prototype._unsafeUnwrap=function(e){throw No("Called `_unsafeUnwrap` on an Err",this,e)},e.prototype._unsafeUnwrapErr=function(e){return this.error},e}();Mo.fromThrowable;var Go=Symbol.for("immer-nothing"),Jo=Symbol.for("immer-draftable"),Xo=Symbol.for("immer-state");function Yo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Qo=Object.getPrototypeOf;function es(e){return!!e&&!!e[Xo]}function ts(e){var t;return!!e&&(rs(e)||Array.isArray(e)||!!e[Jo]||!(null==(t=e.constructor)||!t[Jo])||us(e)||ls(e))}var ns=Object.prototype.constructor.toString();function rs(e){if(!e||"object"!=typeof e)return!1;const t=Qo(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ns}function as(e,t){0===is(e)?Object.entries(e).forEach((([n,r])=>{t(n,r,e)})):e.forEach(((n,r)=>t(r,n,e)))}function is(e){const t=e[Xo];return t?t.type_:Array.isArray(e)?1:us(e)?2:ls(e)?3:0}function os(e,t){return 2===is(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ss(e,t,n){const r=is(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function us(e){return e instanceof Map}function ls(e){return e instanceof Set}function cs(e){return e.copy_||e.base_}function ds(e,t){if(us(e))return new Map(e);if(ls(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&rs(e))return Qo(e)?{...e}:Object.assign(Object.create(null),e);const n=Object.getOwnPropertyDescriptors(e);delete n[Xo];let r=Reflect.ownKeys(n);for(let t=0;t<r.length;t++){const a=r[t],i=n[a];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(n[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(Qo(e),n)}function ps(e,t=!1){return ms(e)||es(e)||!ts(e)||(is(e)>1&&(e.set=e.add=e.clear=e.delete=fs),Object.freeze(e),t&&as(e,((e,t)=>ps(t,!0)))),e}function fs(){Yo(2)}function ms(e){return Object.isFrozen(e)}var hs,ys={};function gs(e){const t=ys[e];return t||Yo(0),t}function _s(){return hs}function vs(e,t){t&&(gs("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function bs(e){ws(e),e.drafts_.forEach(ks),e.drafts_=null}function ws(e){e===hs&&(hs=e.parent_)}function xs(e){return hs=function(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}(hs,e)}function ks(e){const t=e[Xo];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Es(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[Xo].modified_&&(bs(t),Yo(4)),ts(e)&&(e=Is(t,e),t.parent_||Cs(t,e)),t.patches_&&gs("Patches").generateReplacementPatches_(n[Xo].base_,e,t.patches_,t.inversePatches_)):e=Is(t,n,[]),bs(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Go?e:void 0}function Is(e,t,n){if(ms(t))return t;const r=t[Xo];if(!r)return as(t,((a,i)=>Ss(e,r,t,a,i,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return Cs(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let a=t,i=!1;3===r.type_&&(a=new Set(t),t.clear(),i=!0),as(a,((a,o)=>Ss(e,r,t,a,o,n,i))),Cs(e,t,!1),n&&e.patches_&&gs("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Ss(e,t,n,r,a,i,o){if(es(a)){const o=Is(e,a,i&&t&&3!==t.type_&&!os(t.assigned_,r)?i.concat(r):void 0);if(ss(n,r,o),!es(o))return;e.canAutoFreeze_=!1}else o&&n.add(a);if(ts(a)&&!ms(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Is(e,a),(!t||!t.scope_.parent_)&&Cs(e,a)}}function Cs(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ps(t,n)}var Ts={get(e,t){if(t===Xo)return e;const n=cs(e);if(!os(n,t))return function(e,t,n){var r;const a=Ps(t,n);return a?"value"in a?a.value:null==(r=a.get)?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!ts(r)?r:r===Os(e.base_,t)?(qs(e),e.copy_[t]=Ls(r,e)):r},has:(e,t)=>t in cs(e),ownKeys:e=>Reflect.ownKeys(cs(e)),set(e,t,n){const r=Ps(cs(e),t);if(null!=r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Os(cs(e),t),a=null==r?void 0:r[Xo];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,r)&&(void 0!==n||os(e.base_,t)))return!0;qs(e),Rs(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Os(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,qs(e),Rs(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=cs(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}},defineProperty(){Yo(11)},getPrototypeOf:e=>Qo(e.base_),setPrototypeOf(){Yo(12)}},As={};function Os(e,t){const n=e[Xo];return(n?cs(n):e)[t]}function Ps(e,t){if(!(t in e))return;let n=Qo(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Qo(n)}}function Rs(e){e.modified_||(e.modified_=!0,e.parent_&&Rs(e.parent_))}function qs(e){e.copy_||(e.copy_=ds(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function Ls(e,t){const n=us(e)?gs("MapSet").proxyMap_(e,t):ls(e)?gs("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:_s(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,i=Ts;n&&(a=[r],i=As);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,s}(e,t);return(t?t.scope_:_s()).drafts_.push(n),n}function Bs(e){if(!ts(e)||ms(e))return e;const t=e[Xo];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ds(e,t.scope_.immer_.useStrictShallowCopy_)}else n=ds(e,!0);return as(n,((e,t)=>{ss(n,e,Bs(t))})),t&&(t.finalized_=!1),n}as(Ts,((e,t)=>{As[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),As.deleteProperty=function(e,t){return As.set.call(this,e,t,void 0)},As.set=function(e,t,n){return Ts.set.call(this,e[0],t,n,e[0])};var Ns=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const r=this;return function(e=n,...a){return r.produce(e,(e=>t.call(this,e,...a)))}}let r;if("function"!=typeof t&&Yo(6),void 0!==n&&"function"!=typeof n&&Yo(7),ts(e)){const a=xs(this),i=Ls(e,void 0);let o=!0;try{r=t(i),o=!1}finally{o?bs(a):ws(a)}return vs(a,n),Es(r,a)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===Go&&(r=void 0),this.autoFreeze_&&ps(r,!0),n){const t=[],a=[];gs("Patches").generateReplacementPatches_(e,r,t,a),n(t,a)}return r}Yo(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,(t=>e(t,...n)));let n,r;return[this.produce(e,t,((e,t)=>{n=e,r=t})),n,r]},"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof(null==e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ts(e)||Yo(8),es(e)&&(e=function(e){return es(e)||Yo(10),Bs(e)}(e));const t=xs(this),n=Ls(e,void 0);return n[Xo].isManual_=!0,ws(t),n}finishDraft(e,t){const n=e&&e[Xo];(!n||!n.isManual_)&&Yo(9);const{scope_:r}=n;return vs(r,t),Es(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=gs("Patches").applyPatches_;return es(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},Ds=Ns.produce;Ns.produceWithPatches.bind(Ns),Ns.setAutoFreeze.bind(Ns),Ns.setUseStrictShallowCopy.bind(Ns),Ns.applyPatches.bind(Ns),Ns.createDraft.bind(Ns),Ns.finishDraft.bind(Ns);var js=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ms={exports:{}};!function(e,t){var n="__lodash_hash_undefined__",r=1,a=2,i=9007199254740991,o="[object Arguments]",s="[object Array]",u="[object AsyncFunction]",l="[object Boolean]",c="[object Date]",d="[object Error]",p="[object Function]",f="[object GeneratorFunction]",m="[object Map]",h="[object Number]",y="[object Null]",g="[object Object]",_="[object Promise]",v="[object Proxy]",b="[object RegExp]",w="[object Set]",x="[object String]",k="[object Undefined]",E="[object WeakMap]",I="[object ArrayBuffer]",S="[object DataView]",C=/^\[object .+?Constructor\]$/,T=/^(?:0|[1-9]\d*)$/,A={};A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A[o]=A[s]=A[I]=A[l]=A[S]=A[c]=A[d]=A[p]=A[m]=A[h]=A[g]=A[b]=A[w]=A[x]=A[E]=!1;var O="object"==typeof js&&js&&js.Object===Object&&js,P="object"==typeof self&&self&&self.Object===Object&&self,R=O||P||Function("return this")(),q=t&&!t.nodeType&&t,L=q&&e&&!e.nodeType&&e,B=L&&L.exports===q,N=B&&O.process,D=function(){try{return N&&N.binding&&N.binding("util")}catch{}}(),j=D&&D.isTypedArray;function F(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function M(e,t){return e.has(t)}function $(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function U(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var z,Z=Array.prototype,V=Function.prototype,H=Object.prototype,W=R["__core-js_shared__"],K=V.toString,G=H.hasOwnProperty,J=(z=/[^.]+$/.exec(W&&W.keys&&W.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"",X=H.toString,Y=RegExp("^"+K.call(G).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Q=B?R.Buffer:void 0,ee=R.Symbol,te=R.Uint8Array,ne=H.propertyIsEnumerable,re=Z.splice,ae=ee?ee.toStringTag:void 0,ie=Object.getOwnPropertySymbols,oe=Q?Q.isBuffer:void 0,se=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),ue=qe(R,"DataView"),le=qe(R,"Map"),ce=qe(R,"Promise"),de=qe(R,"Set"),pe=qe(R,"WeakMap"),fe=qe(Object,"create"),me=De(ue),he=De(le),ye=De(ce),ge=De(de),_e=De(pe),ve=ee?ee.prototype:void 0,be=ve?ve.valueOf:void 0;function we(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function xe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ke(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ee(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ke;++t<n;)this.add(e[t])}function Ie(e){var t=this.__data__=new xe(e);this.size=t.size}function Se(e,t){for(var n=e.length;n--;)if(je(e[n][0],t))return n;return-1}function Ce(e){return null==e?void 0===e?k:y:ae&&ae in Object(e)?function(e){var t=G.call(e,ae),n=e[ae];try{e[ae]=void 0;var r=!0}catch{}var a=X.call(e);return r&&(t?e[ae]=n:delete e[ae]),a}(e):function(e){return X.call(e)}(e)}function Te(e){return Ve(e)&&Ce(e)==o}function Ae(e,t,n,i,u){return e===t||(null==e||null==t||!Ve(e)&&!Ve(t)?e!=e&&t!=t:function(e,t,n,i,u,p){var f=Me(e),y=Me(t),_=f?s:Be(e),v=y?s:Be(t),k=(_=_==o?g:_)==g,E=(v=v==o?g:v)==g,C=_==v;if(C&&$e(e)){if(!$e(t))return!1;f=!0,k=!1}if(C&&!k)return p||(p=new Ie),f||He(e)?Oe(e,t,n,i,u,p):function(e,t,n,i,o,s,u){switch(n){case S:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case I:return!(e.byteLength!=t.byteLength||!s(new te(e),new te(t)));case l:case c:case h:return je(+e,+t);case d:return e.name==t.name&&e.message==t.message;case b:case x:return e==t+"";case m:var p=$;case w:var f=i&r;if(p||(p=U),e.size!=t.size&&!f)return!1;var y=u.get(e);if(y)return y==t;i|=a,u.set(e,t);var g=Oe(p(e),p(t),i,o,s,u);return u.delete(e),g;case"[object Symbol]":if(be)return be.call(e)==be.call(t)}return!1}(e,t,_,n,i,u,p);if(!(n&r)){var T=k&&G.call(e,"__wrapped__"),A=E&&G.call(t,"__wrapped__");if(T||A){var O=T?e.value():e,P=A?t.value():t;return p||(p=new Ie),u(O,P,n,i,p)}}return!!C&&(p||(p=new Ie),function(e,t,n,a,i,o){var s=n&r,u=Pe(e),l=u.length;if(l!=Pe(t).length&&!s)return!1;for(var c=l;c--;){var d=u[c];if(!(s?d in t:G.call(t,d)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var f=!0;o.set(e,t),o.set(t,e);for(var m=s;++c<l;){var h=e[d=u[c]],y=t[d];if(a)var g=s?a(y,h,d,t,e,o):a(h,y,d,e,t,o);if(!(void 0===g?h===y||i(h,y,n,a,o):g)){f=!1;break}m||(m="constructor"==d)}if(f&&!m){var _=e.constructor,v=t.constructor;_!=v&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof v&&v instanceof v)&&(f=!1)}return o.delete(e),o.delete(t),f}(e,t,n,i,u,p))}(e,t,n,i,Ae,u))}function Oe(e,t,n,i,o,s){var u=n&r,l=e.length,c=t.length;if(l!=c&&!(u&&c>l))return!1;var d=s.get(e);if(d&&s.get(t))return d==t;var p=-1,f=!0,m=n&a?new Ee:void 0;for(s.set(e,t),s.set(t,e);++p<l;){var h=e[p],y=t[p];if(i)var g=u?i(y,h,p,t,e,s):i(h,y,p,e,t,s);if(void 0!==g){if(g)continue;f=!1;break}if(m){if(!F(t,(function(e,t){if(!M(m,t)&&(h===e||o(h,e,n,i,s)))return m.push(t)}))){f=!1;break}}else if(h!==y&&!o(h,y,n,i,s)){f=!1;break}}return s.delete(e),s.delete(t),f}function Pe(e){return function(e,t,n){var r=t(e);return Me(e)?r:function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}(r,n(e))}(e,We,Le)}function Re(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function qe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ze(e)||function(e){return!!J&&J in e}(e))&&(Ue(e)?Y:C).test(De(e))}(n)?n:void 0}we.prototype.clear=function(){this.__data__=fe?fe(null):{},this.size=0},we.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},we.prototype.get=function(e){var t=this.__data__;if(fe){var r=t[e];return r===n?void 0:r}return G.call(t,e)?t[e]:void 0},we.prototype.has=function(e){var t=this.__data__;return fe?void 0!==t[e]:G.call(t,e)},we.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=fe&&void 0===t?n:t,this},xe.prototype.clear=function(){this.__data__=[],this.size=0},xe.prototype.delete=function(e){var t=this.__data__,n=Se(t,e);return!(n<0||(n==t.length-1?t.pop():re.call(t,n,1),--this.size,0))},xe.prototype.get=function(e){var t=this.__data__,n=Se(t,e);return n<0?void 0:t[n][1]},xe.prototype.has=function(e){return Se(this.__data__,e)>-1},xe.prototype.set=function(e,t){var n=this.__data__,r=Se(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ke.prototype.clear=function(){this.size=0,this.__data__={hash:new we,map:new(le||xe),string:new we}},ke.prototype.delete=function(e){var t=Re(this,e).delete(e);return this.size-=t?1:0,t},ke.prototype.get=function(e){return Re(this,e).get(e)},ke.prototype.has=function(e){return Re(this,e).has(e)},ke.prototype.set=function(e,t){var n=Re(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Ee.prototype.add=Ee.prototype.push=function(e){return this.__data__.set(e,n),this},Ee.prototype.has=function(e){return this.__data__.has(e)},Ie.prototype.clear=function(){this.__data__=new xe,this.size=0},Ie.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ie.prototype.get=function(e){return this.__data__.get(e)},Ie.prototype.has=function(e){return this.__data__.has(e)},Ie.prototype.set=function(e,t){var n=this.__data__;if(n instanceof xe){var r=n.__data__;if(!le||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ke(r)}return n.set(e,t),this.size=n.size,this};var Le=ie?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o)&&(i[a++]=o)}return i}(ie(e),(function(t){return ne.call(e,t)})))}:function(){return[]},Be=Ce;function Ne(e,t){return!!(t=t??i)&&("number"==typeof e||T.test(e))&&e>-1&&e%1==0&&e<t}function De(e){if(null!=e){try{return K.call(e)}catch{}try{return e+""}catch{}}return""}function je(e,t){return e===t||e!=e&&t!=t}(ue&&Be(new ue(new ArrayBuffer(1)))!=S||le&&Be(new le)!=m||ce&&Be(ce.resolve())!=_||de&&Be(new de)!=w||pe&&Be(new pe)!=E)&&(Be=function(e){var t=Ce(e),n=t==g?e.constructor:void 0,r=n?De(n):"";if(r)switch(r){case me:return S;case he:return m;case ye:return _;case ge:return w;case _e:return E}return t});var Fe=Te(function(){return arguments}())?Te:function(e){return Ve(e)&&G.call(e,"callee")&&!ne.call(e,"callee")},Me=Array.isArray,$e=oe||function(){return!1};function Ue(e){if(!Ze(e))return!1;var t=Ce(e);return t==p||t==f||t==u||t==v}function ze(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function Ze(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ve(e){return null!=e&&"object"==typeof e}var He=j?function(e){return function(t){return e(t)}}(j):function(e){return Ve(e)&&ze(e.length)&&!!A[Ce(e)]};function We(e){return function(e){return null!=e&&ze(e.length)&&!Ue(e)}(e)?function(e,t){var n=Me(e),r=!n&&Fe(e),a=!n&&!r&&$e(e),i=!n&&!r&&!a&&He(e),o=n||r||a||i,s=o?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var l in e)(t||G.call(e,l))&&(!o||!("length"==l||a&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Ne(l,u)))&&s.push(l);return s}(e):function(e){if(!function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||H)}(e))return se(e);var t=[];for(var n in Object(e))G.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e,t){return Ae(e,t)}}(Ms,Ms.exports);const $s=Fs(Ms.exports);var Us=Object.defineProperty,zs=(e,t,n)=>(((e,t,n)=>{t in e?Us(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const Zs={Mainnet:1,Stokenet:2,Alphanet:10,Betanet:11,Kisharnet:12,RCnetV1:12,Zabanet:14,RCnetV3:14,Gilganet:32,Enkinet:33,Hammunet:34,Nergalnet:35,Mardunet:36,Dumunet:37,LocalNet:240,InternalTestNet:241,Simulator:242},Vs={Mainnet:{networkName:"Mainnet",networkId:Zs.Mainnet,gatewayUrl:"https://mainnet.radixdlt.com",dashboardUrl:"https://dashboard.radixdlt.com"},Stokenet:{networkName:"Stokenet",networkId:Zs.Stokenet,gatewayUrl:"https://stokenet.radixdlt.com",dashboardUrl:"https://stokenet-dashboard.radixdlt.com"},Kisharnet:{networkName:"Kisharnet",networkId:Zs.Kisharnet,gatewayUrl:"https://kisharnet-gateway.radixdlt.com",dashboardUrl:"https://kisharnet-dashboard.radixdlt.com"},RCnetV1:{networkName:"RCnetV1",networkId:Zs.RCnetV1,gatewayUrl:"https://rcnet.radixdlt.com",dashboardUrl:"https://rcnet-dashboard.radixdlt.com"},Mardunet:{networkName:"Mardunet",networkId:Zs.Mardunet,gatewayUrl:"https://mardunet-gateway.radixdlt.com",dashboardUrl:"https://mardunet-dashboard.rdx-works-main.extratools.works"},Zabanet:{networkName:"Zabanet",networkId:Zs.Zabanet,gatewayUrl:"https://zabanet-gateway.radixdlt.com",dashboardUrl:"https://rcnet-v3-dashboard.radixdlt.com"},RCnetV3:{networkName:"RCNetV3",networkId:Zs.RCnetV3,gatewayUrl:"https://zabanet-gateway.radixdlt.com",dashboardUrl:"https://rcnet-v3-dashboard.radixdlt.com"},Gilganet:{networkName:"Gilganet",networkId:Zs.Gilganet,gatewayUrl:"https://gilganet-gateway.radixdlt.com",dashboardUrl:"https://gilganet-dashboard.rdx-works-main.extratools.works"},Enkinet:{networkName:"Enkinet",networkId:Zs.Enkinet,gatewayUrl:"https://enkinet-gateway.radixdlt.com",dashboardUrl:"https://enkinet-dashboard.rdx-works-main.extratools.works"},Hammunet:{networkName:"Hammunet",networkId:Zs.Hammunet,gatewayUrl:"https://hammunet-gateway.radixdlt.com",dashboardUrl:"https://hammunet-dashboard.rdx-works-main.extratools.works"},Dumunet:{networkName:"Dumunet",networkId:Zs.Dumunet,gatewayUrl:"https://dumunet-gateway.radixdlt.com",dashboardUrl:"https://dumunet-dashboard.rdx-works-main.extratools.works"}},Hs=Object.values(Vs).reduce(((e,t)=>(e[t.networkId]=t,e)),{}),Ws="https://mainnet.radixdlt.com".replace(/\/+$/,"");class Ks{constructor(e={}){this.configuration=e}set config(e){this.configuration=e}get basePath(){return null!=this.configuration.basePath?this.configuration.basePath:Ws}get fetchApi(){return this.configuration.fetchApi}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||nu}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){const e=this.configuration.apiKey;if(e)return"function"==typeof e?e:()=>e}get accessToken(){const e=this.configuration.accessToken;if(e)return"function"==typeof e?e:async()=>e}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}}const Gs=new Ks;class Js{constructor(e=Gs){zs(this,"middleware"),zs(this,"fetchApi",(async(e,t)=>{let n,r={url:e,init:t};for(const e of this.middleware)e.pre&&(r=await e.pre({fetch:this.fetchApi,...r})||r);try{n=await(this.configuration.fetchApi||fetch)(r.url,r.init)}catch(e){for(const t of this.middleware)t.onError&&(n=await t.onError({fetch:this.fetchApi,url:r.url,init:r.init,error:e,response:n?n.clone():void 0})||n);if(void 0===n)throw e}for(const e of this.middleware)e.post&&(n=await e.post({fetch:this.fetchApi,url:r.url,init:r.init,response:n.clone()})||n);return n})),this.configuration=e,this.middleware=e.middleware}withMiddleware(...e){const t=this.clone();return t.middleware=t.middleware.concat(...e),t}withPreMiddleware(...e){const t=e.map((e=>({pre:e})));return this.withMiddleware(...t)}withPostMiddleware(...e){const t=e.map((e=>({post:e})));return this.withMiddleware(...t)}async request(e,t){const{url:n,init:r}=await this.createFetchParams(e,t),a=await this.fetchApi(n,r);if(a&&a.status>=200&&a.status<300)return a;throw await Qs.from(a)}async createFetchParams(e,t){let n=this.configuration.basePath+e.path;void 0!==e.query&&0!==Object.keys(e.query).length&&(n+="?"+this.configuration.queryParamsStringify(e.query));const r=Object.assign({},this.configuration.headers,e.headers);Object.keys(r).forEach((e=>void 0===r[e]?delete r[e]:{}));const a="function"==typeof t?t:async()=>t,i={method:e.method,headers:r,body:e.body,credentials:this.configuration.credentials},o={...i,...await a({init:i,context:e})};return{url:n,init:{...o,body:Ys(o.body)||o.body instanceof URLSearchParams||Xs(o.body)?o.body:JSON.stringify(o.body)}}}clone(){const e=new(0,this.constructor)(this.configuration);return e.middleware=this.middleware.slice(),e}}function Xs(e){return typeof Blob<"u"&&e instanceof Blob}function Ys(e){return typeof FormData<"u"&&e instanceof FormData}class Qs extends Error{constructor(e,t,n){super(n?JSON.stringify(n):"Unknown error occurred"),zs(this,"name","ResponseError"),this.fetchResponse=e,this.status=t,this.errorResponse=n}static async from(e){const t=e.status;try{const n=await e.json();return new Qs(e,t,n)}catch{return new Qs(e,t,void 0)}}}class eu extends Error{constructor(e,t){super(t),zs(this,"name","RequiredError"),this.field=e}}function tu(e,t){return null!=e[t]}function nu(e,t=""){return Object.keys(e).map((n=>ru(n,e[n],t))).filter((e=>e.length>0)).join("&")}function ru(e,t,n=""){const r=n+(n.length?`[${e}]`:e);if(t instanceof Array){const e=t.map((e=>encodeURIComponent(String(e)))).join(`&${encodeURIComponent(r)}=`);return`${encodeURIComponent(r)}=${e}`}return t instanceof Set?ru(e,Array.from(t),n):t instanceof Date?`${encodeURIComponent(r)}=${encodeURIComponent(t.toISOString())}`:t instanceof Object?nu(t,r):`${encodeURIComponent(r)}=${encodeURIComponent(String(t))}`}class au{constructor(e,t=(e=>e)){this.raw=e,this.transformer=t}async value(){return this.transformer(await this.raw.json())}}function iu(e,t){return null==e?e:{badge_type:e.badge_type,resource_address:e.resource_address,non_fungible_id:e.non_fungible_id,last_updated_at_state_version:e.last_updated_at_state_version}}function ou(e,t){return null==e?e:{badge_type:e.badge_type,resource_address:e.resource_address,last_updated_at_state_version:e.last_updated_at_state_version}}function su(e){return function(e,t){if(null==e)return e;switch(e.badge_type){case"NonFungibleBadge":return{...iu(e),badge_type:"NonFungibleBadge"};case"ResourceBadge":return{...ou(e),badge_type:"ResourceBadge"};default:throw new Error(`No variant of AccountAuthorizedDepositorsResponseItem exists with 'badge_type=${e.badge_type}'`)}}(e)}function uu(e){return function(e,t){return e}(e)}function lu(e){return function(e,t){return e}(e)}function cu(e){return function(e,t){return null==e?e:{resource_address:e.resource_address,vault_exists:e.vault_exists,is_xrd:e.is_xrd,resource_preference_rule:tu(e,"resource_preference_rule")?lu(e.resource_preference_rule):void 0}}(e)}function du(e){return function(e,t){return null==e?e:{is_badge_authorized_depositor:tu(e,"is_badge_authorized_depositor")?e.is_badge_authorized_depositor:void 0,default_deposit_rule:uu(e.default_deposit_rule),resource_specific_details:tu(e,"resource_specific_details")?e.resource_specific_details.map(cu):void 0}}(e)}function pu(e){if(void 0!==e){if(null===e)return null;switch(e.badge_type){case"NonFungibleBadge":return function(e){if(void 0!==e)return null===e?null:{badge_type:e.badge_type,resource_address:e.resource_address,non_fungible_id:e.non_fungible_id}}(e);case"ResourceBadge":return function(e){if(void 0!==e)return null===e?null:{badge_type:e.badge_type,resource_address:e.resource_address}}(e);default:throw new Error(`No variant of TransactionAccountDepositPreValidationAuthorizedDepositorBadge exists with 'badge_type=${e.badge_type}'`)}}}function fu(e){if(void 0!==e)return null===e?null:{account_address:e.account_address,resource_addresses:e.resource_addresses,badge:pu(e.badge)}}function mu(e){return function(e,t){return null==e?e:{resource_address:e.resource_address,allows_try_deposit:e.allows_try_deposit}}(e)}function hu(e){return function(e,t){return null==e?e:{network:e.network,state_version:e.state_version,proposer_round_timestamp:e.proposer_round_timestamp,epoch:e.epoch,round:e.round}}(e)}function yu(e){return function(e,t){return null==e?e:{resource_address:e.resource_address,resource_preference_rule:lu(e.resource_preference_rule),last_updated_at_state_version:e.last_updated_at_state_version}}(e)}function gu(e){if(void 0!==e)return null===e?null:{state_version:e.state_version,timestamp:void 0===e.timestamp?void 0:null===e.timestamp?null:e.timestamp.toISOString(),epoch:e.epoch,round:e.round}}function _u(e){return function(e,t){return null==e?e:{amount:e.amount,unit:e.unit}}(e)}function vu(e){return function(e,t){return null==e?e:{method_name:e.method_name,royalty_amount:tu(e,"royalty_amount")?_u(e.royalty_amount):void 0}}(e)}function bu(e){return function(e,t){return null==e?e:{is_enabled:e.is_enabled,method_rules:tu(e,"method_rules")?e.method_rules.map(vu):void 0}}(e)}function wu(e){return function(e,t){return e}(e)}function xu(e){return function(e,t){return null==e?e:{entity_address:e.entity_address,resource_address:e.resource_address,balance_change:e.balance_change}}(e)}function ku(e){return function(e,t){return e}(e)}function Eu(e){return function(e,t){return null==e?e:{type:ku(e.type),entity_address:e.entity_address,resource_address:e.resource_address,balance_change:e.balance_change}}(e)}function Iu(e){return function(e,t){return null==e?e:{entity_address:e.entity_address,resource_address:e.resource_address,added:e.added,removed:e.removed}}(e)}function Su(e){return function(e,t){return null==e?e:{fungible_fee_balance_changes:e.fungible_fee_balance_changes.map(Eu),fungible_balance_changes:e.fungible_balance_changes.map(xu),non_fungible_balance_changes:e.non_fungible_balance_changes.map(Iu)}}(e)}function Cu(e){return function(e,t){return e}(e)}function Tu(e,t){return null==e?e:{kind:e.kind,type_name:tu(e,"type_name")?e.type_name:void 0,field_name:tu(e,"field_name")?e.field_name:void 0,element_kind:Cu(e.element_kind),element_type_name:tu(e,"element_type_name")?e.element_type_name:void 0,elements:e.elements.map(Yu)}}function Au(e,t){return null==e?e:{kind:e.kind,type_name:tu(e,"type_name")?e.type_name:void 0,field_name:tu(e,"field_name")?e.field_name:void 0,value:e.value}}function Ou(e,t){return null==e?e:{kind:e.kind,type_name:tu(e,"type_name")?e.type_name:void 0,field_name:tu(e,"field_name")?e.field_name:void 0,element_kind:Cu(e.element_kind),element_type_name:tu(e,"element_type_name")?e.element_type_name:void 0,hex:e.hex}}function Pu(e,t){return null==e?e:{kind:e.kind,type_name:tu(e,"type_name")?e.type_name:void 0,field_name:tu(e,"field_name")?e.field_name:void 0,value:e.value}}function Ru(e,t){return null==e?e:{kind:e.kind,type_name:tu(e,"type_name")?e.type_name:void 0,field_name:tu(e,"field_name")?e.field_name:void 0,variant_id:e.variant_id,variant_name:tu(e,"variant_name")?e.variant_name:void 0,fields:e.fields.map(Yu)}}function qu(e,t){return null==e?e:{kind:e.kind,type_name:tu(e,"type_name")?e.type_name:void 0,field_name:tu(e,"field_name")?e.field_name:void 0,value:e.value}}function Lu(e,t){return null==e?e:{kind:e.kind,type_name:tu(e,"type_name")?e.type_name:void 0,field_name:tu(e,"field_name")?e.field_name:void 0,value:e.value}}function Bu(e,t){return null==e?e:{kind:e.kind,type_name:tu(e,"type_name")?e.type_name:void 0,field_name:tu(e,"field_name")?e.field_name:void 0,value:e.value}}function Nu(e,t){return null==e?e:{kind:e.kind,type_name:tu(e,"type_name")?e.type_name:void 0,field_name:tu(e,"field_name")?e.field_name:void 0,value:e.value}}function Du(e,t){return null==e?e:{kind:e.kind,type_name:tu(e,"type_name")?e.type_name:void 0,field_name:tu(e,"field_name")?e.field_name:void 0,value:e.value}}function ju(e){return function(e,t){return null==e?e:{key:Yu(e.key),value:Yu(e.value)}}(e)}function Fu(e){if(void 0!==e)return null===e?null:{key:Qu(e.key),value:Qu(e.value)}}function Mu(e,t){return null==e?e:{kind:e.kind,type_name:tu(e,"type_name")?e.type_name:void 0,field_name:tu(e,"field_name")?e.field_name:void 0,key_kind:Cu(e.key_kind),key_type_name:tu(e,"key_type_name")?e.key_type_name:void 0,value_kind:Cu(e.value_kind),value_type_name:tu(e,"value_type_name")?e.value_type_name:void 0,entries:e.entries.map(ju)}}function $u(e,t){return null==e?e:{kind:e.kind,type_name:tu(e,"type_name")?e.type_name:void 0,field_name:tu(e,"field_name")?e.field_name:void 0,value:e.value}}function Uu(e,t){return null==e?e:{kind:e.kind,type_name:tu(e,"type_name")?e.type_name:void 0,field_name:tu(e,"field_name")?e.field_name:void 0,value:e.value}}function zu(e,t){return null==e?e:{kind:e.kind,type_name:tu(e,"type_name")?e.type_name:void 0,field_name:tu(e,"field_name")?e.field_name:void 0,value:e.value}}function Zu(e,t){return null==e?e:{kind:e.kind,type_name:tu(e,"type_name")?e.type_name:void 0,field_name:tu(e,"field_name")?e.field_name:void 0,value:e.value}}function Vu(e,t){return null==e?e:{kind:e.kind,type_name:tu(e,"type_name")?e.type_name:void 0,field_name:tu(e,"field_name")?e.field_name:void 0,value:e.value}}function Hu(e,t){return null==e?e:{kind:e.kind,type_name:tu(e,"type_name")?e.type_name:void 0,field_name:tu(e,"field_name")?e.field_name:void 0,fields:e.fields.map(Yu)}}function Wu(e,t){return null==e?e:{kind:e.kind,type_name:tu(e,"type_name")?e.type_name:void 0,field_name:tu(e,"field_name")?e.field_name:void 0,value:e.value}}function Ku(e,t){return null==e?e:{kind:e.kind,type_name:tu(e,"type_name")?e.type_name:void 0,field_name:tu(e,"field_name")?e.field_name:void 0,value:e.value}}function Gu(e,t){return null==e?e:{kind:e.kind,type_name:tu(e,"type_name")?e.type_name:void 0,field_name:tu(e,"field_name")?e.field_name:void 0,value:e.value}}function Ju(e,t){return null==e?e:{kind:e.kind,type_name:tu(e,"type_name")?e.type_name:void 0,field_name:tu(e,"field_name")?e.field_name:void 0,value:e.value}}function Xu(e,t){return null==e?e:{kind:e.kind,type_name:tu(e,"type_name")?e.type_name:void 0,field_name:tu(e,"field_name")?e.field_name:void 0,value:e.value}}function Yu(e){return function(e,t){if(null==e)return e;switch(e.kind){case"Array":return{...Tu(e),kind:"Array"};case"Bool":return{...Au(e),kind:"Bool"};case"Bytes":return{...Ou(e),kind:"Bytes"};case"Decimal":return{...Pu(e),kind:"Decimal"};case"Enum":return{...Ru(e),kind:"Enum"};case"I128":return{...qu(e),kind:"I128"};case"I16":return{...Lu(e),kind:"I16"};case"I32":return{...Bu(e),kind:"I32"};case"I64":return{...Nu(e),kind:"I64"};case"I8":return{...Du(e),kind:"I8"};case"Map":return{...Mu(e),kind:"Map"};case"NonFungibleLocalId":return{...$u(e),kind:"NonFungibleLocalId"};case"Own":return{...Uu(e),kind:"Own"};case"PreciseDecimal":return{...zu(e),kind:"PreciseDecimal"};case"Reference":return{...Zu(e),kind:"Reference"};case"String":return{...Vu(e),kind:"String"};case"Tuple":return{...Hu(e),kind:"Tuple"};case"U128":return{...Wu(e),kind:"U128"};case"U16":return{...Ku(e),kind:"U16"};case"U32":return{...Gu(e),kind:"U32"};case"U64":return{...Ju(e),kind:"U64"};case"U8":return{...Xu(e),kind:"U8"};default:throw new Error(`No variant of ProgrammaticScryptoSborValue exists with 'kind=${e.kind}'`)}}(e)}function Qu(e){if(void 0!==e){if(null===e)return null;switch(e.kind){case"Array":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,element_kind:e.element_kind,element_type_name:e.element_type_name,elements:e.elements.map(Qu)}}(e);case"Bool":case"Decimal":case"I128":case"I16":case"I32":case"I64":case"I8":case"NonFungibleLocalId":case"Own":case"PreciseDecimal":case"Reference":case"String":case"U128":case"U16":case"U32":case"U64":case"U8":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}(e);case"Bytes":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,element_kind:e.element_kind,element_type_name:e.element_type_name,hex:e.hex}}(e);case"Enum":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,variant_id:e.variant_id,variant_name:e.variant_name,fields:e.fields.map(Qu)}}(e);case"Map":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,key_kind:e.key_kind,key_type_name:e.key_type_name,value_kind:e.value_kind,value_type_name:e.value_type_name,entries:e.entries.map(Fu)}}(e);case"Tuple":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,fields:e.fields.map(Qu)}}(e);default:throw new Error(`No variant of ProgrammaticScryptoSborValue exists with 'kind=${e.kind}'`)}}}function el(e){return function(e,t){return null==e?e:{name:e.name,emitter:e.emitter,data:Yu(e.data)}}(e)}const tl={Unknown:"Unknown",CommittedSuccess:"CommittedSuccess",CommittedFailure:"CommittedFailure",Pending:"Pending",Rejected:"Rejected"};function nl(e){return function(e,t){return e}(e)}function rl(e){return function(e,t){return null==e?e:{status:tu(e,"status")?nl(e.status):void 0,fee_summary:tu(e,"fee_summary")?e.fee_summary:void 0,costing_parameters:tu(e,"costing_parameters")?e.costing_parameters:void 0,fee_destination:tu(e,"fee_destination")?e.fee_destination:void 0,fee_source:tu(e,"fee_source")?e.fee_source:void 0,state_updates:tu(e,"state_updates")?e.state_updates:void 0,next_epoch:tu(e,"next_epoch")?e.next_epoch:void 0,output:tu(e,"output")?e.output:void 0,events:tu(e,"events")?e.events.map(el):void 0,error_message:tu(e,"error_message")?e.error_message:void 0}}(e)}function al(e){return function(e,t){return null==e?e:{state_version:e.state_version,epoch:e.epoch,round:e.round,round_timestamp:e.round_timestamp,transaction_status:nl(e.transaction_status),payload_hash:tu(e,"payload_hash")?e.payload_hash:void 0,intent_hash:tu(e,"intent_hash")?e.intent_hash:void 0,fee_paid:tu(e,"fee_paid")?e.fee_paid:void 0,affected_global_entities:tu(e,"affected_global_entities")?e.affected_global_entities:void 0,confirmed_at:tu(e,"confirmed_at")?null===e.confirmed_at?null:new Date(e.confirmed_at):void 0,error_message:tu(e,"error_message")?e.error_message:void 0,raw_hex:tu(e,"raw_hex")?e.raw_hex:void 0,receipt:tu(e,"receipt")?rl(e.receipt):void 0,manifest_instructions:tu(e,"manifest_instructions")?e.manifest_instructions:void 0,manifest_classes:tu(e,"manifest_classes")?null===e.manifest_classes?null:e.manifest_classes.map(wu):void 0,message:tu(e,"message")?e.message:void 0,balance_changes:tu(e,"balance_changes")?Su(e.balance_changes):void 0}}(e)}function il(e){return function(e,t){return e}(e)}function ol(e){return function(e,t){return null==e?e:{resolution:il(e.resolution),explicit_rule:tu(e,"explicit_rule")?e.explicit_rule:void 0}}(e)}function sl(e){return function(e,t){return e}(e)}function ul(e){return function(e,t){return null==e?e:{name:e.name,module:sl(e.module)}}(e)}function ll(e){return function(e,t){return null==e?e:{role_key:ul(e.role_key),assignment:ol(e.assignment),updater_roles:tu(e,"updater_roles")?e.updater_roles.map(ul):void 0}}(e)}function cl(e){return function(e,t){return null==e?e:{owner:e.owner,entries:e.entries.map(ll)}}(e)}function dl(e){return function(e,t){return null==e?e:{method_name:e.method_name,royalty_amount:tu(e,"royalty_amount")?_u(e.royalty_amount):void 0}}(e)}function pl(e){return function(e,t){return null==e?e:{is_enabled:e.is_enabled,method_rules:tu(e,"method_rules")?e.method_rules.map(dl):void 0}}(e)}function fl(e,t){return null==e?e:{type:e.type,values:e.values}}function ml(e,t){return null==e?e:{type:e.type,value:e.value}}function hl(e,t){return null==e?e:{type:e.type,values:e.values}}function yl(e,t){return null==e?e:{type:e.type,value:e.value}}function gl(e,t){return null==e?e:{type:e.type,values:e.values}}function _l(e,t){return null==e?e:{type:e.type,value:e.value}}function vl(e,t){return null==e?e:{type:e.type,values:e.values}}function bl(e,t){return null==e?e:{type:e.type,value:e.value}}function wl(e,t){return null==e?e:{type:e.type,values:e.values}}function xl(e,t){return null==e?e:{type:e.type,value:e.value}}function kl(e,t){return null==e?e:{type:e.type,values:e.values,values_unix_timestamp_seconds:e.values_unix_timestamp_seconds}}function El(e,t){return null==e?e:{type:e.type,value:e.value,unix_timestamp_seconds:e.unix_timestamp_seconds}}function Il(e){return function(e,t){return null==e?e:{resource_address:e.resource_address,non_fungible_id:e.non_fungible_id}}(e)}function Sl(e,t){return null==e?e:{type:e.type,values:e.values.map(Il)}}function Cl(e,t){return null==e?e:{type:e.type,resource_address:e.resource_address,non_fungible_id:e.non_fungible_id}}function Tl(e,t){return null==e?e:{type:e.type,values:e.values}}function Al(e,t){return null==e?e:{type:e.type,value:e.value}}function Ol(e,t){return null==e?e:{type:e.type,values:e.values}}function Pl(e,t){return null==e?e:{type:e.type,value:e.value}}function Rl(e,t){return null==e?e:{key_type:e.key_type,key_hex:e.key_hex}}function ql(e,t){return null==e?e:{key_type:e.key_type,key_hex:e.key_hex}}function Ll(e){return function(e,t){if(null==e)return e;switch(e.key_type){case"EcdsaSecp256k1":return{...Rl(e),key_type:"EcdsaSecp256k1"};case"EddsaEd25519":return{...ql(e),key_type:"EddsaEd25519"};default:throw new Error(`No variant of PublicKey exists with 'key_type=${e.key_type}'`)}}(e)}function Bl(e){if(void 0!==e){if(null===e)return null;switch(e.key_type){case"EcdsaSecp256k1":case"EddsaEd25519":return function(e){if(void 0!==e)return null===e?null:{key_type:e.key_type,key_hex:e.key_hex}}(e);default:throw new Error(`No variant of PublicKey exists with 'key_type=${e.key_type}'`)}}}function Nl(e,t){return null==e?e:{type:e.type,values:e.values.map(Ll)}}function Dl(e,t){return null==e?e:{key_hash_type:e.key_hash_type,hash_hex:e.hash_hex}}function jl(e,t){return null==e?e:{key_hash_type:e.key_hash_type,hash_hex:e.hash_hex}}function Fl(e){return function(e,t){if(null==e)return e;switch(e.key_hash_type){case"EcdsaSecp256k1":return{...Dl(e),key_hash_type:"EcdsaSecp256k1"};case"EddsaEd25519":return{...jl(e),key_hash_type:"EddsaEd25519"};default:throw new Error(`No variant of PublicKeyHash exists with 'key_hash_type=${e.key_hash_type}'`)}}(e)}function Ml(e,t){return null==e?e:{type:e.type,values:e.values.map(Fl)}}function $l(e,t){return null==e?e:{type:e.type,value:Fl(e.value)}}function Ul(e,t){return null==e?e:{type:e.type,value:Ll(e.value)}}function zl(e,t){return null==e?e:{type:e.type,values:e.values}}function Zl(e,t){return null==e?e:{type:e.type,value:e.value}}function Vl(e,t){return null==e?e:{type:e.type,values:e.values}}function Hl(e,t){return null==e?e:{type:e.type,value:e.value}}function Wl(e,t){return null==e?e:{type:e.type,values:e.values}}function Kl(e,t){return null==e?e:{type:e.type,value:e.value}}function Gl(e,t){return null==e?e:{type:e.type,value_hex:e.value_hex}}function Jl(e,t){return null==e?e:{type:e.type,value:e.value}}function Xl(e,t){return null==e?e:{type:e.type,values:e.values}}function Yl(e,t){return null==e?e:{type:e.type,value:e.value}}function Ql(e){return function(e,t){if(null==e)return e;switch(e.type){case"Bool":return{...ml(e),type:"Bool"};case"BoolArray":return{...fl(e),type:"BoolArray"};case"Decimal":return{...yl(e),type:"Decimal"};case"DecimalArray":return{...hl(e),type:"DecimalArray"};case"GlobalAddress":return{..._l(e),type:"GlobalAddress"};case"GlobalAddressArray":return{...gl(e),type:"GlobalAddressArray"};case"I32":return{...bl(e),type:"I32"};case"I32Array":return{...vl(e),type:"I32Array"};case"I64":return{...xl(e),type:"I64"};case"I64Array":return{...wl(e),type:"I64Array"};case"Instant":return{...El(e),type:"Instant"};case"InstantArray":return{...kl(e),type:"InstantArray"};case"NonFungibleGlobalId":return{...Cl(e),type:"NonFungibleGlobalId"};case"NonFungibleGlobalIdArray":return{...Sl(e),type:"NonFungibleGlobalIdArray"};case"NonFungibleLocalId":return{...Al(e),type:"NonFungibleLocalId"};case"NonFungibleLocalIdArray":return{...Tl(e),type:"NonFungibleLocalIdArray"};case"Origin":return{...Pl(e),type:"Origin"};case"OriginArray":return{...Ol(e),type:"OriginArray"};case"PublicKey":return{...Ul(e),type:"PublicKey"};case"PublicKeyArray":return{...Nl(e),type:"PublicKeyArray"};case"PublicKeyHash":return{...$l(e),type:"PublicKeyHash"};case"PublicKeyHashArray":return{...Ml(e),type:"PublicKeyHashArray"};case"String":return{...Zl(e),type:"String"};case"StringArray":return{...zl(e),type:"StringArray"};case"U32":return{...Hl(e),type:"U32"};case"U32Array":return{...Vl(e),type:"U32Array"};case"U64":return{...Kl(e),type:"U64"};case"U64Array":return{...Wl(e),type:"U64Array"};case"U8":return{...Jl(e),type:"U8"};case"U8Array":return{...Gl(e),type:"U8Array"};case"Url":return{...Yl(e),type:"Url"};case"UrlArray":return{...Xl(e),type:"UrlArray"};default:throw new Error(`No variant of MetadataTypedValue exists with 'type=${e.type}'`)}}(e)}function ec(e){return function(e,t){return null==e?e:{raw_hex:e.raw_hex,programmatic_json:Yu(e.programmatic_json),typed:Ql(e.typed)}}(e)}function tc(e){return function(e,t){return null==e?e:{key:e.key,value:ec(e.value),is_locked:e.is_locked,last_updated_at_state_version:e.last_updated_at_state_version}}(e)}function nc(e){return function(e,t){return null==e?e:{total_count:tu(e,"total_count")?e.total_count:void 0,next_cursor:tu(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(tc)}}(e)}function rc(e){return function(e,t){return null==e?e:{schema_hash_hex:e.schema_hash_hex,schema_hex:e.schema_hex}}(e)}function ac(e){return function(e,t){return null==e?e:{total_count:tu(e,"total_count")?e.total_count:void 0,next_cursor:tu(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(rc)}}(e)}function ic(e,t){return null==e?e:{aggregation_level:e.aggregation_level,resource_address:e.resource_address,explicit_metadata:tu(e,"explicit_metadata")?nc(e.explicit_metadata):void 0,amount:e.amount,last_updated_at_state_version:e.last_updated_at_state_version}}function oc(e){return function(e,t){return null==e?e:{vault_address:e.vault_address,amount:e.amount,last_updated_at_state_version:e.last_updated_at_state_version}}(e)}function sc(e){return function(e,t){return null==e?e:{total_count:tu(e,"total_count")?e.total_count:void 0,next_cursor:tu(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(oc)}}(e)}function uc(e,t){return null==e?e:{aggregation_level:e.aggregation_level,resource_address:e.resource_address,explicit_metadata:tu(e,"explicit_metadata")?nc(e.explicit_metadata):void 0,vaults:sc(e.vaults)}}function lc(e){return function(e,t){if(null==e)return e;switch(e.aggregation_level){case"Global":return{...ic(e),aggregation_level:"Global"};case"Vault":return{...uc(e),aggregation_level:"Vault"};default:throw new Error(`No variant of FungibleResourcesCollectionItem exists with 'aggregation_level=${e.aggregation_level}'`)}}(e)}function cc(e){return function(e,t){return null==e?e:{total_count:tu(e,"total_count")?e.total_count:void 0,next_cursor:tu(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(lc)}}(e)}function dc(e){return function(e,t){return null==e?e:{release_version:e.release_version,open_api_schema_version:e.open_api_schema_version,image_tag:e.image_tag}}(e)}function pc(e){return function(e,t){return null==e?e:{xrd:e.xrd,secp256k1_signature_virtual_badge:e.secp256k1_signature_virtual_badge,ed25519_signature_virtual_badge:e.ed25519_signature_virtual_badge,package_of_direct_caller_virtual_badge:e.package_of_direct_caller_virtual_badge,global_caller_virtual_badge:e.global_caller_virtual_badge,system_transaction_badge:e.system_transaction_badge,package_owner_badge:e.package_owner_badge,validator_owner_badge:e.validator_owner_badge,account_owner_badge:e.account_owner_badge,identity_owner_badge:e.identity_owner_badge,package_package:e.package_package,resource_package:e.resource_package,account_package:e.account_package,identity_package:e.identity_package,consensus_manager_package:e.consensus_manager_package,access_controller_package:e.access_controller_package,transaction_processor_package:e.transaction_processor_package,metadata_module_package:e.metadata_module_package,royalty_module_package:e.royalty_module_package,access_rules_package:e.access_rules_package,role_assignment_module_package:e.role_assignment_module_package,genesis_helper_package:e.genesis_helper_package,faucet_package:e.faucet_package,consensus_manager:e.consensus_manager,genesis_helper:e.genesis_helper,faucet:e.faucet,pool_package:e.pool_package,transaction_tracker:e.transaction_tracker}}(e)}function fc(e){return function(e,t){return e}(e)}function mc(e){return function(e,t){return null==e?e:{total_count:tu(e,"total_count")?e.total_count:void 0,next_cursor:tu(e,"next_cursor")?e.next_cursor:void 0,items:e.items}}(e)}function hc(e,t){return null==e?e:{aggregation_level:e.aggregation_level,resource_address:e.resource_address,explicit_metadata:tu(e,"explicit_metadata")?nc(e.explicit_metadata):void 0,amount:e.amount,last_updated_at_state_version:e.last_updated_at_state_version}}function yc(e){return function(e,t){return null==e?e:{total_count:e.total_count,next_cursor:tu(e,"next_cursor")?e.next_cursor:void 0,items:tu(e,"items")?e.items:void 0,vault_address:e.vault_address,last_updated_at_state_version:e.last_updated_at_state_version}}(e)}function gc(e){return function(e,t){return null==e?e:{total_count:tu(e,"total_count")?e.total_count:void 0,next_cursor:tu(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(yc)}}(e)}function _c(e,t){return null==e?e:{aggregation_level:e.aggregation_level,resource_address:e.resource_address,explicit_metadata:tu(e,"explicit_metadata")?nc(e.explicit_metadata):void 0,vaults:gc(e.vaults)}}function vc(e){return function(e,t){if(null==e)return e;switch(e.aggregation_level){case"Global":return{...hc(e),aggregation_level:"Global"};case"Vault":return{..._c(e),aggregation_level:"Vault"};default:throw new Error(`No variant of NonFungibleResourcesCollectionItem exists with 'aggregation_level=${e.aggregation_level}'`)}}(e)}function bc(e){return function(e,t){return null==e?e:{total_count:tu(e,"total_count")?e.total_count:void 0,next_cursor:tu(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(vc)}}(e)}function wc(e){return function(e,t){return null==e?e:{name:e.name,version:e.version,definition:e.definition,dependant_entities:tu(e,"dependant_entities")?e.dependant_entities:void 0,auth_template:tu(e,"auth_template")?e.auth_template:void 0,auth_template_is_locked:tu(e,"auth_template_is_locked")?e.auth_template_is_locked:void 0,royalty_config:tu(e,"royalty_config")?bu(e.royalty_config):void 0,royalty_config_is_locked:tu(e,"royalty_config_is_locked")?e.royalty_config_is_locked:void 0}}(e)}function xc(e){return function(e,t){return null==e?e:{total_count:tu(e,"total_count")?e.total_count:void 0,next_cursor:tu(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(wc)}}(e)}function kc(e){return function(e,t){return e}(e)}function Ec(e){return function(e,t){return null==e?e:{vm_type:kc(e.vm_type),code_hash_hex:e.code_hash_hex,code_hex:e.code_hex}}(e)}function Ic(e){return function(e,t){return null==e?e:{total_count:tu(e,"total_count")?e.total_count:void 0,next_cursor:tu(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(Ec)}}(e)}function Sc(e){return function(e,t){return null==e?e:{raw_hex:e.raw_hex,programmatic_json:Yu(e.programmatic_json)}}(e)}function Cc(e){if(void 0!==e)return null===e?null:{at_ledger_state:gu(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,account_address:e.account_address}}function Tc(e){if(void 0!==e)return null===e?null:{at_ledger_state:gu(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,account_address:e.account_address}}function Ac(e){if(void 0!==e)return null===e?null:{ancestor_identities:e.ancestor_identities,component_royalty_config:e.component_royalty_config,component_royalty_vault_balance:e.component_royalty_vault_balance,package_royalty_vault_balance:e.package_royalty_vault_balance,non_fungible_include_nfids:e.non_fungible_include_nfids,explicit_metadata:e.explicit_metadata}}function Oc(e){if(void 0!==e)return null===e?null:{at_ledger_state:gu(e.at_ledger_state),opt_ins:Ac(e.opt_ins),addresses:e.addresses,aggregation_level:e.aggregation_level}}function Pc(e){return function(e,t){return null==e?e:{parent_address:tu(e,"parent_address")?e.parent_address:void 0,owner_address:tu(e,"owner_address")?e.owner_address:void 0,global_address:tu(e,"global_address")?e.global_address:void 0}}(e)}function Rc(e,t){return null==e?e:{type:e.type,package_address:tu(e,"package_address")?e.package_address:void 0,blueprint_name:e.blueprint_name,blueprint_version:e.blueprint_version,state:tu(e,"state")?e.state:void 0,role_assignments:tu(e,"role_assignments")?cl(e.role_assignments):void 0,royalty_vault_balance:tu(e,"royalty_vault_balance")?e.royalty_vault_balance:void 0,royalty_config:tu(e,"royalty_config")?pl(e.royalty_config):void 0}}function qc(e,t){return null==e?e:{type:e.type,role_assignments:cl(e.role_assignments),divisibility:e.divisibility,total_supply:e.total_supply,total_minted:e.total_minted,total_burned:e.total_burned}}function Lc(e,t){return null==e?e:{type:e.type,resource_address:e.resource_address,balance:oc(e.balance)}}function Bc(e,t){return null==e?e:{type:e.type,role_assignments:cl(e.role_assignments),non_fungible_id_type:fc(e.non_fungible_id_type),total_supply:e.total_supply,total_minted:e.total_minted,total_burned:e.total_burned}}function Nc(e,t){return null==e?e:{type:e.type,resource_address:e.resource_address,balance:yc(e.balance)}}function Dc(e,t){return null==e?e:{type:e.type,codes:Ic(e.codes),vm_type:kc(e.vm_type),code_hash_hex:e.code_hash_hex,code_hex:e.code_hex,royalty_vault_balance:tu(e,"royalty_vault_balance")?e.royalty_vault_balance:void 0,blueprints:tu(e,"blueprints")?xc(e.blueprints):void 0,schemas:tu(e,"schemas")?ac(e.schemas):void 0,role_assignments:tu(e,"role_assignments")?cl(e.role_assignments):void 0}}function jc(e){return function(e,t){if(null==e)return e;switch(e.type){case"Component":return{...Rc(e),type:"Component"};case"FungibleResource":return{...qc(e),type:"FungibleResource"};case"FungibleVault":return{...Lc(e),type:"FungibleVault"};case"NonFungibleResource":return{...Bc(e),type:"NonFungibleResource"};case"NonFungibleVault":return{...Nc(e),type:"NonFungibleVault"};case"Package":return{...Dc(e),type:"Package"};default:throw new Error(`No variant of StateEntityDetailsResponseItemDetails exists with 'type=${e.type}'`)}}(e)}function Fc(e){return function(e,t){return null==e?e:{address:e.address,fungible_resources:tu(e,"fungible_resources")?cc(e.fungible_resources):void 0,non_fungible_resources:tu(e,"non_fungible_resources")?bc(e.non_fungible_resources):void 0,ancestor_identities:tu(e,"ancestor_identities")?Pc(e.ancestor_identities):void 0,metadata:nc(e.metadata),explicit_metadata:tu(e,"explicit_metadata")?nc(e.explicit_metadata):void 0,details:tu(e,"details")?jc(e.details):void 0}}(e)}function Mc(e){if(void 0!==e)return null===e?null:{at_ledger_state:gu(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address,resource_address:e.resource_address}}function $c(e){if(void 0!==e)return null===e?null:{explicit_metadata:e.explicit_metadata}}function Uc(e){if(void 0!==e)return null===e?null:{at_ledger_state:gu(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address,aggregation_level:e.aggregation_level,opt_ins:$c(e.opt_ins)}}function zc(e){if(void 0!==e)return null===e?null:{at_ledger_state:gu(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address}}function Zc(e){if(void 0!==e)return null===e?null:{at_ledger_state:gu(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address,vault_address:e.vault_address,resource_address:e.resource_address}}function Vc(e){if(void 0!==e)return null===e?null:{non_fungible_include_nfids:e.non_fungible_include_nfids}}function Hc(e){if(void 0!==e)return null===e?null:{at_ledger_state:gu(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address,resource_address:e.resource_address,opt_ins:Vc(e.opt_ins)}}function Wc(e){if(void 0!==e)return null===e?null:{non_fungible_include_nfids:e.non_fungible_include_nfids,explicit_metadata:e.explicit_metadata}}function Kc(e){if(void 0!==e)return null===e?null:{at_ledger_state:gu(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address,aggregation_level:e.aggregation_level,opt_ins:Wc(e.opt_ins)}}function Gc(e){if(void 0!==e)return null===e?null:{at_ledger_state:gu(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address}}function Jc(e){if(void 0!==e)return null===e?null:{key_hex:e.key_hex,key_json:Qu(e.key_json)}}function Xc(e){if(void 0!==e)return null===e?null:{at_ledger_state:gu(e.at_ledger_state),key_value_store_address:e.key_value_store_address,keys:e.keys.map(Jc)}}function Yc(e){return function(e,t){return null==e?e:{key:Sc(e.key),value:Sc(e.value),last_updated_at_state_version:e.last_updated_at_state_version,is_locked:e.is_locked}}(e)}function Qc(e){return function(e,t){return null==e?e:{key:Sc(e.key),last_updated_at_state_version:e.last_updated_at_state_version}}(e)}function ed(e){if(void 0!==e)return null===e?null:{at_ledger_state:gu(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,key_value_store_address:e.key_value_store_address}}function td(e){if(void 0!==e)return null===e?null:{at_ledger_state:gu(e.at_ledger_state),resource_address:e.resource_address,non_fungible_ids:e.non_fungible_ids}}function nd(e){return function(e,t){return null==e?e:{is_burned:e.is_burned,non_fungible_id:e.non_fungible_id,data:tu(e,"data")?Sc(e.data):void 0,last_updated_at_state_version:e.last_updated_at_state_version}}(e)}function rd(e){if(void 0!==e)return null===e?null:{at_ledger_state:gu(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,resource_address:e.resource_address}}function ad(e){if(void 0!==e)return null===e?null:{at_ledger_state:gu(e.at_ledger_state),resource_address:e.resource_address,non_fungible_ids:e.non_fungible_ids}}function id(e){return function(e,t){return null==e?e:{non_fungible_id:e.non_fungible_id,owning_vault_address:tu(e,"owning_vault_address")?e.owning_vault_address:void 0,owning_vault_parent_ancestor_address:tu(e,"owning_vault_parent_ancestor_address")?e.owning_vault_parent_ancestor_address:void 0,owning_vault_global_ancestor_address:tu(e,"owning_vault_global_ancestor_address")?e.owning_vault_global_ancestor_address:void 0,is_burned:e.is_burned,last_updated_at_state_version:e.last_updated_at_state_version}}(e)}function od(e){if(void 0!==e)return null===e?null:{at_ledger_state:gu(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,package_address:e.package_address}}function sd(e){if(void 0!==e)return null===e?null:{at_ledger_state:gu(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,package_address:e.package_address}}function ud(e){if(void 0!==e)return null===e?null:{at_ledger_state:gu(e.at_ledger_state),cursor:e.cursor}}function ld(e){return function(e,t){return null==e?e:{stake:e.stake,stake_percentage:e.stake_percentage,key:Ll(e.key)}}(e)}function cd(e){return function(e,t){return null==e?e:{fee_factor:e.fee_factor}}(e)}function dd(e){return function(e,t){return null==e?e:{fee_factor:e.fee_factor,effective_at_epoch:e.effective_at_epoch}}(e)}function pd(e){return function(e,t){return null==e?e:{current:cd(e.current),pending:tu(e,"pending")?dd(e.pending):void 0}}(e)}function fd(e){return function(e,t){return null==e?e:{balance:e.balance,last_changed_at_state_version:e.last_changed_at_state_version,address:e.address}}(e)}function md(e){return function(e,t){return null==e?e:{address:e.address,stake_vault:fd(e.stake_vault),pending_xrd_withdraw_vault:fd(e.pending_xrd_withdraw_vault),locked_owner_stake_unit_vault:fd(e.locked_owner_stake_unit_vault),pending_owner_stake_unit_unlock_vault:fd(e.pending_owner_stake_unit_unlock_vault),state:e.state,active_in_epoch:tu(e,"active_in_epoch")?ld(e.active_in_epoch):void 0,metadata:nc(e.metadata),effective_fee_factor:pd(e.effective_fee_factor)}}(e)}function hd(e){return function(e,t){return null==e?e:{total_count:tu(e,"total_count")?e.total_count:void 0,next_cursor:tu(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(md)}}(e)}function yd(e){if(void 0!==e)return null===e?null:{class:e._class,match_only_most_specific:e.match_only_most_specific}}function gd(e){if(void 0!==e)return null===e?null:{event:e.event,emitter_address:e.emitter_address,resource_address:e.resource_address}}function _d(e){if(void 0!==e)return null===e?null:{raw_hex:e.raw_hex,receipt_state_changes:e.receipt_state_changes,receipt_fee_summary:e.receipt_fee_summary,receipt_fee_source:e.receipt_fee_source,receipt_fee_destination:e.receipt_fee_destination,receipt_costing_parameters:e.receipt_costing_parameters,receipt_events:e.receipt_events,receipt_output:e.receipt_output,affected_global_entities:e.affected_global_entities,manifest_instructions:e.manifest_instructions,balance_changes:e.balance_changes}}function vd(e){if(void 0!==e)return null===e?null:{at_ledger_state:gu(e.at_ledger_state),from_ledger_state:gu(e.from_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,kind_filter:e.kind_filter,manifest_accounts_withdrawn_from_filter:e.manifest_accounts_withdrawn_from_filter,manifest_accounts_deposited_into_filter:e.manifest_accounts_deposited_into_filter,manifest_badges_presented_filter:e.manifest_badges_presented_filter,manifest_resources_filter:e.manifest_resources_filter,affected_global_entities_filter:e.affected_global_entities_filter,events_filter:void 0===e.events_filter?void 0:e.events_filter.map(gd),accounts_with_manifest_owner_method_calls:e.accounts_with_manifest_owner_method_calls,accounts_without_manifest_owner_method_calls:e.accounts_without_manifest_owner_method_calls,manifest_class_filter:yd(e.manifest_class_filter),order:e.order,opt_ins:_d(e.opt_ins)}}function bd(e){if(void 0!==e)return null===e?null:{at_ledger_state:gu(e.at_ledger_state),intent_hash:e.intent_hash,opt_ins:_d(e.opt_ins)}}function wd(e){return function(e,t){return e}(e)}function xd(e){return function(e,t){return e}(e)}function kd(e){return function(e,t){return e}(e)}function Ed(e){if(void 0!==e)return null===e?null:{use_free_credit:e.use_free_credit,assume_all_signature_proofs:e.assume_all_signature_proofs,skip_epoch_check:e.skip_epoch_check}}function Id(e){if(void 0!==e)return null===e?null:{manifest:e.manifest,blobs_hex:e.blobs_hex,start_epoch_inclusive:e.start_epoch_inclusive,end_epoch_exclusive:e.end_epoch_exclusive,notary_public_key:Bl(e.notary_public_key),notary_is_signatory:e.notary_is_signatory,tip_percentage:e.tip_percentage,nonce:e.nonce,signer_public_keys:e.signer_public_keys.map(Bl),flags:Ed(e.flags)}}function Sd(e){return function(e,t){return null==e?e:{level:e.level,message:e.message}}(e)}function Cd(e){if(void 0!==e)return null===e?null:{intent_hash:e.intent_hash}}function Td(e){return function(e,t){return null==e?e:{payload_hash:e.payload_hash,status:nl(e.status),payload_status:tu(e,"payload_status")?kd(e.payload_status):void 0,payload_status_description:tu(e,"payload_status_description")?e.payload_status_description:void 0,error_message:tu(e,"error_message")?e.error_message:void 0,latest_error_message:tu(e,"latest_error_message")?e.latest_error_message:void 0,handling_status:tu(e,"handling_status")?xd(e.handling_status):void 0,handling_status_reason:tu(e,"handling_status_reason")?e.handling_status_reason:void 0,submission_error:tu(e,"submission_error")?e.submission_error:void 0}}(e)}function Ad(e){if(void 0!==e)return null===e?null:{notarized_transaction_hex:e.notarized_transaction_hex}}function Od(e){return function(e,t){return null==e?e:{address:e.address,proposals_made:tu(e,"proposals_made")?e.proposals_made:void 0,proposals_missed:tu(e,"proposals_missed")?e.proposals_missed:void 0,epochs_active_in:e.epochs_active_in}}(e)}function Pd(e){return function(e,t){return null==e?e:{items:e.items.map(Od)}}(e)}function Rd(e){if(void 0!==e)return null===e?null:{at_ledger_state:gu(e.at_ledger_state),from_ledger_state:gu(e.from_ledger_state),validator_addresses:e.validator_addresses}}class qd extends Js{async accountAuthorizedDepositorsPageRaw(e,t){if(null===e.stateAccountAuthorizedDepositorsPageRequest||void 0===e.stateAccountAuthorizedDepositorsPageRequest)throw new eu("stateAccountAuthorizedDepositorsPageRequest","Required parameter requestParameters.stateAccountAuthorizedDepositorsPageRequest was null or undefined when calling accountAuthorizedDepositorsPage.");const n=await this.request({path:"/state/account/page/authorized-depositors",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Cc(e.stateAccountAuthorizedDepositorsPageRequest)},t);return new au(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:hu(e.ledger_state),total_count:tu(e,"total_count")?e.total_count:void 0,next_cursor:tu(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(su),account_address:e.account_address}}(e)}(e)))}async accountAuthorizedDepositorsPage(e,t){return await(await this.accountAuthorizedDepositorsPageRaw(e,t)).value()}async accountResourcePreferencesPageRaw(e,t){if(null===e.stateAccountResourcePreferencesPageRequest||void 0===e.stateAccountResourcePreferencesPageRequest)throw new eu("stateAccountResourcePreferencesPageRequest","Required parameter requestParameters.stateAccountResourcePreferencesPageRequest was null or undefined when calling accountResourcePreferencesPage.");const n=await this.request({path:"/state/account/page/resource-preferences",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Tc(e.stateAccountResourcePreferencesPageRequest)},t);return new au(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:hu(e.ledger_state),total_count:tu(e,"total_count")?e.total_count:void 0,next_cursor:tu(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(yu),account_address:e.account_address}}(e)}(e)))}async accountResourcePreferencesPage(e,t){return await(await this.accountResourcePreferencesPageRaw(e,t)).value()}async entityFungibleResourceVaultPageRaw(e,t){if(null===e.stateEntityFungibleResourceVaultsPageRequest||void 0===e.stateEntityFungibleResourceVaultsPageRequest)throw new eu("stateEntityFungibleResourceVaultsPageRequest","Required parameter requestParameters.stateEntityFungibleResourceVaultsPageRequest was null or undefined when calling entityFungibleResourceVaultPage.");const n=await this.request({path:"/state/entity/page/fungible-vaults/",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Mc(e.stateEntityFungibleResourceVaultsPageRequest)},t);return new au(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:hu(e.ledger_state),total_count:tu(e,"total_count")?e.total_count:void 0,next_cursor:tu(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(oc),address:e.address,resource_address:e.resource_address}}(e)}(e)))}async entityFungibleResourceVaultPage(e,t){return await(await this.entityFungibleResourceVaultPageRaw(e,t)).value()}async entityFungiblesPageRaw(e,t){if(null===e.stateEntityFungiblesPageRequest||void 0===e.stateEntityFungiblesPageRequest)throw new eu("stateEntityFungiblesPageRequest","Required parameter requestParameters.stateEntityFungiblesPageRequest was null or undefined when calling entityFungiblesPage.");const n=await this.request({path:"/state/entity/page/fungibles/",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Uc(e.stateEntityFungiblesPageRequest)},t);return new au(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:hu(e.ledger_state),total_count:tu(e,"total_count")?e.total_count:void 0,next_cursor:tu(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(lc),address:e.address}}(e)}(e)))}async entityFungiblesPage(e,t){return await(await this.entityFungiblesPageRaw(e,t)).value()}async entityMetadataPageRaw(e,t){if(null===e.stateEntityMetadataPageRequest||void 0===e.stateEntityMetadataPageRequest)throw new eu("stateEntityMetadataPageRequest","Required parameter requestParameters.stateEntityMetadataPageRequest was null or undefined when calling entityMetadataPage.");const n=await this.request({path:"/state/entity/page/metadata",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:zc(e.stateEntityMetadataPageRequest)},t);return new au(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:hu(e.ledger_state),total_count:tu(e,"total_count")?e.total_count:void 0,next_cursor:tu(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(tc),address:e.address}}(e)}(e)))}async entityMetadataPage(e,t){return await(await this.entityMetadataPageRaw(e,t)).value()}async entityNonFungibleIdsPageRaw(e,t){if(null===e.stateEntityNonFungibleIdsPageRequest||void 0===e.stateEntityNonFungibleIdsPageRequest)throw new eu("stateEntityNonFungibleIdsPageRequest","Required parameter requestParameters.stateEntityNonFungibleIdsPageRequest was null or undefined when calling entityNonFungibleIdsPage.");const n=await this.request({path:"/state/entity/page/non-fungible-vault/ids",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Zc(e.stateEntityNonFungibleIdsPageRequest)},t);return new au(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:hu(e.ledger_state),total_count:tu(e,"total_count")?e.total_count:void 0,next_cursor:tu(e,"next_cursor")?e.next_cursor:void 0,items:e.items,address:e.address,resource_address:e.resource_address}}(e)}(e)))}async entityNonFungibleIdsPage(e,t){return await(await this.entityNonFungibleIdsPageRaw(e,t)).value()}async entityNonFungibleResourceVaultPageRaw(e,t){if(null===e.stateEntityNonFungibleResourceVaultsPageRequest||void 0===e.stateEntityNonFungibleResourceVaultsPageRequest)throw new eu("stateEntityNonFungibleResourceVaultsPageRequest","Required parameter requestParameters.stateEntityNonFungibleResourceVaultsPageRequest was null or undefined when calling entityNonFungibleResourceVaultPage.");const n=await this.request({path:"/state/entity/page/non-fungible-vaults/",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Hc(e.stateEntityNonFungibleResourceVaultsPageRequest)},t);return new au(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:hu(e.ledger_state),total_count:tu(e,"total_count")?e.total_count:void 0,next_cursor:tu(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(yc),address:e.address,resource_address:e.resource_address}}(e)}(e)))}async entityNonFungibleResourceVaultPage(e,t){return await(await this.entityNonFungibleResourceVaultPageRaw(e,t)).value()}async entityNonFungiblesPageRaw(e,t){if(null===e.stateEntityNonFungiblesPageRequest||void 0===e.stateEntityNonFungiblesPageRequest)throw new eu("stateEntityNonFungiblesPageRequest","Required parameter requestParameters.stateEntityNonFungiblesPageRequest was null or undefined when calling entityNonFungiblesPage.");const n=await this.request({path:"/state/entity/page/non-fungibles/",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Kc(e.stateEntityNonFungiblesPageRequest)},t);return new au(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:hu(e.ledger_state),total_count:tu(e,"total_count")?e.total_count:void 0,next_cursor:tu(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(vc),address:e.address}}(e)}(e)))}async entityNonFungiblesPage(e,t){return await(await this.entityNonFungiblesPageRaw(e,t)).value()}async entitySchemaPageRaw(e,t){if(null===e.stateEntitySchemaPageRequest||void 0===e.stateEntitySchemaPageRequest)throw new eu("stateEntitySchemaPageRequest","Required parameter requestParameters.stateEntitySchemaPageRequest was null or undefined when calling entitySchemaPage.");const n=await this.request({path:"/state/entity/page/schemas",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Gc(e.stateEntitySchemaPageRequest)},t);return new au(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:hu(e.ledger_state),total_count:tu(e,"total_count")?e.total_count:void 0,next_cursor:tu(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(rc),address:e.address}}(e)}(e)))}async entitySchemaPage(e,t){return await(await this.entitySchemaPageRaw(e,t)).value()}async keyValueStoreDataRaw(e,t){if(null===e.stateKeyValueStoreDataRequest||void 0===e.stateKeyValueStoreDataRequest)throw new eu("stateKeyValueStoreDataRequest","Required parameter requestParameters.stateKeyValueStoreDataRequest was null or undefined when calling keyValueStoreData.");const n=await this.request({path:"/state/key-value-store/data",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Xc(e.stateKeyValueStoreDataRequest)},t);return new au(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:hu(e.ledger_state),key_value_store_address:e.key_value_store_address,entries:e.entries.map(Yc)}}(e)}(e)))}async keyValueStoreData(e,t){return await(await this.keyValueStoreDataRaw(e,t)).value()}async keyValueStoreKeysRaw(e,t){if(null===e.stateKeyValueStoreKeysRequest||void 0===e.stateKeyValueStoreKeysRequest)throw new eu("stateKeyValueStoreKeysRequest","Required parameter requestParameters.stateKeyValueStoreKeysRequest was null or undefined when calling keyValueStoreKeys.");const n=await this.request({path:"/state/key-value-store/keys",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:ed(e.stateKeyValueStoreKeysRequest)},t);return new au(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:hu(e.ledger_state),total_count:tu(e,"total_count")?e.total_count:void 0,next_cursor:tu(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(Qc),key_value_store_address:e.key_value_store_address}}(e)}(e)))}async keyValueStoreKeys(e,t){return await(await this.keyValueStoreKeysRaw(e,t)).value()}async nonFungibleDataRaw(e,t){if(null===e.stateNonFungibleDataRequest||void 0===e.stateNonFungibleDataRequest)throw new eu("stateNonFungibleDataRequest","Required parameter requestParameters.stateNonFungibleDataRequest was null or undefined when calling nonFungibleData.");const n=await this.request({path:"/state/non-fungible/data",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:td(e.stateNonFungibleDataRequest)},t);return new au(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:hu(e.ledger_state),resource_address:e.resource_address,non_fungible_id_type:fc(e.non_fungible_id_type),non_fungible_ids:e.non_fungible_ids.map(nd)}}(e)}(e)))}async nonFungibleData(e,t){return await(await this.nonFungibleDataRaw(e,t)).value()}async nonFungibleIdsRaw(e,t){if(null===e.stateNonFungibleIdsRequest||void 0===e.stateNonFungibleIdsRequest)throw new eu("stateNonFungibleIdsRequest","Required parameter requestParameters.stateNonFungibleIdsRequest was null or undefined when calling nonFungibleIds.");const n=await this.request({path:"/state/non-fungible/ids",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:rd(e.stateNonFungibleIdsRequest)},t);return new au(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:hu(e.ledger_state),resource_address:e.resource_address,non_fungible_ids:mc(e.non_fungible_ids)}}(e)}(e)))}async nonFungibleIds(e,t){return await(await this.nonFungibleIdsRaw(e,t)).value()}async nonFungibleLocationRaw(e,t){if(null===e.stateNonFungibleLocationRequest||void 0===e.stateNonFungibleLocationRequest)throw new eu("stateNonFungibleLocationRequest","Required parameter requestParameters.stateNonFungibleLocationRequest was null or undefined when calling nonFungibleLocation.");const n=await this.request({path:"/state/non-fungible/location",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:ad(e.stateNonFungibleLocationRequest)},t);return new au(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:hu(e.ledger_state),resource_address:e.resource_address,non_fungible_ids:e.non_fungible_ids.map(id)}}(e)}(e)))}async nonFungibleLocation(e,t){return await(await this.nonFungibleLocationRaw(e,t)).value()}async packageBlueprintPageRaw(e,t){if(null===e.statePackageBlueprintPageRequest||void 0===e.statePackageBlueprintPageRequest)throw new eu("statePackageBlueprintPageRequest","Required parameter requestParameters.statePackageBlueprintPageRequest was null or undefined when calling packageBlueprintPage.");const n=await this.request({path:"/state/package/page/blueprints",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:od(e.statePackageBlueprintPageRequest)},t);return new au(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:hu(e.ledger_state),total_count:tu(e,"total_count")?e.total_count:void 0,next_cursor:tu(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(wc),package_address:e.package_address}}(e)}(e)))}async packageBlueprintPage(e,t){return await(await this.packageBlueprintPageRaw(e,t)).value()}async packageCodePageRaw(e,t){if(null===e.statePackageCodePageRequest||void 0===e.statePackageCodePageRequest)throw new eu("statePackageCodePageRequest","Required parameter requestParameters.statePackageCodePageRequest was null or undefined when calling packageCodePage.");const n=await this.request({path:"/state/package/page/codes",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:sd(e.statePackageCodePageRequest)},t);return new au(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:hu(e.ledger_state),total_count:tu(e,"total_count")?e.total_count:void 0,next_cursor:tu(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(Ec),package_address:e.package_address}}(e)}(e)))}async packageCodePage(e,t){return await(await this.packageCodePageRaw(e,t)).value()}async stateEntityDetailsRaw(e,t){if(null===e.stateEntityDetailsRequest||void 0===e.stateEntityDetailsRequest)throw new eu("stateEntityDetailsRequest","Required parameter requestParameters.stateEntityDetailsRequest was null or undefined when calling stateEntityDetails.");const n=await this.request({path:"/state/entity/details",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Oc(e.stateEntityDetailsRequest)},t);return new au(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:hu(e.ledger_state),items:e.items.map(Fc)}}(e)}(e)))}async stateEntityDetails(e,t){return await(await this.stateEntityDetailsRaw(e,t)).value()}async stateValidatorsListRaw(e,t){if(null===e.stateValidatorsListRequest||void 0===e.stateValidatorsListRequest)throw new eu("stateValidatorsListRequest","Required parameter requestParameters.stateValidatorsListRequest was null or undefined when calling stateValidatorsList.");const n=await this.request({path:"/state/validators/list",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:ud(e.stateValidatorsListRequest)},t);return new au(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:hu(e.ledger_state),validators:hd(e.validators)}}(e)}(e)))}async stateValidatorsList(e,t){return await(await this.stateValidatorsListRaw(e,t)).value()}}class Ld extends Js{async validatorsUptimeRaw(e,t){if(null===e.validatorsUptimeRequest||void 0===e.validatorsUptimeRequest)throw new eu("validatorsUptimeRequest","Required parameter requestParameters.validatorsUptimeRequest was null or undefined when calling validatorsUptime.");const n=await this.request({path:"/statistics/validators/uptime",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Rd(e.validatorsUptimeRequest)},t);return new au(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:hu(e.ledger_state),validators:Pd(e.validators)}}(e)}(e)))}async validatorsUptime(e,t){return await(await this.validatorsUptimeRaw(e,t)).value()}}class Bd extends Js{async gatewayStatusRaw(e){const t=await this.request({path:"/status/gateway-status",method:"POST",headers:{},query:{}},e);return new au(t,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:hu(e.ledger_state),release_info:dc(e.release_info)}}(e)}(e)))}async gatewayStatus(e){return await(await this.gatewayStatusRaw(e)).value()}async networkConfigurationRaw(e){const t=await this.request({path:"/status/network-configuration",method:"POST",headers:{},query:{}},e);return new au(t,(e=>function(e){return function(e,t){return null==e?e:{network_id:e.network_id,network_name:e.network_name,well_known_addresses:pc(e.well_known_addresses)}}(e)}(e)))}async networkConfiguration(e){return await(await this.networkConfigurationRaw(e)).value()}}class Nd extends Js{async streamTransactionsRaw(e,t){if(null===e.streamTransactionsRequest||void 0===e.streamTransactionsRequest)throw new eu("streamTransactionsRequest","Required parameter requestParameters.streamTransactionsRequest was null or undefined when calling streamTransactions.");const n=await this.request({path:"/stream/transactions",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:vd(e.streamTransactionsRequest)},t);return new au(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:hu(e.ledger_state),total_count:tu(e,"total_count")?e.total_count:void 0,next_cursor:tu(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(al)}}(e)}(e)))}async streamTransactions(e,t){return await(await this.streamTransactionsRaw(e,t)).value()}}class Dd extends Js{async accountDepositPreValidationRaw(e,t){if(null===e.accountDepositPreValidationRequest||void 0===e.accountDepositPreValidationRequest)throw new eu("accountDepositPreValidationRequest","Required parameter requestParameters.accountDepositPreValidationRequest was null or undefined when calling accountDepositPreValidation.");const n=await this.request({path:"/transaction/account-deposit-pre-validation",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:fu(e.accountDepositPreValidationRequest)},t);return new au(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:hu(e.ledger_state),allows_try_deposit_batch:e.allows_try_deposit_batch,resource_specific_behaviour:tu(e,"resource_specific_behaviour")?e.resource_specific_behaviour.map(mu):void 0,deciding_factors:du(e.deciding_factors)}}(e)}(e)))}async accountDepositPreValidation(e,t){return await(await this.accountDepositPreValidationRaw(e,t)).value()}async transactionCommittedDetailsRaw(e,t){if(null===e.transactionCommittedDetailsRequest||void 0===e.transactionCommittedDetailsRequest)throw new eu("transactionCommittedDetailsRequest","Required parameter requestParameters.transactionCommittedDetailsRequest was null or undefined when calling transactionCommittedDetails.");const n=await this.request({path:"/transaction/committed-details",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:bd(e.transactionCommittedDetailsRequest)},t);return new au(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:hu(e.ledger_state),transaction:al(e.transaction)}}(e)}(e)))}async transactionCommittedDetails(e,t){return await(await this.transactionCommittedDetailsRaw(e,t)).value()}async transactionConstructionRaw(e){const t=await this.request({path:"/transaction/construction",method:"POST",headers:{},query:{}},e);return new au(t,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:hu(e.ledger_state)}}(e)}(e)))}async transactionConstruction(e){return await(await this.transactionConstructionRaw(e)).value()}async transactionPreviewRaw(e,t){if(null===e.transactionPreviewRequest||void 0===e.transactionPreviewRequest)throw new eu("transactionPreviewRequest","Required parameter requestParameters.transactionPreviewRequest was null or undefined when calling transactionPreview.");const n=await this.request({path:"/transaction/preview",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Id(e.transactionPreviewRequest)},t);return new au(n,(e=>function(e){return function(e,t){return null==e?e:{encoded_receipt:e.encoded_receipt,receipt:e.receipt,resource_changes:e.resource_changes,logs:e.logs.map(Sd)}}(e)}(e)))}async transactionPreview(e,t){return await(await this.transactionPreviewRaw(e,t)).value()}async transactionStatusRaw(e,t){if(null===e.transactionStatusRequest||void 0===e.transactionStatusRequest)throw new eu("transactionStatusRequest","Required parameter requestParameters.transactionStatusRequest was null or undefined when calling transactionStatus.");const n=await this.request({path:"/transaction/status",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Cd(e.transactionStatusRequest)},t);return new au(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:hu(e.ledger_state),status:nl(e.status),intent_status:wd(e.intent_status),intent_status_description:e.intent_status_description,known_payloads:e.known_payloads.map(Td),committed_state_version:tu(e,"committed_state_version")?e.committed_state_version:void 0,permanently_rejects_at_epoch:tu(e,"permanently_rejects_at_epoch")?e.permanently_rejects_at_epoch:void 0,error_message:tu(e,"error_message")?e.error_message:void 0}}(e)}(e)))}async transactionStatus(e,t){return await(await this.transactionStatusRaw(e,t)).value()}async transactionSubmitRaw(e,t){if(null===e.transactionSubmitRequest||void 0===e.transactionSubmitRequest)throw new eu("transactionSubmitRequest","Required parameter requestParameters.transactionSubmitRequest was null or undefined when calling transactionSubmit.");const n=await this.request({path:"/transaction/submit",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Ad(e.transactionSubmitRequest)},t);return new au(n,(e=>function(e){return function(e,t){return null==e?e:{duplicate:e.duplicate}}(e)}(e)))}async transactionSubmit(e,t){return await(await this.transactionSubmitRaw(e,t)).value()}}const jd=(e,t)=>{const n=[];for(let r=0,a=e.length;r<a;r+=t)n.push(e.slice(r,r+t));return n},Fd=async(e,t)=>{let n=t;const r=[];let a;do{const t=await e(n);a=t.ledger_state,r.push(...t.items),n=t.next_cursor}while(n);return{aggregatedEntities:r,ledger_state:a}};class Md{constructor(e,t){this.innerClient=e,this.configuration=t}async getEntityDetailsVaultAggregated(e,t,n){var r,a,i,o,s,u,l;const c=Array.isArray(e);if(c&&0===e.length)return Promise.resolve([]);if(c&&e.length>this.configuration.maxAddressesCount){const r=jd(e,this.configuration.maxAddressesCount);return Promise.all(r.map((e=>this.getEntityDetailsVaultAggregated(e,t,n)))).then((e=>e.flat()))}const{items:d,ledger_state:p}=await this.innerClient.stateEntityDetails({stateEntityDetailsRequest:{addresses:c?e:[e],aggregation_level:"Vault",opt_ins:{ancestor_identities:null!=(r=null==t?void 0:t.ancestorIdentities)&&r,component_royalty_vault_balance:null!=(a=null==t?void 0:t.componentRoyaltyVaultBalance)&&a,package_royalty_vault_balance:null!=(i=null==t?void 0:t.packageRoyaltyVaultBalance)&&i,non_fungible_include_nfids:null==(o=null==t?void 0:t.nonFungibleIncludeNfids)||o,explicit_metadata:null!=(s=null==t?void 0:t.explicitMetadata)?s:[]},at_ledger_state:n}}).then((e=>this.ensureResourcesProperties(e)));return c?Promise.all(d.map((e=>{var r,a;return this.queryAllResources(e,{explicitMetadata:null!=(r=null==t?void 0:t.explicitMetadata)?r:[],nonFungibleIncludeNfids:null==(a=null==t?void 0:t.nonFungibleIncludeNfids)||a},n||{state_version:p.state_version})}))):this.queryAllResources(d[0],{explicitMetadata:null!=(u=null==t?void 0:t.explicitMetadata)?u:[],nonFungibleIncludeNfids:null==(l=null==t?void 0:t.nonFungibleIncludeNfids)||l},n||{state_version:p.state_version})}async getEntityMetadata(e,t){return this.innerClient.entityMetadataPage({stateEntityMetadataPageRequest:{address:e,cursor:t}})}async getNonFungibleLocation(e,t){if(t.length>this.configuration.maxNftIdsCount){const n=jd(t,this.configuration.maxNftIdsCount);return Promise.all(n.map((t=>this.getNonFungibleLocation(e,t)))).then((e=>e.flat()))}return this.innerClient.nonFungibleLocation({stateNonFungibleLocationRequest:{resource_address:e,non_fungible_ids:t}}).then((e=>e.non_fungible_ids))}async getAllEntityMetadata(e,t){return Fd(this.getEntityMetadata.bind(this,e),t).then((e=>e.aggregatedEntities))}async getValidators(e){return this.innerClient.stateValidatorsList({stateValidatorsListRequest:{cursor:e||null}}).then((({validators:e})=>e))}async getAllValidators(e){return Fd((e=>this.getValidatorsWithLedgerState(e).then((e=>({items:e.validators.items,ledger_state:e.ledger_state,next_cursor:e.validators.next_cursor})))),e).then((e=>e.aggregatedEntities))}async getValidatorsWithLedgerState(e){return this.innerClient.stateValidatorsList({stateValidatorsListRequest:{cursor:e||null}})}async getAllValidatorsWithLedgerState(e){return Fd((e=>this.getValidatorsWithLedgerState(e).then((e=>({items:e.validators.items,ledger_state:e.ledger_state,next_cursor:e.validators.next_cursor})))),e)}async getNonFungibleIds(e,t,n){return this.innerClient.nonFungibleIds({stateNonFungibleIdsRequest:{resource_address:e,cursor:n,at_ledger_state:t}}).then((({non_fungible_ids:e})=>e))}async getAllNonFungibleIds(e,t,n){let r=n,a=t;const i=[];do{const t=await this.innerClient.nonFungibleIds({stateNonFungibleIdsRequest:{resource_address:e,cursor:a,at_ledger_state:r}});i.push(...t.non_fungible_ids.items),r=r||{state_version:t.ledger_state.state_version},a=t.non_fungible_ids.next_cursor}while(a);return i}async getNonFungibleData(e,t,n){const r=Array.isArray(t);if(r&&0===t.length)return Promise.resolve([]);if(r&&t.length>this.configuration.maxNftIdsCount){const r=jd(t,this.configuration.maxNftIdsCount);return Promise.all(r.map((t=>this.getNonFungibleData(e,t,n)))).then((e=>e.flat()))}const{non_fungible_ids:a}=await this.innerClient.nonFungibleData({stateNonFungibleDataRequest:{resource_address:e,non_fungible_ids:r?t:[t],at_ledger_state:n}});return r?a:a[0]}async getEntityFungiblesPageVaultAggregated(e,t){return this.innerClient.entityFungiblesPage({stateEntityFungiblesPageRequest:{address:e,cursor:null==t?void 0:t.nextCursor,aggregation_level:"Vault",at_ledger_state:null==t?void 0:t.ledgerState,opt_ins:{explicit_metadata:null==t?void 0:t.explicitMetadata}}})}async getEntityNonFungiblesPageVaultAggregated(e,t){return this.innerClient.entityNonFungiblesPage({stateEntityNonFungiblesPageRequest:{address:e,cursor:null==t?void 0:t.cursor,aggregation_level:"Vault",at_ledger_state:null==t?void 0:t.ledgerState,opt_ins:{explicit_metadata:null==t?void 0:t.explicitMetadata,non_fungible_include_nfids:null==t?void 0:t.nonFungibleIncludeNfids}}})}ensureResourcesProperties(e){return{...e,items:e.items.map((e=>({...e,fungible_resources:e.fungible_resources||{total_count:0,items:[]},non_fungible_resources:e.non_fungible_resources||{total_count:0,items:[]}})))}}async queryAllFungibles(e,t,n){var r,a;const i=null==(r=null==e?void 0:e.fungible_resources)?void 0:r.next_cursor;if(!i)return Promise.resolve(e);const o=await Fd((r=>this.getEntityFungiblesPageVaultAggregated(e.address,{nextCursor:r,ledgerState:n,explicitMetadata:null==t?void 0:t.explicitMetadata})),i);return Promise.resolve({...e,fungible_resources:{items:[...(null==(a=null==e?void 0:e.fungible_resources)?void 0:a.items)||[],...o.aggregatedEntities]}})}async queryAllNonFungibles(e,t,n){const r=e.non_fungible_resources.next_cursor;if(!r)return Promise.resolve(e);const a=await Fd((r=>this.getEntityNonFungiblesPageVaultAggregated(e.address,{cursor:r,ledgerState:n,explicitMetadata:null==t?void 0:t.explicitMetadata,nonFungibleIncludeNfids:null==t?void 0:t.nonFungibleIncludeNfids})),r);return Promise.resolve({...e,non_fungible_resources:{items:[...e.non_fungible_resources.items,...a.aggregatedEntities]}})}async queryAllResources(e,t,n){const r=this.queryAllFungibles(e,t,n),a=this.queryAllNonFungibles(e,t,n);return Promise.all([r,a]).then((t=>({...e,fungible_resources:{...e.fungible_resources,items:[...t[0].fungible_resources.items]},non_fungible_resources:{...e.non_fungible_resources,items:[...t[1].non_fungible_resources.items]}})))}}class $d{constructor(e,t){this.innerClient=e,this.configuration=t}getValidatorsUptimeFromTo(e,t,n){var r,a;if(e.length>((null==(r=this.configuration)?void 0:r.maxValidatorsUptimeCount)||200)){const r=jd(e,(null==(a=this.configuration)?void 0:a.maxValidatorsUptimeCount)||200);return Promise.all(r.map((e=>this.getValidatorsUptimeFromTo(e,t,n)))).then((e=>e.flat()))}return this.innerClient.validatorsUptime({validatorsUptimeRequest:{validator_addresses:e,from_ledger_state:void 0!==t?t instanceof Date?{timestamp:t}:{state_version:t}:void 0,at_ledger_state:void 0!==n?n instanceof Date?{timestamp:n}:{state_version:n}:void 0}}).then((e=>e.validators.items))}getValidatorsUptime(e){return this.innerClient.validatorsUptime({validatorsUptimeRequest:{validator_addresses:e}})}}class Ud{constructor(e){this.innerClient=e}getCurrent(){return this.innerClient.gatewayStatus()}getNetworkConfiguration(){return this.innerClient.networkConfiguration()}}class zd{constructor(e){this.innerClient=e}getTransactionsList(e,t){return this.innerClient.streamTransactions({streamTransactionsRequest:{cursor:t,affected_global_entities_filter:e}})}}class Zd{constructor(e){this.innerClient=e}getStatus(e){return this.innerClient.transactionStatus({transactionStatusRequest:{intent_hash:e}})}getCommittedDetails(e,t){var n,r,a,i,o,s,u,l,c,d;return this.innerClient.transactionCommittedDetails({transactionCommittedDetailsRequest:{intent_hash:e,opt_ins:{raw_hex:null==(n=null==t?void 0:t.rawHex)||n,receipt_events:null==(r=null==t?void 0:t.receiptEvents)||r,receipt_fee_source:null==(a=null==t?void 0:t.receiptFeeSource)||a,receipt_fee_destination:null==(i=null==t?void 0:t.receiptFeeDestination)||i,receipt_costing_parameters:null==(o=null==t?void 0:t.receiptCostingParameters)||o,receipt_fee_summary:null==(s=null==t?void 0:t.receiptFeeSummary)||s,receipt_state_changes:null==(u=null==t?void 0:t.receiptStateChanges)||u,affected_global_entities:null==(l=null==t?void 0:t.affectedGlobalEntities)||l,balance_changes:null==(c=null==t?void 0:t.balanceChanges)||c,receipt_output:null==(d=null==t?void 0:t.receiptOutput)||d}}})}}class Vd extends Ks{constructor(e){super(e),zs(this,"extendedConfiguration"),this.extendedConfiguration=e}get maxAddressesCount(){return this.extendedConfiguration.maxAddressesCount||20}get maxNftIdsCount(){return this.extendedConfiguration.maxNftIdsCount||29}get maxValidatorsUptimeCount(){return this.extendedConfiguration.maxValidatorsUptimeCount||200}}class Hd{constructor(e){zs(this,"state"),zs(this,"stream"),zs(this,"status"),zs(this,"transaction"),zs(this,"statistics"),zs(this,"lowLevel"),this.lowLevel={state:new qd(e),stream:new Nd(e),status:new Bd(e),transaction:new Dd(e),statistics:new Ld(e)},this.state=new Md(this.lowLevel.state,e),this.stream=new zd(this.lowLevel.stream),this.status=new Ud(this.lowLevel.status),this.transaction=new Zd(this.lowLevel.transaction),this.statistics=new $d(this.lowLevel.statistics,e)}static initialize(e){const t=Hd.constructConfiguration(e);return new Hd(t)}static constructConfiguration(e){var t,n,r,a;const i=e.networkId&&!e.basePath?Hs[e.networkId].gatewayUrl:(e=>e?e.endsWith("/")?null==e?void 0:e.slice(0,-1):e:"")(null==e?void 0:e.basePath),o=null!=(t=null==e?void 0:e.applicationName)?t:"Unknown";return new Vd({...e,basePath:i,applicationName:o,headers:{...null!=(n=null==e?void 0:e.headers)?n:{},"RDX-Client-Name":"@radixdlt/babylon-gateway-api-sdk","RDX-Client-Version":"1.5.1","RDX-App-Name":o,"RDX-App-Version":null!=(r=e.applicationVersion)?r:"Unknown","RDX-App-Dapp-Definition":null!=(a=e.applicationDappDefinitionAddress)?a:"Unknown"}})}}const Wd=e=>e,Kd=({basePath:e,dAppDefinitionAddress:t,applicationName:n,applicationVersion:r})=>{const{transaction:a,state:i,status:o}=Hd.initialize({basePath:e,applicationName:n||t||"unknown",applicationVersion:r,applicationDappDefinitionAddress:t});return{getTransactionStatus:e=>Do.fromPromise(a.getStatus(e),Wd),getTransactionDetails:e=>Do.fromPromise(a.getCommittedDetails(e),Wd),getEntityDetails:e=>Do.fromPromise(i.getEntityDetailsVaultAggregated(e),Wd),getEntitiesDetails:e=>Do.fromPromise(i.getEntityDetailsVaultAggregated(e),Wd),getEntityNonFungibleIds:({accountAddress:e,nftAddress:t,vaultAddress:n})=>Do.fromPromise(i.innerClient.entityNonFungibleIdsPage({stateEntityNonFungibleIdsPageRequest:{address:e,vault_address:n,resource_address:t}}),Wd),getNetworkConfiguration:()=>Do.fromPromise(o.getNetworkConfiguration(),Wd),transactionApi:a,stateApi:i,statusApi:o}},Gd=e=>{const t=[];return e.name&&t.push({entry:"fullName",fields:e.name}),e.emailAddresses&&t.push({entry:"emailAddresses",fields:e.emailAddresses}),e.phoneNumbers&&t.push({entry:"phoneNumbers",fields:e.phoneNumbers}),t},Jd=e=>Vo({accounts:[],personaData:[],proofs:[],persona:void 0}).map((e=>t=>{var n,r,a;let i=[];if("authorizedRequest"===e.discriminator){const t=(null==(n=e.oneTimeAccounts)?void 0:n.accounts)??[],a=(null==(r=e.ongoingAccounts)?void 0:r.accounts)??[];i=[...t,...a]}else"unauthorizedRequest"===e.discriminator&&(i=(null==(a=e.oneTimeAccounts)?void 0:a.accounts)??[]);return Ds(t,(e=>{e.accounts=i}))})(e)).map((e=>t=>Ds(t,(t=>{"authorizedRequest"===e.discriminator?(e.oneTimePersonaData&&(t.personaData=Gd(e.oneTimePersonaData)),e.ongoingPersonaData&&(t.personaData=Gd(e.ongoingPersonaData))):"unauthorizedRequest"===e.discriminator&&e.oneTimePersonaData&&(t.personaData=Gd(e.oneTimePersonaData))})))(e)).map((e=>t=>Ds(t,(t=>{var n;"authorizedRequest"===e.discriminator&&(t.persona=null==(n=e.auth)?void 0:n.persona)})))(e)).map((e=>t=>Ds(t,(t=>{var n,r,a,i,o,s;if(t.proofs=[],"authorizedRequest"===e.discriminator){if("loginWithChallenge"===e.auth.discriminator&&t.proofs.push({challenge:e.auth.challenge,proof:e.auth.proof,address:e.auth.persona.identityAddress,type:ko}),null!=(n=e.ongoingAccounts)&&n.challenge&&null!=(r=e.ongoingAccounts.proofs)&&r.length){const n=e.ongoingAccounts.challenge,r=e.ongoingAccounts.proofs.map((({accountAddress:e,proof:t})=>({proof:t,address:e,challenge:n,type:Eo})));t.proofs.push(...r)}if(null!=(a=e.oneTimeAccounts)&&a.challenge&&null!=(i=e.oneTimeAccounts.proofs)&&i.length){const n=e.oneTimeAccounts.challenge,r=e.oneTimeAccounts.proofs.map((({accountAddress:e,proof:t})=>({proof:t,address:e,challenge:n,type:Eo})));t.proofs.push(...r)}}if("unauthorizedRequest"===e.discriminator&&null!=(o=e.oneTimeAccounts)&&o.challenge&&null!=(s=e.oneTimeAccounts.proofs)&&s.length){const n=e.oneTimeAccounts.challenge,r=e.oneTimeAccounts.proofs.map((({accountAddress:e,proof:t})=>({proof:t,address:e,challenge:n,type:Eo})));t.proofs.push(...r)}})))(e));bo({accounts:bo({numberOfAccounts:Ln,reset:_o(),oneTime:_o(),challenge:go().optional()}).optional(),personaData:bo({fullName:_o().optional(),phoneNumbers:Ln.optional(),emailAddresses:Ln.optional(),reset:_o(),oneTime:_o().optional()}).optional(),persona:bo({identityAddress:go().optional(),label:go().optional(),challenge:go().optional()}).optional()});const Xd=e=>{var t,n,r;return null!=(t=e.persona)&&t.challenge?{discriminator:"loginWithChallenge",challenge:e.persona.challenge}:null!=(n=e.persona)&&n.identityAddress?{discriminator:"usePersona",identityAddress:null==(r=e.persona)?void 0:r.identityAddress}:{discriminator:"loginWithoutChallenge"}},Yd=e=>t=>{var n,r;const a={...t},{accounts:i}=e;if(i){const t={challenge:i.challenge,numberOfAccounts:i.numberOfAccounts},o="authorizedRequest"===a.discriminator&&!(null!=(n=e.accounts)&&n.oneTime),s="authorizedRequest"===a.discriminator;null!=(r=e.accounts)&&r.oneTime?a.oneTimeAccounts=t:(o||s)&&(a.ongoingAccounts=t)}return a},Qd=e=>t=>{var n,r;const a={...t};if(e.personaData){const{fullName:t,phoneNumbers:i,emailAddresses:o}=e.personaData;null!=(n=e.personaData)&&n.oneTime&&(a.oneTimePersonaData={isRequestingName:t,numberOfRequestedPhoneNumbers:i,numberOfRequestedEmailAddresses:o});const s="authorizedRequest"===a.discriminator&&!(null!=(r=e.personaData)&&r.oneTime),u="authorizedRequest"===a.discriminator;(s||u)&&(a.ongoingPersonaData={isRequestingName:t,numberOfRequestedPhoneNumbers:i,numberOfRequestedEmailAddresses:o})}return a},ep=(e,t)=>"authorizedRequest"===e.discriminator?Ds({},(t=>{t.persona={proof:!1},t.ongoingAccounts={proof:!1,numberOfAccounts:void 0},"loginWithChallenge"===e.auth.discriminator&&(t.persona.proof=!!e.auth.challenge),e.ongoingAccounts&&(t.ongoingAccounts={proof:!!e.ongoingAccounts.challenge,numberOfAccounts:e.ongoingAccounts.numberOfAccounts}),e.ongoingPersonaData&&(t.ongoingPersonaData=e.ongoingPersonaData)})):t,tp=e=>Ds({},(t=>{e.ongoingAccounts&&(t.accounts={numberOfAccounts:e.ongoingAccounts.numberOfAccounts,withProof:e.ongoingAccounts.proof,reset:!0}),e.ongoingPersonaData&&(t.personaData={fullName:e.ongoingPersonaData.isRequestingName,phoneNumbers:e.ongoingPersonaData.numberOfRequestedPhoneNumbers,emailAddresses:e.ongoingPersonaData.numberOfRequestedEmailAddresses,reset:!0}),e.persona&&(t.persona={withProof:!!e.persona.proof})})),np=({stateClient:e,requestItemClient:t,walletClient:n,useCache:r,dataRequestStateClient:a,requestInterceptor:i})=>{let o,s,u;const l=({isConnect:a,oneTime:s,dataRequestState:l})=>Vo(l).asyncAndThen((t=>(e=>{if(!(e=>{var t,n;return(null==(t=e.accounts)?void 0:t.withProof)||(null==(n=e.persona)?void 0:n.withProof)})(e))return jo(void 0);if(!o)throw new Error("Expected proof but no challenge generator provided");return o()})(t).andThen((n=>(({dataRequestState:e,isConnect:t,challenge:n,oneTime:r,stateClient:a})=>((e,t)=>((e,t)=>Vo(e?Ds(t,(e=>{e.accounts&&(e.accounts.oneTime=!1,e.accounts.reset=!1),e.personaData&&(e.personaData.oneTime=!1,e.personaData.reset=!1)})):t))(e,t).andThen((e=>(e=>{const{persona:t,accounts:n,personaData:r}=e,a=!!t,i=(null==n?void 0:n.reset)||(null==r?void 0:r.reset),o=n&&!(null!=n&&n.oneTime),s=r&&!(null!=r&&r.oneTime);return!!(i||o||s||a)})(e)?(e=>Vo({discriminator:"authorizedRequest",auth:Xd(e)}).map(Yd(e)).map(Qd(e)).map((e=>t=>{const{accounts:n,personaData:r}=e;return{...t,reset:{accounts:!(null==n||!n.reset),personaData:!(null==r||!r.reset)}}})(e)))(e):(e=>Vo({discriminator:"unauthorizedRequest"}).map(Yd(e)).map(Qd(e)))(e))))(t,Ds({},(t=>{var i;if(e.accounts&&(t.accounts={numberOfAccounts:e.accounts.numberOfAccounts||{quantifier:"atLeast",quantity:1},oneTime:r,reset:!!e.accounts.reset,challenge:e.accounts.withProof?n:void 0}),e.personaData&&(t.personaData={...e.personaData,reset:!!e.personaData.reset,oneTime:r}),!r){const r=a.getState().walletData.persona;a.getState().walletData.persona&&(t.persona=r),null!=(i=e.persona)&&i.withProof&&(t.persona={...t.persona??{},challenge:n}),0===Object.values(e).length&&(t.persona={challenge:void 0})}}))))({dataRequestState:t,isConnect:a,challenge:n,oneTime:s,stateClient:e}))))).andThen((a=>{const o=e.getState();if(((e,t)=>{var n,r,a,i,o,s,u,l,c,d,p;if("authorizedRequest"===e.discriminator){const f=(null==(n=e.reset)?void 0:n.accounts)||(null==(r=e.reset)?void 0:r.personaData),m=!(!e.oneTimeAccounts&&!e.oneTimePersonaData),h="loginWithChallenge"===e.auth.discriminator||!(null==(a=e.oneTimeAccounts)||!a.challenge)||!(null==(i=e.ongoingAccounts)||!i.challenge);if(f||m||h)return!1;let y=!1;if(e.ongoingAccounts){const{quantifier:n,quantity:r}=e.ongoingAccounts.numberOfAccounts;y=(null==(u=null==(s=null==(o=t.sharedData)?void 0:o.ongoingAccounts)?void 0:s.numberOfAccounts)?void 0:u.quantifier)===n&&(null==(d=null==(c=null==(l=t.sharedData)?void 0:l.ongoingAccounts)?void 0:c.numberOfAccounts)?void 0:d.quantity)===r}return e.ongoingPersonaData&&(y=$s(e.ongoingPersonaData,null==(p=t.sharedData)?void 0:p.ongoingPersonaData)),y}return!1})(a,o)&&r)return jo(o.walletData);const l=!e.getState().walletData.persona&&"authorizedRequest"===a.discriminator;return i({type:"dataRequest",payload:a}).map((e=>{const{id:n}=t.add(l?"loginRequest":"dataRequest");return{walletDataRequest:e,id:n}})).andThen((({walletDataRequest:r,id:a})=>n.request(r,a).mapErr((({error:e,message:t})=>({error:e,message:t}))).andThen(Jd).andThen((e=>u?u(e).map((()=>(t.updateStatus({id:a,status:"success"}),e))).mapErr((e=>(t.updateStatus({id:a,status:"fail",error:e.error}),e))):(t.updateStatus({id:a,status:"success"}),Vo(e)))).map((t=>(s||e.setState({loggedInTimestamp:Date.now().toString(),walletData:t,sharedData:ep(r,e.getState().sharedData)}),t)))))}));return{provideChallengeGenerator:e=>{o=()=>Do.fromPromise(e(),(()=>({error:"GenerateChallengeError",message:"Failed to generate challenge"})))},provideDataRequestControl:e=>{u=t=>Do.fromPromise(e(t),(()=>({error:"LoginRejectedByDapp",message:"Login rejected by dApp"})))},provideConnectResponseCallback:e=>{s=t=>e(t)},sendOneTimeRequest:(...e)=>l({dataRequestState:a.toDataRequestState(...e),isConnect:!1,oneTime:!0}),setState:(...e)=>(a.setState(...e),{sendRequest:()=>l({dataRequestState:a.getState(),isConnect:!1,oneTime:!1})}),sendRequest:({isConnect:e,oneTime:t})=>{const n=l({isConnect:e,oneTime:t,dataRequestState:a.getState()});return s&&n.map((e=>{s(Vo(e))})).mapErr((e=>{s(Ho(e))})),n},updateSharedData:()=>l({dataRequestState:tp(e.getState().sharedData),isConnect:!1,oneTime:!1})}},rp=e=>{try{return Vo(JSON.stringify(e))}catch(e){return Ho(e)}},ap=e=>e,ip=e=>{try{return Vo(JSON.parse(e))}catch(e){return Ho(e)}},op=(e,t)=>{const n=t?`${e}:${t}`:e,r=()=>new Promise(((e,t)=>{try{e(localStorage.getItem(n))}catch(e){t(e)}})),a=e=>new Promise(((t,r)=>{try{localStorage.setItem(n,e),t()}catch(e){r(e)}})),i=()=>Do.fromPromise(r(),ap).andThen((e=>e?ip(e):Vo({}))),o=e=>Do.fromPromise(r(),ap).andThen((e=>e?ip(e):Vo(void 0))).map((t=>t?t[e]:void 0)),s=e=>i().andThen((t=>rp({...t,...e}).asyncAndThen((e=>Do.fromPromise(a(e),ap).map((()=>{window.dispatchEvent(new StorageEvent("storage",{key:n,oldValue:JSON.stringify(t),newValue:e}))})))))),u=()=>Do.fromPromise(r(),ap).andThen((e=>e?ip(e):Vo(void 0))),l=e=>u().andThen((t=>rp({...t??{},...e}).asyncAndThen((e=>Do.fromPromise(a(e),ap).map((()=>{window.dispatchEvent(new StorageEvent("storage",{key:n,oldValue:JSON.stringify(t),newValue:e}))})))))),c=qe(Oe(window,"storage"),me({key:n,newValue:null,oldValue:null})).pipe(Be((e=>e.key===n)),Se((e=>{const{key:t,newValue:n,oldValue:r}=e;if(!t)return[];const[a,i,o,s]=t.split(":");if("rdt"===a&&i&&o){const e=r?ip(r):Vo(void 0),a=n?ip(n):Vo(void 0);return[Mo.combine([e,a]).map((([e,n])=>({key:t,partition:s,newValue:n,oldValue:e})))]}return[]})),Be((e=>e.isOk())),ge((({value:e})=>e)));return{getItems:i,getItemById:o,removeItemById:e=>i().andThen((t=>{const{[e]:n,...r}=t;return s(r)})),patchItem:(e,t)=>o(e).andThen((n=>n?s({[e]:{...n,...t}}):Ho(new Error("Item not found")))),setItems:s,getItemList:()=>i().map(Object.values),getPartition:t=>op(e,t),setState:l,getState:u,patchState:e=>u().mapErr((()=>({reason:"FailedToReadFromLocalStorage"}))).andThen((t=>t?l({...t,...e}).mapErr((()=>({reason:"FailedToWriteToLocalStorage"}))):Ho({reason:"PatchingStateFailed"}))),clear:()=>Do.fromPromise(new Promise((e=>{e(localStorage.removeItem(n))})),ap),storage$:c}},sp=e=>{let t=!1;const n=null==e?void 0:e.logger,r=(null==e?void 0:e.subjects)??{outgoingMessageSubject:new B,incomingMessageSubject:new B,responseSubject:new B,messageLifeCycleEventSubject:new B},{dAppDefinitionAddress:a,networkId:i}=e.metadata,o=new m,s=op(`wallet-sdk:${a}:${i}`);o.add(r.incomingMessageSubject.pipe($e((e=>{null==n||n.debug("🔵💬⬇️ incomingMessageSubject",e),"eventType"in e?r.messageLifeCycleEventSubject.next(e):r.responseSubject.next(e)}))).subscribe()),o.add(r.outgoingMessageSubject.pipe($e((e=>{null==n||n.debug("🔵⬆️ walletRequest",e),window.dispatchEvent(new CustomEvent(or,{detail:e}))}))).subscribe());const u=e=>{const t=e.detail;r.incomingMessageSubject.next(t)};addEventListener(sr,u);const l=r.messageLifeCycleEventSubject.pipe(Be((e=>"extensionStatus"===e.eventType)));return{send:(e,a)=>{const i=new B,o=r.responseSubject.pipe(Be((t=>t.interactionId===e.interactionId)),ge((e=>"success"===e.discriminator?Vo(e):Ho(e)))),u=r.messageLifeCycleEventSubject.pipe(Be((({interactionId:t,eventType:n})=>e.interactionId===t&&["requestCancelSuccess","requestCancelFail"].includes(n))),ge((e=>{const t=dr("canceledByUser",e.interactionId);return null==n||n.debug("🔵⬆️❌ walletRequestCanceled",t),e})));a.requestControl&&a.requestControl({cancelRequest:()=>(r.outgoingMessageSubject.next({interactionId:e.interactionId,metadata:e.metadata,...t?{discriminator:"cancelWalletInteraction"}:{items:{discriminator:"cancelRequest"}}}),setTimeout((()=>{i.next(Ho(dr("canceledByUser",e.interactionId)))})),Do.fromSafePromise(ye(qe(o.pipe(ge((()=>"requestCancelFail"))),u.pipe(ge((({eventType:e})=>e))))))).andThen((e=>"requestCancelSuccess"===e?Vo("requestCancelSuccess"):Ho("requestCancelFail"))),getRequest:()=>e});const l=qe(o,i).pipe(je()),c=r.messageLifeCycleEventSubject.pipe(Be((({interactionId:t})=>e.interactionId===t)),$e((e=>{a.eventCallback&&a.eventCallback(e.eventType)})),function(e){return P((function(t,n){se(e).subscribe(R(n,(function(){return n.complete()}),b)),!n.closed&&t.subscribe(n)}))}(o),function(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new B}:t,r=e.resetOnError,a=void 0===r||r,i=e.resetOnComplete,o=void 0===i||i,s=e.resetOnRefCountZero,u=void 0===s||s;return function(e){var t,r,i,s=0,l=!1,c=!1,d=function(){null==r||r.unsubscribe(),r=void 0},p=function(){d(),t=i=void 0,l=c=!1},f=function(){var e=t;p(),null==e||e.unsubscribe()};return P((function(e,m){s++,!c&&!l&&d();var h=i=i??n();m.add((function(){0==--s&&!c&&!l&&(r=Fe(f,u))})),h.subscribe(m),!t&&s>0&&(t=new E({next:function(e){return h.next(e)},error:function(e){c=!0,d(),r=Fe(p,a,e),h.error(e)},complete:function(){l=!0,d(),r=Fe(p,o),h.complete()}}),se(e).subscribe(t))}))(e)}}()),d=c.subscribe(),p=qe(Re(100).pipe(ge((()=>Ho(dr("missingExtension",e.interactionId))))),c).pipe(je(),Be((e=>!("eventType"in e)))),f=me((e=>t?s.getState().andThen((t=>{const n="authorizedRequest"===e.items.discriminator,r=n?(null==t?void 0:t.sessionId)||crypto.randomUUID():null==t?void 0:t.sessionId,a={interactionId:e.interactionId,interaction:e,sessionId:r,discriminator:"walletInteraction"};return n?s.setState({sessionId:r}).map((()=>a)):jo(a)})):jo(e))(e)).pipe($e((e=>{e.map((e=>{r.outgoingMessageSubject.next(e)}))})),Be((e=>!1)));return(e=>Do.fromPromise(ye(e),ur).andThen((e=>e)))(qe(l,p,f).pipe($e((()=>{d.unsubscribe()}))))},disconnect:()=>{s.clear()},destroy:()=>{o.unsubscribe(),removeEventListener(sr,u)},openPopup:()=>{window.dispatchEvent(new CustomEvent(or,{detail:{discriminator:"openPopup"}}))},extensionStatus$:me(!0).pipe($e((()=>{r.outgoingMessageSubject.next({interactionId:crypto.randomUUID(),discriminator:"extensionStatus"})})),Me((()=>function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===(e=function(e){return 1===e.length&&Le(e[0])?e[0]:e}(e)).length?se(e[0]):new A(function(e){return function(t){for(var n=[],r=function(r){n.push(se(e[r]).subscribe(R(t,(function(e){if(n){for(var a=0;a<n.length;a++)a!==r&&n[a].unsubscribe();n=null}t.next(e)}))))},a=0;n&&!t.closed&&a<e.length;a++)r(a)}}(e))}(l,qe(l,Re(100).pipe(ge((()=>({eventType:"extensionStatus",isWalletLinked:!1,isExtensionAvailable:!1})))))))),$e((e=>{t=e.canHandleSessions||!1})))}},up=e=>{const t=e.dAppDefinitionAddress??e.applicationDappDefinitionAddress,{networkId:r,providers:a,logger:i,onDisconnect:o,explorer:s,gatewayBaseUrl:u,applicationName:l,applicationVersion:c,useCache:d=!0,requestInterceptor:p=(async({payload:e})=>e)}=e||{},f=`rdt:${t}:${r}`,h=new D(t),y=new m,g=(null==a?void 0:a.connectButton)??(e=>{n.e(511).then(n.bind(n,511));const t=e.subjects||{onConnect:new B,onDisconnect:new B,onUpdateSharedData:new B,connected:new F(1),requestItems:new D([]),onCancelRequestItem:new B,accounts:new D([]),onShowPopover:new B,status:new D("default"),loggedInTimestamp:new D(""),isMobile:new D(!1),isWalletLinked:new D(!1),isExtensionAvailable:new D(!1),fullWidth:new D(!1),activeTab:new D("sharing"),mode:new D("light"),theme:new D("radix-blue"),avatarUrl:new D(""),personaLabel:new D(""),personaData:new D([]),dAppName:new D(""),onLinkClick:new B},r=e.logger,a=e.onConnect||(e=>{e()}),i=()=>document.querySelector("radix-connect-button"),o=new m;return o.add(qe(Oe(document,"onRender"),me(i()).pipe(Be((e=>!!e)))).pipe(ge((()=>i())),Be((e=>!!e)),Me((e=>{null==r||r.debug("connectButtonDiscovered");const n=Oe(e,"onConnect").pipe($e((()=>{a((n=>{!e.isWalletLinked||!e.isExtensionAvailable||t.onConnect.next(n)}))}))),i=Oe(e,"onDisconnect").pipe($e((()=>{t.onDisconnect.next()}))),o=Oe(e,"onLinkClick").pipe($e((e=>{t.onLinkClick.next(e.detail)}))),s=Oe(e,"onDestroy").pipe($e((()=>{null==r||r.debug("connectButtonRemovedFromDOM")}))),u=Oe(e,"onCancelRequestItem").pipe($e((e=>{const n=e.detail.id;null==r||r.debug("onCancelRequestItem",{id:n}),t.onCancelRequestItem.next(n)}))),l=Oe(e,"onUpdateSharedData").pipe($e((()=>{null==r||r.debug("onUpdateSharedData"),t.onUpdateSharedData.next()}))),c=Oe(e,"onShowPopover").pipe($e((()=>{t.onShowPopover.next()}))),d=t.status.pipe($e((t=>e.status=t))),p=t.mode.pipe($e((t=>e.mode=t))),f=t.connected.pipe($e((t=>{e.connected=t}))),m=t.isMobile.pipe($e((t=>{e.isMobile=t}))),h=t.isWalletLinked.pipe($e((t=>{e.isWalletLinked=t}))),y=t.isExtensionAvailable.pipe($e((t=>{e.isExtensionAvailable=t}))),g=t.loggedInTimestamp.pipe($e((t=>{e.loggedInTimestamp=t}))),_=t.activeTab.pipe($e((t=>{e.activeTab=t}))),v=t.requestItems.pipe($e((t=>{e.requestItems=t}))),b=t.accounts.pipe($e((t=>{e.accounts=t}))),w=t.personaData.pipe($e((t=>{e.personaData=t}))),x=t.personaLabel.pipe($e((t=>{e.personaLabel=t}))),k=t.dAppName.pipe($e((t=>{e.dAppName=t})));return qe(n,d,t.theme.pipe($e((t=>{e.theme=t}))),p,f,v,g,m,_,h,y,i,u,b,w,x,s,l,c,k,o)}))).subscribe()),{status$:t.status.asObservable(),onConnect$:t.onConnect.asObservable(),onDisconnect$:t.onDisconnect.asObservable(),onShowPopover$:t.onShowPopover.asObservable(),onUpdateSharedData$:t.onUpdateSharedData.asObservable(),onCancelRequestItem$:t.onCancelRequestItem.asObservable(),onLinkClick$:t.onLinkClick.asObservable(),setStatus:e=>t.status.next(e),setTheme:e=>t.theme.next(e),setMode:e=>t.mode.next(e),setActiveTab:e=>t.activeTab.next(e),setIsMobile:e=>t.isMobile.next(e),setIsWalletLinked:e=>t.isWalletLinked.next(e),setIsExtensionAvailable:e=>t.isExtensionAvailable.next(e),setLoggedInTimestamp:e=>t.loggedInTimestamp.next(e),setConnected:e=>t.connected.next(e),setRequestItems:e=>t.requestItems.next(e),setAccounts:e=>t.accounts.next(e),setPersonaData:e=>t.personaData.next(e),setPersonaLabel:e=>t.personaLabel.next(e),setDappName:e=>t.dAppName.next(e),disconnect:()=>{t.connected.next(!1),t.status.next("default")},destroy:()=>{o.unsubscribe()}}})({logger:i});g.setIsMobile(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(globalThis.navigator?globalThis.navigator.userAgent:""));const _=(null==a?void 0:a.gatewayClient)??(({gatewayApi:e,logger:t,retryConfig:n})=>({pollTransactionStatus:r=>{const a=(({maxDelayTime:e=1e4,multiplier:t=2,timeout:n,interval:r=2e3}={})=>{const a=new B;let i=0;const o=qe(me(0),a.pipe(ge((()=>(i+=1,i))))).pipe(Me((n=>{const a=n*r*t;return Re(a>e?e:a).pipe(ge((()=>Vo(n))))})));return{trigger:a,withBackoff$:n?qe(o,Re(n).pipe(ge((()=>Ho(dr("failedToPollSubmittedTransaction","")))))):o}})(n),i=new Set(["CommittedSuccess","CommittedFailure","Rejected"]);return Do.fromPromise(ye(a.withBackoff$.pipe(Me((n=>n.isErr()?[n]:(null==t||t.debug(`pollingTxStatus retry #${n.value+1}`),e.getTransactionStatus(r).map((e=>{if(i.has(e.status))return e;a.trigger.next()})).mapErr((e=>(null==t||t.debug(e),dr("failedToPollSubmittedTransaction",""))))))),Be((e=>e.isOk()&&!!e.value||e.isErr())),je())),(e=>e)).andThen((e=>e))},gatewayApi:e}))({logger:i,gatewayApi:Kd({basePath:u??Hs[r].gatewayUrl,dAppDefinitionAddress:t,applicationName:l,applicationVersion:c})}),v=sp({metadata:{networkId:r,dAppDefinitionAddress:t}}),b=(null==a?void 0:a.storageClient)??{getData:e=>Do.fromPromise((e=>new Promise(((t,n)=>{try{return t(localStorage.getItem(e)||void 0)}catch(e){return n(e)}})))(e),Wd).andThen((e=>e?(e=>{try{return Vo(JSON.parse(e))}catch(e){return Ho(e)}})(e):Vo(void 0))),setData:(e,t)=>Do.fromPromise(((e,t)=>new Promise(((n,r)=>{try{return localStorage.setItem(e,JSON.stringify(t)),n()}catch(e){return r(e)}})))(e,t),Wd)},w=(null==a?void 0:a.walletSdk)??(e=>{var t,n;const r={version:2,dAppDefinitionAddress:e.dAppDefinitionAddress,networkId:e.networkId};Jn.parse(r),null==(t=e.logger)||t.debug("🔵 walletSdkInstantiated",r);const a=e.logger,i=(null==(n=e.providers)?void 0:n.connectorExtensionClient)??Ba({logger:a});return{...fr({version:2,logger:e.logger,dAppDefinitionAddress:e.dAppDefinitionAddress,networkId:e.networkId},i),destroy:()=>{null==a||a.debug("🔵🧹 walletSdkInstantiatedDestroyed"),i.destroy()}}})({logger:i,networkId:r,dAppDefinitionAddress:t,providers:{connectorExtensionClient:v}}),x=(null==a?void 0:a.requestItemClient)??((e,t,n)=>{const r=n.logger,a=new Set,i=new m,o=new Map,s=n.subjects||{initialized:new D(!1),onChange:new B,items:new D([])},u=`${e}:requestItemStore`;t.getData(u).map((e=>{e&&Object.keys(e).forEach((t=>{a.add(t),o.set(t,e[t])})),s.items.next(d())}));const l=(e,t)=>s.onChange.next({oldValue:e,newValue:t}),c=(e,t)=>{const n=o.get(e);if(n){const a={...n,...t};o.set(e,a),l(n,a),null==r||r.trace("patchRequestItemStatus",a)}},d=()=>[...a].reverse().map((e=>({id:e,...o.get(e)}))).filter((e=>!!e));return i.add(s.onChange.pipe(ge((()=>d())),$e((e=>s.items.next(e))),$e((()=>{const e=Array.from(o.entries());t.setData(u,Object.fromEntries(e.filter((([,e])=>"pending"!==e.status))))}))).subscribe()),{add:e=>{const t=(e=>({type:e,status:"pending",timestamp:Date.now(),id:crypto.randomUUID(),showCancel:!0}))(e);return o.set(t.id,t),a.add(t.id),l(void 0,t),null==r||r.trace("addRequestItem",{id:t.id,status:t.status}),t},remove:e=>{if(o.has(e)){const t=o.get(e);o.delete(e),a.delete(e),l(t,void 0),null==r||r.trace("removeRequestItem",e)}},cancel:e=>{o.has(e)&&(c(e,{status:"fail",error:lr.canceledByUser}),null==r||r.trace("cancelRequestItem",e))},updateStatus:({id:e,status:t,error:n,transactionIntentHash:a})=>{const i=o.get(e);if(i){const s={...i,status:t};"fail"===s.status&&(s.error=n),"success"===s.status&&"sendTransaction"===s.type&&(s.transactionIntentHash=a),o.set(e,s),l(i,s),null==r||r.trace("updateRequestItemStatus",s)}},patch:c,reset:()=>{o.clear(),a.clear(),l(void 0,void 0),null==r||r.trace("resetRequestItems")},destroy:()=>{i.unsubscribe()},items$:s.items,change$:s.onChange.asObservable()}})(f,b,{logger:i}),k=(null==a?void 0:a.walletClient)??(e=>{const t=e.logger,n=e.requestItemClient,r=e.walletSdk,a=e.gatewayClient,i=new B,o=t=>{const r=new B;return{eventCallback:e=>{r.next(e)},requestControl:({cancelRequest:a,getRequest:o})=>{ye(r.pipe(Be((e=>"receivedByWallet"===e)),ge((()=>o())),$e((e=>{"transaction"===e.items.discriminator&&n.patch(t,{showCancel:!1})})))),ye(qe(e.onCancelRequestItem$,i).pipe(Be((e=>e===t)),Me((()=>(n.cancel(t),n.updateStatus({id:t,status:"fail",error:"userCancelledRequest"}),a())))))}}},s=new m;return{request:(e,a)=>r.request(e,o(a)).map((e=>(null==t||t.debug("⬇️walletSuccessResponse",e),e))).mapErr((e=>(null==t||t.debug("⬇️walletErrorResponse",e),n.updateStatus({id:a,status:"fail",error:e.error}),e))),sendTransaction:({onTransactionId:e,...i})=>{const{id:s}=n.add("sendTransaction");return r.sendTransaction({version:1,...i},o(s)).mapErr((e=>(n.updateStatus({id:s,status:"fail",error:e.error}),null==t||t.debug("⬇️ walletErrorResponse",e),e))).map((e=>(null==t||t.debug("⬇️ walletSuccessResponse",e),e))).andThen((({transactionIntentHash:t})=>(e&&e(t),a.pollTransactionStatus(t).map((e=>({transactionIntentHash:t,status:e.status})))))).andThen((e=>{const r=[tl.Rejected,tl.CommittedFailure].includes(e.status);return n.updateStatus({id:s,status:r?"fail":"success",transactionIntentHash:e.transactionIntentHash}),null==t||t.debug("🔁 Gateway polling finished",e),r?Ho({...e,error:"transactionNotSuccessful"}):Vo(e)}))},extensionStatus$:r.extensionStatus$,requestItems$:n.items$,resetRequestItems:n.reset,cancelRequest:e=>i.next(e),destroy:()=>{n.destroy(),r.destroy(),s.unsubscribe()}}})({logger:i,onCancelRequestItem$:g.onCancelRequestItem$,walletSdk:w,gatewayClient:_,requestItemClient:x}),E=(null==a?void 0:a.stateClient)??((e,t,n)=>{const r=n.logger,a=n.subjects??{walletData:new D(Oo),sharedData:new D({}),loggedInTimestamp:new D(""),initialized:new D(!1)},i=new m,o=Ee([a.walletData,a.sharedData,a.loggedInTimestamp]).pipe(ge((([e,t,n])=>({walletData:e,sharedData:t,loggedInTimestamp:n})))),s=e=>{const{walletData:t,sharedData:n,loggedInTimestamp:r}=e;t&&!$s(a.walletData.value,t)&&a.walletData.next(t),n&&a.sharedData.next(n),void 0!==r&&a.loggedInTimestamp.next(r)},u=()=>{$s(a.walletData.value,Oo)||a.walletData.next(Oo),a.sharedData.next({}),a.loggedInTimestamp.next("")};t.getData(e).map((e=>(e&&(null==r||r.debug("readFromStorage")),e))).andThen((e=>Do.fromPromise(Ao.parseAsync(e),(e=>e)))).mapErr((()=>{null==r||r.debug("loadedCorruptedStateFromStorage"),u()})).map((e=>{if(e)return null==r||r.debug("initializeStateFromStorage"),s(Ds(e,(e=>(e.walletData.persona=e.walletData.persona??void 0,e))));null==r||r.debug("initializeStateFromDefault"),u()})),i.add(o.pipe(Me((n=>t.setData(e,Ds(n,(e=>{e.walletData.proofs=[]}))).map((()=>{null==r||r.trace("writeToStorage",n)}))))).subscribe()),i.add(o.pipe(Be((function(e,t){return 1<=t})),je(),$e((()=>{a.initialized.next(!0)}))).subscribe());const l=()=>({walletData:a.walletData.value,sharedData:a.sharedData.value,loggedInTimestamp:a.loggedInTimestamp.value});return{setState:s,getState:l,walletData$:Ee([a.initialized,a.walletData]).pipe(Ne(1),Be((([e])=>e)),ge((()=>a.walletData.value))),getWalletData:()=>a.walletData.value,state$:a.initialized.pipe(Be((e=>e)),Me((()=>o))),patchState:e=>{s({...l(),...e})},reset:u,stateInitialized$:a.initialized.asObservable(),destroy:()=>{u(),i.unsubscribe()}}})(f,b,{logger:i}),I=(null==a?void 0:a.dataRequestStateClient)??(e=>{const t=new D(e),n=()=>t.next(e),r=e=>t.next(e),a=()=>t.getValue(),i=(...e)=>e.filter((e=>"function"==typeof e._toObject)).reduce(((e,t)=>({...e,...t._toObject()})),{});return{reset:n,setState:(...e)=>{0===e.length?n():r(i(...e))},getState:a,patchState:(...e)=>{0!==e.length&&r({...a(),...i(...e)})},removeState:(...e)=>{r(Ds(a(),(t=>{e.forEach((e=>{delete t[e]}))})))},toDataRequestState:i,state$:t.asObservable()}})({}),S=(e=>t=>Do.fromPromise(e(t),(e=>({error:"requestInterceptorError",jsError:e}))))(p),C=(null==a?void 0:a.dataRequestClient)??np({stateClient:E,requestItemClient:x,walletClient:k,useCache:d,dataRequestStateClient:I,requestInterceptor:S}),T=()=>{x.items$.value.forEach((e=>{e.showCancel&&k.cancelRequest(e.id)})),E.reset(),v.disconnect(),k.resetRequestItems(),g.disconnect(),o&&o()};y.add(h.pipe(Be((e=>!!e)),Me((e=>_.gatewayApi.getEntityDetails(e).map((e=>(e=>{var t;const n=null==(t=null==e?void 0:e.value)?void 0:t.typed;return{stringified:null!=n&&n.value?(null==n?void 0:n.value)||"":null==n?void 0:n.values.join(", ")}})(null==e?void 0:e.metadata.items.find((e=>"name"===e.key))).stringified)).map((e=>{g.setDappName(e??"Unnamed dApp")}))))).subscribe()),y.add(k.extensionStatus$.pipe($e((e=>{g.setIsExtensionAvailable(e.isExtensionAvailable),g.setIsWalletLinked(e.isWalletLinked)}))).subscribe()),y.add(g.onConnect$.pipe(Me((()=>(E.reset(),C.sendRequest({isConnect:!0,oneTime:!1}))))).subscribe()),y.add(g.onLinkClick$.pipe($e((({type:e,data:t})=>{if(["account","transaction"].includes(e)){const{baseUrl:n,transactionPath:a,accountsPath:i}=s??{baseUrl:Hs[r].dashboardUrl,transactionPath:"/transaction/",accountsPath:"/account/"};if(!n||!window)return;const o=`${n}${"transaction"===e?a:i}${t}`;window.open(o)}else"setupGuide"===e?window.open("https://wallet.radixdlt.com"):"showQrCode"===e&&w.openPopup()}))).subscribe()),y.add(g.onShowPopover$.pipe(Ue(k.requestItems$),$e((([e,t])=>{t.filter((e=>"pending"===e.status)).length>0&&g.setActiveTab("requests")}))).subscribe()),y.add(g.onDisconnect$.pipe($e(T)).subscribe()),y.add(E.state$.pipe($e((e=>{const{personaData:t,accounts:n,personaLabel:r,connected:a}=(e=>{var t,n;return{accounts:e.accounts??[],personaLabel:(null==(t=null==e?void 0:e.persona)?void 0:t.label)??"",connected:!(null==e||!e.persona),personaData:null==(n=null==e?void 0:e.personaData)?void 0:n.map((e=>{if("fullName"===e.entry){const{variant:t,givenNames:n,familyName:r,nickname:a}=e.fields;return{value:"western"===t?`${n}${a?` "${a}" `:" "}${r}`:`${r}${a?` "${a}" `:" "}${n}`,field:"fullName"}}return"emailAddresses"===e.entry?{value:e.fields[0],field:"emailAddress"}:"phoneNumbers"===e.entry?{value:e.fields[0],field:"phoneNumber"}:void 0})).filter((e=>{var t;return!!e&&!(null==(t=e.value)||!t.trim())}))}})(e.walletData);g.setLoggedInTimestamp(e.loggedInTimestamp),g.setAccounts(n),g.setPersonaData(t),g.setPersonaLabel(r),g.setConnected(a)}))).subscribe()),y.add(k.requestItems$.pipe($e((e=>g.setRequestItems(e)))).subscribe()),y.add(x.change$.pipe(Ue(x.items$),$e((([,e])=>{e.find((e=>"pending"===e.status))&&g.setStatus("pending")})),Se((([e])=>{var t,n;const r=null==(t=e.newValue)?void 0:t.status;return"pending"!==(null==(n=e.oldValue)?void 0:n.status)||"success"!==r&&"fail"!==r?me():(g.setStatus("success"===r?"success":"error"),Re(2e3).pipe(Ue(k.requestItems$),$e((([e,t])=>{const n=t.find((e=>"pending"===e.status));g.setStatus(n?"pending":"default")}))))}))).subscribe()),y.add(qe(g.onUpdateSharedData$).pipe(Me((()=>C.updateSharedData()))).subscribe());const A={state:_.gatewayApi.stateApi,status:_.gatewayApi.statusApi,transaction:_.gatewayApi.transactionApi};return{walletApi:{setRequestData:C.setState,sendRequest:()=>C.sendRequest({isConnect:!1,oneTime:!1}),provideChallengeGenerator:e=>C.provideChallengeGenerator(e),dataRequestControl:e=>{C.provideDataRequestControl(e)},provideConnectResponseCallback:C.provideConnectResponseCallback,updateSharedData:()=>C.updateSharedData(),sendOneTimeRequest:C.sendOneTimeRequest,sendTransaction:e=>S({type:"sendTransaction",payload:e}).andThen(k.sendTransaction),walletData$:E.walletData$,getWalletData:()=>E.getWalletData()},gatewayApi:A,buttonApi:{setTheme:g.setTheme,setMode:g.setMode,status$:g.status$},disconnect:T,destroy:()=>{E.destroy(),k.destroy(),y.unsubscribe(),g.destroy()}}};bo({numberOfAccounts:Ln,withProof:_o().optional(),reset:_o().optional()});bo({withProof:_o().optional()}),bo({fullName:_o(),emailAddresses:Ln,phoneNumbers:Ln,reset:_o()}).partial();const lp={accounts:()=>{let e=Ds({numberOfAccounts:{quantifier:"atLeast",quantity:1}},(()=>{}));const t={atLeast:n=>(e=Ds(e,(e=>{e.numberOfAccounts.quantifier="atLeast",e.numberOfAccounts.quantity=n})),t),exactly:n=>(e=Ds(e,(e=>{e.numberOfAccounts.quantifier="exactly",e.numberOfAccounts.quantity=n})),t),withProof:(n=!0)=>(e=Ds(e,(e=>{e.withProof=n})),t),reset:(n=!0)=>(e=Ds(e,(e=>{e.reset=n})),t),_toObject:()=>({accounts:e})};return t},personaData:(e={})=>{let t=Ds(e,(()=>{}));const n=e=>({atLeast:n=>(t=Ds(t,(t=>{t[e]={quantifier:"atLeast",quantity:n}})),r),exactly:n=>(t=Ds(t,(t=>{t[e]={quantifier:"exactly",quantity:n}})),r)}),r={fullName:(e=!0)=>(t=Ds(t,(t=>{t.fullName=e})),r),emailAddresses:(e=!0)=>(n("emailAddresses").exactly(e?1:0),r),phoneNumbers:(e=!0)=>(n("phoneNumbers").exactly(e?1:0),r),reset:(e=!0)=>(t=Ds(t,(t=>{t.reset=e})),r),_toObject:()=>({personaData:t})};return r},persona:(e={withProof:!1})=>{let t=Ds(e,(()=>{}));const n={withProof:(e=!0)=>(t=Ds(t,(t=>{t.withProof=e})),n),_toObject:()=>({persona:t})};return n},config:e=>({_toObject:()=>({...e})})}}},s={};function u(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={exports:{}};return o[e](n,n.exports,u),n.exports}u.m=o,e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},u.a=(a,i,o)=>{var s;o&&((s=[]).d=-1);var u,l,c,d=new Set,p=a.exports,f=new Promise(((e,t)=>{c=t,l=e}));f[t]=p,f[e]=e=>(s&&e(s),d.forEach(e),f.catch((e=>{}))),a.exports=f,i((a=>{var i;u=(a=>a.map((a=>{if(null!==a&&"object"==typeof a){if(a[e])return a;if(a.then){var i=[];i.d=0,a.then((e=>{o[t]=e,r(i)}),(e=>{o[n]=e,r(i)}));var o={};return o[e]=e=>e(i),o}}var s={};return s[e]=e=>{},s[t]=a,s})))(a);var o=()=>u.map((e=>{if(e[n])throw e[n];return e[t]})),l=new Promise((t=>{(i=()=>t(o)).r=0;var n=e=>e!==s&&!d.has(e)&&(d.add(e),e&&!e.d&&(i.r++,e.push(i)));u.map((t=>t[e](n)))}));return i.r?l:o()}),(e=>(e?c(f[n]=e):l(p),r(s)))),s&&s.d<0&&(s.d=0)},u.d=(e,t)=>{for(var n in t)u.o(t,n)&&!u.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},u.f={},u.e=e=>Promise.all(Object.keys(u.f).reduce(((t,n)=>(u.f[n](e,t),t)),[])),u.u=e=>e+".main.js",u.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a={},i="client:",u.l=(e,t,n,r)=>{if(a[e])a[e].push(t);else{var o,s;if(void 0!==n)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==i+n){o=d;break}}o||(s=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,u.nc&&o.setAttribute("nonce",u.nc),o.setAttribute("data-webpack",i+n),o.src=e),a[e]=[t];var p=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var r=a[e];if(delete a[e],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((e=>e(n))),t)return t(n)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=p.bind(null,o.onerror),o.onload=p.bind(null,o.onload),s&&document.head.appendChild(o)}},u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;u.g.importScripts&&(e=u.g.location+"");var t=u.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),u.p=e})(),(()=>{var e={792:0};u.f.j=(t,n)=>{var r=u.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var a=new Promise(((n,a)=>r=e[t]=[n,a]));n.push(r[2]=a);var i=u.p+u.u(t),o=new Error;u.l(i,(n=>{if(u.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",o.name="ChunkLoadError",o.type=a,o.request=i,r[1](o)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,a,[i,o,s]=n,l=0;if(i.some((t=>0!==e[t]))){for(r in o)u.o(o,r)&&(u.m[r]=o[r]);s&&s(u)}for(t&&t(n);l<i.length;l++)a=i[l],u.o(e,a)&&e[a]&&e[a][0](),e[a]=0},n=self.webpackChunkclient=self.webpackChunkclient||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),u(439)})();
//# sourceMappingURL=main.js.map