{"version":3,"file":"main.js","mappings":"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AAEQ,GAAKR,EAAEQ,GAAKR,EAAErF,GAChBqF,EAAEhS,GAAKwU,EAAOxC,EAAEhS,GAAKgS,EAAEQ,GAAI,IAC3BR,EAAEjS,GAAKiS,EAAEjS,GAAKiS,EAAEhS,GAAKyM,EACrBuF,EAAErF,GAAK6H,EAAOxC,EAAErF,GAAKqF,EAAEjS,GAAI,GAC3BiS,EAAEQ,GAAKR,EAAEQ,GAAKR,EAAErF,GAChBqF,EAAEhS,GAAKwU,EAAOxC,EAAEhS,GAAKgS,EAAEQ,GAAI,EAC7B,CAKA,SAASgC,EAAQhI,EAAGC,GAClB,OAAQD,IAAMC,EAAMD,GAAM,GAAKC,CACjC,CAGA,MAAMgI,EAAa,IAAItB,YAAY,CACjC,WACA,WACA,WACA,WACA,WACA,WACA,UACA,aAGIuB,EAAQ,IAAIrE,WAAW,CAC3B,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,GACA,GACA,EACA,EACA,GACA,EACA,EACA,GACA,EACA,EACA,EACA,GACA,EACA,GACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,GACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,EACA,GACA,GACA,EACA,EACA,EACA,GACA,EACA,GACA,EACA,GACA,EACA,GACA,EACA,EACA,EACA,GACA,EACA,EACA,GACA,GACA,EACA,EACA,GACA,EACA,EACA,GACA,GACA,GACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,EACA,GACA,GACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,GACA,EACA,GACA,GACA,EACA,GACA,EACA,EACA,EACA,GACA,EACA,GACA,EACA,EACA,EACA,GACA,EACA,GACA,EACA,EACA,EACA,EACA,EA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","sources":["webpack://client/webpack/runtime/async module","webpack://client/webpack/runtime/load script","webpack://client/./js/webflow.js","webpack://client/./node_modules/base64-js/index.js","webpack://client/./node_modules/base64url/dist/base64url.js","webpack://client/./node_modules/base64url/dist/pad-string.js","webpack://client/./node_modules/base64url/index.js","webpack://client/./node_modules/blakejs/blake2b.js","webpack://client/./node_modules/blakejs/blake2s.js","webpack://client/./node_modules/blakejs/index.js","webpack://client/./node_modules/blakejs/util.js","webpack://client/./node_modules/bowser/es5.js","webpack://client/./node_modules/buffer/index.js","webpack://client/./node_modules/ieee754/index.js","webpack://client/./node_modules/tslib/tslib.es6.mjs","webpack://client/./node_modules/rxjs/dist/esm5/internal/util/isFunction.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/util/createErrorClass.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/util/UnsubscriptionError.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/util/arrRemove.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/Subscription.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/util/isArrayLike.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/util/isPromise.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/config.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/scheduler/timeoutProvider.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/util/reportUnhandledError.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/util/noop.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/NotificationFactories.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/util/errorContext.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/Subscriber.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/symbol/observable.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/util/identity.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/Observable.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/util/pipe.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/util/isInteropObservable.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/util/isAsyncIterable.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/util/throwUnobservableError.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/symbol/iterator.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/util/isIterable.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/util/isReadableStreamLike.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/util/lift.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/operators/map.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/util/executeSchedule.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/operators/mergeMap.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/operators/mergeInternals.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/util/mapOneOrManyArgs.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/observable/fromEvent.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/operators/filter.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/operators/switchMap.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/operators/tap.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/observable/empty.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/util/isScheduler.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/util/args.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/operators/observeOn.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/operators/subscribeOn.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/scheduled/scheduleAsyncIterable.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/observable/from.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/scheduled/scheduled.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/scheduled/scheduleObservable.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/scheduled/scheduleArray.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/scheduled/schedulePromise.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/scheduled/scheduleIterable.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/scheduled/scheduleReadableStreamLike.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/observable/merge.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/operators/mergeAll.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/util/EmptyError.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/operators/throwIfEmpty.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/operators/first.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/operators/take.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/operators/defaultIfEmpty.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/observable/of.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/scheduler/Action.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/scheduler/intervalProvider.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/scheduler/AsyncAction.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/scheduler/dateTimestampProvider.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/Scheduler.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/scheduler/async.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/scheduler/AsyncScheduler.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/observable/timer.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/util/isDate.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/util/ObjectUnsubscribedError.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/Subject.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/ReplaySubject.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js","webpack://client/./node_modules/neverthrow/dist/index.es.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/firstValueFrom.js","webpack://client/./node_modules/valibot/dist/index.js","webpack://client/./node_modules/@noble/hashes/esm/_assert.js","webpack://client/./node_modules/@noble/hashes/esm/crypto.js","webpack://client/./node_modules/@noble/hashes/esm/utils.js","webpack://client/./node_modules/@noble/hashes/esm/_md.js","webpack://client/./node_modules/@noble/hashes/esm/_u64.js","webpack://client/./node_modules/@noble/hashes/esm/sha512.js","webpack://client/./node_modules/@noble/curves/esm/abstract/utils.js","webpack://client/./node_modules/@noble/curves/esm/abstract/modular.js","webpack://client/./node_modules/@noble/curves/esm/abstract/curve.js","webpack://client/./node_modules/@noble/curves/esm/abstract/edwards.js","webpack://client/./node_modules/@noble/curves/esm/abstract/montgomery.js","webpack://client/./node_modules/@noble/curves/esm/ed25519.js","webpack://client/./node_modules/immer/dist/immer.mjs","webpack://client/./node_modules/uuid/dist/esm-browser/native.js","webpack://client/./node_modules/uuid/dist/esm-browser/rng.js","webpack://client/./node_modules/uuid/dist/esm-browser/stringify.js","webpack://client/./node_modules/uuid/dist/esm-browser/v4.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/operators/share.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/util/argsOrArgArray.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/observable/never.js","webpack://client/./node_modules/@radixdlt/radix-dapp-toolkit/dist/index.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/observable/race.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/operators/shareReplay.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/operators/takeUntil.js","webpack://client/./node_modules/rxjs/dist/esm5/internal/operators/finalize.js","webpack://client/./node_modules/@kurkle/color/dist/color.esm.js","webpack://client/./node_modules/chart.js/dist/chunks/helpers.segment.js","webpack://client/./node_modules/chart.js/dist/chart.js","webpack://client/./node_modules/d3-selection/src/selector.js","webpack://client/./node_modules/d3-selection/src/selectorAll.js","webpack://client/./node_modules/d3-selection/src/matcher.js","webpack://client/./node_modules/d3-selection/src/selection/selectChild.js","webpack://client/./node_modules/d3-selection/src/selection/selectChildren.js","webpack://client/./node_modules/d3-selection/src/selection/sparse.js","webpack://client/./node_modules/d3-selection/src/selection/enter.js","webpack://client/./node_modules/d3-selection/src/selection/data.js","webpack://client/./node_modules/d3-selection/src/selection/sort.js","webpack://client/./node_modules/d3-selection/src/namespaces.js","webpack://client/./node_modules/d3-selection/src/namespace.js","webpack://client/./node_modules/d3-selection/src/selection/attr.js","webpack://client/./node_modules/d3-selection/src/window.js","webpack://client/./node_modules/d3-selection/src/selection/style.js","webpack://client/./node_modules/d3-selection/src/selection/property.js","webpack://client/./node_modules/d3-selection/src/selection/classed.js","webpack://client/./node_modules/d3-selection/src/selection/text.js","webpack://client/./node_modules/d3-selection/src/selection/html.js","webpack://client/./node_modules/d3-selection/src/selection/raise.js","webpack://client/./node_modules/d3-selection/src/selection/lower.js","webpack://client/./node_modules/d3-selection/src/creator.js","webpack://client/./node_modules/d3-selection/src/selection/insert.js","webpack://client/./node_modules/d3-selection/src/selection/remove.js","webpack://client/./node_modules/d3-selection/src/selection/clone.js","webpack://client/./node_modules/d3-selection/src/selection/on.js","webpack://client/./node_modules/d3-selection/src/selection/dispatch.js","webpack://client/./node_modules/d3-selection/src/selection/index.js","webpack://client/./node_modules/d3-selection/src/selection/select.js","webpack://client/./node_modules/d3-selection/src/selection/selectAll.js","webpack://client/./node_modules/d3-selection/src/array.js","webpack://client/./node_modules/d3-selection/src/selection/filter.js","webpack://client/./node_modules/d3-selection/src/constant.js","webpack://client/./node_modules/d3-selection/src/selection/exit.js","webpack://client/./node_modules/d3-selection/src/selection/join.js","webpack://client/./node_modules/d3-selection/src/selection/merge.js","webpack://client/./node_modules/d3-selection/src/selection/order.js","webpack://client/./node_modules/d3-selection/src/selection/call.js","webpack://client/./node_modules/d3-selection/src/selection/nodes.js","webpack://client/./node_modules/d3-selection/src/selection/node.js","webpack://client/./node_modules/d3-selection/src/selection/size.js","webpack://client/./node_modules/d3-selection/src/selection/empty.js","webpack://client/./node_modules/d3-selection/src/selection/each.js","webpack://client/./node_modules/d3-selection/src/selection/append.js","webpack://client/./node_modules/d3-selection/src/selection/datum.js","webpack://client/./node_modules/d3-selection/src/selection/iterator.js","webpack://client/./node_modules/d3-dispatch/src/dispatch.js","webpack://client/./node_modules/d3-timer/src/timer.js","webpack://client/./node_modules/d3-timer/src/timeout.js","webpack://client/./node_modules/d3-transition/src/transition/schedule.js","webpack://client/./node_modules/d3-interpolate/src/number.js","webpack://client/./node_modules/d3-interpolate/src/transform/decompose.js","webpack://client/./node_modules/d3-interpolate/src/transform/parse.js","webpack://client/./node_modules/d3-interpolate/src/transform/index.js","webpack://client/./node_modules/d3-transition/src/transition/tween.js","webpack://client/./node_modules/d3-color/src/define.js","webpack://client/./node_modules/d3-color/src/color.js","webpack://client/./node_modules/d3-interpolate/src/basis.js","webpack://client/./node_modules/d3-interpolate/src/constant.js","webpack://client/./node_modules/d3-interpolate/src/color.js","webpack://client/./node_modules/d3-interpolate/src/rgb.js","webpack://client/./node_modules/d3-interpolate/src/basisClosed.js","webpack://client/./node_modules/d3-interpolate/src/string.js","webpack://client/./node_modules/d3-transition/src/transition/interpolate.js","webpack://client/./node_modules/d3-transition/src/transition/attr.js","webpack://client/./node_modules/d3-transition/src/transition/attrTween.js","webpack://client/./node_modules/d3-transition/src/transition/delay.js","webpack://client/./node_modules/d3-transition/src/transition/duration.js","webpack://client/./node_modules/d3-transition/src/transition/selection.js","webpack://client/./node_modules/d3-transition/src/transition/style.js","webpack://client/./node_modules/d3-transition/src/transition/index.js","webpack://client/./node_modules/d3-transition/src/transition/select.js","webpack://client/./node_modules/d3-transition/src/transition/selectAll.js","webpack://client/./node_modules/d3-transition/src/transition/filter.js","webpack://client/./node_modules/d3-transition/src/transition/merge.js","webpack://client/./node_modules/d3-transition/src/transition/transition.js","webpack://client/./node_modules/d3-transition/src/transition/on.js","webpack://client/./node_modules/d3-transition/src/transition/styleTween.js","webpack://client/./node_modules/d3-transition/src/transition/text.js","webpack://client/./node_modules/d3-transition/src/transition/textTween.js","webpack://client/./node_modules/d3-transition/src/transition/remove.js","webpack://client/./node_modules/d3-transition/src/transition/ease.js","webpack://client/./node_modules/d3-transition/src/transition/easeVarying.js","webpack://client/./node_modules/d3-transition/src/transition/end.js","webpack://client/./node_modules/d3-transition/src/selection/transition.js","webpack://client/./node_modules/d3-ease/src/cubic.js","webpack://client/./node_modules/d3-transition/src/selection/index.js","webpack://client/./node_modules/d3-transition/src/selection/interrupt.js","webpack://client/./node_modules/d3-transition/src/interrupt.js","webpack://client/./node_modules/d3-brush/src/brush.js","webpack://client/./node_modules/d3-zoom/src/transform.js","webpack://client/webpack/bootstrap","webpack://client/webpack/runtime/define property getters","webpack://client/webpack/runtime/ensure chunk","webpack://client/webpack/runtime/get javascript chunk filename","webpack://client/webpack/runtime/global","webpack://client/webpack/runtime/hasOwnProperty shorthand","webpack://client/webpack/runtime/make namespace object","webpack://client/webpack/runtime/publicPath","webpack://client/webpack/runtime/jsonp chunk loading","webpack://client/webpack/startup"],"sourcesContent":["var webpackQueues = typeof Symbol === \"function\" ? Symbol(\"webpack queues\") : \"__webpack_queues__\";\nvar webpackExports = typeof Symbol === \"function\" ? Symbol(\"webpack exports\") : \"__webpack_exports__\";\nvar webpackError = typeof Symbol === \"function\" ? Symbol(\"webpack error\") : \"__webpack_error__\";\nvar resolveQueue = (queue) => {\n\tif(queue && queue.d < 1) {\n\t\tqueue.d = 1;\n\t\tqueue.forEach((fn) => (fn.r--));\n\t\tqueue.forEach((fn) => (fn.r-- ? fn.r++ : fn()));\n\t}\n}\nvar wrapDeps = (deps) => (deps.map((dep) => {\n\tif(dep !== null && typeof dep === \"object\") {\n\t\tif(dep[webpackQueues]) return dep;\n\t\tif(dep.then) {\n\t\t\tvar queue = [];\n\t\t\tqueue.d = 0;\n\t\t\tdep.then((r) => {\n\t\t\t\tobj[webpackExports] = r;\n\t\t\t\tresolveQueue(queue);\n\t\t\t}, (e) => {\n\t\t\t\tobj[webpackError] = e;\n\t\t\t\tresolveQueue(queue);\n\t\t\t});\n\t\t\tvar obj = {};\n\t\t\tobj[webpackQueues] = (fn) => (fn(queue));\n\t\t\treturn obj;\n\t\t}\n\t}\n\tvar ret = {};\n\tret[webpackQueues] = x => {};\n\tret[webpackExports] = dep;\n\treturn ret;\n}));\n__webpack_require__.a = (module, body, hasAwait) => {\n\tvar queue;\n\thasAwait && ((queue = []).d = -1);\n\tvar depQueues = new Set();\n\tvar exports = module.exports;\n\tvar currentDeps;\n\tvar outerResolve;\n\tvar reject;\n\tvar promise = new Promise((resolve, rej) => {\n\t\treject = rej;\n\t\touterResolve = resolve;\n\t});\n\tpromise[webpackExports] = exports;\n\tpromise[webpackQueues] = (fn) => (queue && fn(queue), depQueues.forEach(fn), promise[\"catch\"](x => {}));\n\tmodule.exports = promise;\n\tbody((deps) => {\n\t\tcurrentDeps = wrapDeps(deps);\n\t\tvar fn;\n\t\tvar getResult = () => (currentDeps.map((d) => {\n\t\t\tif(d[webpackError]) throw d[webpackError];\n\t\t\treturn d[webpackExports];\n\t\t}))\n\t\tvar promise = new Promise((resolve) => {\n\t\t\tfn = () => (resolve(getResult));\n\t\t\tfn.r = 0;\n\t\t\tvar fnQueue = (q) => (q !== queue && !depQueues.has(q) && (depQueues.add(q), q && !q.d && (fn.r++, q.push(fn))));\n\t\t\tcurrentDeps.map((dep) => (dep[webpackQueues](fnQueue)));\n\t\t});\n\t\treturn fn.r ? promise : getResult();\n\t}, (err) => ((err ? reject(promise[webpackError] = err) : outerResolve(exports)), resolveQueue(queue)));\n\tqueue && queue.d < 0 && (queue.d = 0);\n};","var inProgress = {};\nvar dataWebpackPrefix = \"client:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","import { RadixDappToolkit, DataRequestBuilder, RadixNetwork } from '@radixdlt/radix-dapp-toolkit'\r\nimport * as d3 from 'd3';\r\nimport { Chart, registerables } from 'chart.js';\r\nChart.register(...registerables);\r\n\r\n\r\n// You can create a dApp definition in the dev console at https://stokenet-console.radixdlt.com/dapp-metadata \r\n// then use that account for your dAppId\r\n\r\nconst dAppId = 'account_tdx_2_12yjctk8r4csusav9c7z9a7j9vahmnnhnht5ym2ffngh9rqyajsgsdd'\r\nlet stabIdAddress = \"resource_tdx_2_1ngnptx4ly75dwcv2knf6cp957qfjjprsz90kc8qmqh4ttamj4a2as3\" //still need\r\nlet componentAddress = \"component_tdx_2_1cq9z3rpmt2vruwkqault43q640pshekt32tndn0dzkfrrwujhlhfgr\"\r\nlet stabComponentAddress = \"component_tdx_2_1czdep00tnsy9js8atnc6u3v472nxgjmk5j6prtzfw56ttz9fdk9a8n\"\r\nlet poolComponentAddress = \"component_tdx_2_1cqugvczcd8fpy84t3dn6rp799k37akrfzedarwxmdhfs5azhkyzefl\"\r\nlet poolAddress = \"pool_tdx_2_1ckcazvgthuenzzgmg57ypu5np60n4z53gcfwgj97dzzzwk080zvyj7\"\r\nlet stabAddress = \"resource_tdx_2_1t5tj80eezjkzeetr6y949u0zncef802n3nj89ufa9qudfuup48vfta\"\r\nlet cdpAddress = \"resource_tdx_2_1n2w8fs9w8h2my3gk4ew9md27lsk9zqwfu3glh0gu2a9vfqza6v5f5f\"\r\nlet ctrlBadgeAddress = \"resource_tdx_2_1t5nf9gq7gv4xu454dt7f2h8xvklq7kh4nastnvs3cheq9zjn3xm8lv\"\r\nlet xrdAddress = \"resource_tdx_2_1tknxxxxxxxxxradxrdxxxxxxxxx009923554798xxxxxxxxxtfd2jc\"\r\nlet ilisAddress = \"resource_tdx_2_1t4tsw7n2d0yfs27myw7x5khx00an2lwnvdsj9tyhkv3l8xvgn7mxdc\" //still need\r\nlet lpAddress = \"resource_tdx_2_1th4dw07e73vrshnxpfjld740499unfdwwsdwqayp8n4qdm57ckc8h2\"\r\nlet liqAddress = \"resource_tdx_2_1ntxtn0eemtwj0n5d2yjga4xtx7q3m8mspawt2c3j0t8dnypjtygv7n\"\r\nlet markerAddress = \"resource_tdx_2_1n2yuvhnnl3sp8wmysvue3xfenh32zz23y45472m82vrzpps09y8pwg\"\r\nlet stakingAddress = \"component_tdx_2_1cp3k6zm5xqgx0wcf0qtcndjzlxvpusdfpm4eq4838wuswn5h66j8px\" // still need\r\nlet accountAddress = \"account_tdx_2_129kt8327ulqyq0ahdh74plu0r23qn9jugxppehggtp27m9n063heec\"\r\nlet stakesKvs = \"internal_keyvaluestore_tdx_2_1kzphr34g06wgtygn5eppvtavyt4qptp4xn9y0uzwgdesh324zrl7yu\" // still need\r\nlet collateralsKvs = \"internal_keyvaluestore_tdx_2_1kp7gpwzhudc5xe96999ndnxyymzpcadwu78uanug2ses7wjq8qrmpf\"\r\nlet xrdKeyHex = \"5c805da66318c6318c61f5a61b4c6318c6318cf794aa8d295f14e6318c6318c6\"\r\nlet kvsHexes = [\"5c805d78ab93fb11d006a1df76c2f432fc9e7db5f1c5d3931900a25ac8298ce3\", \"5c805d57077a6a6bc8982bdb23bc6a5ae67bfb357dd3636122ac97b323f39988\"]\r\nconst acceptedResources = [[\"XRD\", \"resource_tdx_2_1tknxxxxxxxxxradxrdxxxxxxxxx009923554798xxxxxxxxxtfd2jc\", \"\", \"images/radix-logo.svg\", 1, 'XRD', 0],\r\n[\"Hermes LSU\", \"resource_tdx_2_1th9k30slgu9uekfu42llstgcq80dx8d59hxgexe5hdaqzyp8etc2dv\", \"validator_tdx_2_1s0l6946a2kx33vjmuuh3qrax3ueauznd2fc3d69md2exx29rcnjmnj\", \"https://hermesprotocol.io/assets/images/icon.svg\", 1, 'LSU', 0],\r\n[\"Radst0kes LSU\", \"resource_tdx_2_1thutwwmqwk6z4vyju8v0fhdlxdhgj2h7kgc8822cfsdeyjp7e5j3hd\", \"validator_tdx_2_1sdvnyupyl2atq72f5lsq7lcyw3cc4vnevf05yvtemn5c8fyncvv3xw\", \"images/radstokes-logo.png\", 1, 'LSU', 0]]\r\nlet selectedText;\r\nlet xrdPrice;\r\nlet interestRate;\r\nlet stab_ids = [];\r\nlet cdp_ids = [];\r\nlet marker_ids = [];\r\nlet cdpIds;\r\nlet cdpWaitingAmount;\r\nlet cdpWaitingIds;\r\nlet lpAmountId;\r\nlet lpWaitingAmount;\r\nlet ilisAmountId;\r\nlet ilisWaitingAmount;\r\nlet nextClaim;\r\nlet currentPeriod;\r\nlet stabXrdRatio;\r\nlet internalPrice;\r\nlet validatorMultiplier;\r\nlet walletIlis;\r\nlet walletXrd;\r\nlet walletLp;\r\nlet walletStab;\r\nlet balance;\r\nlet formattedWallet;\r\nlet formattedRemoveLp;\r\nlet formattedProvideStab;\r\nlet xrdPoolAmount;\r\nlet stabPoolAmount;\r\nlet fee = 0.001;\r\nlet sell = true;\r\nlet idSupplied = false;\r\nlet stakeRewards;\r\nlet lpRewards;\r\nlet status;\r\nlet resourceAddress;\r\nlet debtAmount;\r\nlet parentAddress;\r\nlet collateralAmount;\r\nlet cr;\r\nlet markedId;\r\nlet markedTime;\r\nlet markerUsed;\r\nlet markerDate;\r\nlet selectedCollateral;\r\nlet availableCollateral;\r\nlet selectedCdp;\r\nlet selectedId;\r\nlet selectedMarker;\r\nlet weekAgoXrdPrice;\r\nlet weekAgoStabPrice;\r\nlet weekAgoLpPrice;\r\nlet mintAmount;\r\nlet markerUsable = false;\r\nlet upToDateCr;\r\nlet maxCr;\r\nlet maxCrDebt;\r\nlet newCrDebt;\r\nlet bigData;\r\nlet addingCollateral = true;\r\nlet newCr;\r\nlet liqNextStab;\r\nlet liqRewardAddress;\r\nlet bigFail;\r\nlet addingDebt = false;\r\nlet realInputDebt;\r\nlet realInputCol;\r\nlet cantLiqWithSkips;\r\n\r\nlet resourceAddresses = []\r\nlet validatorAddresses = []\r\n\r\nvar inputs = document.querySelectorAll('.decimal-only');\r\n\r\nwindow.onload = function () {\r\n    var inputs = document.getElementsByTagName('input');\r\n\r\n    for (var i = 0; i < inputs.length; i++) {\r\n        inputs[i].addEventListener('focus', function () {\r\n            if (this.value === '0') {\r\n                this.value = '';\r\n            }\r\n        });\r\n\r\n        inputs[i].addEventListener('blur', function () {\r\n            if (this.value === '') {\r\n                this.value = '0';\r\n            }\r\n        });\r\n\r\n        inputs[i].addEventListener('dragover', function (event) {\r\n            event.preventDefault();\r\n        });\r\n\r\n        inputs[i].addEventListener('drop', function (event) {\r\n            event.preventDefault();\r\n        });\r\n    }\r\n\r\n    positionElement();\r\n}\r\n\r\nwindow.onresize = function () {\r\n    positionElement();\r\n}\r\n\r\nfunction positionElement() {\r\n    var placeholder = document.getElementById('placeholder');\r\n    var buggedElement = document.getElementById('buggedElement');\r\n\r\n    var rect = placeholder.getBoundingClientRect();\r\n\r\n    var width = window.innerWidth;\r\n\r\n    if (width > 980) {\r\n        buggedElement.style.position = 'fixed';\r\n        buggedElement.style.top = rect.top - 10 + 'px';\r\n        buggedElement.style.left = rect.left - 129 + 'px';\r\n    } else {\r\n        buggedElement.style.position = 'fixed';\r\n        buggedElement.style.top = rect.top - 10 + 'px';\r\n        buggedElement.style.left = rect.left - 36 + 'px';\r\n    }\r\n\r\n\r\n    /*buggedElement.style.position = 'fixed';\r\n    buggedElement.style.top = '0px';\r\n    buggedElement.style.left = '0px';*/\r\n}\r\n\r\ninputs.forEach(function (input) {\r\n    input.addEventListener('input', function (evt) {\r\n        var value = this.value;\r\n        var decimalPos = value.indexOf('.');\r\n        if (isNaN(value) || (decimalPos != -1 && value.split('.')[1].length > 18)) {\r\n            this.value = value.substring(0, value.length - 1);\r\n        }\r\n    });\r\n});\r\n\r\ndocument.getElementById('hamburger').addEventListener('click', function () {\r\n    var navLinksHamburger = document.getElementById('navLinks-hamburger');\r\n    if (navLinksHamburger.style.display === 'none') {\r\n        navLinksHamburger.style.display = 'flex';\r\n    } else {\r\n        navLinksHamburger.style.display = 'none';\r\n    }\r\n});\r\n\r\n/*window.addEventListener('resize', function () {\r\n    var navLinksHamburger = document.getElementById('navLinks-hamburger');\r\n    if (window.innerWidth > 820) {\r\n        navLinksHamburger.style.display = 'none';\r\n    }\r\n});*/\r\n\r\nfunction updateSliderBackground(slider) {\r\n    const value = slider.value;\r\n    // Calculate the percentage of the thumb position\r\n    const percentage = (value - slider.min) / (slider.max - slider.min) * 100;\r\n    // Update the slider background style\r\n    slider.style.background = `linear-gradient(to right, #1BA9A0 0%, #2B6CCC ${percentage}%, #f2f2f2 ${percentage}%)`;\r\n}\r\n\r\nfunction toastMe(txId, action, kind) {\r\n    if (kind === 1) {\r\n        Toastify({\r\n            text: `${action} submitted successfully!`,\r\n            duration: 5000,\r\n            close: true,\r\n            gravity: \"top\", // `top` or `bottom`\r\n            position: \"right\", // `left`, `center` or `right`\r\n            stopOnFocus: true, // Prevents dismissing of toast on hover\r\n            style: {\r\n                background: \"linear-gradient(90deg, rgba(65,58,179,1) 0%, rgba(90,90,172,1) 41%, rgba(118,133,180,1) 100%)\",\r\n            },\r\n            onClick: function () { } // Callback after click\r\n        }).showToast();\r\n    } else if (kind === 2) {\r\n        Toastify({\r\n            text: `${action} successful! Click for more info.`,\r\n            duration: 5000,\r\n            destination: `https://stokenet-dashboard.radixdlt.com/transaction/${txId}`,\r\n            newWindow: true,\r\n            close: true,\r\n            gravity: \"top\", // `top` or `bottom`\r\n            position: \"right\", // `left`, `center` or `right`\r\n            stopOnFocus: true, // Prevents dismissing of toast on hover\r\n            style: {\r\n                background: \"linear-gradient(90deg, rgba(86,130,80,1) 0%, rgba(94,172,90,1) 41%, rgba(124,180,118,1) 100%)\",\r\n            },\r\n            onClick: function () { } // Callback after click\r\n        }).showToast();\r\n    } else if (kind === 3) {\r\n        Toastify({\r\n            text: \"Transaction failed.\",\r\n            duration: 5000,\r\n            newWindow: true,\r\n            close: true,\r\n            gravity: \"top\", // `top` or `bottom`\r\n            position: \"right\", // `left`, `center` or `right`\r\n            stopOnFocus: true, // Prevents dismissing of toast on hover\r\n            style: {\r\n                background: \"linear-gradient(90deg, rgba(152,67,67,1) 0%, rgba(177,72,72,1) 41%, rgba(227,90,90,1) 100%)\",\r\n            },\r\n            onClick: function () { } // Callback after click\r\n        }).showToast();\r\n    }\r\n\r\n}\r\n\r\nfunction getUpToDateCr(currentCollateralAmount, currentDebtAmount, validatorMultiplier) {\r\n    return (xrdPrice * (currentCollateralAmount / currentDebtAmount)) / (validatorMultiplier * internalPrice);\r\n}\r\n\r\nfunction getNecessaryCollateral(debtAmount, cr, validatorMultiplier) {\r\n    return (debtAmount * internalPrice * cr * validatorMultiplier) / (xrdPrice);\r\n}\r\n\r\nfunction getNecessaryStab(collateralAmount, cr, validatorMultiplier) {\r\n    return (collateralAmount * xrdPrice) / (cr * internalPrice * validatorMultiplier);\r\n}\r\n\r\nfunction setChevron(customContent) {\r\n    var dropdownCustom = customContent.parentElement;\r\n    var customButton = dropdownCustom.querySelector('.dropdown-custom-button');\r\n    var chevronDown = customButton.querySelector('.chevron-down');\r\n    var chevronUp = customButton.querySelector('.chevron-up');\r\n\r\n    if (customContent.style.display === 'none') {\r\n        chevronDown.style.display = 'block';\r\n        chevronUp.style.display = 'none';\r\n    } else {\r\n        chevronDown.style.display = 'none';\r\n        chevronUp.style.display = 'block';\r\n    }\r\n}\r\n\r\nfunction setChevronNoButton(customContent) {\r\n    var customButton = customContent;\r\n    var chevronDown = customButton.querySelector('.chevron-down');\r\n    var chevronUp = customButton.querySelector('.chevron-up');\r\n    var text = customButton.querySelector('.info-text');\r\n\r\n    if (text.style.display === 'none') {\r\n        chevronDown.style.display = 'none';\r\n        chevronUp.style.display = 'block';\r\n        text.style.display = 'block';\r\n    } else {\r\n        chevronDown.style.display = 'block';\r\n        chevronUp.style.display = 'none';\r\n        text.style.display = 'none';\r\n    }\r\n}\r\n\r\nfunction setSwapButton() {\r\n    var swapButton = document.getElementById('sell');\r\n    var enable = true;\r\n    if (isConnected == false) {\r\n        enable = false;\r\n    } else if (sell == true && parseFloat(document.getElementById('amount-sell').value) > walletXrd) {\r\n        enable = false;\r\n    } else if (sell == false && parseFloat(document.getElementById('amount-sell').value) > walletStab) {\r\n        enable = false;\r\n    } else if (document.getElementById('amount-sell').value == '') {\r\n        enable = false;\r\n    } else if (parseFloat(document.getElementById('amount-sell').value) == 0) {\r\n        enable = false;\r\n    }\r\n\r\n    if (enable) {\r\n        document.getElementById('swap-warning').style.display = 'none';\r\n        swapButton.style.backgroundColor = \"\";\r\n        swapButton.disabled = false;\r\n    } else {\r\n        swapButton.style.backgroundColor = \"hsl(0, 0%, 0%)\";\r\n        swapButton.disabled = true;\r\n    }\r\n}\r\n\r\nfunction setProvideButton() {\r\n    var provideButton = document.getElementById('provide');\r\n    var enable = true;\r\n    if (isConnected == false) {\r\n        enable = false;\r\n    } else if (parseFloat(document.getElementById('amount-stab-provide-lp').value) > walletStab) {\r\n        enable = false;\r\n    } else if (parseFloat(document.getElementById('amount-xrd-provide-lp').value) > walletXrd) {\r\n        enable = false;\r\n    } else if (document.getElementById('amount-xrd-provide-lp').value == '' || document.getElementById('amount-stab-provide-lp').value == '') {\r\n        enable = false;\r\n    } else if (parseFloat(document.getElementById('amount-xrd-provide-lp').value) == 0 || parseFloat(document.getElementById('amount-stab-provide-lp').value) == 0) {\r\n        enable = false;\r\n    }\r\n\r\n    if (enable) {\r\n        provideButton.style.backgroundColor = \"\";\r\n        provideButton.disabled = false;\r\n    } else {\r\n        provideButton.style.backgroundColor = \"hsl(0, 0%, 0%)\";\r\n        provideButton.disabled = true;\r\n    }\r\n}\r\n\r\nfunction setRemoveLpButton() {\r\n    var button = document.getElementById('remove');\r\n    var enable = true;\r\n    if (isConnected == false) {\r\n        enable = false;\r\n    } else if (parseFloat(document.getElementById('amount-remove-lp').value) > walletLp) {\r\n        enable = false;\r\n    } else if (document.getElementById('amount-remove-lp').value == '') {\r\n        enable = false;\r\n    } else if (parseFloat(document.getElementById('amount-remove-lp').value) == 0) {\r\n        enable = false;\r\n    }\r\n\r\n    if (enable) {\r\n        button.style.backgroundColor = \"\";\r\n        button.disabled = false;\r\n    } else {\r\n        button.style.backgroundColor = \"hsl(0, 0%, 0%)\";\r\n        button.disabled = true;\r\n    }\r\n}\r\n\r\nfunction setBorrowButton() {\r\n    var button = document.getElementById('mint-button');\r\n    var enable = true;\r\n    if (isConnected == false) {\r\n        enable = false;\r\n    } else if (parseFloat(document.getElementById('colToUse').value) > availableCollateral) {\r\n        enable = false;\r\n    } else if (document.getElementById('colToUse').value == '') {\r\n        enable = false;\r\n    } else if (parseFloat(document.getElementById('colToUse').value) == 0) {\r\n        enable = false;\r\n    } else if (mintAmount < 1) {\r\n        enable = false;\r\n    }\r\n\r\n    if (enable) {\r\n        button.style.backgroundColor = \"\";\r\n        button.disabled = false;\r\n    } else {\r\n        button.style.backgroundColor = \"hsl(0, 0%, 0%)\";\r\n        button.disabled = true;\r\n    }\r\n}\r\n\r\nfunction setCloseLoanButton() {\r\n    var button = document.getElementById('close-entire-button');\r\n    var enable = true;\r\n    var message = \"\";\r\n    if (isConnected == false) {\r\n        enable = false;\r\n    } else if (parseFloat(debtAmount) > walletStab) {\r\n        enable = false;\r\n        message = \"Insufficient STAB to close loan.\";\r\n    } else if (selectedCdp == undefined) {\r\n        enable = false;\r\n    } else if (status == \"Marked\") {\r\n        enable = false;\r\n        message = \"Cannot close marked loans.\";\r\n    }\r\n\r\n    if (enable) {\r\n        button.style.backgroundColor = \"\";\r\n        button.disabled = false;\r\n        document.getElementById('warning-message-close').style.display = 'none';\r\n    } else {\r\n        button.style.backgroundColor = \"hsl(0, 0%, 0%)\";\r\n        button.disabled = true;\r\n        if (message != \"\") {\r\n            document.getElementById('message-close').textContent = message;\r\n            document.getElementById('warning-message-close').style.display = 'block';\r\n        }\r\n    }\r\n}\r\n\r\nfunction setAddColButton() {\r\n    var sliderCol = document.getElementById('slider-col');\r\n    updateSliderBackground(sliderCol);\r\n    var button = document.getElementById('add-col-button');\r\n    var enable = true;\r\n    var onlyButton = false;\r\n    var zeroInput = false;\r\n    if (isConnected == false) {\r\n        enable = false;\r\n    } else if (selectedCdp == undefined) {\r\n        enable = false;\r\n    } else if (status == \"Liquidated\" || status == \"ForceLiquidated\" || status == \"Closed\") {\r\n        enable = false;\r\n    } else if (parseFloat(document.getElementById('amount-to-remove').value) > availableCollateral) {\r\n        enable = false;\r\n        onlyButton = true;\r\n    } else if (newCr < 150) {\r\n        enable = false;\r\n        onlyButton = true;\r\n    } else if (document.getElementById('amount-to-remove').value == '' || parseFloat(document.getElementById('amount-to-remove').value) == 0) {\r\n        enable = false;\r\n        onlyButton = true;\r\n        zeroInput = true;\r\n    }\r\n\r\n    if (enable) {\r\n        button.style.backgroundColor = \"\";\r\n        button.disabled = false;\r\n        document.getElementById('slider-col').disabled = false;\r\n        document.getElementById('amount-to-remove').disabled = false;\r\n        document.getElementById('max-new-cr').disabled = false;\r\n        document.getElementById('new-cr').style.color = \"\";\r\n        document.getElementById('max-new-cr').style.cursor = \"pointer\";\r\n        document.getElementById('max-new-cr').style.fontWeight = \"\";\r\n    } else {\r\n        button.style.backgroundColor = \"hsl(0, 0%, 0%)\";\r\n        button.disabled = true;\r\n        if (onlyButton == false) {\r\n            document.getElementById('new-cr').style.color = \"\";\r\n            document.getElementById('slider-col').disabled = true;\r\n            document.getElementById('amount-to-remove').disabled = true;\r\n            document.getElementById('max-new-cr').disabled = true;\r\n            document.getElementById('max-new-cr').style.cursor = \"default\";\r\n            document.getElementById('new-cr').textContent = \"New CR: -\";\r\n            document.getElementById('max-new-cr').textContent = \"Max CR: -\";\r\n            document.getElementById('max-new-cr').style.fontWeight = \"normal\";\r\n        }\r\n        if (onlyButton == true) {\r\n            if (zeroInput == true) {\r\n                document.getElementById('new-cr').style.color = \"\";\r\n            } else {\r\n                document.getElementById('new-cr').style.color = \"red\";\r\n            }\r\n            document.getElementById('max-new-cr').style.cursor = \"pointer\";\r\n            document.getElementById('max-new-cr').style.fontWeight = \"\";\r\n            document.getElementById('slider-col').disabled = false;\r\n            document.getElementById('amount-to-remove').disabled = false;\r\n            document.getElementById('max-new-cr').disabled = false;\r\n        }\r\n    }\r\n}\r\n\r\nfunction setRemoveColButton() {\r\n    var sliderCol = document.getElementById('slider-col');\r\n    updateSliderBackground(sliderCol);\r\n    document.getElementById('new-cr').style.color = \"\";\r\n    var button = document.getElementById('remove-col-button');\r\n    var enable = true;\r\n    var message = \"\";\r\n    var onlyButton = false;\r\n    var zeroInput = false;\r\n    if (isConnected == false) {\r\n        enable = false;\r\n    } else if (selectedCdp == undefined) {\r\n        enable = false;\r\n    } else if (status == \"Liquidated\" || status == \"ForceLiquidated\" || status == \"Closed\") {\r\n        enable = false;\r\n    } else if (newCr < 150) {\r\n        enable = false;\r\n        onlyButton = true;\r\n        document.getElementById('new-cr').style.color = \"red\";\r\n    } else if (document.getElementById('amount-to-remove').value == '' || parseFloat(document.getElementById('amount-to-remove').value) == 0) {\r\n        enable = false;\r\n        onlyButton = true;\r\n        zeroInput = true;\r\n    }\r\n\r\n    if (enable) {\r\n        button.style.backgroundColor = \"\";\r\n        button.disabled = false;\r\n        document.getElementById('slider-col').disabled = false;\r\n        document.getElementById('amount-to-remove').disabled = false;\r\n        document.getElementById('max-new-cr').disabled = false;\r\n        document.getElementById('max-new-cr').style.cursor = \"pointer\";\r\n        document.getElementById('max-new-cr').style.fontWeight = \"\";\r\n    } else {\r\n        button.style.backgroundColor = \"hsl(0, 0%, 0%)\";\r\n        button.disabled = true;\r\n        if (onlyButton == false) {\r\n            document.getElementById('new-cr').style.color = \"\";\r\n            document.getElementById('slider-col').disabled = true;\r\n            document.getElementById('amount-to-remove').disabled = true;\r\n            document.getElementById('max-new-cr').disabled = true;\r\n            document.getElementById('max-new-cr').style.cursor = \"default\";\r\n            document.getElementById('new-cr').textContent = \"New CR: -\";\r\n            document.getElementById('max-new-cr').textContent = \"Max CR: -\";\r\n            document.getElementById('max-new-cr').style.fontWeight = \"normal\";\r\n        }\r\n        if (onlyButton == true) {\r\n            if (zeroInput == true) {\r\n                document.getElementById('new-cr').style.color = \"\";\r\n            } else {\r\n                document.getElementById('new-cr').style.color = \"red\";\r\n            }\r\n            document.getElementById('max-new-cr').style.cursor = \"pointer\";\r\n            document.getElementById('max-new-cr').style.fontWeight = \"\";\r\n            document.getElementById('slider-col').disabled = false;\r\n            if (newCr < 150) {\r\n                document.getElementById('amount-to-remove').disabled = true;\r\n            } else {\r\n                document.getElementById('amount-to-remove').disabled = false;\r\n            }\r\n            document.getElementById('max-new-cr').disabled = false;\r\n            console.log(\"only button\");\r\n        }\r\n    }\r\n}\r\n\r\nfunction setRemoveDebtButton() {\r\n    document.getElementById('new-cr-debt').style.color = \"\";\r\n    var sliderDebt = document.getElementById('slider-debt');\r\n    updateSliderBackground(sliderDebt);\r\n    var button = document.getElementById('add-debt-button');\r\n    var enable = true;\r\n    var onlyButton = false;\r\n    var zeroInput = false;\r\n    if (isConnected == false) {\r\n        enable = false;\r\n    } else if (selectedCdp == undefined) {\r\n        enable = false;\r\n    } else if (status == \"Liquidated\" || status == \"ForceLiquidated\" || status == \"Closed\") {\r\n        enable = false;\r\n    } else if (parseFloat(document.getElementById('amount-to-remove-debt').value) > walletStab) {\r\n        enable = false;\r\n        onlyButton = true;\r\n    } else if (newCrDebt < 150) {\r\n        enable = false;\r\n        onlyButton = true;\r\n        document.getElementById('new-cr-debt').style.color = \"red\";\r\n    } else if (document.getElementById('amount-to-remove-debt').value == '' || parseFloat(document.getElementById('amount-to-remove-debt').value) == 0) {\r\n        enable = false;\r\n        onlyButton = true;\r\n        zeroInput = true;\r\n    }\r\n\r\n    if (enable) {\r\n        button.style.backgroundColor = \"\";\r\n        button.disabled = false;\r\n        document.getElementById('slider-debt').disabled = false;\r\n        document.getElementById('amount-to-remove-debt').disabled = false;\r\n        document.getElementById('max-new-cr-debt').disabled = false;\r\n        document.getElementById('new-cr-debt').style.color = \"\";\r\n        document.getElementById('max-new-cr-debt').style.cursor = \"pointer\";\r\n        document.getElementById('max-new-cr-debt').style.fontWeight = \"\";\r\n    } else {\r\n        button.style.backgroundColor = \"hsl(0, 0%, 0%)\";\r\n        button.disabled = true;\r\n        if (onlyButton == false) {\r\n            document.getElementById('slider-debt').disabled = true;\r\n            document.getElementById('amount-to-remove-debt').disabled = true;\r\n            document.getElementById('max-new-cr-debt').disabled = true;\r\n            document.getElementById('max-new-cr-debt').style.cursor = \"default\";\r\n            document.getElementById('new-cr-debt').textContent = \"New CR: -\";\r\n            document.getElementById('max-new-cr-debt').textContent = \"Max CR: -\";\r\n            document.getElementById('max-new-cr-debt').style.fontWeight = \"normal\";\r\n        }\r\n        if (onlyButton == true) {\r\n            document.getElementById('max-new-cr-debt').style.cursor = \"pointer\";\r\n            document.getElementById('max-new-cr-debt').style.fontWeight = \"\";\r\n            document.getElementById('slider-debt').disabled = false;\r\n            document.getElementById('amount-to-remove-debt').disabled = false;\r\n            document.getElementById('max-new-cr-debt').disabled = false;\r\n        }\r\n    }\r\n}\r\n\r\nfunction setAddDebtButton() {\r\n    var sliderDebt = document.getElementById('slider-debt');\r\n    updateSliderBackground(sliderDebt);\r\n    var button = document.getElementById('remove-debt-button');\r\n    var enable = true;\r\n    var onlyButton = false;\r\n    document.getElementById('new-cr-debt').style.color = \"\";\r\n    if (isConnected == false) {\r\n        enable = false;\r\n    } else if (selectedCdp == undefined) {\r\n        enable = false;\r\n    } else if (status == \"Liquidated\" || status == \"ForceLiquidated\" || status == \"Closed\") {\r\n        enable = false;\r\n    } else if (parseFloat(document.getElementById('amount-to-remove-debt').value) > walletStab) {\r\n        enable = false;\r\n        onlyButton = true;\r\n    } else if (newCrDebt < 150) {\r\n        enable = false;\r\n        onlyButton = true;\r\n        document.getElementById('new-cr-debt').style.color = \"red\";\r\n    } else if (document.getElementById('amount-to-remove-debt').value == '' || parseFloat(document.getElementById('amount-to-remove-debt').value) == 0) {\r\n        enable = false;\r\n        onlyButton = true;\r\n    }\r\n\r\n    if (enable) {\r\n        button.style.backgroundColor = \"\";\r\n        button.disabled = false;\r\n        document.getElementById('slider-debt').disabled = false;\r\n        document.getElementById('amount-to-remove-debt').disabled = false;\r\n        document.getElementById('max-new-cr-debt').disabled = false;\r\n        document.getElementById('max-new-cr-debt').style.cursor = \"pointer\";\r\n        document.getElementById('max-new-cr-debt').style.fontWeight = \"\";\r\n    } else {\r\n        button.style.backgroundColor = \"hsl(0, 0%, 0%)\";\r\n        button.disabled = true;\r\n        if (onlyButton == false) {\r\n            document.getElementById('slider-debt').disabled = true;\r\n            document.getElementById('amount-to-remove-debt').disabled = true;\r\n            document.getElementById('max-new-cr-debt').disabled = true;\r\n            document.getElementById('max-new-cr-debt').style.cursor = \"default\";\r\n            document.getElementById('new-cr-debt').textContent = \"New CR: -\";\r\n            document.getElementById('max-new-cr-debt').textContent = \"Max CR: -\";\r\n            document.getElementById('max-new-cr-debt').style.fontWeight = \"normal\";\r\n        }\r\n        if (onlyButton == true) {\r\n            document.getElementById('max-new-cr-debt').style.cursor = \"pointer\";\r\n            document.getElementById('max-new-cr-debt').style.fontWeight = \"\";\r\n            document.getElementById('slider-debt').disabled = false;\r\n            if (newCrDebt < 150) {\r\n                document.getElementById('amount-to-remove-debt').disabled = true;\r\n            } else {\r\n                document.getElementById('amount-to-remove-debt').disabled = false;\r\n            }\r\n            document.getElementById('max-new-cr-debt').disabled = false;\r\n        }\r\n    }\r\n}\r\n\r\nfunction setMarkLiqButton() {\r\n    var button = document.getElementById('liqwithmark');\r\n    var enable = true;\r\n    var message = \"\";\r\n    if (isConnected == false) {\r\n        enable = false;\r\n    } else if (parseFloat(debtAmount) > walletStab) {\r\n        enable = false;\r\n        message = \"Insufficient STAB to liquidate loan.\";\r\n    } else if (selectedMarker == undefined) {\r\n        enable = false;\r\n    } else if (document.getElementById('marker-state').textContent == \"Pending\") {\r\n        enable = false;\r\n    }\r\n\r\n    if (enable) {\r\n        button.style.backgroundColor = \"\";\r\n        button.disabled = false;\r\n        document.getElementById('warning-message-liq').style.display = 'none';\r\n    } else {\r\n        button.style.backgroundColor = \"hsl(0, 0%, 0%)\";\r\n        button.disabled = true;\r\n        document.getElementById('warning-message-liq').style.display = 'none';\r\n        if (message != \"\") {\r\n            document.getElementById('warning-message-liq').style.display = 'block';\r\n        }\r\n    }\r\n}\r\n\r\nfunction setNoMarkLiqButton() {\r\n    if (bigFail == true) {\r\n        return;\r\n    }\r\n    var button = document.getElementById('liqnextskip');\r\n    var enable = true;\r\n    var message = \"\";\r\n    if (isConnected == false) {\r\n        enable = false;\r\n    } else if (parseFloat(liqNextStab) > walletStab) {\r\n        enable = false;\r\n        message = \"Insufficient STAB to liquidate loan.\";\r\n    } else if (cantLiqWithSkips) {\r\n        enable = false;\r\n    }\r\n\r\n    if (enable) {\r\n        button.style.backgroundColor = \"\";\r\n        button.disabled = false;\r\n        document.getElementById('warning-liq-not-enough-stab').style.display = 'none';\r\n    } else {\r\n        button.style.backgroundColor = \"hsl(0, 0%, 0%)\";\r\n        button.disabled = true;\r\n        if (message != \"\") {\r\n            document.getElementById('warning-liq-not-enough-stab').style.display = 'block';\r\n        }\r\n    }\r\n}\r\n\r\nfunction calculateChange() {\r\n    setSwapButton();\r\n    var inputAmount = parseFloat(document.getElementById('amount-sell').value);\r\n    var parsedStabPoolAmount = parseFloat(stabPoolAmount);\r\n    var parsedXrdPoolAmount = parseFloat(xrdPoolAmount);\r\n    var percentage = document.getElementById('percentage-change');\r\n    if (isNaN(inputAmount)) {\r\n        inputAmount = 0;\r\n    }\r\n    if (sell == true) {\r\n        let outputAmount = (parsedStabPoolAmount * (1 - fee) * inputAmount)\r\n            / (parsedXrdPoolAmount + inputAmount * (1 - fee));\r\n        var newparsedXrdPoolAmount = parsedXrdPoolAmount + inputAmount;\r\n        var newparsedStabPoolAmount = parsedStabPoolAmount - outputAmount;\r\n        var percentageChange = ((((newparsedXrdPoolAmount / newparsedStabPoolAmount) - (parsedXrdPoolAmount / parsedStabPoolAmount)) / (parsedXrdPoolAmount / parsedStabPoolAmount))) * 100;\r\n        var idealRatio = internalPrice / xrdPrice;\r\n        if (parsedXrdPoolAmount / parsedStabPoolAmount > idealRatio) {\r\n            percentage.style.color = \"red\";\r\n        } else {\r\n            if (newparsedXrdPoolAmount / newparsedStabPoolAmount < idealRatio) {\r\n                percentage.style.color = \"green\";\r\n            } else {\r\n                percentage.style.color = \"red\";\r\n            }\r\n        }\r\n        document.getElementById('percentage-change').childNodes[0].nodeValue = \"+\" + percentageChange.toFixed(2) + \"%\";\r\n    } else {\r\n        let outputAmount = (parsedXrdPoolAmount * (1 - fee) * inputAmount)\r\n            / (parsedStabPoolAmount + inputAmount * (1 - fee));\r\n        var newparsedXrdPoolAmount = parseFloat(parsedXrdPoolAmount) - outputAmount;\r\n        var newparsedStabPoolAmount = parseFloat(parsedStabPoolAmount) + inputAmount;\r\n        var percentageChange = ((((newparsedStabPoolAmount / newparsedXrdPoolAmount) - (parsedStabPoolAmount / parsedXrdPoolAmount)) / (parsedStabPoolAmount / parsedXrdPoolAmount))) * 100;\r\n        var idealRatio = internalPrice / xrdPrice;\r\n        if (parsedXrdPoolAmount / parsedStabPoolAmount < idealRatio) {\r\n            percentage.style.color = \"red\";\r\n        } else {\r\n            if (newparsedXrdPoolAmount / newparsedStabPoolAmount > idealRatio) {\r\n                percentage.style.color = \"green\";\r\n            } else {\r\n                percentage.style.color = \"red\";\r\n            }\r\n        }\r\n        document.getElementById('percentage-change').childNodes[0].nodeValue = \"+\" + percentageChange.toFixed(2) + \"%\";\r\n    }\r\n}\r\n\r\nasync function checkMarking(amount) {\r\n    // URL to get the gateway status\r\n    const statusUrl = \"https://stokenet.radixdlt.com/status/gateway-status\";\r\n\r\n    const headers = {\r\n        \"Content-Type\": \"application/json\"\r\n    };\r\n\r\n    try {\r\n        // Fetch the gateway status to get the current epoch\r\n        const statusResponse = await fetch(statusUrl, {\r\n            method: 'POST',\r\n            headers: headers,\r\n            body: JSON.stringify({}) // Sending an empty body\r\n        });\r\n        const statusData = await statusResponse.json();\r\n\r\n        // Extract the current epoch\r\n        const currentEpoch = statusData.ledger_state.epoch;\r\n        const startEpochInclusive = currentEpoch;\r\n        const endEpochExclusive = currentEpoch + 2;\r\n\r\n        // URL to send the POST request to\r\n        const url = \"https://stokenet.radixdlt.com/transaction/preview\";\r\n\r\n        // Base manifest string\r\n        let manifestString = '';\r\n\r\n        // Repeat the specified part of the manifest\r\n        const repeatManifest = `\r\n            CALL_METHOD\r\n                Address(\"${componentAddress}\")\r\n                \"mark_for_liquidation\"\r\n                Address(\"resource_tdx_2_1tknxxxxxxxxxradxrdxxxxxxxxx009923554798xxxxxxxxxtfd2jc\")\r\n                ;\r\n            `;\r\n\r\n        for (let i = 0; i < amount; i++) {\r\n            manifestString += repeatManifest;\r\n        }\r\n\r\n        // Add the remaining part of the manifest\r\n        manifestString += `\r\n            CALL_METHOD\r\n                Address(\"account_tdx_2_168z9kn6xeg7s0m7qsgdf5wmvsh0v656ndkh295d8p4j5lu47ta5rnv\")\r\n                \"deposit_batch\"\r\n                Expression(\"ENTIRE_WORKTOP\");\r\n            `;\r\n\r\n        // JSON payload\r\n        const payload = {\r\n            \"manifest\": manifestString,\r\n            \"start_epoch_inclusive\": startEpochInclusive,\r\n            \"end_epoch_exclusive\": endEpochExclusive,\r\n            \"tip_percentage\": 0,\r\n            \"nonce\": 1,\r\n            \"signer_public_keys\": [\r\n                {\r\n                    \"key_type\": \"EcdsaSecp256k1\",\r\n                    \"key_hex\": \"0305684de356f5126befda977935827f6f74ca3b7865cd8516ca72ef7afc8c0e06\"\r\n                }\r\n            ],\r\n            \"flags\": {\r\n                \"use_free_credit\": true,\r\n                \"assume_all_signature_proofs\": true,\r\n                \"skip_epoch_check\": true,\r\n                \"disable_auth_checks\": true\r\n            }\r\n        };\r\n\r\n        // Send the POST request\r\n        const response = await fetch(url, {\r\n            method: 'POST',\r\n            headers: headers,\r\n            body: JSON.stringify(payload)\r\n        });\r\n\r\n        // Parse and save the response to a variable\r\n        const responseData = await response.json();\r\n        console.log(responseData);\r\n\r\n        // Log the response data\r\n        if (responseData.receipt.status === 'Succeeded') {\r\n            document.getElementById('warning-mark').style.display = 'none';\r\n            document.getElementById('mark').style.backgroundColor = \"\";\r\n            document.getElementById('mark').disabled = false;\r\n            bigFail = false;\r\n        } else {\r\n            document.getElementById('warning-mark').style.display = 'block';\r\n            document.getElementById('mark').style.backgroundColor = \"hsl(0, 0%, 0%)\";\r\n            document.getElementById('mark').disabled = true;\r\n            bigFail = true;\r\n        }\r\n\r\n        return responseData;\r\n    } catch (error) {\r\n        console.error(\"Error:\", error);\r\n        throw error;\r\n    }\r\n}\r\n\r\nasync function checkLiquidation(toSkip) {\r\n    // URL to get the gateway status\r\n    const statusUrl = \"https://stokenet.radixdlt.com/status/gateway-status\";\r\n\r\n    const headers = {\r\n        \"Content-Type\": \"application/json\"\r\n    };\r\n\r\n    try {\r\n        // Fetch the gateway status to get the current epoch\r\n        const statusResponse = await fetch(statusUrl, {\r\n            method: 'POST',\r\n            headers: headers,\r\n            body: JSON.stringify({}) // Sending an empty body\r\n        });\r\n        const statusData = await statusResponse.json();\r\n\r\n        // Extract the current epoch\r\n        const currentEpoch = statusData.ledger_state.epoch;\r\n        const startEpochInclusive = currentEpoch;\r\n        const endEpochExclusive = currentEpoch + 2;\r\n\r\n        // URL to send the POST request to\r\n        const url = \"https://stokenet.radixdlt.com/transaction/preview\";\r\n\r\n        // Repeat the specified part of the manifest\r\n        let manifest = `CALL_METHOD\r\n            Address(\"account_tdx_2_168z9kn6xeg7s0m7qsgdf5wmvsh0v656ndkh295d8p4j5lu47ta5rnv\")\r\n            \"create_proof_of_amount\"\r\n            Address(\"${ctrlBadgeAddress}\")\r\n            Decimal(\"0.75\");\r\n\r\n\r\n        CALL_METHOD\r\n            Address(\"${stabComponentAddress}\")\r\n            \"free_stab\"\r\n            Decimal(\"100000000\");\r\n\r\n        TAKE_ALL_FROM_WORKTOP\r\n            Address(\"${stabAddress}\")\r\n            Bucket(\"stab\");\r\n\r\n        CALL_METHOD\r\n            Address(\"${componentAddress}\")\r\n            \"liquidate_position_without_marker\"\r\n            Bucket(\"stab\")\r\n            true\r\n            ${toSkip}i64\r\n            NonFungibleLocalId(\"#0#\");\r\n\r\n        CALL_METHOD\r\n            Address(\"account_tdx_2_168z9kn6xeg7s0m7qsgdf5wmvsh0v656ndkh295d8p4j5lu47ta5rnv\")\r\n            \"deposit_batch\"\r\n            Expression(\"ENTIRE_WORKTOP\");\r\n            `;\r\n\r\n        // JSON payload\r\n        const payload = {\r\n            \"manifest\": manifest,\r\n            \"start_epoch_inclusive\": startEpochInclusive,\r\n            \"end_epoch_exclusive\": endEpochExclusive,\r\n            \"tip_percentage\": 0,\r\n            \"nonce\": 1,\r\n            \"signer_public_keys\": [\r\n                {\r\n                    \"key_type\": \"EcdsaSecp256k1\",\r\n                    \"key_hex\": \"0305684de356f5126befda977935827f6f74ca3b7865cd8516ca72ef7afc8c0e06\"\r\n                }\r\n            ],\r\n            \"flags\": {\r\n                \"use_free_credit\": true,\r\n                \"assume_all_signature_proofs\": true,\r\n                \"skip_epoch_check\": true,\r\n                \"disable_auth_checks\": true\r\n            }\r\n        };\r\n\r\n        // Send the POST request\r\n        const response = await fetch(url, {\r\n            method: 'POST',\r\n            headers: headers,\r\n            body: JSON.stringify(payload)\r\n        });\r\n\r\n        // Parse and save the response to a variable\r\n        const responseData = await response.json();\r\n\r\n        console.log(manifest);\r\n        console.log(responseData);\r\n\r\n        // Log the response data\r\n        if (responseData.receipt.status === 'Succeeded') {\r\n            cantLiqWithSkips = false;\r\n            document.getElementById('warning-liq').style.display = 'none';\r\n\r\n            const resourceChanges = responseData.resource_changes;\r\n\r\n            // Helper function to find amounts by resource address within the same parent\r\n            const findAmountsAndThirdResource = (resource1, resource2) => {\r\n                for (const change of resourceChanges) {\r\n                    const amounts = { [resource1]: null, [resource2]: null, thirdResource: { address: null, amount: null } };\r\n                    for (const resourceChange of change.resource_changes) {\r\n                        if (resourceChange.resource_address === resource1) {\r\n                            amounts[resource1] = resourceChange.amount;\r\n                        } else if (resourceChange.resource_address === resource2) {\r\n                            amounts[resource2] = resourceChange.amount;\r\n                        } else {\r\n                            amounts.thirdResource.address = resourceChange.resource_address;\r\n                            amounts.thirdResource.amount = resourceChange.amount;\r\n                        }\r\n                    }\r\n                    if (amounts[resource1] && amounts[resource2] && amounts.thirdResource.address) {\r\n                        return amounts;\r\n                    }\r\n                }\r\n                return null;\r\n            };\r\n\r\n            // Resource addresses to look for\r\n            const resource1 = stabAddress;\r\n            const resource2 = liqAddress;\r\n\r\n            // Find amounts for specified resources within the same parent\r\n            const amounts = findAmountsAndThirdResource(resource1, resource2);\r\n\r\n            if (amounts) {\r\n                liqNextStab = 100000000 - amounts[resource1];\r\n                if (liqNextStab <= walletStab) {\r\n                    if (isConnected == true) {\r\n                        console.log(liqNextStab, walletStab);\r\n                        document.getElementById('liqnextskip').style.backgroundColor = \"\";\r\n                        document.getElementById('liqnextskip').disabled = false;\r\n                    }\r\n                } else if (liqNextStab > walletStab && isConnected == true) {\r\n                    document.getElementById('warning-liq-not-enough-stab').style.display = 'block';\r\n                    document.getElementById('warning-liq').style.display = 'none';\r\n                    document.getElementById('liqnextskip').style.backgroundColor = \"hsl(0, 0%, 0%)\";\r\n                    cantLiqWithSkips = true;\r\n                } else if (isConnected == false) {\r\n                    document.getElementById('warning-liq').style.display = 'none';\r\n                    document.getElementById('warning-liq-not-enough-stab').style.display = 'none';\r\n                    document.getElementById('liqnextskip').style.backgroundColor = \"hsl(0, 0%, 0%)\";\r\n                    cantLiqWithSkips = true;\r\n                }\r\n                liqRewardAddress = amounts.thirdResource.address;\r\n                document.getElementById(\"stab-debt\").textContent = (1 * liqNextStab).toFixed(2) + \" STAB\";\r\n                document.getElementById(\"col-reward\").textContent = (1 * amounts.thirdResource.amount).toFixed(2) + \" \" + getResourceName(amounts.thirdResource.address);\r\n            } else {\r\n                console.log('Could not find all specified resources within the same parent.');\r\n            }\r\n        } else {\r\n            document.getElementById('warning-liq').style.display = 'block';\r\n            document.getElementById('warning-liq-not-enough-stab').style.display = 'none';\r\n            document.getElementById('liqnextskip').style.backgroundColor = \"hsl(0, 0%, 0%)\";\r\n            cantLiqWithSkips = true;\r\n            document.getElementById(\"stab-debt\").textContent = \"-\";\r\n            document.getElementById(\"col-reward\").textContent = \"-\";\r\n        }\r\n\r\n        setNoMarkLiqButton();\r\n\r\n        return responseData;\r\n    } catch (error) {\r\n        console.error(\"Error:\", error);\r\n        throw error;\r\n    }\r\n}\r\n\r\nasync function update_id() {\r\n    if (window.location.pathname === '/incentives') {\r\n        let request = {\r\n            \"resource_address\": stabIdAddress,\r\n            \"non_fungible_ids\": [selectedId],\r\n        };\r\n        if (selectedId === undefined) {\r\n            return;\r\n        }\r\n\r\n        await fetch(\"https://stokenet.radixdlt.com/state/non-fungible/data\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(request)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                lpAmountId = data.non_fungible_ids[0].data.programmatic_json.fields[0].elements[1].value;\r\n                lpWaitingAmount = data.non_fungible_ids[0].data.programmatic_json.fields[1].elements[1].value;\r\n                nextClaim = data.non_fungible_ids[0].data.programmatic_json.fields[2].value;\r\n                ilisAmountId = data.non_fungible_ids[0].data.programmatic_json.fields[0].elements[0].value;\r\n                ilisWaitingAmount = data.non_fungible_ids[0].data.programmatic_json.fields[1].elements[0].value;\r\n            })\r\n            .catch(error => console.error('Error:', error));\r\n\r\n        document.getElementById('lpAmountId').textContent = (1 * lpAmountId).toFixed(2) + ` (${(1 * lpWaitingAmount).toFixed(2)})`;\r\n        document.getElementById('ilisAmountId').textContent = (1 * ilisAmountId).toFixed(2) + ` (${(1 * ilisWaitingAmount).toFixed(2)})`;\r\n        document.getElementById('nextClaim').textContent = Math.min(currentPeriod - nextClaim + 1, 5);\r\n\r\n        let stakeIlisMax = document.getElementById('stake-ilis-amount');\r\n        let formattedWalletIlis = (Math.floor(walletIlis * 10) / 10).toLocaleString('en-US');\r\n        stakeIlisMax.textContent = \"max. \" + formattedWalletIlis;\r\n        stakeIlisMax.style.cursor = \"pointer\";\r\n        stakeIlisMax.addEventListener('click', function () {\r\n            let inputField = document.getElementById('stake-ilis-field');\r\n            inputField.value = Math.floor(walletIlis * 10) / 10;\r\n        });\r\n        let stakeLpMax = document.getElementById('stake-lp-amount');\r\n        let formattedWalletLp = (Math.floor(walletLp * 10) / 10).toLocaleString('en-US');\r\n        stakeLpMax.textContent = \"max. \" + formattedWalletLp;\r\n        stakeLpMax.style.cursor = \"pointer\";\r\n        stakeLpMax.addEventListener('click', function () {\r\n            let inputField = document.getElementById('stake-lp-field');\r\n            inputField.value = Math.floor(walletLp * 10) / 10;\r\n        });\r\n        let unstakeIlisMax = document.getElementById('unstake-ilis-amount');\r\n        let formattedWalletIlisUnstake = (Math.floor((ilisAmountId + ilisWaitingAmount) * 10) / 10).toLocaleString('en-US');\r\n        unstakeIlisMax.textContent = \"max. \" + formattedWalletIlisUnstake;\r\n        unstakeIlisMax.style.cursor = \"pointer\";\r\n        unstakeIlisMax.addEventListener('click', function () {\r\n            let inputField = document.getElementById('unstake-ilis-field');\r\n            inputField.value = Math.floor((ilisAmountId + ilisWaitingAmount) * 10) / 10;\r\n        });\r\n        let unstakeLpMax = document.getElementById('unstake-lp-amount');\r\n        let formattedWalletLpUnstake = (Math.floor((lpAmountId + lpWaitingAmount) * 10) / 10).toLocaleString('en-US');\r\n        unstakeLpMax.textContent = \"max. \" + formattedWalletLpUnstake;\r\n        unstakeLpMax.style.cursor = \"pointer\";\r\n        unstakeLpMax.addEventListener('click', function () {\r\n            let inputField = document.getElementById('unstake-lp-field');\r\n            inputField.value = Math.floor((lpAmountId + lpWaitingAmount) * 10) / 10;\r\n        });\r\n    }\r\n}\r\n\r\nasync function update_liq() {\r\n    if (window.location.pathname === '/liquidations') {\r\n        if (selectedMarker === undefined) {\r\n            setNoMarkLiqButton();\r\n            setMarkLiqButton();\r\n            return;\r\n        }\r\n        (async () => { // Wrap your code in an async function\r\n            let request2 = {\r\n                \"resource_address\": markerAddress,\r\n                \"non_fungible_ids\": [selectedMarker],\r\n            };\r\n\r\n            try {\r\n                let response = await fetch(\"https://stokenet.radixdlt.com/state/non-fungible/data\", {\r\n                    method: \"POST\",\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\"\r\n                    },\r\n                    body: JSON.stringify(request2)\r\n                });\r\n\r\n                let data = await response.json();\r\n\r\n                markedTime = data.non_fungible_ids[0].data.programmatic_json.fields[1].value;\r\n                markerUsed = data.non_fungible_ids[0].data.programmatic_json.fields[4].value;\r\n\r\n                let timestamp = parseInt(markedTime) * 1000; // Your timestamp\r\n                markerDate = new Date(timestamp).toLocaleString();\r\n                let now = Date.now();\r\n                let timeDiffMin = (now - new Date(timestamp)) / 1000 / 60;\r\n\r\n                // Use markedId here\r\n                let request = {\r\n                    \"resource_address\": cdpAddress,\r\n                    \"non_fungible_ids\": [data.non_fungible_ids[0].data.programmatic_json.fields[2].value],\r\n                };\r\n\r\n                response = await fetch(\"https://stokenet.radixdlt.com/state/non-fungible/data\", {\r\n                    method: \"POST\",\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\"\r\n                    },\r\n                    body: JSON.stringify(request)\r\n                });\r\n\r\n                let data2 = await response.json();\r\n\r\n                let collateralName;\r\n\r\n                if (data2.non_fungible_ids[0].is_burned == false) {\r\n                    resourceAddress = data2.non_fungible_ids[0].data.programmatic_json.fields[0].value;\r\n                    const resource = acceptedResources.find(ar => ar[1] === resourceAddress);\r\n                    validatorMultiplier = resource[4];\r\n                    parentAddress = data2.non_fungible_ids[0].data.programmatic_json.fields[1].value;\r\n                    collateralAmount = data2.non_fungible_ids[0].data.programmatic_json.fields[3].value;\r\n                    debtAmount = data2.non_fungible_ids[0].data.programmatic_json.fields[4].value;\r\n                    cr = data2.non_fungible_ids[0].data.programmatic_json.fields[5].value;\r\n                    status = data2.non_fungible_ids[0].data.programmatic_json.fields[6].variant_name;\r\n                    collateralName = getResourceName(resourceAddress);\r\n                } else {\r\n                    parentAddress = \"-\";\r\n                    collateralAmount = \"-\";\r\n                    debtAmount = \"-\";\r\n                    cr = \"-\";\r\n                    status = \"Receipt burned\";\r\n                    collateralName = \"-\";\r\n                }\r\n\r\n                document.getElementById('status').textContent = status;\r\n                if (collateralName == \"XRD\") {\r\n                    document.getElementById('collateralAmount').textContent = (1 * collateralAmount).toFixed(2) + \" \" + collateralName;;\r\n                    document.getElementById('debtAmount').textContent = (1 * debtAmount).toFixed(2) + \" STAB\";\r\n                    document.getElementById('cr').textContent = (cr * xrdPrice * 100).toFixed(2) + \"%\";\r\n                } else if (collateralName == \"-\") {\r\n                    document.getElementById('collateralAmount').textContent = \"\";\r\n                    document.getElementById('debtAmount').textContent = \"-\";\r\n                    document.getElementById('cr').textContent = \"-\";\r\n                    document.getElementById('status').style.color = 'red';\r\n                } else {\r\n                    document.getElementById('collateralAmount').textContent = (1 * collateralAmount).toFixed(2) + \" \" + collateralName;\r\n                    document.getElementById('debtAmount').textContent = (1 * debtAmount).toFixed(2) + \" STAB\";\r\n                    document.getElementById('cr').textContent = (cr * xrdPrice * 100).toFixed(2) + \"%\";\r\n                }\r\n                if (markerUsed == true) {\r\n                    document.getElementById('marker-state').style.color = 'red';\r\n                    document.getElementById('marker-state').textContent = \"Expired\";\r\n                    document.getElementById('liqwithmark').querySelector('.button-text').textContent = \"BURN MARKER\";\r\n                    markerUsable = true;\r\n                } else if (timeDiffMin > 5) {\r\n                    document.getElementById('liqwithmark').querySelector('.button-text').textContent = \"LIQUIDATE\";\r\n                    document.getElementById('marker-state').style.color = 'green';\r\n                    document.getElementById('marker-state').textContent = \"Useable\";\r\n                    markerUsable = true;\r\n                } else {\r\n                    document.getElementById('liqwithmark').querySelector('.button-text').textContent = \"LIQUIDATE\";\r\n                    document.getElementById('marker-state').style.color = 'orange';\r\n                    document.getElementById('marker-state').textContent = \"Pending\";\r\n                    markerUsable = false;\r\n                }\r\n                document.getElementById('marker-time').textContent = markerDate;\r\n\r\n                if (status == \"Liquidated\") {\r\n                    document.getElementById('status').style.color = 'red';\r\n                    document.getElementById('debtAmount').textContent = \"-\";\r\n                    document.getElementById('cr').textContent = \"-\";\r\n                } else if (status == \"Marked\") {\r\n                    document.getElementById('status').style.color = 'green';\r\n                }\r\n                else if (status == \"Closed\" || status == \"Healthy\") {\r\n                    document.getElementById('status').style.color = 'black';\r\n                }\r\n                setNoMarkLiqButton();\r\n                setMarkLiqButton();\r\n            } catch (error) {\r\n                console.error('Error:', error);\r\n            }\r\n        })();\r\n\r\n        //setNoMarkLiqButton();\r\n        //setMarkLiqButton();\r\n    }\r\n}\r\n\r\nasync function update_cdp() {\r\n\r\n    if (window.location.pathname === '/manage-loans') {\r\n        var sliderCol = document.getElementById('slider-col');\r\n        var sliderDebt = document.getElementById('slider-debt');\r\n        updateSliderBackground(sliderCol);\r\n        updateSliderBackground(sliderDebt);\r\n\r\n        sliderCol.addEventListener('input', function () {\r\n            updateSliderBackground(this);\r\n        });\r\n\r\n        sliderDebt.addEventListener('input', function () {\r\n            updateSliderBackground(this);\r\n        });\r\n\r\n        if (selectedCdp === undefined) {\r\n            if (addingCollateral) {\r\n                setAddColButton();\r\n            } else {\r\n                setRemoveColButton();\r\n            }\r\n            if (addingDebt) {\r\n                setAddDebtButton();\r\n            }\r\n            else {\r\n                setRemoveDebtButton();\r\n            }\r\n            return;\r\n        }\r\n        let request = {\r\n            \"resource_address\": cdpAddress,\r\n            \"non_fungible_ids\": [selectedCdp],\r\n        };\r\n\r\n\r\n        await fetch(\"https://stokenet.radixdlt.com/state/non-fungible/data\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(request)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                resourceAddress = data.non_fungible_ids[0].data.programmatic_json.fields[0].value;\r\n                const resource = acceptedResources.find(ar => ar[1] === resourceAddress);\r\n                validatorMultiplier = resource[4];\r\n                collateralAmount = data.non_fungible_ids[0].data.programmatic_json.fields[3].value;\r\n                debtAmount = data.non_fungible_ids[0].data.programmatic_json.fields[4].value;\r\n                status = data.non_fungible_ids[0].data.programmatic_json.fields[6].variant_name;\r\n                upToDateCr = getUpToDateCr(collateralAmount, debtAmount, validatorMultiplier);\r\n                cr = upToDateCr;\r\n                availableCollateral = getResourceAmount(resourceAddress, bigData, 0);\r\n                if (addingCollateral) {\r\n                    maxCr = getUpToDateCr(parseFloat(availableCollateral) + parseFloat(collateralAmount), debtAmount, validatorMultiplier) * 100;\r\n                    newCr = (upToDateCr * 100).toFixed(2);\r\n                    var slider = document.getElementById('slider-col');\r\n                    slider.min = newCr;\r\n                    slider.max = maxCr > 1000 ? 1000 : maxCr;\r\n                    slider.value = Math.round(newCr * 100) / 100;\r\n                } else {\r\n                    newCr = (upToDateCr * 100).toFixed(2);\r\n                    maxCr = (upToDateCr * 100).toFixed(2);\r\n                    var slider = document.getElementById('slider-col');\r\n                    slider.min = 0;\r\n                    slider.max = maxCr - 150;\r\n                    slider.value = slider.min; // Set the value to the min value\r\n                }\r\n\r\n                if (addingDebt == false) {\r\n                    var minDebtAmount = Math.max(debtAmount - walletStab, 1);\r\n                    maxCrDebt = getUpToDateCr(parseFloat(collateralAmount), minDebtAmount, validatorMultiplier) * 100;\r\n                    newCrDebt = (upToDateCr * 100).toFixed(2);\r\n                    var slider = document.getElementById('slider-debt');\r\n                    slider.min = newCrDebt;\r\n                    slider.max = maxCrDebt > 1000 ? 1000 : maxCrDebt;\r\n                    slider.value = Math.round(newCrDebt * 100) / 100;\r\n                } else {\r\n                    newCrDebt = (upToDateCr * 100).toFixed(2);\r\n                    maxCrDebt = (upToDateCr * 100).toFixed(2);\r\n                    var slider = document.getElementById('slider-debt');\r\n                    slider.min = 0;\r\n                    slider.max = maxCrDebt - 150;\r\n                    slider.value = slider.min; // Set the value to the min value\r\n\r\n                }\r\n\r\n                document.getElementById('amount-to-remove').value = \"0\";\r\n                document.getElementById('amount-to-remove-debt').value = \"0\";\r\n\r\n                // Round minValue to two decimal places before setting the value\r\n\r\n\r\n                acceptedResources.forEach(acceptedResource => {\r\n                    if (acceptedResource[1] === resourceAddress) {\r\n                        if (window.location.pathname === '/manage-loans') {\r\n                            var secondLogoImage = document.getElementById('col-logo-upper');\r\n                            secondLogoImage.src = acceptedResource[3];\r\n                        }\r\n                        var logoImage = document.querySelector('.input-logo');\r\n                        logoImage.src = acceptedResource[3];\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => console.error('Error:', error));\r\n\r\n        let collateralName = getResourceName(resourceAddress);\r\n        document.getElementById('status').textContent = status;\r\n        document.getElementById('collateral').textContent = \" \" + collateralName;\r\n        var button = document.getElementById('close-entire-button');\r\n        var buttonText = button.querySelector('.button-text');\r\n\r\n        if (collateralName == \"XRD\") {\r\n            document.getElementById('collateralAmount').textContent = (1 * collateralAmount).toFixed(2);\r\n        } else {\r\n            document.getElementById('collateralAmount').textContent = (1 * collateralAmount).toFixed(2);\r\n        }\r\n        document.getElementById('debtAmount').textContent = (1 * debtAmount).toFixed(2) + \" STAB\";\r\n        document.getElementById('cr').textContent = (upToDateCr * 100).toFixed(2) + \"%\";\r\n        buttonText.textContent = \"CLOSE LOAN\";\r\n\r\n        if ((status == \"Liquidated\" || status == \"ForceLiquidated\") && collateralAmount > 0) {\r\n            buttonText.textContent = \"RETRIEVE COLLATERAL\";\r\n            buttonText.color = 'white';\r\n            button.backgroundColor = 'black';\r\n            document.getElementById('status').style.color = 'red';\r\n            document.getElementById('debtAmount').textContent = \"-\";\r\n            document.getElementById('cr').textContent = \"-\";\r\n        } else if (status == \"Marked\") {\r\n            document.getElementById('new-cr').textContent = \"New CR: \" + (upToDateCr * 100).toFixed(2) + \"%\";\r\n            if (addingCollateral) {\r\n                document.getElementById('max-new-cr').textContent = \"Max CR: \" + (maxCr * 1).toFixed(2) + \"%\";\r\n            } else {\r\n                document.getElementById('max-new-cr').textContent = \"Min CR: 150%\";\r\n            }\r\n            document.getElementById('new-cr-debt').textContent = \"New CR: \" + (upToDateCr * 100).toFixed(2) + \"%\";\r\n            if (addingDebt == false) {\r\n                document.getElementById('max-new-cr-debt').textContent = \"Max CR: \" + (maxCrDebt * 1).toFixed(2) + \"%\";\r\n            } else {\r\n                document.getElementById('max-new-cr-debt').textContent = \"Min CR: 150%\";\r\n            }\r\n            buttonText.textContent = \"CLOSE LOAN\";\r\n            document.getElementById('status').style.color = '#ef7200';\r\n            button.backgroundColor = '';\r\n            buttonText.color = '';\r\n        }\r\n        else if (status == \"Closed\" || (collateralAmount == 0 && (status == \"Liquidated\" || status == \"ForceLiquidated\"))) {\r\n            buttonText.textContent = \"BURN LOAN RECEIPT\";\r\n            if (status == \"Closed\") {\r\n                document.getElementById('status').style.color = 'black';\r\n            } else {\r\n                document.getElementById('status').style.color = 'red';\r\n            }\r\n            document.getElementById('debtAmount').textContent = \"-\";\r\n            document.getElementById('cr').textContent = \"-\";\r\n            document.getElementById('collateralAmount').textContent = \"\";\r\n            button.backgroundColor = '';\r\n            buttonText.color = '';\r\n        } else if (status == \"Healthy\") {\r\n            if (upToDateCr * 100 < 150) {\r\n                document.getElementById('status').textContent = \"In Danger\";\r\n                document.getElementById('status').style.color = 'orange';\r\n            } else {\r\n                document.getElementById('status').style.color = 'green';\r\n            }\r\n            document.getElementById('new-cr').textContent = \"New CR: \" + (upToDateCr * 100).toFixed(2) + \"%\";\r\n            if (addingCollateral) {\r\n                document.getElementById('max-new-cr').textContent = \"Max CR: \" + (maxCr * 1).toFixed(2) + \"%\";\r\n            } else {\r\n                document.getElementById('max-new-cr').textContent = \"Min CR: 150%\";\r\n            }\r\n            document.getElementById('new-cr-debt').textContent = \"New CR: \" + (upToDateCr * 100).toFixed(2) + \"%\";\r\n            if (addingDebt == false) {\r\n                document.getElementById('max-new-cr-debt').textContent = \"Max CR: \" + (maxCrDebt * 1).toFixed(2) + \"%\";\r\n            } else {\r\n                document.getElementById('max-new-cr-debt').textContent = \"Min CR: 150%\";\r\n            }\r\n            buttonText.textContent = \"CLOSE LOAN\";\r\n            button.backgroundColor = '';\r\n            buttonText.color = '';\r\n        }\r\n        setCloseLoanButton();\r\n        if (addingCollateral) {\r\n            setAddColButton();\r\n        } else {\r\n            setRemoveColButton();\r\n        }\r\n        if (addingDebt) {\r\n            setAddDebtButton();\r\n        }\r\n        else {\r\n            setRemoveDebtButton();\r\n        }\r\n    }\r\n}\r\n\r\nfunction getResourceAmount(resourceAddress, data, itemIndex) {\r\n    let item = data[itemIndex];\r\n    if (item.fungible_resources && item.fungible_resources.items) {\r\n        const resource = item.fungible_resources.items.find(frItem => frItem.resource_address === resourceAddress);\r\n        if (resource && resource.vaults && resource.vaults.items.length > 0) {\r\n            return resource.vaults.items[0].amount;\r\n        }\r\n    }\r\n    return 0;\r\n}\r\n\r\nfunction getResourceName(resourceAddress) {\r\n    // Find the resource in the acceptedResources array\r\n    const resource = acceptedResources.find(ar => ar[1] === resourceAddress);\r\n    return resource[0];\r\n}\r\n\r\nfunction getValidatorAddress(resourceAddress) {\r\n    // Find the resource in the acceptedResources array\r\n    const resource = acceptedResources.find(ar => ar[1] === resourceAddress);\r\n\r\n    // If the resource was found, return the validator address\r\n    if (resource) {\r\n        return resource[2];\r\n    }\r\n\r\n    // If the resource was not found, return an empty string or any default value\r\n    return '';\r\n}\r\n\r\nfunction getLogo(resourceAddress) {\r\n    // Find the resource in the acceptedResources array\r\n    const resource = acceptedResources.find(ar => ar[1] === resourceAddress);\r\n    return resource[3];\r\n}\r\n\r\nfunction customRound(num) {\r\n    if (num < 1) {\r\n        return num.toFixed(5);\r\n    } else if (num < 10) {\r\n        return num.toFixed(4);\r\n    } else if (num < 100) {\r\n        return num.toFixed(3);\r\n    } else if (num < 1000) {\r\n        return num.toFixed(2);\r\n    } else if (num < 10000) {\r\n        return num.toFixed(1);\r\n    } else {\r\n        return Math.round(num).toString();\r\n    }\r\n}\r\n\r\n// Store the original texts of the buttons\r\nvar originalTexts = [];\r\nvar isConnected = false;\r\n\r\n// Select all buttons\r\nvar buttons = document.querySelectorAll('button.wallet-necessary');\r\n\r\n// Add a click event listener to each button\r\nfor (var i = 0; i < buttons.length; i++) {\r\n    buttons[i].addEventListener('click', function () {\r\n        // Store the original text and change the button text to \"Connect wallet\"\r\n        if (!isConnected) {\r\n            this.querySelector('.warning').style.display = 'block';\r\n            this.querySelector('.chevron').style.display = 'none';\r\n            this.querySelector('.button-text').style.display = 'none';\r\n            this.querySelector('.button-warning').style.display = 'block';\r\n            this.style.backgroundColor = \"red\"; // Change to the desired background color\r\n        }\r\n    });\r\n}\r\n\r\n// Function to restore the original text and color of the buttons\r\nfunction restoreButtonLabels() {\r\n    if (isConnected) {\r\n        return;\r\n    }\r\n    for (var i = 0; i < buttons.length; i++) {\r\n        buttons[i].querySelector('.warning').style.display = 'none';\r\n        buttons[i].querySelector('.chevron').style.display = 'block';\r\n        buttons[i].querySelector('.button-text').style.display = 'block';\r\n        buttons[i].querySelector('.button-warning').style.display = 'none';\r\n        buttons[i].style.backgroundColor = '';\r\n    }\r\n    isConnected = true;\r\n}\r\n\r\n// Instantiate DappToolkit\r\nconst rdt = RadixDappToolkit({\r\n    dAppDefinitionAddress: dAppId,\r\n    networkId: RadixNetwork.Stokenet, // network ID 2 is for the stokenet test network 1 is for mainnet\r\n    applicationName: 'Stabilis',\r\n    applicationVersion: '1.0.0',\r\n})\r\nrdt.buttonApi.setTheme('white-with-outline')\r\nrdt.buttonApi.setMode('dark')\r\n\r\n// ************ Fetch the user's account address ************\r\nrdt.walletApi.setRequestData(DataRequestBuilder.accounts().exactly(1))\r\n\r\nif (window.location.pathname === '/borrow' || window.location.pathname === '/manage-loans') {\r\n    var button = document.querySelector('.dropdown-custom-button');\r\n    var initialWidth = window.getComputedStyle(button).width;\r\n    button.style.minWidth = initialWidth;\r\n\r\n    for (let acceptedResource of acceptedResources) {\r\n        let resourceAddress = acceptedResource[1];\r\n        resourceAddresses.push(resourceAddress);\r\n    }\r\n\r\n    for (let acceptedResource of acceptedResources) {\r\n        let validatorAddress = acceptedResource[2];\r\n        validatorAddresses.push(validatorAddress);\r\n    }\r\n\r\n    let url = \"https://stokenet.radixdlt.com/state/entity/details\";\r\n\r\n    let data = {\r\n        \"addresses\": resourceAddresses,\r\n        \"aggregation_level\": \"Vault\",\r\n        \"opt_ins\": {\r\n            \"ancestor_identities\": true,\r\n            \"component_royalty_vault_balance\": true,\r\n            \"package_royalty_vault_balance\": true,\r\n            \"non_fungible_include_nfids\": true,\r\n            \"explicit_metadata\": []\r\n        }\r\n    };\r\n\r\n    let url_2 = \"https://stokenet.radixdlt.com/state/validators/list\";\r\n    let data_2 = {\r\n        \"at_ledger_state\": null\r\n    };\r\n\r\n    await fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(data),\r\n    })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            for (let supply of data.items) {\r\n                acceptedResources.forEach(acceptedResource => {\r\n                    if (acceptedResource[1] === supply.address) {\r\n                        acceptedResource[6] = supply.details.total_supply;\r\n                    }\r\n                });\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            console.error('Error:', error);\r\n        });\r\n\r\n\r\n    await fetch(url_2, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(data_2),\r\n    })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            let validators = data.validators.items;\r\n            for (let i = 0; i < validators.length; i++) {\r\n                let index = validatorAddresses.indexOf(validators[i].address);\r\n                if (index !== -1) {\r\n                    acceptedResources[index][4] = acceptedResources[index][6] / validators[i].stake_vault.balance;\r\n                    /*if (validators[i].metadata.items[0].key === \"icon_url\") {\r\n                        acceptedResources[index][3] = validators[i].metadata.items[0].value.typed.value;\r\n                    }\r\n                    else {\r\n                        acceptedResources[index][3] = \"images/radix-logo-old.png\";\r\n                    }*/\r\n                    //can uncomment once validators have better logos\r\n                }\r\n            }\r\n            console.log(acceptedResources);\r\n        })\r\n        .catch((error) => {\r\n            console.error('Error:', error);\r\n        });\r\n}\r\n\r\nfunction update(onlyWallet) {\r\n    // Subscribe to updates to the user's shared wallet data\r\n    rdt.walletApi.walletData$.subscribe((walletData) => {\r\n        console.log(\"subscription wallet data: \", walletData)\r\n        if (walletData && walletData.accounts && walletData.accounts.length > 0) {\r\n            accountAddress = walletData.accounts[0].address;\r\n            restoreButtonLabels();\r\n        } else {\r\n            isConnected = false;\r\n            walletStab = 0;\r\n            walletXrd = 0;\r\n            walletLp = 0;\r\n            selectedCdp = undefined;\r\n            selectedMarker = undefined;\r\n            selectedId = undefined;\r\n            accountAddress = \"account_tdx_2_129kt8327ulqyq0ahdh74plu0r23qn9jugxppehggtp27m9n063heec\"\r\n        }\r\n\r\n        async function getFungibleResources(accountAddress) {\r\n            const response = await fetch('https://stokenet.radixdlt.com/state/entity/details', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    addresses: [accountAddress],\r\n                    aggregation_level: 'Vault',\r\n                    opt_ins: {\r\n                        ancestor_identities: true,\r\n                        component_royalty_vault_balance: true,\r\n                        package_royalty_vault_balance: true,\r\n                        non_fungible_include_nfids: true,\r\n                        explicit_metadata: []\r\n                    }\r\n                })\r\n            });\r\n\r\n            const data = await response.json();\r\n\r\n            // Iterate over each item in the response\r\n            const acceptedFungibleResources = data.items.flatMap(item => {\r\n                // Filter the fungible resources to only include those in the list of accepted resources\r\n                return item.fungible_resources.items.filter(resource => {\r\n                    return acceptedResources.some(acceptedResource => acceptedResource[1] === resource.resource_address);\r\n                }).map(resource => {\r\n                    // Find the corresponding accepted resource\r\n                    const acceptedResource = acceptedResources.find(ar => ar[1] === resource.resource_address);\r\n\r\n                    // Add the name of the accepted resource to the resource object\r\n                    resource.name = acceptedResource ? acceptedResource[0] : '';\r\n                    resource.logo = acceptedResource ? acceptedResource[3] : '';\r\n                    resource.multiplier = acceptedResource ? acceptedResource[4] : 1;\r\n                    resource.identifier = acceptedResource ? acceptedResource[5] : '';\r\n\r\n                    return resource;\r\n                });\r\n            });\r\n\r\n            // Map each object to its name, resource_address and amount properties\r\n            const resourceAddressesAndAmounts = acceptedFungibleResources.map(resource => {\r\n                let amount = 0;\r\n                if (resource.vaults && resource.vaults.items && resource.vaults.items.length > 0) {\r\n                    amount = parseFloat(resource.vaults.items[0].amount);\r\n                }\r\n\r\n                return {\r\n                    name: resource.name,\r\n                    resourceAddress: resource.resource_address,\r\n                    amount: amount,\r\n                    logo: resource.logo,\r\n                    multiplier: resource.multiplier,\r\n                    identifier: resource.identifier\r\n                };\r\n            });\r\n\r\n            // Sort the array by amount in descending order\r\n            resourceAddressesAndAmounts.sort((a, b) => b.amount - a.amount);\r\n\r\n            return resourceAddressesAndAmounts;\r\n        }\r\n\r\n        // Define the request URL and parameters\r\n        const url_kvs = \"https://stokenet.radixdlt.com/state/key-value-store/data\";\r\n        const params_kvs = {\r\n            \"key_value_store_address\": stakesKvs,\r\n            \"keys\": [\r\n                { \"key_hex\": kvsHexes[0] },\r\n                { \"key_hex\": kvsHexes[1] },\r\n                { \"key_json\": { \"kind\": \"Tuple\", \"fields\": [{ \"kind\": \"U32\", \"value\": \"1\" }] } }\r\n            ]\r\n        };\r\n\r\n        const url_fetch_ids = \"https://stokenet.radixdlt.com/state/entity/details\";\r\n        const addresses = [accountAddress, componentAddress, poolComponentAddress, stabAddress, poolAddress, stakingAddress]; // Replace with your addresses\r\n\r\n        const requestBody = {\r\n            \"addresses\": addresses,\r\n            \"aggregation_level\": \"Vault\",\r\n            \"opt_ins\": {\r\n                \"ancestor_identities\": false,\r\n                \"component_royalty_vault_balance\": false,\r\n                \"package_royalty_vault_balance\": false,\r\n                \"non_fungible_include_nfids\": true,\r\n                \"explicit_metadata\": [\r\n                    \"name\",\r\n                    \"description\"\r\n                ]\r\n            }\r\n        };\r\n\r\n        async function fetchData() {\r\n            try {\r\n                // Start both fetch requests\r\n                /*const fetchPromise1 = fetch(url_kvs, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    body: JSON.stringify(params_kvs)\r\n                });*/\r\n\r\n                const fetchPromise2 = fetch(url_fetch_ids, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    body: JSON.stringify(requestBody)\r\n                });\r\n\r\n                // Wait for both fetch requests to complete\r\n                const [/*response1,*/response2] = await Promise.all([/*fetchPromise1, */fetchPromise2]);\r\n\r\n                // Check the status of the responses\r\n                if (/*!response1.ok || */!response2.ok) {\r\n                    throw new Error(`HTTP error! status: ${response2.status/*change this shit to 1*/}, ${response2.status}`);\r\n                }\r\n\r\n                // Parse the responses as JSON\r\n                const [/*data1, */data2] = await Promise.all([/*response1.json(), */response2.json()]);\r\n\r\n                // Extract the reward_amount values\r\n                /*const rewardAmounts = data1.entries\r\n                    .map(entry => entry.value.programmatic_json.fields)\r\n                    .flat()\r\n                    .filter(field => field.field_name === 'reward_amount')\r\n                    .map(field => field.value);\r\n\r\n                stakeRewards = rewardAmounts[0];\r\n                lpRewards = rewardAmounts[1];*/\r\n\r\n                // Process the second response\r\n                let sortedItems = [];\r\n                addresses.forEach(address => {\r\n                    let item = data2.items.find(item => item.address === address);\r\n                    if (item) {\r\n                        sortedItems.push(item);\r\n                    }\r\n                });\r\n\r\n                sortedItems.forEach(item => {\r\n                    if (item.non_fungible_resources) {\r\n                        item.non_fungible_resources.items.forEach(nfrItem => {\r\n                            if (nfrItem.resource_address === stabIdAddress && nfrItem.vaults) {\r\n                                nfrItem.vaults.items.forEach(vault => {\r\n                                    stab_ids = stab_ids.concat(vault.items);\r\n                                });\r\n                            }\r\n                            if (nfrItem.resource_address === cdpAddress && nfrItem.vaults) {\r\n                                nfrItem.vaults.items.forEach(vault => {\r\n                                    cdp_ids = cdp_ids.concat(vault.items);\r\n                                });\r\n                            }\r\n                            if (nfrItem.resource_address === markerAddress && nfrItem.vaults) {\r\n                                nfrItem.vaults.items.forEach(vault => {\r\n                                    marker_ids = marker_ids.concat(vault.items);\r\n                                });\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n\r\n                if (cdp_ids.length > 0) {\r\n                    // Define the data for the request\r\n                    const requestDataCdp = {\r\n                        \"resource_address\": cdpAddress,\r\n                        \"non_fungible_ids\": cdp_ids\r\n                    };\r\n\r\n                    // Make the API request\r\n                    await fetch('https://stokenet.radixdlt.com/state/non-fungible/data', {\r\n                        method: 'POST', // Specify the HTTP method\r\n                        headers: {\r\n                            'Content-Type': 'application/json', // Set the content type to JSON\r\n                        },\r\n                        body: JSON.stringify(requestDataCdp), // Convert the data to JSON string\r\n                    })\r\n                        .then(response => {\r\n                            if (!response.ok) {\r\n                                throw new Error('Network response was not ok ' + response.statusText);\r\n                            }\r\n                            return response.json(); // Parse the JSON from the response\r\n                        })\r\n                        .then(data => {\r\n                            sortedItems.push(data.non_fungible_ids); // Write the response data to the console\r\n                        })\r\n                        .catch(error => {\r\n                            console.error('There was a problem with the fetch operation:', error); // Handle any errors\r\n                        });\r\n                }\r\n\r\n                return sortedItems;\r\n            } catch (error) {\r\n                console.error('Error:', error);\r\n            }\r\n        }\r\n\r\n        function useData(data) {\r\n            stab_ids = []\r\n            cdp_ids = []\r\n            marker_ids = []\r\n            internalPrice = data[1].details.state.fields[12].value;\r\n            xrdPrice = data[1].details.state.fields[19].value;\r\n            stabXrdRatio = internalPrice / xrdPrice;\r\n            validatorMultiplier = 1;\r\n            if (window.location.pathname === '/borrow') {\r\n                let firstOption = true;\r\n                var dropdownContent = document.querySelector('.dropdown-custom-content');\r\n                dropdownContent.innerHTML = '';\r\n                var dropdownButton = document.querySelector('.dropdown-custom-button b');\r\n                var clickableButton = document.querySelector('.dropdown-custom-button');\r\n                getFungibleResources(accountAddress).then(resourceAddressesAndAmounts => {\r\n                    // Add new options\r\n                    resourceAddressesAndAmounts.forEach(resource => {\r\n                        clickableButton.disabled = false;\r\n                        clickableButton.style.backgroundColor = \"\";\r\n                        // Fetch the name, subtext, and logo\r\n                        var name = resource.name;\r\n                        var address = resource.resourceAddress;\r\n                        var logoUrl = resource.logo;\r\n                        var subtext = 'max. ' + resource.amount.toFixed(2);\r\n                        var slider = document.getElementById('slider-single');\r\n                        let colToUse = document.getElementById(\"colToUse\");\r\n\r\n                        if (address === selectedCollateral) {\r\n                            availableCollateral = resource.amount;\r\n                            document.getElementById('col-max').textContent = \"max. \" + availableCollateral.toFixed(2).toLocaleString('en-US');\r\n                        }\r\n\r\n                        // Create a new option\r\n                        var option = document.createElement('div');\r\n                        option.className = 'dropdown-custom-option';\r\n                        option.dataset.logoUrl = logoUrl;\r\n                        option.setAttribute('tabindex', '0'); // Make the option focusable\r\n\r\n                        // Add the logo image to the option\r\n                        var logoImage = document.createElement('img');\r\n                        logoImage.src = logoUrl;\r\n                        logoImage.alt = 'Logo';\r\n                        option.appendChild(logoImage);\r\n\r\n                        // Add the text to the option\r\n                        var optionText = document.createElement('div');\r\n                        optionText.className = 'option-text';\r\n\r\n                        var optionTitle = document.createElement('div');\r\n                        optionTitle.className = 'option-title';\r\n                        optionTitle.textContent = name;\r\n                        optionText.appendChild(optionTitle);\r\n\r\n                        var optionSubtext = document.createElement('div');\r\n                        optionSubtext.className = 'option-subtext';\r\n                        optionSubtext.textContent = subtext;\r\n                        optionText.appendChild(optionSubtext);\r\n\r\n                        option.appendChild(optionText);\r\n\r\n                        // Attach the click event listener\r\n                        option.addEventListener('click', function () {\r\n                            document.getElementById('col-max').textContent = \"max. \" + resource.amount.toLocaleString('en-US');\r\n                            document.getElementById('col-suffix').textContent = resource.identifier;\r\n                            availableCollateral = resource.amount;\r\n                            selectedCollateral = address;\r\n                            selectedText = resource.identifier;\r\n                            // Remove the 'selected' class from all options\r\n                            validatorMultiplier = resource.multiplier;\r\n                            var options = document.querySelectorAll('.dropdown-custom-option');\r\n                            options.forEach(function (otherOption) {\r\n                                otherOption.classList.remove('selected');\r\n                            });\r\n\r\n                            // Add the 'selected' class to the clicked option\r\n                            option.classList.add('selected');\r\n\r\n                            // Set the button text to the option title\r\n                            var dropdownButton = document.querySelector('.dropdown-custom-button b');\r\n                            dropdownButton.textContent = name;\r\n\r\n                            // Hide the dropdown content\r\n                            var dropdownContent = document.querySelector('.dropdown-custom-content');\r\n                            dropdownContent.style.display = 'none';\r\n                            setChevron(dropdownContent);\r\n\r\n                            // Change the logo\r\n                            var logoImage = document.querySelector('.input-logo');\r\n                            logoImage.src = logoUrl;\r\n\r\n                            if (colToUse.value !== \"\") {\r\n                                let result = ((1 / (stabXrdRatio * validatorMultiplier)) / (slider.value / 100)) * colToUse.value;\r\n                                mintAmount = result;\r\n                                collateralAmount = colToUse.value;\r\n                                document.getElementById(\"outputStab\").innerHTML = customRound(result, 4);\r\n                            } else {\r\n                                let result = (1 / (stabXrdRatio * validatorMultiplier)) / (slider.value / 100);\r\n                                mintAmount = result;\r\n                                collateralAmount = 0;\r\n                                document.getElementById(\"outputStab\").innerHTML = customRound(result, 4);\r\n                            }\r\n\r\n                            if (colToUse.value !== \"\") {\r\n                                document.getElementById(\"ratio-suffix\").innerHTML = \"STAB\";\r\n                            }\r\n                            else {\r\n                                document.getElementById(\"ratio-suffix\").innerHTML = \"STAB/\" + selectedText;\r\n                            }\r\n                            setBorrowButton();\r\n                        });\r\n\r\n                        if (firstOption) {\r\n                            option.click();\r\n                            firstOption = false;\r\n                        }\r\n\r\n                        // Append the new option to the dropdown content\r\n                        var dropdownContent = document.querySelector('.dropdown-custom-content');\r\n                        dropdownContent.appendChild(option);\r\n                    });\r\n                });\r\n\r\n                if (firstOption) {\r\n                    // Fetch the name, subtext, and logo\r\n                    var name = \"XRD\";\r\n                    var logoUrl = \"images/radix-logo.svg\";\r\n                    var slider = document.getElementById('slider-single');\r\n                    let colToUse = document.getElementById(\"colToUse\");\r\n                    document.getElementById('col-max').textContent = \"max. 0\";\r\n                    availableCollateral = 0;\r\n                    selectedCollateral = xrdAddress;\r\n                    selectedText = \"XRD\";\r\n                    var logoImage = document.querySelector('.input-logo');\r\n                    logoImage.src = logoUrl;\r\n                    var dropdownButton = document.querySelector('.dropdown-custom-button b');\r\n                    dropdownButton.textContent = name;\r\n                    clickableButton.disabled = true;\r\n\r\n                    if (colToUse.value !== \"\") {\r\n                        let result = ((1 / (stabXrdRatio * validatorMultiplier)) / (slider.value / 100)) * colToUse.value;\r\n                        mintAmount = result;\r\n                        collateralAmount = colToUse.value;\r\n                        document.getElementById(\"outputStab\").innerHTML = customRound(result, 4);\r\n                    } else {\r\n                        let result = (1 / (stabXrdRatio * validatorMultiplier)) / (slider.value / 100);\r\n                        mintAmount = result;\r\n                        collateralAmount = 0;\r\n                        document.getElementById(\"outputStab\").innerHTML = customRound(result, 4);\r\n                    }\r\n\r\n                    if (colToUse.value !== \"\") {\r\n                        document.getElementById(\"ratio-suffix\").innerHTML = \"STAB\";\r\n                    }\r\n                    else {\r\n                        document.getElementById(\"ratio-suffix\").innerHTML = \"STAB/\" + selectedText;\r\n                    }\r\n                }\r\n\r\n                if (!isConnected) {\r\n                    var dropdownContent = document.querySelector('.dropdown-custom-content');\r\n                    var dropdownButton = document.querySelector('.dropdown-custom-button b');\r\n                    dropdownContent.innerHTML = '';\r\n                    dropdownButton.textContent = 'XRD';\r\n                    var logoImage = document.querySelector('.input-logo');\r\n                    logoImage.src = 'images/radix-logo.svg';\r\n                    clickableButton.disabled = true;\r\n                }\r\n\r\n                setBorrowButton();\r\n            }\r\n\r\n            data.forEach(item => {\r\n                if (item.non_fungible_resources) {\r\n                    item.non_fungible_resources.items.forEach(nfrItem => {\r\n                        if (nfrItem.resource_address === stabIdAddress && nfrItem.vaults) {\r\n                            nfrItem.vaults.items.forEach(vault => {\r\n                                stab_ids = stab_ids.concat(vault.items);\r\n                            });\r\n                        }\r\n                        if (nfrItem.resource_address === cdpAddress && nfrItem.vaults) {\r\n                            nfrItem.vaults.items.forEach(vault => {\r\n                                cdp_ids = cdp_ids.concat(vault.items);\r\n                            });\r\n                        }\r\n                        if (nfrItem.resource_address === markerAddress && nfrItem.vaults) {\r\n                            nfrItem.vaults.items.forEach(vault => {\r\n                                marker_ids = marker_ids.concat(vault.items);\r\n                            });\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n            //fix for gov: currentPeriod = data[3].details.state.fields[2].value;\r\n            //fix for gov: let updateRewards = data[1].details.state.fields[30].value;\r\n            walletIlis = getResourceAmount(ilisAddress, data, 0);\r\n            walletXrd = getResourceAmount(xrdAddress, data, 0);\r\n            walletLp = getResourceAmount(lpAddress, data, 0);\r\n            walletStab = getResourceAmount(stabAddress, data, 0);\r\n            xrdPoolAmount = getResourceAmount(xrdAddress, data, 4);\r\n            stabPoolAmount = getResourceAmount(stabAddress, data, 4);\r\n            interestRate = (100 * ((data[1].details.state.fields[14].value ** (24 * 60 * 365)) - 1)).toFixed(2);\r\n\r\n            if (window.location.pathname === '/incentives') {\r\n                document.getElementById('ilis-staking-rewards').textContent = stakeRewards + \" ILIS/day\";\r\n                document.getElementById('lpstab-staking-rewards').textContent = lpRewards + \" ILIS/day\";\r\n                document.getElementById('update-rewards').textContent = updateRewards + \" ILIS/day\";\r\n            }\r\n\r\n            if (window.location.pathname === '/' || window.location.pathname === '/secret_index' || window.location.pathname === '/index') {\r\n                document.getElementById('interest-rate').textContent = interestRate;\r\n                document.getElementById('circulating-counter').textContent = (1 * data[3].details.total_supply).toFixed(0);\r\n                document.getElementById('price-counter').textContent = (xrdPrice * stabXrdRatio).toFixed(2);\r\n            }\r\n\r\n            if (window.location.pathname === '/swap') {\r\n                calculateChange();\r\n                setProvideButton();\r\n                setRemoveLpButton();\r\n                async function fetchData() {\r\n                    try {\r\n                        const response = await fetch('https://stokenet.radixdlt.com/status/gateway-status', {\r\n                            method: 'POST',\r\n                            headers: {\r\n                                'Content-Type': 'application/json'\r\n                            },\r\n                            // Include any necessary body data in string format\r\n                        });\r\n                        const data = await response.json();\r\n                        var now = new Date(data.ledger_state.proposer_round_timestamp);\r\n                    } catch (error) {\r\n                        console.error('Error:', error);\r\n                    }\r\n                    const sevenDaysAgo = new Date(now - 7 * 24 * 60 * 60 * 1000);\r\n\r\n                    const entityDetailsUrl = 'https://stokenet.radixdlt.com/state/entity/details';\r\n                    const entityPageUrl = 'https://stokenet.radixdlt.com/state/entity/page/fungibles';\r\n                    const customEntityDetailsUrl = 'https://stokenet.radixdlt.com/state/entity/details';\r\n\r\n                    const entityDetailsPayload = (timestamp) => ({\r\n                        addresses: [\r\n                            lpAddress,\r\n                        ],\r\n                        aggregation_level: \"Vault\",\r\n                        at_ledger_state: {\r\n                            timestamp: timestamp\r\n                        },\r\n                        opt_ins: {\r\n                            ancestor_identities: true,\r\n                            component_royalty_config: true,\r\n                            component_royalty_vault_balance: true,\r\n                            package_royalty_vault_balance: true,\r\n                            non_fungible_include_nfids: true,\r\n                            explicit_metadata: [\r\n                                \"name\",\r\n                                \"description\"\r\n                            ]\r\n                        }\r\n                    });\r\n\r\n                    const entityPagePayload = (timestamp) => ({\r\n                        address: poolAddress,\r\n                        at_ledger_state: {\r\n                            timestamp: timestamp\r\n                        },\r\n                    });\r\n\r\n                    const customEntityDetailsPayload = (timestamp) => ({\r\n                        addresses: [\r\n                            componentAddress\r\n                        ],\r\n                        aggregation_level: \"Vault\",\r\n                        at_ledger_state: {\r\n                            timestamp: timestamp\r\n                        },\r\n                        opt_ins: {\r\n                            ancestor_identities: true,\r\n                            component_royalty_config: true,\r\n                            component_royalty_vault_balance: true,\r\n                            package_royalty_vault_balance: true,\r\n                            non_fungible_include_nfids: true,\r\n                            explicit_metadata: [\r\n                                \"name\",\r\n                                \"description\"\r\n                            ]\r\n                        }\r\n                    });\r\n\r\n                    try {\r\n                        const earliestTimestamp = new Date(\"2024-07-03T03:45:20.702Z\");\r\n\r\n                        // Determine the timestamp to use\r\n                        const timestampToUse = earliestTimestamp > sevenDaysAgo ? earliestTimestamp : sevenDaysAgo;\r\n\r\n                        // Perform API calls with both the chosen timestamp and the current timestamp (now)\r\n                        const [detailsResponse1, pageResponse1, detailsResponse2, pageResponse2, customDetailsResponse] = await Promise.all([\r\n                            fetch(entityDetailsUrl, {\r\n                                method: 'POST',\r\n                                headers: {\r\n                                    'Content-Type': 'application/json'\r\n                                },\r\n                                body: JSON.stringify(entityDetailsPayload(timestampToUse.toISOString()))\r\n                            }),\r\n                            fetch(entityPageUrl, {\r\n                                method: 'POST',\r\n                                headers: {\r\n                                    'Content-Type': 'application/json'\r\n                                },\r\n                                body: JSON.stringify(entityPagePayload(timestampToUse.toISOString()))\r\n                            }),\r\n                            fetch(entityDetailsUrl, {\r\n                                method: 'POST',\r\n                                headers: {\r\n                                    'Content-Type': 'application/json'\r\n                                },\r\n                                body: JSON.stringify(entityDetailsPayload(now.toISOString()))\r\n                            }),\r\n                            fetch(entityPageUrl, {\r\n                                method: 'POST',\r\n                                headers: {\r\n                                    'Content-Type': 'application/json'\r\n                                },\r\n                                body: JSON.stringify(entityPagePayload(now.toISOString()))\r\n                            }),\r\n                            fetch(customEntityDetailsUrl, {\r\n                                method: 'POST',\r\n                                headers: {\r\n                                    'Content-Type': 'application/json'\r\n                                },\r\n                                body: JSON.stringify(customEntityDetailsPayload(timestampToUse.toISOString()))\r\n                            })\r\n                        ]);\r\n\r\n                        if (!detailsResponse1.ok || !pageResponse1.ok || !detailsResponse2.ok || !pageResponse2.ok || !customDetailsResponse.ok) {\r\n                            throw new Error(`Failed to fetch entity data`);\r\n                        }\r\n\r\n                        // Parse responses as JSON\r\n                        const [detailsData1, pageData1, detailsData2, pageData2, customDetailsData] = await Promise.all([\r\n                            detailsResponse1.json(),\r\n                            pageResponse1.json(),\r\n                            detailsResponse2.json(),\r\n                            pageResponse2.json(),\r\n                            customDetailsResponse.json()\r\n                        ]);\r\n\r\n                        // Extract amounts and organize by resource_address\r\n                        const amountsMap1 = new Map(pageData1.items.map(item => [item.resource_address, item.amount]));\r\n                        const amountsMap2 = new Map(pageData2.items.map(item => [item.resource_address, item.amount]));\r\n\r\n                        // Synchronize the order of amounts based on resource_address\r\n                        const resourceAddresses = pageData1.items.map(item => item.resource_address);\r\n                        const amounts1 = resourceAddresses.map(address => amountsMap1.get(address));\r\n                        const amounts2 = resourceAddresses.map(address => amountsMap2.get(address));\r\n\r\n                        // Extract total supply from entity details responses\r\n                        const totalSupply1 = detailsData1.items[0]?.details?.total_supply;\r\n                        const totalSupply2 = detailsData2.items[0]?.details?.total_supply;\r\n\r\n                        var xrdInitial = amounts1[0];\r\n                        var stabInitial = amounts1[1];\r\n                        var xrdFinal = amounts2[0];\r\n                        var stabFinal = amounts2[1];\r\n                        var xrdPerStabInitial = xrdInitial / stabInitial;\r\n                        var xrdPerStabFinal = xrdFinal / stabFinal;\r\n                        var xrdPriceInitial = customDetailsData.items[0].details.state.fields[19].value;\r\n                        var stabPriceInitial = xrdPerStabInitial * xrdPriceInitial;\r\n                        var stabPriceFinal = xrdPerStabFinal * xrdPrice;\r\n\r\n                        var dollarPerLpInitial = (xrdInitial * xrdPriceInitial + stabInitial * stabPriceInitial) / totalSupply1;\r\n                        var dollarPerLpFinal = (xrdFinal * xrdPrice + stabFinal * stabPriceFinal) / totalSupply2;\r\n\r\n                        var dollarPerLpInitial2 = (xrdInitial * xrdPrice + stabInitial * stabPriceFinal) / totalSupply1;\r\n                        var dollarPerLpFinal2 = (xrdFinal * xrdPrice + stabFinal * stabPriceFinal) / totalSupply2;\r\n\r\n                        //var dollarPerLpRatio = (Math.pow((dollarPerLpFinal / dollarPerLpInitial), 365 / 7) - 1) * 100;\r\n                        var dollarPerLpRatio2 = (Math.pow((dollarPerLpFinal2 / dollarPerLpInitial2), 365 / 7) - 1) * 100;\r\n                        var apyElement = document.getElementById('apy-real');\r\n                        var liqElement = document.getElementById('pool-liq');\r\n                        xrdPoolAmount = getResourceAmount(xrdAddress, bigData, 4);\r\n                        liqElement.textContent = \"$\" + Number((xrdPoolAmount * 2 * xrdPrice).toFixed(2)).toLocaleString('en-US');\r\n                        apyElement.textContent = dollarPerLpRatio2.toFixed(2) + \"%\";\r\n                        apyElement.style.color = dollarPerLpRatio2 > 0 ? 'green' : 'red';\r\n\r\n                    } catch (error) {\r\n                        console.error('Error fetching data:', error);\r\n                    }\r\n                }\r\n\r\n                fetchData();\r\n\r\n                if (sell == true) {\r\n                    formattedWallet = Math.floor(walletXrd * 10) / 10;\r\n                    document.getElementById('swap-sell-amount').textContent = \"max. \" + formattedWallet.toLocaleString('en-US');\r\n                } else {\r\n                    if (walletStab >= 0.1) {\r\n                        formattedWallet = Math.floor((walletStab) * 10) / 10;\r\n                    } else {\r\n                        formattedWallet = 0;\r\n                    }\r\n                    document.getElementById('swap-sell-amount').textContent = \"max. \" + formattedWallet.toLocaleString('en-US');\r\n                }\r\n                document.getElementById('internal-price-xrd').innerHTML = stabXrdRatio.toFixed(2) + \" XRD\";\r\n                document.getElementById('internal-price-usd').innerHTML = \"$\" + (stabXrdRatio * xrdPrice).toFixed(3);\r\n                document.getElementById('market-price-xrd').innerHTML = (xrdPoolAmount / stabPoolAmount).toFixed(2) + \" XRD\";\r\n                document.getElementById('market-price-usd').innerHTML = \"$\" + ((xrdPoolAmount / stabPoolAmount) * xrdPrice).toFixed(3);\r\n                document.getElementById('interest-rate').innerHTML = interestRate + \"% APY\";\r\n                if (xrdPoolAmount / stabPoolAmount < 0.995 * stabXrdRatio) {\r\n                    document.getElementById(\"recommendation\").innerHTML = `<strong>Market price &lt; Internal price</strong>, sell XRD to arbitrage!`;\r\n                } else if (xrdPoolAmount / stabPoolAmount > 1.005 * stabXrdRatio) {\r\n                    document.getElementById(\"recommendation\").innerHTML = `<strong>Market price &gt; Internal price</strong>, sell STAB to arbitrage!`;\r\n                }\r\n                else {\r\n                    document.getElementById(\"recommendation\").innerHTML = `Price error is within acceptable bounds. Minimal arbitrage opportunities.`;\r\n                }\r\n                document.getElementById('provide-xrd-amount').textContent = \"max. \" + (Math.floor(walletXrd * 10) / 10).toLocaleString('en-US');\r\n                if (walletStab >= 0.1) {\r\n                    document.getElementById('provide-stab-amount-second').textContent = \"max. \" + (Math.floor((walletStab) * 10) / 10).toLocaleString('en-US');\r\n                    document.getElementById('provide-stab-amount').textContent = \"max. \" + (Math.floor((walletStab) * 10) / 10).toLocaleString('en-US');\r\n                } else {\r\n                    document.getElementById('provide-stab-amount-second').textContent = \"max. \" + 0;\r\n                    document.getElementById('provide-stab-amount').textContent = \"max. \" + 0;\r\n                }\r\n                document.getElementById('remove-lp-amount').textContent = \"max. \" + (Math.floor(walletLp * 10) / 10).toLocaleString('en-US');\r\n            }\r\n\r\n            if (window.location.pathname === '/liquidations') {\r\n                var dropdownContent = document.querySelector('.dropdown-custom-content');\r\n                dropdownContent.innerHTML = '';\r\n                var marker_exists = false;\r\n                marker_ids.forEach(id => {\r\n                    if (marker_exists == false) {\r\n                        marker_exists = true;\r\n                    }\r\n                    var name = id;\r\n                    var logoUrl = 'images/marker-receipt.png'\r\n                    var subtext = \"Stabilis Marker Receipt\";\r\n\r\n                    // Create a new option\r\n                    var option = document.createElement('div');\r\n                    option.className = 'dropdown-custom-option';\r\n                    option.dataset.logoUrl = logoUrl;\r\n                    option.setAttribute('tabindex', '0'); // Make the option focusable\r\n\r\n                    // Add the logo image to the option\r\n                    var logoImage = document.createElement('img');\r\n                    logoImage.src = logoUrl;\r\n                    logoImage.alt = 'Logo';\r\n                    logoImage.style.borderRadius = '0';\r\n                    option.appendChild(logoImage);\r\n\r\n                    // Add the text to the option\r\n                    var optionText = document.createElement('div');\r\n                    optionText.className = 'option-text';\r\n\r\n                    var optionTitle = document.createElement('div');\r\n                    optionTitle.className = 'option-title';\r\n                    optionTitle.textContent = name;\r\n                    optionText.appendChild(optionTitle);\r\n\r\n                    var optionSubtext = document.createElement('div');\r\n                    optionSubtext.className = 'option-subtext';\r\n                    optionSubtext.textContent = subtext;\r\n                    optionText.appendChild(optionSubtext);\r\n\r\n                    option.appendChild(optionText);\r\n\r\n                    // Attach the click event listener\r\n                    option.addEventListener('click', function () {\r\n                        // Remove the 'selected' class from all options\r\n                        var options = document.querySelectorAll('.dropdown-custom-option');\r\n                        options.forEach(function (otherOption) {\r\n                            otherOption.classList.remove('selected');\r\n                        });\r\n\r\n                        // Add the 'selected' class to the clicked option\r\n                        option.classList.add('selected');\r\n\r\n                        // Set the button text to the option title\r\n                        var dropdownButton = document.querySelector('.dropdown-custom-button b');\r\n                        dropdownButton.textContent = \"Marker \" + name;\r\n\r\n                        // Hide the dropdown content\r\n                        var dropdownContent = document.querySelector('.dropdown-custom-content');\r\n                        dropdownContent.style.display = 'none';\r\n                        setChevron(dropdownContent);\r\n\r\n                        selectedMarker = id;\r\n\r\n                        update_liq();\r\n                        setMarkLiqButton();\r\n                        setNoMarkLiqButton();\r\n                    });\r\n\r\n                    // Append the new option to the dropdown content\r\n                    var dropdownContent = document.querySelector('.dropdown-custom-content');\r\n                    dropdownContent.appendChild(option);\r\n                });\r\n                var dropdownButton = document.querySelector('.dropdown-custom-button');\r\n\r\n                if (marker_exists == false) {\r\n                    dropdownButton.style.backgroundColor = \"\";\r\n                    dropdownButton.disabled = true;\r\n                } else {\r\n                    dropdownButton.disabled = false;\r\n                    dropdownButton.style.backgroundColor = \"\";\r\n                }\r\n\r\n                if (selectedMarker !== undefined) {\r\n                    update_liq();\r\n                } else {\r\n                    if (isConnected === false) {\r\n                        dropdownContent.innerHTML = '';\r\n                    }\r\n                    var dropdownButton = document.querySelector('.dropdown-custom-button b');\r\n                    dropdownButton.textContent = \"select a marker\";\r\n                    document.getElementById('liqwithmark').querySelector('.button-text').textContent = \"LIQUIDATE\";\r\n                    document.getElementById('liqwithmark').style.color = \"\";\r\n                    document.getElementById('marker-time').textContent = \"-\";\r\n                    document.getElementById('status').style.color = \"\";\r\n                    document.getElementById('marker-state').textContent = \"-\";\r\n                    document.getElementById('marker-state').style.color = \"\";\r\n                    document.getElementById('status').textContent = \"-\";\r\n                    document.getElementById('collateralAmount').textContent = \"-\";\r\n                    document.getElementById('debtAmount').textContent = \"-\";\r\n                    document.getElementById('cr').textContent = \"-\";\r\n                }\r\n\r\n                checkLiquidation(parseInt(document.getElementById('liq-counter').textContent));\r\n                setNoMarkLiqButton();\r\n            }\r\n\r\n            if (window.location.pathname === '/incentives') {\r\n                selectedId = undefined;\r\n                var dropdownContent = document.querySelector('.dropdown-custom-content');\r\n                dropdownContent.innerHTML = '';\r\n\r\n                stab_ids.forEach(id => {\r\n                    var name = id;\r\n                    var logoUrl = 'images/staking-id.png'\r\n                    var subtext = \"Stabilis Staking ID\";\r\n\r\n                    // Create a new option\r\n                    var option = document.createElement('div');\r\n                    option.className = 'dropdown-custom-option';\r\n                    option.dataset.logoUrl = logoUrl;\r\n                    option.setAttribute('tabindex', '0'); // Make the option focusable\r\n\r\n                    // Add the logo image to the option\r\n                    var logoImage = document.createElement('img');\r\n                    logoImage.src = logoUrl;\r\n                    logoImage.alt = 'Logo';\r\n                    logoImage.style.borderRadius = '0';\r\n                    option.appendChild(logoImage);\r\n\r\n                    // Add the text to the option\r\n                    var optionText = document.createElement('div');\r\n                    optionText.className = 'option-text';\r\n\r\n                    var optionTitle = document.createElement('div');\r\n                    optionTitle.className = 'option-title';\r\n                    optionTitle.textContent = name;\r\n                    optionText.appendChild(optionTitle);\r\n\r\n                    var optionSubtext = document.createElement('div');\r\n                    optionSubtext.className = 'option-subtext';\r\n                    optionSubtext.textContent = subtext;\r\n                    optionText.appendChild(optionSubtext);\r\n\r\n                    option.appendChild(optionText);\r\n\r\n                    // Attach the click event listener\r\n                    option.addEventListener('click', function () {\r\n                        // Remove the 'selected' class from all options\r\n                        var options = document.querySelectorAll('.dropdown-custom-option');\r\n                        options.forEach(function (otherOption) {\r\n                            otherOption.classList.remove('selected');\r\n                        });\r\n\r\n                        // Add the 'selected' class to the clicked option\r\n                        option.classList.add('selected');\r\n\r\n                        // Set the button text to the option title\r\n                        var dropdownButton = document.querySelector('.dropdown-custom-button b');\r\n                        dropdownButton.textContent = \"ID \" + name;\r\n\r\n                        // Hide the dropdown content\r\n                        var dropdownContent = document.querySelector('.dropdown-custom-content');\r\n                        dropdownContent.style.display = 'none';\r\n                        setChevron(dropdownContent);\r\n\r\n                        selectedId = id;\r\n\r\n                        update_id();\r\n                    });\r\n\r\n                    // Append the new option to the dropdown content\r\n                    var dropdownContent = document.querySelector('.dropdown-custom-content');\r\n                    dropdownContent.appendChild(option);\r\n                });\r\n\r\n                if (selectedId !== undefined) {\r\n                    update_id();\r\n                } else {\r\n                    if (isConnected === false) {\r\n                        dropdownContent.innerHTML = '';\r\n                    }\r\n                    var dropdownButton = document.querySelector('.dropdown-custom-button b');\r\n                    dropdownButton.textContent = \"Select ID\";\r\n                    document.getElementById('ilisAmountId').textContent = \"-\";\r\n                    document.getElementById('lpAmountId').textContent = \"-\";\r\n                    document.getElementById('nextClaim').textContent = \"-\";\r\n                    let stakeIlisMax = document.getElementById('stake-ilis-amount');\r\n                    stakeIlisMax.textContent = \"max. -\";\r\n                    var cloneIlis = stakeIlisMax.cloneNode(true);\r\n                    stakeIlisMax.parentNode.replaceChild(cloneIlis, stakeIlisMax);\r\n\r\n                    let stakeLpMax = document.getElementById('stake-lp-amount');\r\n                    stakeLpMax.textContent = \"max. -\";\r\n                    var cloneLp = stakeLpMax.cloneNode(true);\r\n                    stakeLpMax.parentNode.replaceChild(cloneLp, stakeLpMax);\r\n\r\n                    let unstakeIlisMax = document.getElementById('unstake-ilis-amount');\r\n                    unstakeIlisMax.textContent = \"max. -\";\r\n                    var cloneUnstakeIlis = unstakeIlisMax.cloneNode(true);\r\n                    unstakeIlisMax.parentNode.replaceChild(cloneUnstakeIlis, unstakeIlisMax);\r\n\r\n                    let unstakeLpMax = document.getElementById('unstake-lp-amount');\r\n                    unstakeLpMax.textContent = \"max. -\";\r\n                    var cloneUnstakeLp = unstakeLpMax.cloneNode(true);\r\n                    unstakeLpMax.parentNode.replaceChild(cloneUnstakeLp, unstakeLpMax);\r\n                }\r\n            }\r\n\r\n            if (window.location.pathname === '/borrow') {\r\n                document.getElementById('interest-rate').textContent = interestRate + \"% APY\";\r\n                var number1 = (1 * data[3].details.total_supply).toFixed(0);\r\n                document.getElementById('circulating-stab').textContent = Number(number1).toLocaleString('en-US');\r\n                document.getElementById('stab-internal-price').textContent = \"$\" + (xrdPrice * stabXrdRatio).toFixed(2);\r\n                document.getElementById('stab-market-price').textContent = \"$\" + (xrdPrice * xrdPoolAmount / stabPoolAmount).toFixed(2);\r\n                var number2 = (data[3].details.total_supply * xrdPrice * xrdPoolAmount / stabPoolAmount).toFixed(0);\r\n                document.getElementById('stab-mc').textContent = \"$\" + Number(number2).toLocaleString('en-US');\r\n\r\n                // Define the request payload\r\n                const requestPayload = {\r\n                    key_value_store_address: collateralsKvs,\r\n                    keys: [\r\n                        {\r\n                            key_hex: xrdKeyHex,\r\n                        },\r\n                        {\r\n                            key_json: {\r\n                                kind: \"Tuple\",\r\n                                fields: [\r\n                                    {\r\n                                        kind: \"U32\",\r\n                                        value: \"1\"\r\n                                    }\r\n                                ]\r\n                            }\r\n                        }\r\n                    ]\r\n                };\r\n\r\n                // Make the API request\r\n                fetch('https://stokenet.radixdlt.com/state/key-value-store/data', {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    body: JSON.stringify(requestPayload)\r\n                })\r\n                    .then(response => response.json())\r\n                    .then(data => {\r\n                        // Extract minted_stab and collateral_amount from the response\r\n                        const entries = data.entries;\r\n                        let mintedStab, collateralAmountInProtocol;\r\n\r\n                        entries.forEach(entry => {\r\n                            const fields = entry.value.programmatic_json.fields;\r\n\r\n                            fields.forEach(field => {\r\n                                if (field.field_name === \"minted_stab\") {\r\n                                    mintedStab = field.value;\r\n                                } else if (field.field_name === \"collateral_amount\") {\r\n                                    collateralAmountInProtocol = field.value;\r\n                                }\r\n                            });\r\n                        });\r\n                        document.getElementById('stab-cr').textContent = (((collateralAmountInProtocol * xrdPrice) / (mintedStab * internalPrice)) * 100).toFixed(2) + \"%\";\r\n                    })\r\n                    .catch(error => {\r\n                        console.error('Error:', error);\r\n                    });\r\n\r\n            }\r\n\r\n            if (window.location.pathname === '/manage-loans') {\r\n                var dropdownContent = document.querySelector('.dropdown-custom-content');\r\n                dropdownContent.innerHTML = '';\r\n                var cdpExists = false;\r\n                var counter;\r\n                if (data.length > 5) {\r\n                    counter = data[5].length - 1;\r\n                }\r\n                // Get the dropdown element\r\n                cdp_ids.forEach(id => {\r\n                    if (cdpExists == false) {\r\n                        cdpExists = true;\r\n                    }\r\n                    var name = \"Receipt \" + id;\r\n                    var logoUrl = 'images/receipt.png'\r\n                    while (data[5][counter].is_burned == true && counter > 0) {\r\n                        counter -= 1;\r\n                    }\r\n                    const resource = acceptedResources.find(ar => ar[1] === data[5][counter].data.programmatic_json.fields[0].value);\r\n                    validatorMultiplier = resource[4];\r\n                    var cr = ((data[5][counter].data.programmatic_json.fields[3].value / data[5][counter].data.programmatic_json.fields[4].value) * xrdPrice * 100 / internalPrice / validatorMultiplier);\r\n                    var status = data[5][counter].data.programmatic_json.fields[6].variant_name;\r\n\r\n                    if (status != \"Liquidated\" && status != \"ForceLiquidated\") {\r\n                        var subtext = status + \", CR: \" + (cr * 1).toFixed(2) + \"%\";\r\n                    } else {\r\n                        var subtext = status;\r\n                    }\r\n\r\n\r\n                    // Create a new option\r\n                    var option = document.createElement('div');\r\n                    option.className = 'dropdown-custom-option';\r\n                    if (cr < 150 || status === \"Marked\") {\r\n                        option.classList.add(\"extrawarning\");\r\n                    } else if (cr < 200) {\r\n                        option.classList.add(\"littlewarning\");\r\n                    }\r\n                    option.dataset.logoUrl = logoUrl;\r\n                    option.setAttribute('tabindex', '0'); // Make the option focusable\r\n\r\n                    // Add the logo image to the option\r\n                    var logoImage = document.createElement('img');\r\n                    logoImage.src = logoUrl;\r\n                    logoImage.alt = 'Logo';\r\n                    logoImage.style.borderRadius = '0';\r\n                    option.appendChild(logoImage);\r\n\r\n                    // Add the text to the option\r\n                    var optionText = document.createElement('div');\r\n                    optionText.className = 'option-text';\r\n\r\n                    var optionTitle = document.createElement('div');\r\n                    optionTitle.className = 'option-title';\r\n                    optionTitle.textContent = name;\r\n                    optionText.appendChild(optionTitle);\r\n\r\n                    var optionSubtext = document.createElement('div');\r\n                    optionSubtext.className = 'option-subtext';\r\n                    optionSubtext.textContent = subtext;\r\n                    optionText.appendChild(optionSubtext);\r\n\r\n                    option.appendChild(optionText);\r\n\r\n                    // Attach the click event listener\r\n                    option.addEventListener('click', function () {\r\n                        document.getElementById('amount-to-remove').value = \"\";\r\n                        // Remove the 'selected' class from all options\r\n                        var options = document.querySelectorAll('.dropdown-custom-option');\r\n                        options.forEach(function (otherOption) {\r\n                            otherOption.classList.remove('selected');\r\n                        });\r\n\r\n                        // Add the 'selected' class to the clicked option\r\n                        option.classList.add('selected');\r\n\r\n                        // Set the button text to the option title\r\n                        var dropdownButton = document.querySelector('.dropdown-custom-button b');\r\n                        dropdownButton.textContent = name;\r\n\r\n                        // Hide the dropdown content\r\n                        var dropdownContent = document.querySelector('.dropdown-custom-content');\r\n                        dropdownContent.style.display = 'none';\r\n                        setChevron(dropdownContent);\r\n                        selectedCdp = id;\r\n                        update_cdp();\r\n                    });\r\n\r\n                    // Append the new option to the dropdown content\r\n                    var dropdownContent = document.querySelector('.dropdown-custom-content');\r\n                    dropdownContent.appendChild(option);\r\n                    counter -= 1;\r\n                });\r\n\r\n                var dropdownButton = document.querySelector('.dropdown-custom-button');\r\n\r\n                if (cdpExists == false) {\r\n                    dropdownButton.style.backgroundColor = \"\";\r\n                    dropdownButton.disabled = true;\r\n                } else {\r\n                    dropdownButton.disabled = false;\r\n                    dropdownButton.style.backgroundColor = \"\";\r\n                }\r\n\r\n                if (selectedCdp !== undefined) {\r\n                    update_cdp();\r\n                } else {\r\n                    if (isConnected === false) {\r\n                        dropdownContent.innerHTML = '';\r\n                    }\r\n                    var dropdownButton = document.querySelector('.dropdown-custom-button b');\r\n                    dropdownButton.textContent = \"select loan receipt\";\r\n                    var logoImage = document.querySelector('.input-logo');\r\n                    logoImage.src = 'images/radix-logo.svg';\r\n                    document.getElementById('status').textContent = \"-\";\r\n                    document.getElementById('collateral').textContent = \"-\";\r\n                    document.getElementById('collateralAmount').textContent = \"\";\r\n                    document.getElementById('debtAmount').textContent = \"-\";\r\n                    document.getElementById('cr').textContent = \"-\";\r\n                }\r\n                setCloseLoanButton();\r\n                if (addingCollateral) {\r\n                    setAddColButton();\r\n                } else {\r\n                    setRemoveColButton();\r\n                }\r\n                if (addingDebt) {\r\n                    setAddDebtButton();\r\n                }\r\n                else {\r\n                    setRemoveDebtButton();\r\n                }\r\n            }\r\n        }\r\n\r\n        fetchData().then(data => {\r\n            bigData = data;\r\n            if (onlyWallet === false) {\r\n                useData(data);\r\n            }\r\n            update_cdp();\r\n            update_liq();\r\n            update_id();\r\n            if (window.location.pathname === '/liquidations') {\r\n                setMarkLiqButton();\r\n                setNoMarkLiqButton();\r\n            }\r\n        }).catch(e => {\r\n            console.error('Error:', e);\r\n        });\r\n    })\r\n}\r\n\r\nupdate(false);\r\n\r\nif (window.location.pathname === '/swap') {\r\n    // Get all buttons with the class 'stake-button'\r\n    const buttons = document.querySelectorAll('.stake-button');\r\n\r\n    // Add an event listener to each button\r\n    buttons.forEach(button => {\r\n        button.addEventListener('click', function () {\r\n            // Perform different actions depending on the id of the clicked button\r\n            buttons.forEach(button => button.classList.remove('selected'));\r\n            this.classList.add('selected');\r\n            if (this.id === 'provide-liq-button') {\r\n                document.getElementById('provide-section').style.display = 'block';\r\n                document.getElementById('remove-section').style.display = 'none';\r\n            } else {\r\n                document.getElementById('provide-section').style.display = 'none';\r\n                document.getElementById('remove-section').style.display = 'block';\r\n            }\r\n        });\r\n    });\r\n\r\n    let swapMax = document.getElementById('swap-sell-amount');\r\n    let swapReceive = document.getElementById('amount-receive');\r\n    let inputFieldSwap = document.getElementById('amount-sell');\r\n    let inputFieldProvideXrd = document.getElementById('amount-xrd-provide-lp');\r\n    let inputFieldProvideStab = document.getElementById('amount-stab-provide-lp');\r\n    let inputFieldRemoveLp = document.getElementById('amount-remove-lp');\r\n\r\n    inputFieldSwap.oninput = function () {\r\n        if (sell == true) {\r\n            formattedWallet = this.value;\r\n            let outputAmount = (parseFloat(stabPoolAmount) * (1 - fee) * formattedWallet)\r\n                / (parseFloat(xrdPoolAmount) + formattedWallet * (1 - fee))\r\n            swapReceive.value = outputAmount.toFixed(5);\r\n            calculateChange();\r\n        }\r\n        else {\r\n            formattedWallet = this.value;\r\n            let outputAmount = (parseFloat(xrdPoolAmount) * (1 - fee) * formattedWallet)\r\n                / (parseFloat(stabPoolAmount) + formattedWallet * (1 - fee))\r\n            swapReceive.value = outputAmount.toFixed(5);\r\n            calculateChange();\r\n        }\r\n    }\r\n\r\n    document.getElementById(\"switch-button\").onclick = function () {\r\n        let source1 = document.getElementById(\"swap-logo-1\").getAttribute(\"src\");\r\n        let source2 = document.getElementById(\"swap-logo-2\").getAttribute(\"src\");\r\n        let sell_suffix = document.getElementById(\"amount-sell-suffix\");\r\n        let receive_suffix = document.getElementById(\"amount-receive-suffix\");\r\n        if (sell_suffix.textContent === \"XRD\" && receive_suffix.textContent === \"STAB\") {\r\n            sell_suffix.textContent = \"STAB\";\r\n            receive_suffix.textContent = \"XRD\";\r\n        } else {\r\n            sell_suffix.textContent = \"XRD\";\r\n            receive_suffix.textContent = \"STAB\";\r\n        }\r\n        document.getElementById(\"swap-logo-1\").setAttribute(\"src\", source2);\r\n        document.getElementById(\"swap-logo-2\").setAttribute(\"src\", source1);\r\n        sell = !sell;\r\n        inputFieldSwap.value = \"0\";\r\n        swapReceive.value = \"0\";\r\n        if (sell == true) {\r\n            formattedWallet = Math.floor(walletXrd * 10) / 10;\r\n            swapMax.textContent = \"max. \" + formattedWallet.toLocaleString('en-US');\r\n        } else {\r\n            if (walletStab >= 0.1) {\r\n                formattedWallet = Math.floor((walletStab) * 10) / 10;\r\n            } else {\r\n                formattedWallet = 0;\r\n            }\r\n            swapMax.textContent = \"max. \" + formattedWallet.toLocaleString('en-US');\r\n        }\r\n        calculateChange();\r\n    }\r\n    swapMax.addEventListener('click', function () {\r\n        if (sell == true) {\r\n            inputFieldSwap.value = walletXrd;\r\n            formattedWallet = Math.floor(walletXrd * 10) / 10;\r\n            let outputAmount = (parseFloat(stabPoolAmount) * (1 - fee) * formattedWallet)\r\n                / (parseFloat(xrdPoolAmount) + formattedWallet * (1 - fee))\r\n            swapReceive.value = outputAmount.toFixed(5);\r\n        }\r\n        else {\r\n            inputFieldSwap.value = walletStab;\r\n            if (walletStab >= 0.1) {\r\n                formattedWallet = Math.floor((walletStab) * 10) / 10;\r\n            } else {\r\n                formattedWallet = 0;\r\n            }\r\n\r\n            let outputAmount = (parseFloat(xrdPoolAmount) * (1 - fee) * formattedWallet)\r\n                / (parseFloat(stabPoolAmount) + formattedWallet * (1 - fee))\r\n            swapReceive.value = outputAmount.toFixed(5);\r\n        }\r\n        calculateChange();\r\n    });\r\n    swapMax.style.cursor = \"pointer\";\r\n\r\n    let provideMaxXrd = document.getElementById('provide-xrd-amount');\r\n    let provideMaxStab = document.getElementById('provide-stab-amount');\r\n    let provideMaxStabSecond = document.getElementById('provide-stab-amount-second');\r\n    let removeMaxLp = document.getElementById('remove-lp-amount');\r\n    provideMaxStab.style.cursor = \"pointer\";\r\n    provideMaxStabSecond.style.cursor = \"pointer\";\r\n    provideMaxXrd.style.cursor = \"pointer\";\r\n    removeMaxLp.style.cursor = \"pointer\";\r\n    provideMaxXrd.addEventListener('click', function () {\r\n        inputFieldProvideXrd.value = walletXrd;\r\n        inputFieldProvideStab.value = inputFieldProvideXrd.value * (stabPoolAmount / xrdPoolAmount);\r\n        setProvideButton();\r\n    });\r\n    provideMaxStab.addEventListener('click', function () {\r\n        inputFieldProvideStab.value = walletStab;\r\n        inputFieldProvideXrd.value = inputFieldProvideStab.value * (xrdPoolAmount / stabPoolAmount);\r\n        setProvideButton();\r\n    });\r\n    provideMaxStabSecond.addEventListener('click', function () {\r\n        inputFieldProvideStab.value = walletStab;\r\n        inputFieldProvideXrd.value = inputFieldProvideStab.value * (xrdPoolAmount / stabPoolAmount);\r\n        setProvideButton();\r\n    });\r\n    removeMaxLp.addEventListener('click', function () {\r\n        inputFieldRemoveLp.value = walletLp;\r\n        setRemoveLpButton();\r\n    });\r\n\r\n    inputFieldRemoveLp.oninput = function () {\r\n        setRemoveLpButton();\r\n    }\r\n\r\n    inputFieldProvideStab.oninput = function () {\r\n        inputFieldProvideXrd.value = inputFieldProvideStab.value * (xrdPoolAmount / stabPoolAmount);\r\n        if (this.value == \"\") {\r\n            inputFieldProvideXrd.value = \"\";\r\n        }\r\n        setProvideButton();\r\n    }\r\n    inputFieldProvideXrd.oninput = function () {\r\n        inputFieldProvideStab.value = inputFieldProvideXrd.value * (stabPoolAmount / xrdPoolAmount);\r\n        if (this.value == \"\") {\r\n            inputFieldProvideStab.value = \"\";\r\n        }\r\n        setProvideButton();\r\n    }\r\n\r\n    // *********** Swap ***********\r\n    document.getElementById('sell').onclick = async function () {\r\n        update(true);\r\n        if (!isConnected) {\r\n            return;\r\n        }\r\n\r\n        if (document.getElementById(\"amount-sell\").value === \"\") {\r\n            alert(\"Please enter an amount to swap.\");\r\n            return;\r\n        }\r\n\r\n        const button = this;\r\n        const buttonText = button.querySelector('.button-text');\r\n        const buttonWaiting = button.querySelector('.button-waiting');\r\n        const spinner = button.querySelector('.spin');\r\n        const angleIcon = button.querySelector('.chevron');\r\n        spinner.style.display = 'inline-block';\r\n        angleIcon.style.display = 'none';\r\n        buttonText.style.display = 'none';\r\n        buttonWaiting.style.display = 'inline-block';\r\n        button.disabled = true;\r\n        button.style.backgroundColor = '#c6c6c6';\r\n\r\n        let sellAmount = document.getElementById(\"amount-sell\").value;\r\n        let sellAddress;\r\n        let message;\r\n\r\n        if (sell == true) {\r\n            sellAddress = xrdAddress;\r\n            message = \"Selling XRD for STAB using the Stabilis Protocol\";\r\n        } else {\r\n            sellAddress = stabAddress;\r\n            message = \"Selling STAB for XRD using the Stabilis Protocol\";\r\n        }\r\n\r\n        let manifest = `\r\n                CALL_METHOD\r\n                Address(\"${accountAddress}\")\r\n                \"withdraw\"    \r\n                Address(\"${sellAddress}\")\r\n                Decimal(\"${sellAmount}\");\r\n                TAKE_ALL_FROM_WORKTOP\r\n                Address(\"${sellAddress}\")\r\n                Bucket(\"sell\");\r\n                CALL_METHOD\r\n                Address(\"${poolComponentAddress}\")\r\n                \"swap\"\r\n                Bucket(\"sell\");\r\n                CALL_METHOD\r\n                Address(\"${accountAddress}\")\r\n                \"deposit_batch\"\r\n                Expression(\"ENTIRE_WORKTOP\");\r\n                `\r\n        console.log('Swap manifest: ', manifest)\r\n        toastMe(0, \"Swap\", 1);\r\n\r\n        // Send manifest to extension for signing\r\n        rdt.walletApi\r\n            .sendTransaction({\r\n                transactionManifest: manifest,\r\n                version: 1,\r\n                message,\r\n            })\r\n            .then(result => {\r\n                toastMe(result.value.transactionIntentHash, \"Swap\", 2);\r\n                console.log(result);\r\n                // Hide the spinner, show the angle icon, and change the button text back\r\n                spinner.style.display = 'none';\r\n                angleIcon.style.display = 'inline-block';\r\n                buttonText.style.display = 'inline-block';\r\n                buttonWaiting.style.display = 'none';\r\n                button.disabled = false;\r\n                button.style.backgroundColor = '';\r\n                update(false);\r\n            })\r\n            .catch(error => {\r\n                // Hide the spinner, show the angle icon, and change the button text back\r\n                spinner.style.display = 'none';\r\n                angleIcon.style.display = 'inline-block';\r\n                buttonText.style.display = 'inline-block';\r\n                buttonWaiting.style.display = 'none';\r\n                button.disabled = false;\r\n                button.style.backgroundColor = '';\r\n\r\n                // Handle the error\r\n                console.error(error);\r\n            });\r\n    }\r\n\r\n    // *********** Add liq ***********\r\n    document.getElementById('provide').onclick = async function () {\r\n        update(true);\r\n        if (!isConnected) {\r\n            return;\r\n        }\r\n\r\n        if (document.getElementById(\"amount-xrd-provide-lp\").value === \"\" || document.getElementById(\"amount-stab-provide-lp\").value === \"\") {\r\n            alert(\"Please enter an amount to provide.\");\r\n            return;\r\n        }\r\n\r\n        const button = this;\r\n        const buttonText = button.querySelector('.button-text');\r\n        const buttonWaiting = button.querySelector('.button-waiting');\r\n        const spinner = button.querySelector('.spin');\r\n        const angleIcon = button.querySelector('.chevron');\r\n        spinner.style.display = 'inline-block';\r\n        angleIcon.style.display = 'none';\r\n        buttonText.style.display = 'none';\r\n        buttonWaiting.style.display = 'inline-block';\r\n        button.disabled = true;\r\n        button.style.backgroundColor = '#c6c6c6';\r\n\r\n        let provideAmountXrd = document.getElementById(\"amount-xrd-provide-lp\").value;\r\n        let provideAmountStab = document.getElementById(\"amount-stab-provide-lp\").value;\r\n        let manifest = `\r\n    CALL_METHOD\r\n      Address(\"${accountAddress}\") #Primary account \r\n      \"withdraw\"\r\n      Address(\"${xrdAddress}\") # XRD address\r\n      Decimal(\"${provideAmountXrd}\");\r\n  \r\n    TAKE_FROM_WORKTOP \r\n        Address(\"${xrdAddress}\") # XRD address\r\n        Decimal(\"${provideAmountXrd}\") \r\n        Bucket(\"xrd_bucket\");\r\n      \r\n    CALL_METHOD\r\n        Address(\"${accountAddress}\") #Primary account \r\n        \"withdraw\"\r\n        Address(\"${stabAddress}\") # STAB address\r\n        Decimal(\"${provideAmountStab}\");\r\n  \r\n    TAKE_FROM_WORKTOP \r\n        Address(\"${stabAddress}\") # STAB address\r\n        Decimal(\"${provideAmountStab}\") \r\n        Bucket(\"stab_bucket\");\r\n  \r\n    CALL_METHOD    \r\n        Address(\"${poolComponentAddress}\") #pool comp address\r\n        \"add_liquidity\"\r\n        Bucket(\"stab_bucket\")\r\n        Bucket(\"xrd_bucket\");\r\n  \r\n    CALL_METHOD\r\n        Address(\"${accountAddress}\") \r\n        \"deposit_batch\"\r\n        Expression(\"ENTIRE_WORKTOP\");\r\n        `\r\n        console.log('add liq manifest: ', manifest)\r\n\r\n        toastMe(0, \"Liquidity provision request\", 1);\r\n        // Send manifest to extension for signing\r\n        rdt.walletApi\r\n            .sendTransaction({\r\n                transactionManifest: manifest,\r\n                version: 1,\r\n                message: \"Adding liquidity to the Stabilis Protocol\",\r\n            })\r\n            .then(result => {\r\n                toastMe(result.value.transactionIntentHash, \"Liquidity provision\", 2);\r\n                // Hide the spinner, show the angle icon, and change the button text back\r\n                spinner.style.display = 'none';\r\n                angleIcon.style.display = 'inline-block';\r\n                buttonText.style.display = 'inline-block';\r\n                buttonWaiting.style.display = 'none';\r\n                button.disabled = false;\r\n                button.style.backgroundColor = '';\r\n                update(false);\r\n            })\r\n            .catch(error => {\r\n                // Hide the spinner, show the angle icon, and change the button text back\r\n                spinner.style.display = 'none';\r\n                angleIcon.style.display = 'inline-block';\r\n                buttonText.style.display = 'inline-block';\r\n                buttonWaiting.style.display = 'none';\r\n                button.disabled = false;\r\n                button.style.backgroundColor = '';\r\n\r\n                // Handle the error\r\n                console.error(error);\r\n            });\r\n    }\r\n\r\n    // *********** Remove liq. ***********\r\n    document.getElementById('remove').onclick = async function () {\r\n        update(true);\r\n        if (!isConnected) {\r\n            return;\r\n        }\r\n\r\n        if (document.getElementById(\"amount-remove-lp\").value === \"\") {\r\n            alert(\"Please enter an amount to remove.\");\r\n            return;\r\n        }\r\n\r\n        const button = this;\r\n        const buttonText = button.querySelector('.button-text');\r\n        const buttonWaiting = button.querySelector('.button-waiting');\r\n        const spinner = button.querySelector('.spin');\r\n        const angleIcon = button.querySelector('.chevron');\r\n        spinner.style.display = 'inline-block';\r\n        angleIcon.style.display = 'none';\r\n        buttonText.style.display = 'none';\r\n        buttonWaiting.style.display = 'inline-block';\r\n        button.disabled = true;\r\n        button.style.backgroundColor = '#c6c6c6';\r\n\r\n        let removeAmount = document.getElementById(\"amount-remove-lp\").value;\r\n        let manifest = `\r\n    CALL_METHOD\r\n      Address(\"${accountAddress}\") #Primary account \r\n      \"withdraw\"\r\n      Address(\"${lpAddress}\") # XRD address\r\n      Decimal(\"${removeAmount}\");\r\n  \r\n    TAKE_FROM_WORKTOP \r\n        Address(\"${lpAddress}\") # XRD address\r\n        Decimal(\"${removeAmount}\") \r\n        Bucket(\"lp_bucket\");\r\n  \r\n    CALL_METHOD    \r\n        Address(\"${poolComponentAddress}\") #pool comp address\r\n        \"remove_liquidity\"\r\n        Bucket(\"lp_bucket\");\r\n  \r\n    CALL_METHOD\r\n        Address(\"${accountAddress}\") \r\n        \"deposit_batch\"\r\n        Expression(\"ENTIRE_WORKTOP\");\r\n        `\r\n        console.log('remove liq manifest: ', manifest)\r\n        toastMe(0, \"Liquidity removal request\", 1);\r\n        rdt.walletApi\r\n            .sendTransaction({\r\n                transactionManifest: manifest,\r\n                version: 1,\r\n                message: \"Removing liquidity from the Stabilis Protocol\",\r\n            })\r\n            .then(result => {\r\n                toastMe(result.value.transactionIntentHash, \"Liquidity removal\", 2);\r\n                // Hide the spinner, show the angle icon, and change the button text back\r\n                spinner.style.display = 'none';\r\n                angleIcon.style.display = 'inline-block';\r\n                buttonText.style.display = 'inline-block';\r\n                buttonWaiting.style.display = 'none';\r\n                button.disabled = false;\r\n                button.style.backgroundColor = '';\r\n                update(false);\r\n            })\r\n            .catch(error => {\r\n                // Hide the spinner, show the angle icon, and change the button text back\r\n                spinner.style.display = 'none';\r\n                angleIcon.style.display = 'inline-block';\r\n                buttonText.style.display = 'inline-block';\r\n                buttonWaiting.style.display = 'none';\r\n                button.disabled = false;\r\n                button.style.backgroundColor = '';\r\n\r\n                // Handle the error\r\n                console.error(error);\r\n            });\r\n\r\n    }\r\n}\r\n\r\nif (window.location.pathname === '/liquidations') {\r\n    // Get all buttons with the class 'stake-button'\r\n    const buttons = document.querySelectorAll('.stake-button');\r\n\r\n    // Add an event listener to each button\r\n    buttons.forEach(button => {\r\n        button.addEventListener('click', function () {\r\n            // Perform different actions depending on the id of the clicked button\r\n            buttons.forEach(button => button.classList.remove('selected'));\r\n            this.classList.add('selected');\r\n            if (this.id === 'with-marker-button') {\r\n                document.getElementById('with-marker-section').style.display = 'block';\r\n                document.getElementById('without-marker-section').style.display = 'none';\r\n            } else {\r\n                document.getElementById('with-marker-section').style.display = 'none';\r\n                document.getElementById('without-marker-section').style.display = 'block';\r\n            }\r\n        });\r\n    });\r\n\r\n    var plusSymbolMark = document.getElementById('plus-symbol-mark');\r\n    var minusSymbolMark = document.getElementById('minus-symbol-mark');\r\n    var markCounter = document.getElementById('mark-counter');\r\n    checkMarking(1);\r\n    setNoMarkLiqButton();\r\n\r\n    plusSymbolMark.onclick = function () {\r\n        markCounter.textContent = parseInt(markCounter.textContent) + 1;\r\n        minusSymbolMark.disabled = false;\r\n        minusSymbolMark.style.backgroundColor = \"\";\r\n        checkMarking(parseInt(markCounter.textContent));\r\n    }\r\n    minusSymbolMark.onclick = function () {\r\n        if (parseInt(markCounter.textContent) > 1) {\r\n            markCounter.textContent = parseInt(markCounter.textContent) - 1;\r\n        }\r\n        if (parseInt(markCounter.textContent) == 1) {\r\n            minusSymbolMark.disabled = true;\r\n        }\r\n        checkMarking(parseInt(markCounter.textContent));\r\n    }\r\n\r\n    var plusSymbolLiq = document.getElementById('plus-symbol-liq');\r\n    var minusSymbolLiq = document.getElementById('minus-symbol-liq');\r\n    var liqCounter = document.getElementById('liq-counter');\r\n    checkLiquidation(0);\r\n\r\n    plusSymbolLiq.onclick = function () {\r\n        liqCounter.textContent = parseInt(liqCounter.textContent) + 1;\r\n        minusSymbolLiq.disabled = false;\r\n        minusSymbolLiq.style.backgroundColor = \"\";\r\n        checkLiquidation(parseInt(liqCounter.textContent));\r\n        setNoMarkLiqButton();\r\n    }\r\n    minusSymbolLiq.onclick = function () {\r\n        if (parseInt(liqCounter.textContent) > 0) {\r\n            liqCounter.textContent = parseInt(liqCounter.textContent) - 1;\r\n        }\r\n        if (parseInt(liqCounter.textContent) == 0) {\r\n            minusSymbolLiq.disabled = true;\r\n        }\r\n        checkLiquidation(parseInt(liqCounter.textContent));\r\n        setNoMarkLiqButton();\r\n    }\r\n\r\n    /*document.getElementById('liq-helper-button').addEventListener('click', function () {\r\n        if (document.getElementById('liq-helper').style.display === '') {\r\n            document.getElementById('liq-helper').style.display = 'none';\r\n            document.getElementById('chevron-down').style.display = '';\r\n            document.getElementById('chevron-up').style.display = 'none';\r\n        } else {\r\n            document.getElementById('liq-helper').style.display = '';\r\n            document.getElementById('chevron-down').style.display = 'none';\r\n            document.getElementById('chevron-up').style.display = '';\r\n        }\r\n    });*/\r\n\r\n    var button = document.querySelector('.dropdown-custom-button');\r\n    var initialWidth = window.getComputedStyle(button).width;\r\n    button.style.minWidth = initialWidth;\r\n\r\n\r\n    // Get the dropdown button and content\r\n    var dropdownButton = document.querySelector('.dropdown-custom-button');\r\n    var dropdownContent = document.querySelector('.dropdown-custom-content');\r\n\r\n    // Add click event listeners to each option\r\n    var options = document.querySelectorAll('.dropdown-custom-option');\r\n\r\n    // Show the dropdown content when the button is clicked\r\n    dropdownButton.addEventListener('click', function () {\r\n        if (dropdownButton.disabled) {\r\n            return;\r\n        }\r\n        if (dropdownContent !== undefined) {\r\n            var display = dropdownContent.style.display;\r\n            dropdownContent.style.display = display === 'block' ? 'none' : 'block';\r\n            setChevron(dropdownContent);\r\n        }\r\n        var options = document.querySelectorAll('.dropdown-custom-option');\r\n\r\n        // Check if there are any options\r\n        if (options.length === 0) {\r\n            // If not, display a message\r\n            alert('No marker receipts available in wallet.');\r\n        }\r\n    });\r\n\r\n    document.addEventListener('click', function (event) {\r\n        // Check if the clicked element is the dropdown button or one of the dropdown options\r\n        var isDropdownButton = dropdownButton.contains(event.target);\r\n        var isDropdownOption = Array.from(options).some(function (option) {\r\n            return option.contains(event.target);\r\n        });\r\n\r\n        // If the clicked element is not the dropdown button or one of the dropdown options, hide the dropdown content\r\n        if (!isDropdownButton && !isDropdownOption) {\r\n            dropdownContent.style.display = 'none';\r\n            setChevron(dropdownContent);\r\n        }\r\n    });\r\n    // *********** mark ***********\r\n    document.getElementById('mark').onclick = async function () {\r\n        update(true);\r\n        if (!isConnected) {\r\n            return;\r\n        }\r\n\r\n        const button = this;\r\n        const buttonText = button.querySelector('.button-text');\r\n        const buttonWaiting = button.querySelector('.button-waiting');\r\n        const spinner = button.querySelector('.spin');\r\n        const angleIcon = button.querySelector('.chevron');\r\n        spinner.style.display = 'inline-block';\r\n        angleIcon.style.display = 'none';\r\n        buttonText.style.display = 'none';\r\n        buttonWaiting.style.display = 'inline-block';\r\n        button.disabled = true;\r\n        button.style.backgroundColor = '#c6c6c6';\r\n        var amount = parseInt(document.getElementById('mark-counter').textContent);\r\n\r\n        let manifest = '';\r\n\r\n        // Repeat the specified part of the manifest\r\n        const repeatManifest = `\r\n            CALL_METHOD\r\n                Address(\"${componentAddress}\")\r\n                \"mark_for_liquidation\"\r\n                Address(\"${xrdAddress}\")\r\n                ;\r\n            `;\r\n\r\n        for (let i = 0; i < amount; i++) {\r\n            manifest += repeatManifest;\r\n        }\r\n\r\n        // Add the remaining part of the manifest\r\n        manifest += `\r\n            CALL_METHOD\r\n                Address(\"${accountAddress}\")\r\n                \"deposit_batch\"\r\n                Expression(\"ENTIRE_WORKTOP\");\r\n            `;\r\n\r\n        console.log('mark manifest: ', manifest)\r\n\r\n        toastMe(0, \"Marking request\", 1);\r\n        // Send manifest to extension for signing\r\n        rdt.walletApi\r\n            .sendTransaction({\r\n                transactionManifest: manifest,\r\n                version: 1,\r\n                message: \"Marking STAB loan for liquidation\",\r\n            })\r\n            .then(result => {\r\n                toastMe(result.value.transactionIntentHash, \"Marking\", 2);\r\n                // Hide the spinner, show the angle icon, and change the button text back\r\n                spinner.style.display = 'none';\r\n                angleIcon.style.display = 'inline-block';\r\n                buttonText.style.display = 'inline-block';\r\n                buttonWaiting.style.display = 'none';\r\n                button.disabled = false;\r\n                button.style.backgroundColor = '';\r\n                console.log(\"Mint Result: \", result.value);\r\n                update(false);\r\n                checkMarking(parseInt(markCounter.textContent));\r\n            })\r\n            .catch(error => {\r\n                // Hide the spinner, show the angle icon, and change the button text back\r\n                spinner.style.display = 'none';\r\n                angleIcon.style.display = 'inline-block';\r\n                buttonText.style.display = 'inline-block';\r\n                buttonWaiting.style.display = 'none';\r\n                button.disabled = false;\r\n                button.style.backgroundColor = '';\r\n\r\n                // Handle the error\r\n                console.error(error);\r\n            });\r\n    }\r\n\r\n    // *********** LiquidateWithMarker ***********\r\n    document.getElementById('liqwithmark').onclick = async function () {\r\n        if (!isConnected) {\r\n            return;\r\n        }\r\n\r\n        if (selectedMarker === undefined) {\r\n            alert(\"Please select a marker receipt.\");\r\n            return;\r\n        }\r\n\r\n        let markerId = selectedMarker;\r\n        let stabAmount = walletStab;\r\n        let manifest;\r\n        let action;\r\n\r\n        const button = this;\r\n        const buttonText = button.querySelector('.button-text');\r\n        const buttonWaiting = button.querySelector('.button-waiting');\r\n        const spinner = button.querySelector('.spin');\r\n        const angleIcon = button.querySelector('.chevron');\r\n        spinner.style.display = 'inline-block';\r\n        angleIcon.style.display = 'none';\r\n        buttonText.style.display = 'none';\r\n        buttonWaiting.style.display = 'inline-block';\r\n        button.disabled = true;\r\n        button.style.backgroundColor = '#c6c6c6';\r\n        let message;\r\n\r\n        if (markerUsed == false) {\r\n            message = \"Liquidating STAB loan with marker\";\r\n            action = \"Liquidation\";\r\n            manifest = `\r\n    CALL_METHOD\r\n      Address(\"${accountAddress}\")\r\n      \"create_proof_of_non_fungibles\"\r\n      Address(\"${markerAddress}\") #marker resource address\r\n      Array<NonFungibleLocalId>(\r\n        NonFungibleLocalId(\"${markerId}\")\r\n      );\r\n    POP_FROM_AUTH_ZONE\r\n      Proof(\"marker_proof\");\r\n    CALL_METHOD\r\n      Address(\"${accountAddress}\")\r\n      \"withdraw\"\r\n      Address(\"${stabAddress}\")\r\n      Decimal(\"${debtAmount}\");\r\n    TAKE_ALL_FROM_WORKTOP\r\n      Address(\"${stabAddress}\")\r\n      Bucket(\"stab\");\r\n    CALL_METHOD\r\n      Address(\"${componentAddress}\")\r\n      \"liquidate_position_with_marker\"\r\n      Proof(\"marker_proof\")\r\n      Bucket(\"stab\");\r\n    CALL_METHOD\r\n      Address(\"${accountAddress}\")\r\n      \"deposit_batch\"\r\n      Expression(\"ENTIRE_WORKTOP\");\r\n      `\r\n            console.log('liq /w mark manifest: ', manifest)\r\n        } else {\r\n            message = \"Burning STAB loan marker\";\r\n            action = \"Burning marker receipt\";\r\n            manifest = `\r\n            CALL_METHOD\r\n      Address(\"${accountAddress}\") #Primary account \r\n      \"withdraw_non_fungibles\"\r\n      Address(\"${markerAddress}\") # XRD address\r\n      Array<NonFungibleLocalId>(\r\n        NonFungibleLocalId(\"${markerId}\")\r\n      );\r\n  \r\n    TAKE_NON_FUNGIBLES_FROM_WORKTOP \r\n        Address(\"${markerAddress}\") # XRD address\r\n        Array<NonFungibleLocalId>(\r\n            NonFungibleLocalId(\"${markerId}\")\r\n          )\r\n        Bucket(\"marker_bucket\");\r\n  \r\n    CALL_METHOD    \r\n        Address(\"${componentAddress}\") #pool comp address\r\n        \"burn_marker\"\r\n        Bucket(\"marker_bucket\");\r\n      `\r\n            console.log('burn manifest: ', manifest)\r\n        }\r\n\r\n        toastMe(0, action, 1);\r\n\r\n        // Send manifest to extension for signing\r\n        rdt.walletApi\r\n            .sendTransaction({\r\n                transactionManifest: manifest,\r\n                version: 1,\r\n                message,\r\n            })\r\n            .then(result => {\r\n                if (action == \"Burning marker receipt\") {\r\n                    selectedMarker = undefined;\r\n                }\r\n                toastMe(result.value.transactionIntentHash, action, 2);\r\n                // Hide the spinner, show the angle icon, and change the button text back\r\n                spinner.style.display = 'none';\r\n                angleIcon.style.display = 'inline-block';\r\n                buttonText.style.display = 'inline-block';\r\n                buttonWaiting.style.display = 'none';\r\n                button.disabled = false;\r\n                button.style.backgroundColor = '';\r\n                console.log(\"Mint Result: \", result.value);\r\n                update(false);\r\n                checkMarking(parseInt(document.getElementById('mark-counter').textContent));\r\n                checkLiquidation(parseInt(document.getElementById('liq-counter').textContent));\r\n            })\r\n            .catch(error => {\r\n                // Hide the spinner, show the angle icon, and change the button text back\r\n                spinner.style.display = 'none';\r\n                angleIcon.style.display = 'inline-block';\r\n                buttonText.style.display = 'inline-block';\r\n                buttonWaiting.style.display = 'none';\r\n                button.disabled = false;\r\n                button.style.backgroundColor = '';\r\n\r\n                // Handle the error\r\n                console.error(error);\r\n            });\r\n    }\r\n\r\n    // *********** LiquidateWithoutMarker next***********\r\n    document.getElementById('liqnextskip').onclick = async function () {\r\n        if (!isConnected) {\r\n            return;\r\n        }\r\n\r\n        const button = this;\r\n        const buttonText = button.querySelector('.button-text');\r\n        const buttonWaiting = button.querySelector('.button-waiting');\r\n        const spinner = button.querySelector('.spin');\r\n        const angleIcon = button.querySelector('.chevron');\r\n        spinner.style.display = 'inline-block';\r\n        angleIcon.style.display = 'none';\r\n        buttonText.style.display = 'none';\r\n        buttonWaiting.style.display = 'inline-block';\r\n        button.disabled = true;\r\n        button.style.backgroundColor = '#c6c6c6';\r\n\r\n        let skipAmount = parseFloat(document.getElementById(\"liq-counter\").textContent);\r\n        let stabAmount = liqNextStab + 0.000001;\r\n\r\n        let manifest = `\r\n    CALL_METHOD\r\n      Address(\"${accountAddress}\")\r\n      \"withdraw\"\r\n      Address(\"${stabAddress}\")\r\n      Decimal(\"${stabAmount}\");\r\n    TAKE_ALL_FROM_WORKTOP\r\n      Address(\"${stabAddress}\")\r\n      Bucket(\"stab\");\r\n    CALL_METHOD\r\n      Address(\"${componentAddress}\")\r\n      \"liquidate_position_without_marker\"\r\n      Bucket(\"stab\")\r\n      true\r\n      ${skipAmount}i64\r\n      NonFungibleLocalId(\"#0#\");\r\n    CALL_METHOD\r\n      Address(\"${accountAddress}\")\r\n      \"deposit_batch\"\r\n      Expression(\"ENTIRE_WORKTOP\");\r\n      `\r\n        console.log('liquidate manifest: ', manifest)\r\n        toastMe(0, \"Liquidation request\", 1);\r\n\r\n        // Send manifest to extension for signing\r\n        rdt.walletApi\r\n            .sendTransaction({\r\n                transactionManifest: manifest,\r\n                version: 1,\r\n                message: \"Liquidating STAB loan without marker\",\r\n            })\r\n            .then(result => {\r\n                toastMe(result.value.transactionIntentHash, \"Liquidition\", 2);\r\n                // Hide the spinner, show the angle icon, and change the button text back\r\n                spinner.style.display = 'none';\r\n                angleIcon.style.display = 'inline-block';\r\n                buttonText.style.display = 'inline-block';\r\n                buttonWaiting.style.display = 'none';\r\n                button.disabled = false;\r\n                button.style.backgroundColor = '';\r\n                console.log(\"Mint Result: \", result.value);\r\n                update(false);\r\n                checkMarking(parseInt(document.getElementById('mark-counter').textContent));\r\n                checkLiquidation(parseInt(document.getElementById('liq-counter').textContent));\r\n            })\r\n            .catch(error => {\r\n                // Hide the spinner, show the angle icon, and change the button text back\r\n                spinner.style.display = 'none';\r\n                angleIcon.style.display = 'inline-block';\r\n                buttonText.style.display = 'inline-block';\r\n                buttonWaiting.style.display = 'none';\r\n                button.disabled = false;\r\n                button.style.backgroundColor = '';\r\n\r\n                // Handle the error\r\n                console.error(error);\r\n            });\r\n    }\r\n}\r\n\r\nif (window.location.pathname === '/incentives') {\r\n    // Get all buttons with the class 'stake-button'\r\n    const buttons = document.querySelectorAll('.stake-button');\r\n\r\n    // Add an event listener to each button\r\n    buttons.forEach(button => {\r\n        button.addEventListener('click', function () {\r\n            // Perform different actions depending on the id of the clicked button\r\n            buttons.forEach(button => button.classList.remove('selected'));\r\n            this.classList.add('selected');\r\n            if (this.id === 'stake-selector') {\r\n                console.log(\"showing stake section\");\r\n                document.getElementById('stake-section').style.display = '';\r\n                document.getElementById('unstake-section').style.display = 'none';\r\n            } else {\r\n                console.log(\"showing unstake section\");\r\n                document.getElementById('stake-section').style.display = 'none';\r\n                document.getElementById('unstake-section').style.display = '';\r\n            }\r\n        });\r\n    });\r\n\r\n    // Get the dropdown button and content\r\n    var dropdownButton = document.querySelector('.dropdown-custom-button');\r\n    var dropdownContent = document.querySelector('.dropdown-custom-content');\r\n\r\n    // Add click event listeners to each option\r\n    var options = document.querySelectorAll('.dropdown-custom-option');\r\n\r\n    // Show the dropdown content when the button is clicked\r\n    dropdownButton.addEventListener('click', function () {\r\n        if (dropdownButton.disabled) {\r\n            return;\r\n        }\r\n        if (dropdownContent !== undefined) {\r\n            var display = dropdownContent.style.display;\r\n            dropdownContent.style.display = display === 'block' ? 'none' : 'block';\r\n            setChevron(dropdownContent);\r\n        }\r\n        var options = document.querySelectorAll('.dropdown-custom-option');\r\n\r\n        // Check if there are any options\r\n        if (options.length === 0) {\r\n            // If not, display a message\r\n            alert('No Stabilis Staking ID in wallet. Please create one.');\r\n        }\r\n    });\r\n\r\n    document.addEventListener('click', function (event) {\r\n        // Check if the clicked element is the dropdown button or one of the dropdown options\r\n        var isDropdownButton = dropdownButton.contains(event.target);\r\n        var isDropdownOption = Array.from(options).some(function (option) {\r\n            return option.contains(event.target);\r\n        });\r\n\r\n        // If the clicked element is not the dropdown button or one of the dropdown options, hide the dropdown content\r\n        if (!isDropdownButton && !isDropdownOption) {\r\n            dropdownContent.style.display = 'none';\r\n            setChevron(dropdownContent);\r\n        }\r\n    });\r\n    // *********** Create ID ***********\r\n    document.getElementById('new-id').onclick = async function () {\r\n        update(true);\r\n        if (!isConnected) {\r\n            return;\r\n        }\r\n\r\n        const button = this;\r\n        const buttonText = button.querySelector('.button-text');\r\n        const buttonWaiting = button.querySelector('.button-waiting');\r\n        const spinner = button.querySelector('.spin');\r\n        const angleIcon = button.querySelector('.chevron');\r\n        spinner.style.display = 'inline-block';\r\n        angleIcon.style.display = 'none';\r\n        buttonText.style.display = 'none';\r\n        buttonWaiting.style.display = 'inline-block';\r\n        button.disabled = true;\r\n        button.style.backgroundColor = '#c6c6c6';\r\n\r\n        let manifest = `\r\n    CALL_METHOD    \r\n    Address(\"${componentAddress}\") #proxy comp address\r\n    \"create_stab_id\";\r\n  \r\n  CALL_METHOD\r\n    Address(\"${accountAddress}\") \r\n    \"deposit_batch\"\r\n    Expression(\"ENTIRE_WORKTOP\");\r\n      `\r\n        console.log('create id manifest: ', manifest)\r\n        toastMe(0, \"ID creation request\", 1);\r\n\r\n        // Send manifest to extension for signing\r\n        rdt.walletApi\r\n            .sendTransaction({\r\n                transactionManifest: manifest,\r\n                version: 1,\r\n                message: \"Creating a new Stabilis Staking ID\",\r\n            })\r\n            .then(result => {\r\n                toastMe(result.value.transactionIntentHash, \"ID creation\", 2);\r\n                // Hide the spinner, show the angle icon, and change the button text back\r\n                spinner.style.display = 'none';\r\n                angleIcon.style.display = 'inline-block';\r\n                buttonText.style.display = 'inline-block';\r\n                buttonWaiting.style.display = 'none';\r\n                button.disabled = false;\r\n                button.style.backgroundColor = '';\r\n                console.log(\"Mint Result: \", result.value);\r\n                update(false);\r\n                update_id();\r\n            })\r\n            .catch(error => {\r\n                // Hide the spinner, show the angle icon, and change the button text back\r\n                spinner.style.display = 'none';\r\n                angleIcon.style.display = 'inline-block';\r\n                buttonText.style.display = 'inline-block';\r\n                buttonWaiting.style.display = 'none';\r\n                button.disabled = false;\r\n                button.style.backgroundColor = '';\r\n\r\n                // Handle the error\r\n                console.error(error);\r\n            });\r\n    }\r\n\r\n    // *********** update ***********\r\n    document.getElementById('update').onclick = async function () {\r\n        update(true);\r\n        if (!isConnected) {\r\n            return;\r\n        }\r\n\r\n        const button = this;\r\n        const buttonText = button.querySelector('.button-text');\r\n        const buttonWaiting = button.querySelector('.button-waiting');\r\n        const spinner = button.querySelector('.spin');\r\n        const angleIcon = button.querySelector('.chevron');\r\n        spinner.style.display = 'inline-block';\r\n        angleIcon.style.display = 'none';\r\n        buttonText.style.display = 'none';\r\n        buttonWaiting.style.display = 'inline-block';\r\n        button.disabled = true;\r\n        button.style.backgroundColor = '#c6c6c6';\r\n\r\n        let manifest = `\r\n    CALL_METHOD\r\n      Address(\"${componentAddress}\")\r\n      \"update\";\r\n    CALL_METHOD\r\n      Address(\"${accountAddress}\")\r\n      \"deposit_batch\"\r\n      Expression(\"ENTIRE_WORKTOP\");\r\n      `\r\n        console.log('update manifest: ', manifest)\r\n        toastMe(0, \"Protocol update\", 1);\r\n\r\n        // Send manifest to extension for signing\r\n        rdt.walletApi\r\n            .sendTransaction({\r\n                transactionManifest: manifest,\r\n                version: 1,\r\n                message: \"Updating Stabilis Protocol\",\r\n            })\r\n            .then(result => {\r\n                toastMe(result.value.transactionIntentHash, \"Update\", 2);\r\n                // Hide the spinner, show the angle icon, and change the button text back\r\n                spinner.style.display = 'none';\r\n                angleIcon.style.display = 'inline-block';\r\n                buttonText.style.display = 'inline-block';\r\n                buttonWaiting.style.display = 'none';\r\n                button.disabled = false;\r\n                button.style.backgroundColor = '';\r\n                console.log(\"Mint Result: \", result.value);\r\n                update_id();\r\n            })\r\n            .catch(error => {\r\n                // Hide the spinner, show the angle icon, and change the button text back\r\n                spinner.style.display = 'none';\r\n                angleIcon.style.display = 'inline-block';\r\n                buttonText.style.display = 'inline-block';\r\n                buttonWaiting.style.display = 'none';\r\n                button.disabled = false;\r\n                button.style.backgroundColor = '';\r\n\r\n                // Handle the error\r\n                console.error(error);\r\n            });\r\n    }\r\n\r\n    // *********** Claim ***********\r\n    document.getElementById('claim-button').onclick = async function () {\r\n        update(true);\r\n        if (!isConnected) {\r\n            return;\r\n        }\r\n\r\n        const button = this;\r\n        const buttonText = button.querySelector('.button-text');\r\n        const buttonWaiting = button.querySelector('.button-waiting');\r\n        const spinner = button.querySelector('.spin');\r\n        const angleIcon = button.querySelector('.chevron');\r\n        spinner.style.display = 'inline-block';\r\n        angleIcon.style.display = 'none';\r\n        buttonText.style.display = 'none';\r\n        buttonWaiting.style.display = 'inline-block';\r\n        button.disabled = true;\r\n        button.style.backgroundColor = '#c6c6c6';\r\n\r\n        let stabId = selectedId;\r\n        let manifest = `\r\n    CALL_METHOD\r\n      Address(\"${accountAddress}\")\r\n      \"create_proof_of_non_fungibles\"\r\n      Address(\"${stabIdAddress}\")\r\n      Array<NonFungibleLocalId>(\r\n        NonFungibleLocalId(\"${stabId}\")\r\n      );\r\n  \r\n    POP_FROM_AUTH_ZONE\r\n      Proof(\"id_proof\");\r\n  \r\n    CALL_METHOD    \r\n      Address(\"${componentAddress}\")\r\n      \"update_id\"\r\n      Proof(\"id_proof\")\r\n      false;\r\n  \r\n    CALL_METHOD\r\n      Address(\"${accountAddress}\") \r\n      \"deposit_batch\"\r\n      Expression(\"ENTIRE_WORKTOP\");\r\n      `\r\n        console.log('claim manifest: ', manifest)\r\n        toastMe(0, \"Reward claim\", 1);\r\n\r\n        // Send manifest to extension for signing\r\n        rdt.walletApi\r\n            .sendTransaction({\r\n                transactionManifest: manifest,\r\n                version: 1,\r\n                message: \"Claiming staking rewards from Stabilis Staking ID\",\r\n            })\r\n            .then(result => {\r\n                toastMe(result.value.transactionIntentHash, \"Reward claim\", 2);\r\n                // Hide the spinner, show the angle icon, and change the button text back\r\n                spinner.style.display = 'none';\r\n                angleIcon.style.display = 'inline-block';\r\n                buttonText.style.display = 'inline-block';\r\n                buttonWaiting.style.display = 'none';\r\n                button.disabled = false;\r\n                button.style.backgroundColor = '';\r\n                console.log(\"Mint Result: \", result.value);\r\n                update_id();\r\n            })\r\n            .catch(error => {\r\n                // Hide the spinner, show the angle icon, and change the button text back\r\n                spinner.style.display = 'none';\r\n                angleIcon.style.display = 'inline-block';\r\n                buttonText.style.display = 'inline-block';\r\n                buttonWaiting.style.display = 'none';\r\n                button.disabled = false;\r\n                button.style.backgroundColor = '';\r\n\r\n                // Handle the error\r\n                console.error(error);\r\n            });\r\n    }\r\n\r\n    // *********** Stake ***********\r\n    document.getElementById('stake-button').onclick = async function () {\r\n        update(true);\r\n        if (!isConnected) {\r\n            return;\r\n        }\r\n        let stabId = selectedId;\r\n        let lpAmount = document.getElementById('stake-lp-field').value;\r\n        let ilisAmount = document.getElementById('stake-ilis-field').value;\r\n        let manifest;\r\n\r\n        const button = this;\r\n        const buttonText = button.querySelector('.button-text');\r\n        const buttonWaiting = button.querySelector('.button-waiting');\r\n        const spinner = button.querySelector('.spin');\r\n        const angleIcon = button.querySelector('.chevron');\r\n        spinner.style.display = 'inline-block';\r\n        angleIcon.style.display = 'none';\r\n        buttonText.style.display = 'none';\r\n        buttonWaiting.style.display = 'inline-block';\r\n        button.disabled = true;\r\n        button.style.backgroundColor = '#c6c6c6';\r\n\r\n        if (lpAmount !== \"\") {\r\n            if (ilisAmount == \"\") {\r\n                manifest = `\r\n            CALL_METHOD\r\n              Address(\"${accountAddress}\")\r\n              \"create_proof_of_non_fungibles\"\r\n              Address(\"${stabIdAddress}\")\r\n              Array<NonFungibleLocalId>(\r\n                NonFungibleLocalId(\"${stabId}\")\r\n              );\r\n          \r\n            POP_FROM_AUTH_ZONE\r\n              Proof(\"id_proof\");\r\n          \r\n              CALL_METHOD\r\n              Address(\"${accountAddress}\") #Primary account \r\n              \"withdraw\"\r\n              Address(\"${lpAddress}\") # ILIS address\r\n              Decimal(\"${lpAmount}\");\r\n          \r\n            TAKE_FROM_WORKTOP \r\n                Address(\"${lpAddress}\") # ILIS address\r\n                Decimal(\"${lpAmount}\") \r\n                Bucket(\"lp_bucket\");\r\n          \r\n            CALL_METHOD    \r\n              Address(\"${componentAddress}\") #proxy comp address\r\n              \"stake\"\r\n              Bucket(\"lp_bucket\")\r\n              Proof(\"id_proof\");\r\n          \r\n            CALL_METHOD\r\n              Address(\"${accountAddress}\") \r\n              \"deposit_batch\"\r\n              Expression(\"ENTIRE_WORKTOP\");\r\n              `\r\n                console.log('stake manifest: ', manifest)\r\n            } else {\r\n                manifest = `\r\n        CALL_METHOD\r\n          Address(\"${accountAddress}\")\r\n          \"create_proof_of_non_fungibles\"\r\n          Address(\"${stabIdAddress}\")\r\n          Array<NonFungibleLocalId>(\r\n            NonFungibleLocalId(\"${stabId}\")\r\n          );\r\n      \r\n        POP_FROM_AUTH_ZONE\r\n          Proof(\"id_proof\");\r\n      \r\n          CALL_METHOD\r\n          Address(\"${accountAddress}\") #Primary account \r\n          \"withdraw\"\r\n          Address(\"${lpAddress}\") # ILIS address\r\n          Decimal(\"${lpAmount}\");\r\n      \r\n        TAKE_FROM_WORKTOP \r\n            Address(\"${lpAddress}\") # ILIS address\r\n            Decimal(\"${lpAmount}\") \r\n            Bucket(\"lp_bucket\");\r\n      \r\n        CALL_METHOD    \r\n          Address(\"${componentAddress}\") #proxy comp address\r\n          \"stake\"\r\n          Bucket(\"lp_bucket\")\r\n          Proof(\"id_proof\");\r\n\r\n          CALL_METHOD\r\n              Address(\"${accountAddress}\") #Primary account \r\n              \"withdraw\"\r\n              Address(\"${ilisAddress}\") # ILIS address\r\n              Decimal(\"${ilisAmount}\");\r\n          \r\n            TAKE_FROM_WORKTOP \r\n                Address(\"${ilisAddress}\") # ILIS address\r\n                Decimal(\"${ilisAmount}\") \r\n                Bucket(\"ilis_bucket\");\r\n\r\n                CALL_METHOD\r\n          Address(\"${accountAddress}\")\r\n          \"create_proof_of_non_fungibles\"\r\n          Address(\"${stabIdAddress}\")\r\n          Array<NonFungibleLocalId>(\r\n            NonFungibleLocalId(\"${stabId}\")\r\n          );\r\n      \r\n        POP_FROM_AUTH_ZONE\r\n          Proof(\"id_proof_2\");\r\n          \r\n            CALL_METHOD    \r\n              Address(\"${componentAddress}\") #proxy comp address\r\n              \"stake\"\r\n              Bucket(\"ilis_bucket\")\r\n              Proof(\"id_proof_2\");\r\n      \r\n        CALL_METHOD\r\n          Address(\"${accountAddress}\") \r\n          \"deposit_batch\"\r\n          Expression(\"ENTIRE_WORKTOP\");\r\n          `\r\n                console.log('stake manifest: ', manifest)\r\n            }\r\n        } else if (ilisAmount !== \"\") {\r\n            manifest = `\r\n            CALL_METHOD\r\n              Address(\"${accountAddress}\")\r\n              \"create_proof_of_non_fungibles\"\r\n              Address(\"${stabIdAddress}\")\r\n              Array<NonFungibleLocalId>(\r\n                NonFungibleLocalId(\"${stabId}\")\r\n              );\r\n          \r\n            POP_FROM_AUTH_ZONE\r\n              Proof(\"id_proof\");\r\n          \r\n              CALL_METHOD\r\n              Address(\"${accountAddress}\") #Primary account \r\n              \"withdraw\"\r\n              Address(\"${ilisAddress}\") # ILIS address\r\n              Decimal(\"${ilisAmount}\");\r\n          \r\n            TAKE_FROM_WORKTOP \r\n                Address(\"${ilisAddress}\") # ILIS address\r\n                Decimal(\"${ilisAmount}\") \r\n                Bucket(\"ilis_bucket\");\r\n          \r\n            CALL_METHOD    \r\n              Address(\"${componentAddress}\") #proxy comp address\r\n              \"stake\"\r\n              Bucket(\"ilis_bucket\")\r\n              Proof(\"id_proof\");\r\n          \r\n            CALL_METHOD\r\n              Address(\"${accountAddress}\") \r\n              \"deposit_batch\"\r\n              Expression(\"ENTIRE_WORKTOP\");\r\n              `\r\n            console.log('stake manifest: ', manifest)\r\n        }\r\n        toastMe(0, \"Staking request\", 1);\r\n\r\n        // Send manifest to extension for signing\r\n        rdt.walletApi\r\n            .sendTransaction({\r\n                transactionManifest: manifest,\r\n                version: 1,\r\n                message: \"Staking to Stabilis Staking ID\",\r\n            })\r\n            .then(result => {\r\n                toastMe(result.value.transactionIntentHash, \"Staking\", 2);\r\n                // Hide the spinner, show the angle icon, and change the button text back\r\n                spinner.style.display = 'none';\r\n                angleIcon.style.display = 'inline-block';\r\n                buttonText.style.display = 'inline-block';\r\n                buttonWaiting.style.display = 'none';\r\n                button.disabled = false;\r\n                button.style.backgroundColor = '';\r\n                console.log(\"Mint Result: \", result.value);\r\n                if (lpAmount !== \"\") {\r\n                    walletLp -= lpAmount;\r\n                }\r\n                if (ilisAmount !== \"\") {\r\n                    walletIlis -= ilisAmount;\r\n                }\r\n                update_id();\r\n            })\r\n            .catch(error => {\r\n                // Hide the spinner, show the angle icon, and change the button text back\r\n                spinner.style.display = 'none';\r\n                angleIcon.style.display = 'inline-block';\r\n                buttonText.style.display = 'inline-block';\r\n                buttonWaiting.style.display = 'none';\r\n                button.disabled = false;\r\n                button.style.backgroundColor = '';\r\n\r\n                // Handle the error\r\n                console.error(error);\r\n            });\r\n    }\r\n\r\n    // *********** Unstake ***********\r\n    document.getElementById('unstake-button').onclick = async function () {\r\n        update(true);\r\n        if (!isConnected) {\r\n            return;\r\n        }\r\n        let stabId = selectedId;\r\n        let lpAmount = document.getElementById('unstake-lp-field').value;\r\n        let ilisAmount = document.getElementById('unstake-ilis-field').value;\r\n        let manifest;\r\n\r\n        const button = this;\r\n        const buttonText = button.querySelector('.button-text');\r\n        const buttonWaiting = button.querySelector('.button-waiting');\r\n        const spinner = button.querySelector('.spin');\r\n        const angleIcon = button.querySelector('.chevron');\r\n        spinner.style.display = 'inline-block';\r\n        angleIcon.style.display = 'none';\r\n        buttonText.style.display = 'none';\r\n        buttonWaiting.style.display = 'inline-block';\r\n        button.disabled = true;\r\n        button.style.backgroundColor = '#c6c6c6';\r\n\r\n        if (lpAmount !== \"\") {\r\n            if (ilisAmount == \"\") {\r\n                manifest = `\r\n                CALL_METHOD\r\n                  Address(\"${accountAddress}\")\r\n                  \"create_proof_of_non_fungibles\"\r\n                  Address(\"${stabIdAddress}\")\r\n                  Array<NonFungibleLocalId>(\r\n                    NonFungibleLocalId(\"${stabId}\")\r\n                  );\r\n              \r\n                POP_FROM_AUTH_ZONE\r\n                  Proof(\"id_proof\");\r\n              \r\n                CALL_METHOD    \r\n                  Address(\"${componentAddress}\") #proxy comp address\r\n                  \"unstake\"\r\n                  Proof(\"id_proof\")\r\n                  Address(\"${lpAddress}\")\r\n                  Decimal(\"${lpAmount}\")\r\n                  false;\r\n              \r\n                CALL_METHOD\r\n                  Address(\"${accountAddress}\") \r\n                  \"deposit_batch\"\r\n                  Expression(\"ENTIRE_WORKTOP\");\r\n                  `\r\n                console.log('unstake manifest: ', manifest)\r\n            } else {\r\n                manifest = `\r\n            CALL_METHOD\r\n              Address(\"${accountAddress}\")\r\n              \"create_proof_of_non_fungibles\"\r\n              Address(\"${stabIdAddress}\")\r\n              Array<NonFungibleLocalId>(\r\n                NonFungibleLocalId(\"${stabId}\")\r\n              );\r\n          \r\n            POP_FROM_AUTH_ZONE\r\n              Proof(\"id_proof\");\r\n          \r\n              CALL_METHOD    \r\n              Address(\"${componentAddress}\") #proxy comp address\r\n              \"unstake\"\r\n              Proof(\"id_proof\")\r\n              Address(\"${lpAddress}\")\r\n              Decimal(\"${lpAmount}\")\r\n              false;\r\n    \r\n                    CALL_METHOD\r\n              Address(\"${accountAddress}\")\r\n              \"create_proof_of_non_fungibles\"\r\n              Address(\"${stabIdAddress}\")\r\n              Array<NonFungibleLocalId>(\r\n                NonFungibleLocalId(\"${stabId}\")\r\n              );\r\n          \r\n            POP_FROM_AUTH_ZONE\r\n              Proof(\"id_proof_2\");\r\n              \r\n              CALL_METHOD    \r\n              Address(\"${componentAddress}\") #proxy comp address\r\n              \"unstake\"\r\n              Proof(\"id_proof_2\")\r\n              Address(\"${ilisAddress}\")\r\n              Decimal(\"${ilisAmount}\")\r\n              false;\r\n          \r\n            CALL_METHOD\r\n              Address(\"${accountAddress}\") \r\n              \"deposit_batch\"\r\n              Expression(\"ENTIRE_WORKTOP\");\r\n              `\r\n                console.log('unstake manifest: ', manifest)\r\n            }\r\n        } else if (ilisAmount !== \"\") {\r\n            manifest = `\r\n                CALL_METHOD\r\n                  Address(\"${accountAddress}\")\r\n                  \"create_proof_of_non_fungibles\"\r\n                  Address(\"${stabIdAddress}\")\r\n                  Array<NonFungibleLocalId>(\r\n                    NonFungibleLocalId(\"${stabId}\")\r\n                  );\r\n              \r\n                POP_FROM_AUTH_ZONE\r\n                  Proof(\"id_proof\");\r\n              \r\n                  CALL_METHOD    \r\n                  Address(\"${componentAddress}\") #proxy comp address\r\n                  \"unstake\"\r\n                  Proof(\"id_proof\")\r\n                  Address(\"${ilisAddress}\")\r\n                  Decimal(\"${ilisAmount}\")\r\n                  false;\r\n              \r\n                CALL_METHOD\r\n                  Address(\"${accountAddress}\") \r\n                  \"deposit_batch\"\r\n                  Expression(\"ENTIRE_WORKTOP\");\r\n                  `\r\n            console.log('unstake manifest: ', manifest)\r\n        }\r\n\r\n        toastMe(0, \"Unstaking request\", 1);\r\n\r\n        // Send manifest to extension for signing\r\n        rdt.walletApi\r\n            .sendTransaction({\r\n                transactionManifest: manifest,\r\n                version: 1,\r\n                message: \"Unstaking from Stabilis Staking ID\",\r\n            })\r\n            .then(result => {\r\n                toastMe(result.value.transactionIntentHash, \"Unstaking\", 2);\r\n                // Hide the spinner, show the angle icon, and change the button text back\r\n                spinner.style.display = 'none';\r\n                angleIcon.style.display = 'inline-block';\r\n                buttonText.style.display = 'inline-block';\r\n                buttonWaiting.style.display = 'none';\r\n                button.disabled = false;\r\n                button.style.backgroundColor = '';\r\n                console.log(\"Mint Result: \", result.value);\r\n                update_id();\r\n            })\r\n            .catch(error => {\r\n                // Hide the spinner, show the angle icon, and change the button text back\r\n                spinner.style.display = 'none';\r\n                angleIcon.style.display = 'inline-block';\r\n                buttonText.style.display = 'inline-block';\r\n                buttonWaiting.style.display = 'none';\r\n                button.disabled = false;\r\n                button.style.backgroundColor = '';\r\n\r\n                // Handle the error\r\n                console.error(error);\r\n            });\r\n\r\n        if (lpAmount !== \"\") {\r\n            let lpChange = Math.min(lpAmount, lpAmountId + lpWaitingAmount);\r\n            walletLp += lpChange;\r\n        }\r\n        if (ilisAmount !== \"\") {\r\n            let ilisChange = Math.min(ilisAmount, ilisAmountId + ilisWaitingAmount);\r\n            walletIlis += ilisChange;\r\n        }\r\n    }\r\n\r\n}\r\n\r\nif (window.location.pathname === '/manage-loans') {\r\n    setCloseLoanButton();\r\n    if (addingCollateral) {\r\n        setAddColButton();\r\n    } else {\r\n        setRemoveColButton();\r\n    }\r\n    if (addingDebt) {\r\n        setAddDebtButton();\r\n    }\r\n    else {\r\n        setRemoveDebtButton();\r\n    }\r\n\r\n    var slider = document.getElementById(\"slider-col\");\r\n    var inputAmount = document.getElementById(\"amount-to-remove\");\r\n    var maxButton = document.getElementById(\"max-new-cr\");\r\n    var sliderDebt = document.getElementById(\"slider-debt\");\r\n    var inputAmountDebt = document.getElementById(\"amount-to-remove-debt\");\r\n    var maxButtonDebt = document.getElementById(\"max-new-cr-debt\");\r\n\r\n    slider.oninput = function () {\r\n        if (addingCollateral) {\r\n            newCr = this.value;\r\n            var newCol = Math.max(0, getNecessaryCollateral(debtAmount, this.value / 100, validatorMultiplier) - collateralAmount);\r\n            document.getElementById(\"new-cr\").textContent = \"New CR: \" + this.value + \"%\";\r\n            inputAmount.value = Math.min(parseFloat(newCol.toFixed(2)), availableCollateral);\r\n            setAddColButton();\r\n        } else {\r\n            newCr = maxCr - this.value;\r\n            realInputCol = newCr;\r\n            var newCol = Math.max(0, collateralAmount - getNecessaryCollateral(debtAmount, newCr / 100, validatorMultiplier));\r\n            document.getElementById(\"new-cr\").textContent = \"New CR: \" + newCr.toFixed(2) + \"%\";\r\n            inputAmount.value = Math.min(parseFloat(newCol.toFixed(2)), (collateralAmount - getNecessaryCollateral(debtAmount, 1.5, validatorMultiplier)));\r\n            setRemoveColButton();\r\n        }\r\n\r\n    }\r\n\r\n    inputAmount.oninput = function () {\r\n        if (addingCollateral) {\r\n            newCr = getUpToDateCr(parseFloat(this.value) + parseFloat(collateralAmount), debtAmount, validatorMultiplier) * 100;\r\n            document.getElementById(\"new-cr\").textContent = \"New CR: \" + (newCr).toFixed(2) + \"%\";\r\n            if (this.value != \"\") {\r\n                slider.value = newCr;\r\n            } else {\r\n                slider.value = slider.min;\r\n                document.getElementById(\"new-cr\").textContent = \"New CR: \" + slider.min + \"%\";\r\n            }\r\n            setAddColButton();\r\n        } else {\r\n            newCr = getUpToDateCr(parseFloat(collateralAmount) - parseFloat(this.value), debtAmount, validatorMultiplier) * 100;\r\n            realInputCol = newCr;\r\n            document.getElementById(\"new-cr\").textContent = \"New CR: \" + (newCr).toFixed(2) + \"%\";\r\n            if (this.value != \"\") {\r\n                slider.value = maxCr - newCr;\r\n                newCr = slider.value;\r\n            } else {\r\n                slider.value = slider.min;\r\n                document.getElementById(\"new-cr\").textContent = \"New CR: \" + maxCr + \"%\";\r\n            }\r\n            setRemoveColButton();\r\n        }\r\n        updateSliderBackground(slider);\r\n    }\r\n\r\n    maxButton.onclick = function () {\r\n        if (status === \"Closed\" || status === \"Liquidated\") {\r\n            return;\r\n        }\r\n        if (addingCollateral) {\r\n            maxCr = Number(maxCr); // Convert maxCr to a number\r\n            newCr = maxCr;\r\n            document.getElementById(\"new-cr\").textContent = \"New CR: \" + (maxCr * 1).toFixed(2) + \"%\";\r\n            slider.value = maxCr > 1000 ? 1000 : maxCr;\r\n            inputAmount.value = availableCollateral;\r\n            setAddColButton();\r\n        } else if (status != \"Marked\") {\r\n            if (newCr < 150) {\r\n                return;\r\n            }\r\n            newCr = 150;\r\n            realInputCol = newCr;\r\n            document.getElementById(\"new-cr\").textContent = \"New CR: 150%\";\r\n            slider.value = maxCr - 150;\r\n            inputAmount.value = (collateralAmount - getNecessaryCollateral(debtAmount, 1.5, validatorMultiplier));\r\n            setRemoveColButton();\r\n        }\r\n        updateSliderBackground(slider);\r\n    }\r\n\r\n    sliderDebt.oninput = function () {\r\n        if (addingDebt == false) {\r\n            newCrDebt = this.value;\r\n            var newStab = Math.max(0, debtAmount - getNecessaryStab(collateralAmount, this.value / 100, validatorMultiplier));\r\n            document.getElementById(\"new-cr-debt\").textContent = \"New CR: \" + this.value + \"%\";\r\n            inputAmountDebt.value = Math.min(walletStab, parseFloat(newStab.toFixed(2)));\r\n            setRemoveDebtButton();\r\n        } else {\r\n            newCrDebt = maxCrDebt - this.value;\r\n            realInputDebt = newCrDebt;\r\n            var newDebt = Math.max(0, getNecessaryStab(collateralAmount, newCrDebt / 100, validatorMultiplier) - debtAmount);\r\n            document.getElementById(\"new-cr-debt\").textContent = \"New CR: \" + newCrDebt.toFixed(2) + \"%\";\r\n            inputAmountDebt.value = Math.min((getNecessaryStab(collateralAmount, 1.5, validatorMultiplier) - debtAmount), parseFloat(newDebt.toFixed(2)));\r\n            setAddDebtButton();\r\n        }\r\n\r\n    }\r\n\r\n    inputAmountDebt.oninput = function () {\r\n        if (addingDebt == false) {\r\n            var maxStabToUse = Math.min(debtAmount - 1, walletStab);\r\n            if (this.value > maxStabToUse) {\r\n                this.value = maxStabToUse;\r\n            }\r\n            newCrDebt = getUpToDateCr(parseFloat(collateralAmount), debtAmount - parseFloat(this.value), validatorMultiplier) * 100;\r\n            if (newCrDebt < 0) {\r\n                newCrDebt = 0;\r\n            }\r\n            document.getElementById(\"new-cr-debt\").textContent = \"New CR: \" + (newCrDebt).toFixed(2) + \"%\";\r\n            if (this.value != \"\") {\r\n                sliderDebt.value = newCrDebt;\r\n            } else {\r\n                sliderDebt.value = sliderDebt.min;\r\n                document.getElementById(\"new-cr-debt\").textContent = \"New CR: \" + sliderDebt.min + \"%\";\r\n            }\r\n            setRemoveDebtButton();\r\n        } else {\r\n            newCrDebt = getUpToDateCr(parseFloat(collateralAmount), (parseFloat(debtAmount) + parseFloat(this.value)), validatorMultiplier) * 100;\r\n            realInputDebt = newCrDebt;\r\n            console.log(newCrDebt);\r\n            document.getElementById(\"new-cr-debt\").textContent = \"New CR: \" + (newCrDebt).toFixed(2) + \"%\";\r\n            if (this.value != \"\") {\r\n                sliderDebt.value = maxCrDebt - newCrDebt;\r\n                newCrDebt = sliderDebt.value;\r\n            } else {\r\n                sliderDebt.value = sliderDebt.min;\r\n                document.getElementById(\"new-cr-debt\").textContent = \"New CR: \" + maxCrDebt + \"%\";\r\n            }\r\n            setAddDebtButton();\r\n        }\r\n        updateSliderBackground(sliderDebt);\r\n    }\r\n\r\n    maxButtonDebt.onclick = function () {\r\n        if (status === \"Closed\" || status === \"Liquidated\") {\r\n            return;\r\n        }\r\n        if (addingDebt == false) {\r\n            var maxStabToUse = Math.min(debtAmount - 1, walletStab);\r\n            maxCrDebt = Number(maxCrDebt); // Convert maxCr to a number\r\n            newCrDebt = maxCrDebt;\r\n            document.getElementById(\"new-cr-debt\").textContent = \"New CR: \" + (maxCrDebt * 1).toFixed(2) + \"%\";\r\n            sliderDebt.value = maxCrDebt > 1000 ? 1000 : maxCrDebt;\r\n            inputAmountDebt.value = maxStabToUse;\r\n            setRemoveDebtButton();\r\n        } else if (status != \"Marked\") {\r\n            if (newCrDebt < 150) {\r\n                return;\r\n            }\r\n            newCrDebt = 150;\r\n            realInputDebt = newCrDebt;\r\n            document.getElementById(\"new-cr-debt\").textContent = \"New CR: 150%\";\r\n            sliderDebt.value = maxCr - 150;\r\n            inputAmountDebt.value = (getNecessaryStab(collateralAmount, 1.5, validatorMultiplier) - debtAmount);\r\n            setAddDebtButton();\r\n        }\r\n        updateSliderBackground(sliderDebt);\r\n    }\r\n\r\n\r\n\r\n    var button = document.querySelector('.dropdown-custom-button');\r\n    var initialWidth = window.getComputedStyle(button).width;\r\n    button.style.minWidth = initialWidth;\r\n\r\n    // Get the dropdown button and content\r\n    var dropdownButton = document.querySelector('.dropdown-custom-button');\r\n    var dropdownContent = document.querySelector('.dropdown-custom-content');\r\n\r\n    // Get all buttons with the class 'stake-button'\r\n    const buttonsCol = document.querySelectorAll('.stake-button.col');\r\n    const buttonsDebt = document.querySelectorAll('.stake-button.debt');\r\n\r\n    // Add an event listener to each button\r\n    buttonsCol.forEach(button => {\r\n        button.addEventListener('click', function () {\r\n            // Perform different actions depending on the id of the clicked button\r\n            buttonsCol.forEach(button => button.classList.remove('selected'));\r\n            this.classList.add('selected');\r\n            if (this.id === 'add-collateral-selector') {\r\n                document.getElementById('add-col-button').style.display = '';\r\n                document.getElementById('remove-col-button').style.display = 'none';\r\n                addingCollateral = true;\r\n            } else if (this.id === 'remove-collateral-selector') {\r\n                document.getElementById('add-col-button').style.display = 'none';\r\n                document.getElementById('remove-col-button').style.display = '';\r\n                addingCollateral = false;\r\n            }\r\n            update_cdp();\r\n        });\r\n    });\r\n\r\n    buttonsDebt.forEach(button => {\r\n        button.addEventListener('click', function () {\r\n            // Perform different actions depending on the id of the clicked button\r\n            buttonsDebt.forEach(button => button.classList.remove('selected'));\r\n            this.classList.add('selected');\r\n            if (this.id === 'add-debt-selector') {\r\n                document.getElementById('add-debt-button').style.display = 'none';\r\n                document.getElementById('remove-debt-button').style.display = '';\r\n                addingDebt = true;\r\n            } else if (this.id === 'remove-debt-selector') {\r\n                document.getElementById('add-debt-button').style.display = '';\r\n                document.getElementById('remove-debt-button').style.display = 'none';\r\n                addingDebt = false;\r\n            }\r\n            update_cdp();\r\n        });\r\n    });\r\n\r\n    // Add click event listeners to each option\r\n    var options = document.querySelectorAll('.dropdown-custom-option');\r\n\r\n    // Show the dropdown content when the button is clicked\r\n    dropdownButton.addEventListener('click', function () {\r\n        if (dropdownButton.disabled) {\r\n            return;\r\n        }\r\n        if (dropdownContent !== undefined) {\r\n            var display = dropdownContent.style.display;\r\n            dropdownContent.style.display = display === 'block' ? 'none' : 'block';\r\n            setChevron(dropdownContent);\r\n        }\r\n        var options = document.querySelectorAll('.dropdown-custom-option');\r\n\r\n        // Check if there are any options\r\n        if (options.length === 0) {\r\n            // If not, display a message\r\n            alert('No loan receipts in wallet.');\r\n        }\r\n    });\r\n\r\n    document.addEventListener('click', function (event) {\r\n        // Check if the clicked element is the dropdown button or one of the dropdown options\r\n        var isDropdownButton = dropdownButton.contains(event.target);\r\n        var isDropdownOption = Array.from(options).some(function (option) {\r\n            return option.contains(event.target);\r\n        });\r\n\r\n        // If the clicked element is not the dropdown button or one of the dropdown options, hide the dropdown content\r\n        if (!isDropdownButton && !isDropdownOption) {\r\n            dropdownContent.style.display = 'none';\r\n            setChevron(dropdownContent);\r\n        }\r\n    });\r\n    // *********** Top up CDP ***********\r\n    document.getElementById('add-col-button').onclick = async function () {\r\n        if (!isConnected) {\r\n            return;\r\n        }\r\n\r\n        if (selectedCdp === undefined) {\r\n            alert(\"Please select a loan receipt.\");\r\n            return;\r\n        }\r\n\r\n        if (document.getElementById('amount-to-remove').value === \"\") {\r\n            alert(\"Please enter an amount to add.\");\r\n            return;\r\n        }\r\n\r\n        const button = this;\r\n        const buttonText = button.querySelector('.button-text');\r\n        const buttonWaiting = button.querySelector('.button-waiting');\r\n        const spinner = button.querySelector('.spin');\r\n        const angleIcon = button.querySelector('.chevron');\r\n        spinner.style.display = 'inline-block';\r\n        angleIcon.style.display = 'none';\r\n        buttonText.style.display = 'none';\r\n        buttonWaiting.style.display = 'inline-block';\r\n        button.disabled = true;\r\n        button.style.backgroundColor = '#c6c6c6';\r\n\r\n        let cdpId = selectedCdp;\r\n        let collateralAmount = document.getElementById('amount-to-remove').value;\r\n        let collateralAddress = resourceAddress;\r\n        let manifest = `\r\n          CALL_METHOD\r\n          Address(\"${accountAddress}\")\r\n          \"create_proof_of_non_fungibles\"\r\n          Address(\"${cdpAddress}\")\r\n          Array<NonFungibleLocalId>(\r\n            NonFungibleLocalId(\"${cdpId}\")\r\n          );\r\n         \r\n        POP_FROM_AUTH_ZONE\r\n          Proof(\"cdp_proof\");\r\n         \r\n        CALL_METHOD\r\n          Address(\"${accountAddress}\") #Primary account \r\n          \"withdraw\"\r\n          Address(\"${collateralAddress}\") # Collateral address\r\n          Decimal(\"${collateralAmount}\");\r\n         \r\n        TAKE_FROM_WORKTOP \r\n            Address(\"${collateralAddress}\") # Collateral address\r\n            Decimal(\"${collateralAmount}\") \r\n            Bucket(\"xrd_bucket\");\r\n         \r\n        CALL_METHOD    \r\n          Address(\"${componentAddress}\")\r\n          \"top_up_cdp\"\r\n          Proof(\"cdp_proof\")\r\n          Bucket(\"xrd_bucket\");\r\n          `\r\n\r\n        console.log('top up manifest: ', manifest)\r\n\r\n        toastMe(0, \"Collateral addition\", 1);\r\n\r\n        // Send manifest to extension for signing\r\n        rdt.walletApi\r\n            .sendTransaction({\r\n                transactionManifest: manifest,\r\n                version: 1,\r\n                message: \"Adding collateral to STAB loan\",\r\n            })\r\n            .then(result => {\r\n                toastMe(result.value.transactionIntentHash, \"Collateral addition\", 2);\r\n                // Hide the spinner, show the angle icon, and change the button text back\r\n                spinner.style.display = 'none';\r\n                angleIcon.style.display = 'inline-block';\r\n                buttonText.style.display = 'inline-block';\r\n                buttonWaiting.style.display = 'none';\r\n                button.disabled = false;\r\n                button.style.backgroundColor = '';\r\n                console.log(\"Mint Result: \", result.value);\r\n                update(false);\r\n            })\r\n            .catch(error => {\r\n                // Hide the spinner, show the angle icon, and change the button text back\r\n                spinner.style.display = 'none';\r\n                angleIcon.style.display = 'inline-block';\r\n                buttonText.style.display = 'inline-block';\r\n                buttonWaiting.style.display = 'none';\r\n                button.disabled = false;\r\n                button.style.backgroundColor = '';\r\n\r\n                // Handle the error\r\n                console.error(error);\r\n            });\r\n    }\r\n\r\n    // *********** Remove collateral CDP ***********\r\n    document.getElementById('remove-col-button').onclick = async function () {\r\n        if (!isConnected) {\r\n            return;\r\n        }\r\n\r\n        if (selectedCdp === undefined) {\r\n            alert(\"Please select a loan receipt.\");\r\n            return;\r\n        }\r\n\r\n        if (document.getElementById('amount-to-remove').value === \"\") {\r\n            alert(\"Please enter an amount to add.\");\r\n            return;\r\n        }\r\n\r\n        const button = this;\r\n        const buttonText = button.querySelector('.button-text');\r\n        const buttonWaiting = button.querySelector('.button-waiting');\r\n        const spinner = button.querySelector('.spin');\r\n        const angleIcon = button.querySelector('.chevron');\r\n        spinner.style.display = 'inline-block';\r\n        angleIcon.style.display = 'none';\r\n        buttonText.style.display = 'none';\r\n        buttonWaiting.style.display = 'inline-block';\r\n        button.disabled = true;\r\n        button.style.backgroundColor = '#c6c6c6';\r\n\r\n        let cdpId = selectedCdp;\r\n        let collateralAmount = document.getElementById('amount-to-remove').value;\r\n        let manifest = `\r\n        CALL_METHOD\r\n          Address(\"${accountAddress}\")\r\n          \"create_proof_of_non_fungibles\"\r\n          Address(\"${cdpAddress}\")\r\n          Array<NonFungibleLocalId>(\r\n            NonFungibleLocalId(\"${cdpId}\")\r\n          );\r\n         \r\n        POP_FROM_AUTH_ZONE\r\n          Proof(\"cdp_proof\");\r\n         \r\n        CALL_METHOD    \r\n          Address(\"${componentAddress}\")\r\n          \"remove_collateral\"\r\n          Proof(\"cdp_proof\")\r\n          Decimal(\"${collateralAmount}\");\r\n         \r\n        CALL_METHOD\r\n          Address(\"${accountAddress}\") \r\n          \"deposit_batch\"\r\n          Expression(\"ENTIRE_WORKTOP\");\r\n          `\r\n        console.log('remove col. manifest: ', manifest)\r\n        toastMe(0, \"Collateral removal\", 1);\r\n\r\n        // Send manifest to extension for signing\r\n        rdt.walletApi\r\n            .sendTransaction({\r\n                transactionManifest: manifest,\r\n                version: 1,\r\n                message: \"Removing collateral from STAB loan\",\r\n            })\r\n            .then(result => {\r\n                toastMe(result.value.transactionIntentHash, \"Collateral removal\", 2);\r\n                // Hide the spinner, show the angle icon, and change the button text back\r\n                spinner.style.display = 'none';\r\n                angleIcon.style.display = 'inline-block';\r\n                buttonText.style.display = 'inline-block';\r\n                buttonWaiting.style.display = 'none';\r\n                button.disabled = false;\r\n                button.style.backgroundColor = '';\r\n                console.log(\"Mint Result: \", result.value);\r\n                update(false);\r\n            })\r\n            .catch(error => {\r\n                // Hide the spinner, show the angle icon, and change the button text back\r\n                spinner.style.display = 'none';\r\n                angleIcon.style.display = 'inline-block';\r\n                buttonText.style.display = 'inline-block';\r\n                buttonWaiting.style.display = 'none';\r\n                button.disabled = false;\r\n                button.style.backgroundColor = '';\r\n\r\n                // Handle the error\r\n                console.error(error);\r\n            });\r\n    }\r\n\r\n    // *********** Remove debt CDP ***********\r\n    document.getElementById('add-debt-button').onclick = async function () {\r\n        if (!isConnected) {\r\n            return;\r\n        }\r\n\r\n        if (selectedCdp === undefined) {\r\n            alert(\"Please select a loan receipt.\");\r\n            return;\r\n        }\r\n\r\n        if (document.getElementById('amount-to-remove-debt').value === \"\") {\r\n            alert(\"Please enter an amount to add.\");\r\n            return;\r\n        }\r\n\r\n        const button = this;\r\n        const buttonText = button.querySelector('.button-text');\r\n        const buttonWaiting = button.querySelector('.button-waiting');\r\n        const spinner = button.querySelector('.spin');\r\n        const angleIcon = button.querySelector('.chevron');\r\n        spinner.style.display = 'inline-block';\r\n        angleIcon.style.display = 'none';\r\n        buttonText.style.display = 'none';\r\n        buttonWaiting.style.display = 'inline-block';\r\n        button.disabled = true;\r\n        button.style.backgroundColor = '#c6c6c6';\r\n\r\n        let cdpId = selectedCdp;\r\n        let collateralAmount = document.getElementById('amount-to-remove-debt').value;\r\n        let manifest = `\r\n        CALL_METHOD\r\n          Address(\"${accountAddress}\")\r\n          \"create_proof_of_non_fungibles\"\r\n          Address(\"${cdpAddress}\")\r\n          Array<NonFungibleLocalId>(\r\n            NonFungibleLocalId(\"${cdpId}\")\r\n          );\r\n         \r\n        POP_FROM_AUTH_ZONE\r\n          Proof(\"cdp_proof\");\r\n\r\n        CALL_METHOD\r\n          Address(\"${accountAddress}\")\r\n          \"withdraw\"\r\n          Address(\"${stabAddress}\")\r\n          Decimal(\"${collateralAmount}\")\r\n        ;\r\n\r\n        TAKE_ALL_FROM_WORKTOP\r\n          Address(\"${stabAddress}\")\r\n          Bucket(\"stab\")\r\n        ;\r\n         \r\n        CALL_METHOD    \r\n          Address(\"${componentAddress}\")\r\n          \"partial_close_cdp\"\r\n          Proof(\"cdp_proof\")\r\n          Bucket(\"stab\");\r\n         \r\n        CALL_METHOD\r\n          Address(\"${accountAddress}\") \r\n          \"deposit_batch\"\r\n          Expression(\"ENTIRE_WORKTOP\");\r\n          `\r\n        console.log('remove debt. manifest: ', manifest)\r\n        toastMe(0, \"Partial debt pay off\", 1);\r\n\r\n        // Send manifest to extension for signing\r\n        rdt.walletApi\r\n            .sendTransaction({\r\n                transactionManifest: manifest,\r\n                version: 1,\r\n                message: \"Partially paying off STAB debt\",\r\n            })\r\n            .then(result => {\r\n                toastMe(result.value.transactionIntentHash, \"Partial debt pay off\", 2);\r\n                // Hide the spinner, show the angle icon, and change the button text back\r\n                spinner.style.display = 'none';\r\n                angleIcon.style.display = 'inline-block';\r\n                buttonText.style.display = 'inline-block';\r\n                buttonWaiting.style.display = 'none';\r\n                button.disabled = false;\r\n                button.style.backgroundColor = '';\r\n                console.log(\"Mint Result: \", result.value);\r\n                update(false);\r\n            })\r\n            .catch(error => {\r\n                // Hide the spinner, show the angle icon, and change the button text back\r\n                spinner.style.display = 'none';\r\n                angleIcon.style.display = 'inline-block';\r\n                buttonText.style.display = 'inline-block';\r\n                buttonWaiting.style.display = 'none';\r\n                button.disabled = false;\r\n                button.style.backgroundColor = '';\r\n\r\n                // Handle the error\r\n                console.error(error);\r\n            });\r\n    }\r\n\r\n    // *********** Add debt CDP ***********\r\n    document.getElementById('remove-debt-button').onclick = async function () {\r\n        if (!isConnected) {\r\n            return;\r\n        }\r\n\r\n        if (selectedCdp === undefined) {\r\n            alert(\"Please select a loan receipt.\");\r\n            return;\r\n        }\r\n\r\n        if (document.getElementById('amount-to-remove-debt').value === \"\") {\r\n            alert(\"Please enter an amount to add.\");\r\n            return;\r\n        }\r\n\r\n        const button = this;\r\n        const buttonText = button.querySelector('.button-text');\r\n        const buttonWaiting = button.querySelector('.button-waiting');\r\n        const spinner = button.querySelector('.spin');\r\n        const angleIcon = button.querySelector('.chevron');\r\n        spinner.style.display = 'inline-block';\r\n        angleIcon.style.display = 'none';\r\n        buttonText.style.display = 'none';\r\n        buttonWaiting.style.display = 'inline-block';\r\n        button.disabled = true;\r\n        button.style.backgroundColor = '#c6c6c6';\r\n\r\n        let cdpId = selectedCdp;\r\n        let collateralAmount = document.getElementById('amount-to-remove-debt').value;\r\n        let manifest = `\r\n        CALL_METHOD\r\n          Address(\"${accountAddress}\")\r\n          \"create_proof_of_non_fungibles\"\r\n          Address(\"${cdpAddress}\")\r\n          Array<NonFungibleLocalId>(\r\n            NonFungibleLocalId(\"${cdpId}\")\r\n          );\r\n         \r\n        POP_FROM_AUTH_ZONE\r\n          Proof(\"cdp_proof\");\r\n         \r\n        CALL_METHOD    \r\n          Address(\"${componentAddress}\")\r\n          \"borrow_more\"\r\n          Proof(\"cdp_proof\")\r\n          Decimal(\"${collateralAmount}\");\r\n         \r\n        CALL_METHOD\r\n          Address(\"${accountAddress}\") \r\n          \"deposit_batch\"\r\n          Expression(\"ENTIRE_WORKTOP\");\r\n          `\r\n        console.log('add debt. manifest: ', manifest)\r\n        toastMe(0, \"Borrow more from loan receipt\", 1);\r\n\r\n        // Send manifest to extension for signing\r\n        rdt.walletApi\r\n            .sendTransaction({\r\n                transactionManifest: manifest,\r\n                version: 1,\r\n                message: \"Borrowing more STAB\",\r\n            })\r\n            .then(result => {\r\n                toastMe(result.value.transactionIntentHash, \"Borrowing more from loan receipt\", 2);\r\n                // Hide the spinner, show the angle icon, and change the button text back\r\n                spinner.style.display = 'none';\r\n                angleIcon.style.display = 'inline-block';\r\n                buttonText.style.display = 'inline-block';\r\n                buttonWaiting.style.display = 'none';\r\n                button.disabled = false;\r\n                button.style.backgroundColor = '';\r\n                console.log(\"Mint Result: \", result.value);\r\n                update(false);\r\n            })\r\n            .catch(error => {\r\n                // Hide the spinner, show the angle icon, and change the button text back\r\n                spinner.style.display = 'none';\r\n                angleIcon.style.display = 'inline-block';\r\n                buttonText.style.display = 'inline-block';\r\n                buttonWaiting.style.display = 'none';\r\n                button.disabled = false;\r\n                button.style.backgroundColor = '';\r\n\r\n                // Handle the error\r\n                console.error(error);\r\n            });\r\n    }\r\n\r\n    // *********** Close CDP ***********\r\n    document.getElementById('close-entire-button').onclick = async function () {\r\n        if (!isConnected) {\r\n            return;\r\n        }\r\n\r\n        if (selectedCdp === undefined) {\r\n            alert(\"Please select a loan receipt.\");\r\n            return;\r\n        }\r\n\r\n        if (status === \"Marked\") {\r\n            alert(\"Please save loan before closing.\");\r\n            return;\r\n        }\r\n\r\n        const button = this;\r\n        const buttonText = button.querySelector('.button-text');\r\n        const buttonWaiting = button.querySelector('.button-waiting');\r\n        const spinner = button.querySelector('.spin');\r\n        const angleIcon = button.querySelector('.chevron');\r\n        spinner.style.display = 'inline-block';\r\n        angleIcon.style.display = 'none';\r\n        buttonText.style.display = 'none';\r\n        buttonWaiting.style.display = 'inline-block';\r\n        button.disabled = true;\r\n        button.style.backgroundColor = '#c6c6c6';\r\n\r\n        let cdpId = selectedCdp;\r\n\r\n        if (status == \"Closed\" || collateralAmount == 0) {\r\n            let manifest = `\r\n            CALL_METHOD\r\n                Address(\"${accountAddress}\") #Primary account \r\n                \"withdraw_non_fungibles\"\r\n                Address(\"${cdpAddress}\") # XRD address\r\n                Array<NonFungibleLocalId>(\r\n                    NonFungibleLocalId(\"${cdpId}\")\r\n                );\r\n            \r\n                TAKE_NON_FUNGIBLES_FROM_WORKTOP \r\n                    Address(\"${cdpAddress}\") # XRD address\r\n                    Array<NonFungibleLocalId>(\r\n                        NonFungibleLocalId(\"${cdpId}\")\r\n                    )\r\n                    Bucket(\"receipt_bucket\");\r\n            \r\n                CALL_METHOD    \r\n                    Address(\"${componentAddress}\") #pool comp address\r\n                    \"burn_loan_receipt\"\r\n                    Bucket(\"receipt_bucket\");\r\n                `\r\n            console.log('burn receipt manifest: ', manifest)\r\n            toastMe(0, \"Burning loan receipt\", 1);\r\n\r\n            // Send manifest to extension for signing\r\n            rdt.walletApi\r\n                .sendTransaction({\r\n                    transactionManifest: manifest,\r\n                    version: 1,\r\n                    message: \"Burning STAB loan receipt\",\r\n                })\r\n                .then(result => {\r\n                    if (status == \"Closed\" || collateralAmount == 0) {\r\n                        selectedCdp = undefined;\r\n                    }\r\n                    toastMe(result.value.transactionIntentHash, \"Burning loan receipt\", 2);\r\n                    // Hide the spinner, show the angle icon, and change the button text back\r\n                    spinner.style.display = 'none';\r\n                    angleIcon.style.display = 'inline-block';\r\n                    buttonText.style.display = 'inline-block';\r\n                    buttonWaiting.style.display = 'none';\r\n                    button.disabled = false;\r\n                    button.style.backgroundColor = '';\r\n                    console.log(\"Mint Result: \", result.value);\r\n                    update_cdp();\r\n                    update(false);\r\n                })\r\n                .catch(error => {\r\n                    // Hide the spinner, show the angle icon, and change the button text back\r\n                    spinner.style.display = 'none';\r\n                    angleIcon.style.display = 'inline-block';\r\n                    buttonText.style.display = 'inline-block';\r\n                    buttonWaiting.style.display = 'none';\r\n                    button.disabled = false;\r\n                    button.style.backgroundColor = '';\r\n\r\n                    // Handle the error\r\n                    console.error(error);\r\n                });\r\n\r\n        } else if (status == \"Liquidated\" || status == \"ForceLiquidated\") {\r\n            let manifest = `\r\n            CALL_METHOD\r\n              Address(\"${accountAddress}\")\r\n              \"create_proof_of_non_fungibles\"\r\n              Address(\"${cdpAddress}\")\r\n              Array<NonFungibleLocalId>(\r\n                NonFungibleLocalId(\"${cdpId}\")\r\n              );\r\n             \r\n            POP_FROM_AUTH_ZONE\r\n              Proof(\"cdp_proof\");\r\n             \r\n            CALL_METHOD    \r\n              Address(\"${componentAddress}\")\r\n              \"retrieve_leftover_collateral\"\r\n              Proof(\"cdp_proof\");\r\n             \r\n            CALL_METHOD\r\n              Address(\"${accountAddress}\") \r\n              \"deposit_batch\"\r\n              Expression(\"ENTIRE_WORKTOP\");\r\n              `\r\n            console.log('retrieve col. manifest: ', manifest)\r\n            toastMe(0, \"Collateral retrieval\", 1);\r\n\r\n            // Send manifest to extension for signing\r\n            rdt.walletApi\r\n                .sendTransaction({\r\n                    transactionManifest: manifest,\r\n                    version: 1,\r\n                    message: \"Retrieving leftover collateral from STAB loan\",\r\n                })\r\n                .then(result => {\r\n                    toastMe(result.value.transactionIntentHash, \"Collateral retrieval\", 2);\r\n                    // Hide the spinner, show the angle icon, and change the button text back\r\n                    spinner.style.display = 'none';\r\n                    angleIcon.style.display = 'inline-block';\r\n                    buttonText.style.display = 'inline-block';\r\n                    buttonWaiting.style.display = 'none';\r\n                    button.disabled = false;\r\n                    button.style.backgroundColor = '';\r\n                    console.log(\"Mint Result: \", result.value);\r\n                    update_cdp();\r\n                })\r\n                .catch(error => {\r\n                    // Hide the spinner, show the angle icon, and change the button text back\r\n                    spinner.style.display = 'none';\r\n                    angleIcon.style.display = 'inline-block';\r\n                    buttonText.style.display = 'inline-block';\r\n                    buttonWaiting.style.display = 'none';\r\n                    button.disabled = false;\r\n                    button.style.backgroundColor = '';\r\n\r\n                    // Handle the error\r\n                    console.error(error);\r\n                });\r\n\r\n        } else {\r\n\r\n            let stabAmount = debtAmount;\r\n            let manifest = `\r\n            CALL_METHOD\r\n              Address(\"${accountAddress}\")\r\n              \"create_proof_of_non_fungibles\"\r\n              Address(\"${cdpAddress}\")\r\n              Array<NonFungibleLocalId>(\r\n                NonFungibleLocalId(\"${cdpId}\")\r\n              );\r\n             \r\n            POP_FROM_AUTH_ZONE\r\n              Proof(\"cdp_proof\");\r\n             \r\n            CALL_METHOD\r\n              Address(\"${accountAddress}\") #Primary account \r\n              \"withdraw\"\r\n              Address(\"${stabAddress}\") # Collateral address\r\n              Decimal(\"${stabAmount}\");\r\n             \r\n            TAKE_FROM_WORKTOP \r\n                Address(\"${stabAddress}\") # Collateral address\r\n                Decimal(\"${stabAmount}\") \r\n                Bucket(\"repayment_bucket\");\r\n             \r\n            CALL_METHOD    \r\n              Address(\"${componentAddress}\")\r\n              \"close_cdp\"\r\n              Proof(\"cdp_proof\")\r\n              Bucket(\"repayment_bucket\");\r\n             \r\n            CALL_METHOD\r\n              Address(\"${accountAddress}\") \r\n              \"deposit_batch\"\r\n              Expression(\"ENTIRE_WORKTOP\");\r\n              `\r\n            console.log('Close cdp manifest: ', manifest)\r\n            toastMe(0, \"Loan close request\", 1);\r\n\r\n            // Send manifest to extension for signing\r\n            rdt.walletApi\r\n                .sendTransaction({\r\n                    transactionManifest: manifest,\r\n                    version: 1,\r\n                    message: \"Closing STAB loan\",\r\n                })\r\n                .then(result => {\r\n                    toastMe(result.value.transactionIntentHash, \"Closing loan\", 2);\r\n                    // Hide the spinner, show the angle icon, and change the button text back\r\n                    spinner.style.display = 'none';\r\n                    angleIcon.style.display = 'inline-block';\r\n                    buttonText.style.display = 'inline-block';\r\n                    buttonWaiting.style.display = 'none';\r\n                    button.disabled = false;\r\n                    button.style.backgroundColor = '';\r\n                    console.log(\"Mint Result: \", result.value);\r\n                    update_cdp();\r\n                    update(true);\r\n                })\r\n                .catch(error => {\r\n                    // Hide the spinner, show the angle icon, and change the button text back\r\n                    spinner.style.display = 'none';\r\n                    angleIcon.style.display = 'inline-block';\r\n                    buttonText.style.display = 'inline-block';\r\n                    buttonWaiting.style.display = 'none';\r\n                    button.disabled = false;\r\n                    button.style.backgroundColor = '';\r\n\r\n                    // Handle the error\r\n                    console.error(error);\r\n                });\r\n        }\r\n    }\r\n}\r\nif (window.location.pathname === '/borrow') {\r\n    document.getElementById('warning-low-ratio').addEventListener('click', function () {\r\n        setChevronNoButton(document.getElementById('warning-low-ratio'));\r\n    });\r\n    document.getElementById('warning-good-ratio').addEventListener('click', function () {\r\n        setChevronNoButton(document.getElementById('warning-good-ratio'));\r\n    });\r\n    let colMax = document.getElementById('col-max');\r\n    colMax.addEventListener('click', function () {\r\n        collateralAmount = availableCollateral;\r\n        if (selectedCollateral !== undefined) {\r\n            document.getElementById(\"colToUse\").value = Math.floor(availableCollateral * 100) / 100;\r\n            let result = ((1 / (stabXrdRatio * validatorMultiplier)) / (slider.value / 100)) * Math.floor(availableCollateral * 100) / 100;\r\n            mintAmount = result;\r\n            collateralAmount = Math.floor(availableCollateral * 100) / 100;\r\n            document.getElementById(\"outputStab\").innerHTML = customRound(result, 4);\r\n            document.getElementById(\"ratio-suffix\").innerHTML = \"STAB\";\r\n        }\r\n        setBorrowButton();\r\n    });\r\n    colMax.style.cursor = \"pointer\";\r\n\r\n    var slider = document.getElementById('slider-single');\r\n    var plus = document.getElementById('plus-button');\r\n    var minus = document.getElementById('minus-button');\r\n    var h2 = document.getElementById('colRatioStab');\r\n    let colToUse = document.getElementById(\"colToUse\");\r\n    // Display the default slider value\r\n\r\n    // Update the slider background on input change\r\n    slider.addEventListener('input', function () {\r\n        const value = this.value;\r\n        // Calculate the percentage of the thumb position\r\n        const percentage = (value - this.min) / (this.max - this.min) * 100;\r\n        // Update the slider background style\r\n        this.style.background = `linear-gradient(to right, #1BA9A0 0%, #2B6CCC ${percentage}%, #f2f2f2 ${percentage}%)`;\r\n    });\r\n\r\n    // Initialize the slider background\r\n    slider.dispatchEvent(new Event('input'));\r\n\r\n    // Get the dropdown button and content\r\n    var dropdownButton = document.querySelector('.dropdown-custom-button');\r\n    var dropdownContent = document.querySelector('.dropdown-custom-content');\r\n\r\n    // Add click event listeners to each option\r\n    var options = document.querySelectorAll('.dropdown-custom-option');\r\n\r\n    // Show the dropdown content when the button is clicked\r\n    dropdownButton.addEventListener('click', function () {\r\n        if (dropdownButton.disabled) {\r\n            return;\r\n        }\r\n        if (dropdownContent !== undefined) {\r\n            var display = dropdownContent.style.display;\r\n            dropdownContent.style.display = display === 'block' ? 'none' : 'block';\r\n            setChevron(dropdownContent);\r\n        }\r\n        if (!isConnected) {\r\n            alert('Connect wallet.');\r\n        }\r\n    });\r\n\r\n    document.addEventListener('click', function (event) {\r\n        // Check if the clicked element is the dropdown button or one of the dropdown options\r\n        var isDropdownButton = dropdownButton.contains(event.target);\r\n        var isDropdownOption = Array.from(options).some(function (option) {\r\n            return option.contains(event.target);\r\n        });\r\n\r\n        // If the clicked element is not the dropdown button or one of the dropdown options, hide the dropdown content\r\n        if (!isDropdownButton && !isDropdownOption) {\r\n            dropdownContent.style.display = 'none';\r\n            setChevron(dropdownContent);\r\n        }\r\n    });\r\n\r\n    // Update the current slider value (each time you drag the slider handle)\r\n    slider.oninput = function () {\r\n        h2.textContent = slider.value + \"%\";\r\n        if (selectedCollateral !== undefined) {\r\n            if (colToUse.value !== \"\") {\r\n                let result = ((1 / (stabXrdRatio * validatorMultiplier)) / (this.value / 100)) * colToUse.value;\r\n                mintAmount = result;\r\n                collateralAmount = colToUse.value;\r\n                document.getElementById(\"outputStab\").innerHTML = customRound(result, 4);\r\n            } else {\r\n                let result = (1 / (stabXrdRatio * validatorMultiplier)) / (this.value / 100);\r\n                mintAmount = result;\r\n                collateralAmount = 0;\r\n                document.getElementById(\"outputStab\").innerHTML = customRound(result, 4);\r\n            }\r\n            setBorrowButton();\r\n        }\r\n        if (this.value >= 200) {\r\n            document.getElementById('warning-low-ratio').style.display = 'none';\r\n            document.getElementById('warning-good-ratio').style.display = '';\r\n        } else if (this.value >= 150) {\r\n            document.getElementById('warning-low-ratio').style.display = '';\r\n            document.getElementById('warning-good-ratio').style.display = 'none';\r\n        } else {\r\n            document.getElementById('warning-low-ratio').style.display = 'none';\r\n            document.getElementById('warning-good-ratio').style.display = 'none';\r\n        }\r\n    }\r\n\r\n    plus.onclick = function () {\r\n        slider.value = parseInt(slider.value) + 1;\r\n        h2.textContent = slider.value + \"%\";\r\n        if (selectedCollateral !== undefined) {\r\n            if (colToUse.value !== \"\") {\r\n                let result = ((1 / (stabXrdRatio * validatorMultiplier)) / (slider.value / 100)) * colToUse.value;\r\n                mintAmount = result;\r\n                collateralAmount = colToUse.value;\r\n                document.getElementById(\"outputStab\").innerHTML = customRound(result, 4);\r\n            } else {\r\n                let result = (1 / (stabXrdRatio * validatorMultiplier)) / (slider.value / 100) * 1;\r\n                mintAmount = result;\r\n                collateralAmount = 0;\r\n                document.getElementById(\"outputStab\").innerHTML = customRound(result, 4);\r\n            }\r\n            setBorrowButton();\r\n        }\r\n\r\n        if (slider.value >= 200) {\r\n            document.getElementById('warning-low-ratio').style.display = 'none';\r\n            document.getElementById('warning-good-ratio').style.display = '';\r\n        } else if (slider.value >= 150) {\r\n            document.getElementById('warning-low-ratio').style.display = '';\r\n            document.getElementById('warning-good-ratio').style.display = 'none';\r\n        } else {\r\n            document.getElementById('warning-low-ratio').style.display = 'none';\r\n            document.getElementById('warning-good-ratio').style.display = 'none';\r\n        }\r\n    }\r\n\r\n    minus.onclick = function () {\r\n        slider.value = parseInt(slider.value) - 1;\r\n        h2.textContent = slider.value + \"%\";\r\n        if (selectedCollateral !== undefined) {\r\n            if (colToUse.value !== \"\") {\r\n                let result = ((1 / (stabXrdRatio * validatorMultiplier)) / (slider.value / 100)) * colToUse.value;\r\n                mintAmount = result;\r\n                collateralAmount = colToUse.value;\r\n                document.getElementById(\"outputStab\").innerHTML = customRound(result, 4);\r\n            } else {\r\n                let result = (1 / (stabXrdRatio * validatorMultiplier)) / (slider.value / 100) * 1;\r\n                mintAmount = result;\r\n                collateralAmount = 0;\r\n                document.getElementById(\"outputStab\").innerHTML = customRound(result, 4);\r\n            }\r\n            setBorrowButton();\r\n        }\r\n\r\n        if (slider.value >= 200) {\r\n            document.getElementById('warning-low-ratio').style.display = 'none';\r\n            document.getElementById('warning-good-ratio').style.display = '';\r\n        } else if (slider.value >= 150) {\r\n            document.getElementById('warning-low-ratio').style.display = '';\r\n            document.getElementById('warning-good-ratio').style.display = 'none';\r\n        } else {\r\n            document.getElementById('warning-low-ratio').style.display = 'none';\r\n            document.getElementById('warning-good-ratio').style.display = 'none';\r\n        }\r\n    }\r\n\r\n    document.getElementById(\"colToUse\").oninput = function () {\r\n        h2.textContent = slider.value + \"%\";\r\n        if (selectedCollateral !== undefined) {\r\n            if (this.value !== \"\") {\r\n                let result = ((1 / (stabXrdRatio * validatorMultiplier)) / (slider.value / 100)) * this.value;\r\n                mintAmount = result;\r\n                collateralAmount = this.value;\r\n                document.getElementById(\"outputStab\").innerHTML = customRound(result, 4);\r\n            } else {\r\n                let result = (1 / (stabXrdRatio * validatorMultiplier)) / (slider.value / 100) * 1;\r\n                mintAmount = result;\r\n                collateralAmount = 0;\r\n                document.getElementById(\"outputStab\").innerHTML = customRound(result, 4);\r\n            }\r\n            setBorrowButton();\r\n        }\r\n\r\n        if (colToUse.value !== \"\") {\r\n            document.getElementById(\"ratio-suffix\").innerHTML = \"STAB\";\r\n        }\r\n        else {\r\n            document.getElementById(\"ratio-suffix\").innerHTML = \"STAB/\" + selectedText;\r\n        }\r\n    }\r\n\r\n    // *********** Mint safe ***********\r\n    document.getElementById('mint-button').onclick = async function () {\r\n        update(true);\r\n        if (!isConnected) {\r\n            return;\r\n        }\r\n\r\n        if (selectedCollateral === undefined) {\r\n            alert(\"Please select a collateral type.\");\r\n            return;\r\n        }\r\n\r\n        if (document.getElementById(\"colToUse\").value === \"\") {\r\n            alert(\"Please enter the amount of collateral to use.\");\r\n            return;\r\n        }\r\n\r\n        const button = this;\r\n        const buttonText = button.querySelector('.button-text');\r\n        const buttonWaiting = button.querySelector('.button-waiting');\r\n        const spinner = button.querySelector('.spin');\r\n        const angleIcon = button.querySelector('.chevron');\r\n        spinner.style.display = 'inline-block';\r\n        angleIcon.style.display = 'none';\r\n        buttonText.style.display = 'none';\r\n        buttonWaiting.style.display = 'inline-block';\r\n        button.disabled = true;\r\n        button.style.backgroundColor = '#c6c6c6';\r\n\r\n        let manifest;\r\n        console.log(idSupplied);\r\n        manifest = `\r\n    CALL_METHOD\r\n    Address(\"${accountAddress}\")\r\n    \"withdraw\"    \r\n    Address(\"${selectedCollateral}\")\r\n    Decimal(\"${collateralAmount}\");\r\n    TAKE_ALL_FROM_WORKTOP\r\n    Address(\"${selectedCollateral}\")\r\n    Bucket(\"collateral\");\r\n    CALL_METHOD\r\n    Address(\"${componentAddress}\")\r\n    \"open_cdp\"\r\n    Bucket(\"collateral\")\r\n    Decimal(\"${mintAmount}\")\r\n    false;\r\n    CALL_METHOD\r\n    Address(\"${accountAddress}\")\r\n    \"deposit_batch\"\r\n    Expression(\"ENTIRE_WORKTOP\");\r\n    `\r\n        console.log('Mint manifest: ', manifest)\r\n        toastMe(0, \"Borrow request\", 1);\r\n\r\n        // Send manifest to extension for signing\r\n        rdt.walletApi\r\n            .sendTransaction({\r\n                transactionManifest: manifest,\r\n                version: 1,\r\n                message: \"Borrowing STAB through a loan\",\r\n            })\r\n            .then(result => {\r\n                toastMe(result.value.transactionIntentHash, \"Borrowing\", 2);\r\n                // Hide the spinner, show the angle icon, and change the button text back\r\n                spinner.style.display = 'none';\r\n                angleIcon.style.display = 'inline-block';\r\n                buttonText.style.display = 'inline-block';\r\n                buttonWaiting.style.display = 'none';\r\n                button.disabled = false;\r\n                button.style.backgroundColor = '';\r\n                update(false);\r\n            })\r\n            .catch(error => {\r\n                // Hide the spinner, show the angle icon, and change the button text back\r\n                spinner.style.display = 'none';\r\n                angleIcon.style.display = 'inline-block';\r\n                buttonText.style.display = 'inline-block';\r\n                buttonWaiting.style.display = 'none';\r\n                button.disabled = false;\r\n                button.style.backgroundColor = '';\r\n\r\n                // Handle the error\r\n                console.error(error);\r\n            });\r\n    }\r\n}\r\n\r\nif (window.location.pathname === '/lbp') {\r\n    // Example Data: [time, [XRD amount, ILIS amount]]\r\n    const lbpLength = 7;\r\n\r\n    const initialData = [\r\n        [0, [555.6, 1000]],\r\n        [0.05, [700, 950]],\r\n        [0.1, [900, 900]],\r\n        [0.2, [1100, 700]],\r\n        [0.23, [1100, 700]],\r\n    ];\r\n    const dataExtrapolated = [\r\n        [1, initialData[initialData.length - 1][1]],\r\n    ];\r\n    const cutoffPoint = (initialData[initialData.length - 1][0]) * lbpLength;\r\n    const data = initialData.concat(dataExtrapolated);\r\n\r\n    // Initial and final weights\r\n    const initialWeightILIS = 0.99;\r\n    const finalWeightILIS = 0.50;\r\n    const totalWeightChange = initialWeightILIS - finalWeightILIS;\r\n\r\n    // Function to calculate the weight at a given time (partial progress interpolation)\r\n    function calculateWeight(startWeightILIS, endWeightILIS, progress) {\r\n        return startWeightILIS - progress * (startWeightILIS - endWeightILIS);\r\n    }\r\n\r\n    // Function to calculate price XRD/ILIS at each data point\r\n    function calculatePrice(xrd, ilis, weightILIS) {\r\n        const weightXRD = 1 - weightILIS;\r\n        return (xrd / ilis) * (weightILIS / weightXRD);\r\n    }\r\n\r\n    // Function to interpolate prices between two points based on weights\r\n    function interpolateBetweenPoints(start, end, startWeightILIS, endWeightILIS, numSteps) {\r\n        const [startTime, [startXRD, startILIS]] = start;\r\n        const [endTime, [endXRD, endILIS]] = end;\r\n        const interpolatedData = [];\r\n\r\n        for (let step = 0; step <= numSteps; step++) {\r\n            const t = step / numSteps;\r\n            const time = startTime + t * (endTime - startTime);\r\n\r\n            // Gradual weight change between the start and end weight (corrected)\r\n            const weightILIS = calculateWeight(startWeightILIS, endWeightILIS, t);\r\n\r\n            // Use the XRD and ILIS amounts from the start of the segment\r\n            const price = calculatePrice(startXRD, startILIS, weightILIS);\r\n\r\n            interpolatedData.push({ time, price });\r\n        }\r\n\r\n        return interpolatedData;\r\n    }\r\n\r\n    // Generate interpolated price data\r\n    function generatePriceData(data) {\r\n        const priceData = [];\r\n        let currentWeightILIS = initialWeightILIS;\r\n\r\n        for (let i = 0; i < data.length - 1; i++) {\r\n            // Calculate how much the weight should change in this interval\r\n            const progress = data[i + 1][0] - data[i][0]; // Time difference\r\n            var numStepsBetweenPoints = Math.round(1008 * progress);\r\n            console.log(numStepsBetweenPoints);\r\n            const nextWeightILIS = currentWeightILIS - progress * totalWeightChange;\r\n\r\n            // Interpolate between two points\r\n            const interpolatedSegment = interpolateBetweenPoints(data[i], data[i + 1], currentWeightILIS, nextWeightILIS, numStepsBetweenPoints);\r\n            priceData.push(...interpolatedSegment);\r\n\r\n            // Add the exact time point (price jump) at the next point\r\n            const [nextTime, [nextXRD, nextILIS]] = data[i + 1];\r\n            const weightILIS = nextWeightILIS; // At this time, the weight jumps to the next\r\n            const nextPrice = calculatePrice(nextXRD, nextILIS, weightILIS);\r\n            priceData.push({ time: nextTime, price: nextPrice });\r\n\r\n            // Update the starting weight for the next interval\r\n            currentWeightILIS = nextWeightILIS;\r\n        }\r\n\r\n        return priceData;\r\n    }\r\n\r\n    function createDataPoints(times, prices) {\r\n        return times.map((time, index) => ({\r\n            x: time,\r\n            y: prices[index]\r\n        }));\r\n    }\r\n\r\n    // Generate data with interpolation (e.g., 50 steps between each key point)\r\n    const interpolatedData = generatePriceData(data);\r\n    const extrapolatedData = generatePriceData(dataExtrapolated);\r\n\r\n    // Extract time and price data for the chart\r\n    const timeValues = interpolatedData.map(d => d.time);\r\n    const timeValuesMultiplied = timeValues.map(value => value * lbpLength);\r\n    const priceValues = interpolatedData.map(d => d.price);\r\n    const extrapolatedIndices = timeValuesMultiplied.map((value, index) => value > cutoffPoint ? index : -1).filter(index => index !== -1);\r\n    const extrapolatedPriceValues = extrapolatedIndices.map(index => priceValues[index]);\r\n    const extrapolatedTimeValues = extrapolatedIndices.map(index => timeValuesMultiplied[index]);\r\n    const remainingTimeValues = timeValuesMultiplied.filter((value, index) => !extrapolatedIndices.includes(index));\r\n    const remainingPriceValues = priceValues.filter((value, index) => !extrapolatedIndices.includes(index));\r\n\r\n    const dataset1Data = createDataPoints(remainingTimeValues, remainingPriceValues);\r\n    const dataset2Data = createDataPoints(extrapolatedTimeValues, extrapolatedPriceValues);\r\n\r\n    // Create a chart using Chart.js\r\n    const ctx = document.getElementById('myChart').getContext('2d');\r\n    const realChart = new Chart(ctx, {\r\n        type: 'line',\r\n        data: {\r\n            datasets: [\r\n                {\r\n                    label: 'Real price',\r\n                    data: dataset1Data,  // Use transformed data for the first dataset\r\n                    borderColor: 'rgba(27, 169, 160, 1)',\r\n                    backgroundColor: 'rgba(27, 169, 160, 0.2)',\r\n                    fill: true,\r\n                    tension: 0.4, // Smooth curves\r\n                    borderWidth: 2\r\n                },\r\n                {\r\n                    label: 'Extrapolated price',\r\n                    data: dataset2Data,  // Use transformed data for the second dataset\r\n                    borderColor: 'rgba(22, 22, 22, 1)', // Different color for the new dataset\r\n                    backgroundColor: 'rgba(22, 22, 22, 0)', // Different background color\r\n                    fill: false,\r\n                    tension: 0.4, // Smooth curves\r\n                    borderWidth: 2\r\n                }\r\n            ]\r\n        },\r\n        options: {\r\n            scales: {\r\n                x: {\r\n                    type: 'linear',  // Use linear scale for the x-axis\r\n                    title: {\r\n                        display: true,\r\n                        text: 'Time (days from start)',\r\n                        color: 'white'  // Change x-axis title color to white\r\n                    },\r\n                    min: 0, // Minimum value for x-axis\r\n                    max: 7, // Maximum value for x-axis\r\n                    ticks: {\r\n                        color: 'white'  // Change x-axis ticks color to white\r\n                    }\r\n                },\r\n                y: {\r\n                    beginAtZero: true,\r\n                    title: {\r\n                        display: true,\r\n                        text: 'Price (XRD/ILIS)',\r\n                        color: 'white'  // Change y-axis title color to white\r\n                    },\r\n                    ticks: {\r\n                        color: 'white'  // Change y-axis ticks color to white\r\n                    }\r\n                }\r\n            },\r\n            plugins: {\r\n                legend: {\r\n                    labels: {\r\n                        color: 'white'  // Change legend text color to white\r\n                    }\r\n                },\r\n                tooltip: {\r\n                    callbacks: {\r\n                        title: function (tooltipItems) {\r\n                            // Replace commas with dots and parse as a float, then format with a dot for decimals\r\n                            const xValue = parseFloat(tooltipItems[0].label.replace(',', '.')).toLocaleString('en-US', { minimumFractionDigits: 1, maximumFractionDigits: 4 });\r\n                            return xValue + ' days from start';\r\n                        },\r\n                        label: function (tooltipItem) {\r\n                            // Round y-value to 4 decimal points and format with dot for decimals\r\n                            const roundedY = tooltipItem.raw.y.toFixed(4);\r\n                            return tooltipItem.dataset.label + ': ' + roundedY + ' XRD/ILIS';\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n\r\n}","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar pad_string_1 = require(\"./pad-string\");\nfunction encode(input, encoding) {\n    if (encoding === void 0) { encoding = \"utf8\"; }\n    if (Buffer.isBuffer(input)) {\n        return fromBase64(input.toString(\"base64\"));\n    }\n    return fromBase64(Buffer.from(input, encoding).toString(\"base64\"));\n}\n;\nfunction decode(base64url, encoding) {\n    if (encoding === void 0) { encoding = \"utf8\"; }\n    return Buffer.from(toBase64(base64url), \"base64\").toString(encoding);\n}\nfunction toBase64(base64url) {\n    base64url = base64url.toString();\n    return pad_string_1.default(base64url)\n        .replace(/\\-/g, \"+\")\n        .replace(/_/g, \"/\");\n}\nfunction fromBase64(base64) {\n    return base64\n        .replace(/=/g, \"\")\n        .replace(/\\+/g, \"-\")\n        .replace(/\\//g, \"_\");\n}\nfunction toBuffer(base64url) {\n    return Buffer.from(toBase64(base64url), \"base64\");\n}\nvar base64url = encode;\nbase64url.encode = encode;\nbase64url.decode = decode;\nbase64url.toBase64 = toBase64;\nbase64url.fromBase64 = fromBase64;\nbase64url.toBuffer = toBuffer;\nexports.default = base64url;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction padString(input) {\n    var segmentLength = 4;\n    var stringLength = input.length;\n    var diff = stringLength % segmentLength;\n    if (!diff) {\n        return input;\n    }\n    var position = stringLength;\n    var padLength = segmentLength - diff;\n    var paddedStringLength = stringLength + padLength;\n    var buffer = Buffer.alloc(paddedStringLength);\n    buffer.write(input);\n    while (padLength--) {\n        buffer.write(\"=\", position++);\n    }\n    return buffer.toString();\n}\nexports.default = padString;\n","module.exports = require('./dist/base64url').default;\nmodule.exports.default = module.exports;\n","// Blake2B in pure Javascript\n// Adapted from the reference implementation in RFC7693\n// Ported to Javascript by DC - https://github.com/dcposch\n\nconst util = require('./util')\n\n// 64-bit unsigned addition\n// Sets v[a,a+1] += v[b,b+1]\n// v should be a Uint32Array\nfunction ADD64AA (v, a, b) {\n  const o0 = v[a] + v[b]\n  let o1 = v[a + 1] + v[b + 1]\n  if (o0 >= 0x100000000) {\n    o1++\n  }\n  v[a] = o0\n  v[a + 1] = o1\n}\n\n// 64-bit unsigned addition\n// Sets v[a,a+1] += b\n// b0 is the low 32 bits of b, b1 represents the high 32 bits\nfunction ADD64AC (v, a, b0, b1) {\n  let o0 = v[a] + b0\n  if (b0 < 0) {\n    o0 += 0x100000000\n  }\n  let o1 = v[a + 1] + b1\n  if (o0 >= 0x100000000) {\n    o1++\n  }\n  v[a] = o0\n  v[a + 1] = o1\n}\n\n// Little-endian byte access\nfunction B2B_GET32 (arr, i) {\n  return arr[i] ^ (arr[i + 1] << 8) ^ (arr[i + 2] << 16) ^ (arr[i + 3] << 24)\n}\n\n// G Mixing function\n// The ROTRs are inlined for speed\nfunction B2B_G (a, b, c, d, ix, iy) {\n  const x0 = m[ix]\n  const x1 = m[ix + 1]\n  const y0 = m[iy]\n  const y1 = m[iy + 1]\n\n  ADD64AA(v, a, b) // v[a,a+1] += v[b,b+1] ... in JS we must store a uint64 as two uint32s\n  ADD64AC(v, a, x0, x1) // v[a, a+1] += x ... x0 is the low 32 bits of x, x1 is the high 32 bits\n\n  // v[d,d+1] = (v[d,d+1] xor v[a,a+1]) rotated to the right by 32 bits\n  let xor0 = v[d] ^ v[a]\n  let xor1 = v[d + 1] ^ v[a + 1]\n  v[d] = xor1\n  v[d + 1] = xor0\n\n  ADD64AA(v, c, d)\n\n  // v[b,b+1] = (v[b,b+1] xor v[c,c+1]) rotated right by 24 bits\n  xor0 = v[b] ^ v[c]\n  xor1 = v[b + 1] ^ v[c + 1]\n  v[b] = (xor0 >>> 24) ^ (xor1 << 8)\n  v[b + 1] = (xor1 >>> 24) ^ (xor0 << 8)\n\n  ADD64AA(v, a, b)\n  ADD64AC(v, a, y0, y1)\n\n  // v[d,d+1] = (v[d,d+1] xor v[a,a+1]) rotated right by 16 bits\n  xor0 = v[d] ^ v[a]\n  xor1 = v[d + 1] ^ v[a + 1]\n  v[d] = (xor0 >>> 16) ^ (xor1 << 16)\n  v[d + 1] = (xor1 >>> 16) ^ (xor0 << 16)\n\n  ADD64AA(v, c, d)\n\n  // v[b,b+1] = (v[b,b+1] xor v[c,c+1]) rotated right by 63 bits\n  xor0 = v[b] ^ v[c]\n  xor1 = v[b + 1] ^ v[c + 1]\n  v[b] = (xor1 >>> 31) ^ (xor0 << 1)\n  v[b + 1] = (xor0 >>> 31) ^ (xor1 << 1)\n}\n\n// Initialization Vector\nconst BLAKE2B_IV32 = new Uint32Array([\n  0xf3bcc908, 0x6a09e667, 0x84caa73b, 0xbb67ae85, 0xfe94f82b, 0x3c6ef372,\n  0x5f1d36f1, 0xa54ff53a, 0xade682d1, 0x510e527f, 0x2b3e6c1f, 0x9b05688c,\n  0xfb41bd6b, 0x1f83d9ab, 0x137e2179, 0x5be0cd19\n])\n\nconst SIGMA8 = [\n  0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 14, 10, 4, 8, 9, 15, 13,\n  6, 1, 12, 0, 2, 11, 7, 5, 3, 11, 8, 12, 0, 5, 2, 15, 13, 10, 14, 3, 6, 7, 1,\n  9, 4, 7, 9, 3, 1, 13, 12, 11, 14, 2, 6, 5, 10, 4, 0, 15, 8, 9, 0, 5, 7, 2, 4,\n  10, 15, 14, 1, 11, 12, 6, 8, 3, 13, 2, 12, 6, 10, 0, 11, 8, 3, 4, 13, 7, 5,\n  15, 14, 1, 9, 12, 5, 1, 15, 14, 13, 4, 10, 0, 7, 6, 3, 9, 2, 8, 11, 13, 11, 7,\n  14, 12, 1, 3, 9, 5, 0, 15, 4, 8, 6, 2, 10, 6, 15, 14, 9, 11, 3, 0, 8, 12, 2,\n  13, 7, 1, 4, 10, 5, 10, 2, 8, 4, 7, 6, 1, 5, 15, 11, 9, 14, 3, 12, 13, 0, 0,\n  1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 14, 10, 4, 8, 9, 15, 13, 6,\n  1, 12, 0, 2, 11, 7, 5, 3\n]\n\n// These are offsets into a uint64 buffer.\n// Multiply them all by 2 to make them offsets into a uint32 buffer,\n// because this is Javascript and we don't have uint64s\nconst SIGMA82 = new Uint8Array(\n  SIGMA8.map(function (x) {\n    return x * 2\n  })\n)\n\n// Compression function. 'last' flag indicates last block.\n// Note we're representing 16 uint64s as 32 uint32s\nconst v = new Uint32Array(32)\nconst m = new Uint32Array(32)\nfunction blake2bCompress (ctx, last) {\n  let i = 0\n\n  // init work variables\n  for (i = 0; i < 16; i++) {\n    v[i] = ctx.h[i]\n    v[i + 16] = BLAKE2B_IV32[i]\n  }\n\n  // low 64 bits of offset\n  v[24] = v[24] ^ ctx.t\n  v[25] = v[25] ^ (ctx.t / 0x100000000)\n  // high 64 bits not supported, offset may not be higher than 2**53-1\n\n  // last block flag set ?\n  if (last) {\n    v[28] = ~v[28]\n    v[29] = ~v[29]\n  }\n\n  // get little-endian words\n  for (i = 0; i < 32; i++) {\n    m[i] = B2B_GET32(ctx.b, 4 * i)\n  }\n\n  // twelve rounds of mixing\n  // uncomment the DebugPrint calls to log the computation\n  // and match the RFC sample documentation\n  // util.debugPrint('          m[16]', m, 64)\n  for (i = 0; i < 12; i++) {\n    // util.debugPrint('   (i=' + (i < 10 ? ' ' : '') + i + ') v[16]', v, 64)\n    B2B_G(0, 8, 16, 24, SIGMA82[i * 16 + 0], SIGMA82[i * 16 + 1])\n    B2B_G(2, 10, 18, 26, SIGMA82[i * 16 + 2], SIGMA82[i * 16 + 3])\n    B2B_G(4, 12, 20, 28, SIGMA82[i * 16 + 4], SIGMA82[i * 16 + 5])\n    B2B_G(6, 14, 22, 30, SIGMA82[i * 16 + 6], SIGMA82[i * 16 + 7])\n    B2B_G(0, 10, 20, 30, SIGMA82[i * 16 + 8], SIGMA82[i * 16 + 9])\n    B2B_G(2, 12, 22, 24, SIGMA82[i * 16 + 10], SIGMA82[i * 16 + 11])\n    B2B_G(4, 14, 16, 26, SIGMA82[i * 16 + 12], SIGMA82[i * 16 + 13])\n    B2B_G(6, 8, 18, 28, SIGMA82[i * 16 + 14], SIGMA82[i * 16 + 15])\n  }\n  // util.debugPrint('   (i=12) v[16]', v, 64)\n\n  for (i = 0; i < 16; i++) {\n    ctx.h[i] = ctx.h[i] ^ v[i] ^ v[i + 16]\n  }\n  // util.debugPrint('h[8]', ctx.h, 64)\n}\n\n// reusable parameterBlock\nconst parameterBlock = new Uint8Array([\n  0,\n  0,\n  0,\n  0, //  0: outlen, keylen, fanout, depth\n  0,\n  0,\n  0,\n  0, //  4: leaf length, sequential mode\n  0,\n  0,\n  0,\n  0, //  8: node offset\n  0,\n  0,\n  0,\n  0, // 12: node offset\n  0,\n  0,\n  0,\n  0, // 16: node depth, inner length, rfu\n  0,\n  0,\n  0,\n  0, // 20: rfu\n  0,\n  0,\n  0,\n  0, // 24: rfu\n  0,\n  0,\n  0,\n  0, // 28: rfu\n  0,\n  0,\n  0,\n  0, // 32: salt\n  0,\n  0,\n  0,\n  0, // 36: salt\n  0,\n  0,\n  0,\n  0, // 40: salt\n  0,\n  0,\n  0,\n  0, // 44: salt\n  0,\n  0,\n  0,\n  0, // 48: personal\n  0,\n  0,\n  0,\n  0, // 52: personal\n  0,\n  0,\n  0,\n  0, // 56: personal\n  0,\n  0,\n  0,\n  0 // 60: personal\n])\n\n// Creates a BLAKE2b hashing context\n// Requires an output length between 1 and 64 bytes\n// Takes an optional Uint8Array key\n// Takes an optinal Uint8Array salt\n// Takes an optinal Uint8Array personal\nfunction blake2bInit (outlen, key, salt, personal) {\n  if (outlen === 0 || outlen > 64) {\n    throw new Error('Illegal output length, expected 0 < length <= 64')\n  }\n  if (key && key.length > 64) {\n    throw new Error('Illegal key, expected Uint8Array with 0 < length <= 64')\n  }\n  if (salt && salt.length !== 16) {\n    throw new Error('Illegal salt, expected Uint8Array with length is 16')\n  }\n  if (personal && personal.length !== 16) {\n    throw new Error('Illegal personal, expected Uint8Array with length is 16')\n  }\n\n  // state, 'param block'\n  const ctx = {\n    b: new Uint8Array(128),\n    h: new Uint32Array(16),\n    t: 0, // input count\n    c: 0, // pointer within buffer\n    outlen: outlen // output length in bytes\n  }\n\n  // initialize parameterBlock before usage\n  parameterBlock.fill(0)\n  parameterBlock[0] = outlen\n  if (key) parameterBlock[1] = key.length\n  parameterBlock[2] = 1 // fanout\n  parameterBlock[3] = 1 // depth\n  if (salt) parameterBlock.set(salt, 32)\n  if (personal) parameterBlock.set(personal, 48)\n\n  // initialize hash state\n  for (let i = 0; i < 16; i++) {\n    ctx.h[i] = BLAKE2B_IV32[i] ^ B2B_GET32(parameterBlock, i * 4)\n  }\n\n  // key the hash, if applicable\n  if (key) {\n    blake2bUpdate(ctx, key)\n    // at the end\n    ctx.c = 128\n  }\n\n  return ctx\n}\n\n// Updates a BLAKE2b streaming hash\n// Requires hash context and Uint8Array (byte array)\nfunction blake2bUpdate (ctx, input) {\n  for (let i = 0; i < input.length; i++) {\n    if (ctx.c === 128) {\n      // buffer full ?\n      ctx.t += ctx.c // add counters\n      blake2bCompress(ctx, false) // compress (not last)\n      ctx.c = 0 // counter to zero\n    }\n    ctx.b[ctx.c++] = input[i]\n  }\n}\n\n// Completes a BLAKE2b streaming hash\n// Returns a Uint8Array containing the message digest\nfunction blake2bFinal (ctx) {\n  ctx.t += ctx.c // mark last block offset\n\n  while (ctx.c < 128) {\n    // fill up with zeros\n    ctx.b[ctx.c++] = 0\n  }\n  blake2bCompress(ctx, true) // final block flag = 1\n\n  // little endian convert and store\n  const out = new Uint8Array(ctx.outlen)\n  for (let i = 0; i < ctx.outlen; i++) {\n    out[i] = ctx.h[i >> 2] >> (8 * (i & 3))\n  }\n  return out\n}\n\n// Computes the BLAKE2B hash of a string or byte array, and returns a Uint8Array\n//\n// Returns a n-byte Uint8Array\n//\n// Parameters:\n// - input - the input bytes, as a string, Buffer or Uint8Array\n// - key - optional key Uint8Array, up to 64 bytes\n// - outlen - optional output length in bytes, default 64\n// - salt - optional salt bytes, string, Buffer or Uint8Array\n// - personal - optional personal bytes, string, Buffer or Uint8Array\nfunction blake2b (input, key, outlen, salt, personal) {\n  // preprocess inputs\n  outlen = outlen || 64\n  input = util.normalizeInput(input)\n  if (salt) {\n    salt = util.normalizeInput(salt)\n  }\n  if (personal) {\n    personal = util.normalizeInput(personal)\n  }\n\n  // do the math\n  const ctx = blake2bInit(outlen, key, salt, personal)\n  blake2bUpdate(ctx, input)\n  return blake2bFinal(ctx)\n}\n\n// Computes the BLAKE2B hash of a string or byte array\n//\n// Returns an n-byte hash in hex, all lowercase\n//\n// Parameters:\n// - input - the input bytes, as a string, Buffer, or Uint8Array\n// - key - optional key Uint8Array, up to 64 bytes\n// - outlen - optional output length in bytes, default 64\n// - salt - optional salt bytes, string, Buffer or Uint8Array\n// - personal - optional personal bytes, string, Buffer or Uint8Array\nfunction blake2bHex (input, key, outlen, salt, personal) {\n  const output = blake2b(input, key, outlen, salt, personal)\n  return util.toHex(output)\n}\n\nmodule.exports = {\n  blake2b: blake2b,\n  blake2bHex: blake2bHex,\n  blake2bInit: blake2bInit,\n  blake2bUpdate: blake2bUpdate,\n  blake2bFinal: blake2bFinal\n}\n","// BLAKE2s hash function in pure Javascript\n// Adapted from the reference implementation in RFC7693\n// Ported to Javascript by DC - https://github.com/dcposch\n\nconst util = require('./util')\n\n// Little-endian byte access.\n// Expects a Uint8Array and an index\n// Returns the little-endian uint32 at v[i..i+3]\nfunction B2S_GET32 (v, i) {\n  return v[i] ^ (v[i + 1] << 8) ^ (v[i + 2] << 16) ^ (v[i + 3] << 24)\n}\n\n// Mixing function G.\nfunction B2S_G (a, b, c, d, x, y) {\n  v[a] = v[a] + v[b] + x\n  v[d] = ROTR32(v[d] ^ v[a], 16)\n  v[c] = v[c] + v[d]\n  v[b] = ROTR32(v[b] ^ v[c], 12)\n  v[a] = v[a] + v[b] + y\n  v[d] = ROTR32(v[d] ^ v[a], 8)\n  v[c] = v[c] + v[d]\n  v[b] = ROTR32(v[b] ^ v[c], 7)\n}\n\n// 32-bit right rotation\n// x should be a uint32\n// y must be between 1 and 31, inclusive\nfunction ROTR32 (x, y) {\n  return (x >>> y) ^ (x << (32 - y))\n}\n\n// Initialization Vector.\nconst BLAKE2S_IV = new Uint32Array([\n  0x6a09e667,\n  0xbb67ae85,\n  0x3c6ef372,\n  0xa54ff53a,\n  0x510e527f,\n  0x9b05688c,\n  0x1f83d9ab,\n  0x5be0cd19\n])\n\nconst SIGMA = new Uint8Array([\n  0,\n  1,\n  2,\n  3,\n  4,\n  5,\n  6,\n  7,\n  8,\n  9,\n  10,\n  11,\n  12,\n  13,\n  14,\n  15,\n  14,\n  10,\n  4,\n  8,\n  9,\n  15,\n  13,\n  6,\n  1,\n  12,\n  0,\n  2,\n  11,\n  7,\n  5,\n  3,\n  11,\n  8,\n  12,\n  0,\n  5,\n  2,\n  15,\n  13,\n  10,\n  14,\n  3,\n  6,\n  7,\n  1,\n  9,\n  4,\n  7,\n  9,\n  3,\n  1,\n  13,\n  12,\n  11,\n  14,\n  2,\n  6,\n  5,\n  10,\n  4,\n  0,\n  15,\n  8,\n  9,\n  0,\n  5,\n  7,\n  2,\n  4,\n  10,\n  15,\n  14,\n  1,\n  11,\n  12,\n  6,\n  8,\n  3,\n  13,\n  2,\n  12,\n  6,\n  10,\n  0,\n  11,\n  8,\n  3,\n  4,\n  13,\n  7,\n  5,\n  15,\n  14,\n  1,\n  9,\n  12,\n  5,\n  1,\n  15,\n  14,\n  13,\n  4,\n  10,\n  0,\n  7,\n  6,\n  3,\n  9,\n  2,\n  8,\n  11,\n  13,\n  11,\n  7,\n  14,\n  12,\n  1,\n  3,\n  9,\n  5,\n  0,\n  15,\n  4,\n  8,\n  6,\n  2,\n  10,\n  6,\n  15,\n  14,\n  9,\n  11,\n  3,\n  0,\n  8,\n  12,\n  2,\n  13,\n  7,\n  1,\n  4,\n  10,\n  5,\n  10,\n  2,\n  8,\n  4,\n  7,\n  6,\n  1,\n  5,\n  15,\n  11,\n  9,\n  14,\n  3,\n  12,\n  13,\n  0\n])\n\n// Compression function. \"last\" flag indicates last block\nconst v = new Uint32Array(16)\nconst m = new Uint32Array(16)\nfunction blake2sCompress (ctx, last) {\n  let i = 0\n  for (i = 0; i < 8; i++) {\n    // init work variables\n    v[i] = ctx.h[i]\n    v[i + 8] = BLAKE2S_IV[i]\n  }\n\n  v[12] ^= ctx.t // low 32 bits of offset\n  v[13] ^= ctx.t / 0x100000000 // high 32 bits\n  if (last) {\n    // last block flag set ?\n    v[14] = ~v[14]\n  }\n\n  for (i = 0; i < 16; i++) {\n    // get little-endian words\n    m[i] = B2S_GET32(ctx.b, 4 * i)\n  }\n\n  // ten rounds of mixing\n  // uncomment the DebugPrint calls to log the computation\n  // and match the RFC sample documentation\n  // util.debugPrint('          m[16]', m, 32)\n  for (i = 0; i < 10; i++) {\n    // util.debugPrint('   (i=' + i + ')  v[16]', v, 32)\n    B2S_G(0, 4, 8, 12, m[SIGMA[i * 16 + 0]], m[SIGMA[i * 16 + 1]])\n    B2S_G(1, 5, 9, 13, m[SIGMA[i * 16 + 2]], m[SIGMA[i * 16 + 3]])\n    B2S_G(2, 6, 10, 14, m[SIGMA[i * 16 + 4]], m[SIGMA[i * 16 + 5]])\n    B2S_G(3, 7, 11, 15, m[SIGMA[i * 16 + 6]], m[SIGMA[i * 16 + 7]])\n    B2S_G(0, 5, 10, 15, m[SIGMA[i * 16 + 8]], m[SIGMA[i * 16 + 9]])\n    B2S_G(1, 6, 11, 12, m[SIGMA[i * 16 + 10]], m[SIGMA[i * 16 + 11]])\n    B2S_G(2, 7, 8, 13, m[SIGMA[i * 16 + 12]], m[SIGMA[i * 16 + 13]])\n    B2S_G(3, 4, 9, 14, m[SIGMA[i * 16 + 14]], m[SIGMA[i * 16 + 15]])\n  }\n  // util.debugPrint('   (i=10) v[16]', v, 32)\n\n  for (i = 0; i < 8; i++) {\n    ctx.h[i] ^= v[i] ^ v[i + 8]\n  }\n  // util.debugPrint('h[8]', ctx.h, 32)\n}\n\n// Creates a BLAKE2s hashing context\n// Requires an output length between 1 and 32 bytes\n// Takes an optional Uint8Array key\nfunction blake2sInit (outlen, key) {\n  if (!(outlen > 0 && outlen <= 32)) {\n    throw new Error('Incorrect output length, should be in [1, 32]')\n  }\n  const keylen = key ? key.length : 0\n  if (key && !(keylen > 0 && keylen <= 32)) {\n    throw new Error('Incorrect key length, should be in [1, 32]')\n  }\n\n  const ctx = {\n    h: new Uint32Array(BLAKE2S_IV), // hash state\n    b: new Uint8Array(64), // input block\n    c: 0, // pointer within block\n    t: 0, // input count\n    outlen: outlen // output length in bytes\n  }\n  ctx.h[0] ^= 0x01010000 ^ (keylen << 8) ^ outlen\n\n  if (keylen > 0) {\n    blake2sUpdate(ctx, key)\n    ctx.c = 64 // at the end\n  }\n\n  return ctx\n}\n\n// Updates a BLAKE2s streaming hash\n// Requires hash context and Uint8Array (byte array)\nfunction blake2sUpdate (ctx, input) {\n  for (let i = 0; i < input.length; i++) {\n    if (ctx.c === 64) {\n      // buffer full ?\n      ctx.t += ctx.c // add counters\n      blake2sCompress(ctx, false) // compress (not last)\n      ctx.c = 0 // counter to zero\n    }\n    ctx.b[ctx.c++] = input[i]\n  }\n}\n\n// Completes a BLAKE2s streaming hash\n// Returns a Uint8Array containing the message digest\nfunction blake2sFinal (ctx) {\n  ctx.t += ctx.c // mark last block offset\n  while (ctx.c < 64) {\n    // fill up with zeros\n    ctx.b[ctx.c++] = 0\n  }\n  blake2sCompress(ctx, true) // final block flag = 1\n\n  // little endian convert and store\n  const out = new Uint8Array(ctx.outlen)\n  for (let i = 0; i < ctx.outlen; i++) {\n    out[i] = (ctx.h[i >> 2] >> (8 * (i & 3))) & 0xff\n  }\n  return out\n}\n\n// Computes the BLAKE2S hash of a string or byte array, and returns a Uint8Array\n//\n// Returns a n-byte Uint8Array\n//\n// Parameters:\n// - input - the input bytes, as a string, Buffer, or Uint8Array\n// - key - optional key Uint8Array, up to 32 bytes\n// - outlen - optional output length in bytes, default 64\nfunction blake2s (input, key, outlen) {\n  // preprocess inputs\n  outlen = outlen || 32\n  input = util.normalizeInput(input)\n\n  // do the math\n  const ctx = blake2sInit(outlen, key)\n  blake2sUpdate(ctx, input)\n  return blake2sFinal(ctx)\n}\n\n// Computes the BLAKE2S hash of a string or byte array\n//\n// Returns an n-byte hash in hex, all lowercase\n//\n// Parameters:\n// - input - the input bytes, as a string, Buffer, or Uint8Array\n// - key - optional key Uint8Array, up to 32 bytes\n// - outlen - optional output length in bytes, default 64\nfunction blake2sHex (input, key, outlen) {\n  const output = blake2s(input, key, outlen)\n  return util.toHex(output)\n}\n\nmodule.exports = {\n  blake2s: blake2s,\n  blake2sHex: blake2sHex,\n  blake2sInit: blake2sInit,\n  blake2sUpdate: blake2sUpdate,\n  blake2sFinal: blake2sFinal\n}\n","const b2b = require('./blake2b')\nconst b2s = require('./blake2s')\n\nmodule.exports = {\n  blake2b: b2b.blake2b,\n  blake2bHex: b2b.blake2bHex,\n  blake2bInit: b2b.blake2bInit,\n  blake2bUpdate: b2b.blake2bUpdate,\n  blake2bFinal: b2b.blake2bFinal,\n  blake2s: b2s.blake2s,\n  blake2sHex: b2s.blake2sHex,\n  blake2sInit: b2s.blake2sInit,\n  blake2sUpdate: b2s.blake2sUpdate,\n  blake2sFinal: b2s.blake2sFinal\n}\n","const ERROR_MSG_INPUT = 'Input must be an string, Buffer or Uint8Array'\n\n// For convenience, let people hash a string, not just a Uint8Array\nfunction normalizeInput (input) {\n  let ret\n  if (input instanceof Uint8Array) {\n    ret = input\n  } else if (typeof input === 'string') {\n    const encoder = new TextEncoder()\n    ret = encoder.encode(input)\n  } else {\n    throw new Error(ERROR_MSG_INPUT)\n  }\n  return ret\n}\n\n// Converts a Uint8Array to a hexadecimal string\n// For example, toHex([255, 0, 255]) returns \"ff00ff\"\nfunction toHex (bytes) {\n  return Array.prototype.map\n    .call(bytes, function (n) {\n      return (n < 16 ? '0' : '') + n.toString(16)\n    })\n    .join('')\n}\n\n// Converts any value in [0...2^32-1] to an 8-character hex string\nfunction uint32ToHex (val) {\n  return (0x100000000 + val).toString(16).substring(1)\n}\n\n// For debugging: prints out hash state in the same format as the RFC\n// sample computation exactly, so that you can diff\nfunction debugPrint (label, arr, size) {\n  let msg = '\\n' + label + ' = '\n  for (let i = 0; i < arr.length; i += 2) {\n    if (size === 32) {\n      msg += uint32ToHex(arr[i]).toUpperCase()\n      msg += ' '\n      msg += uint32ToHex(arr[i + 1]).toUpperCase()\n    } else if (size === 64) {\n      msg += uint32ToHex(arr[i + 1]).toUpperCase()\n      msg += uint32ToHex(arr[i]).toUpperCase()\n    } else throw new Error('Invalid size ' + size)\n    if (i % 6 === 4) {\n      msg += '\\n' + new Array(label.length + 4).join(' ')\n    } else if (i < arr.length - 2) {\n      msg += ' '\n    }\n  }\n  console.log(msg)\n}\n\n// For performance testing: generates N bytes of input, hashes M times\n// Measures and prints MB/second hash performance each time\nfunction testSpeed (hashFn, N, M) {\n  let startMs = new Date().getTime()\n\n  const input = new Uint8Array(N)\n  for (let i = 0; i < N; i++) {\n    input[i] = i % 256\n  }\n  const genMs = new Date().getTime()\n  console.log('Generated random input in ' + (genMs - startMs) + 'ms')\n  startMs = genMs\n\n  for (let i = 0; i < M; i++) {\n    const hashHex = hashFn(input)\n    const hashMs = new Date().getTime()\n    const ms = hashMs - startMs\n    startMs = hashMs\n    console.log('Hashed in ' + ms + 'ms: ' + hashHex.substring(0, 20) + '...')\n    console.log(\n      Math.round((N / (1 << 20) / (ms / 1000)) * 100) / 100 + ' MB PER SECOND'\n    )\n  }\n}\n\nmodule.exports = {\n  normalizeInput: normalizeInput,\n  toHex: toHex,\n  debugPrint: debugPrint,\n  testSpeed: testSpeed\n}\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.bowser=t():e.bowser=t()}(this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=90)}({17:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n=r(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||\"\"},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||\"\"},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getWindowsVersionName=function(e){switch(e){case\"NT\":return\"NT\";case\"XP\":return\"XP\";case\"NT 5.0\":return\"2000\";case\"NT 5.1\":return\"XP\";case\"NT 5.2\":return\"2003\";case\"NT 6.0\":return\"Vista\";case\"NT 6.1\":return\"7\";case\"NT 6.2\":return\"8\";case\"NT 6.3\":return\"8.1\";case\"NT 10.0\":return\"10\";default:return}},e.getMacOSVersionName=function(e){var t=e.split(\".\").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return\"Leopard\";case 6:return\"Snow Leopard\";case 7:return\"Lion\";case 8:return\"Mountain Lion\";case 9:return\"Mavericks\";case 10:return\"Yosemite\";case 11:return\"El Capitan\";case 12:return\"Sierra\";case 13:return\"High Sierra\";case 14:return\"Mojave\";case 15:return\"Catalina\";default:return}},e.getAndroidVersionName=function(e){var t=e.split(\".\").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?\"Cupcake\":1===t[0]&&t[1]>=6?\"Donut\":2===t[0]&&t[1]<2?\"Eclair\":2===t[0]&&2===t[1]?\"Froyo\":2===t[0]&&t[1]>2?\"Gingerbread\":3===t[0]?\"Honeycomb\":4===t[0]&&t[1]<1?\"Ice Cream Sandwich\":4===t[0]&&t[1]<4?\"Jelly Bean\":4===t[0]&&t[1]>=4?\"KitKat\":5===t[0]?\"Lollipop\":6===t[0]?\"Marshmallow\":7===t[0]?\"Nougat\":8===t[0]?\"Oreo\":9===t[0]?\"Pie\":void 0},e.getVersionPrecision=function(e){return e.split(\".\").length},e.compareVersions=function(t,r,n){void 0===n&&(n=!1);var i=e.getVersionPrecision(t),s=e.getVersionPrecision(r),a=Math.max(i,s),o=0,u=e.map([t,r],(function(t){var r=a-e.getVersionPrecision(t),n=t+new Array(r+1).join(\".0\");return e.map(n.split(\".\"),(function(e){return new Array(20-e.length).join(\"0\")+e})).reverse()}));for(n&&(o=a-Math.min(i,s)),a-=1;a>=o;){if(u[0][a]>u[1][a])return 1;if(u[0][a]===u[1][a]){if(a===o)return 0;a-=1}else if(u[0][a]<u[1][a])return-1}},e.map=function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n},e.find=function(e,t){var r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){var i=e[r];if(t(i,r))return i}},e.assign=function(e){for(var t,r,n=e,i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(s));var o=function(){var e=s[t];\"object\"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){n[t]=e[t]}))};for(t=0,r=s.length;t<r;t+=1)o();return e},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||\"\"},e}();t.default=i,e.exports=t.default},18:function(e,t,r){\"use strict\";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0;t.BROWSER_ALIASES_MAP={\"Amazon Silk\":\"amazon_silk\",\"Android Browser\":\"android\",Bada:\"bada\",BlackBerry:\"blackberry\",Chrome:\"chrome\",Chromium:\"chromium\",Electron:\"electron\",Epiphany:\"epiphany\",Firefox:\"firefox\",Focus:\"focus\",Generic:\"generic\",\"Google Search\":\"google_search\",Googlebot:\"googlebot\",\"Internet Explorer\":\"ie\",\"K-Meleon\":\"k_meleon\",Maxthon:\"maxthon\",\"Microsoft Edge\":\"edge\",\"MZ Browser\":\"mz\",\"NAVER Whale Browser\":\"naver\",Opera:\"opera\",\"Opera Coast\":\"opera_coast\",PhantomJS:\"phantomjs\",Puffin:\"puffin\",QupZilla:\"qupzilla\",QQ:\"qq\",QQLite:\"qqlite\",Safari:\"safari\",Sailfish:\"sailfish\",\"Samsung Internet for Android\":\"samsung_internet\",SeaMonkey:\"seamonkey\",Sleipnir:\"sleipnir\",Swing:\"swing\",Tizen:\"tizen\",\"UC Browser\":\"uc\",Vivaldi:\"vivaldi\",\"WebOS Browser\":\"webos\",WeChat:\"wechat\",\"Yandex Browser\":\"yandex\",Roku:\"roku\"};t.BROWSER_MAP={amazon_silk:\"Amazon Silk\",android:\"Android Browser\",bada:\"Bada\",blackberry:\"BlackBerry\",chrome:\"Chrome\",chromium:\"Chromium\",electron:\"Electron\",epiphany:\"Epiphany\",firefox:\"Firefox\",focus:\"Focus\",generic:\"Generic\",googlebot:\"Googlebot\",google_search:\"Google Search\",ie:\"Internet Explorer\",k_meleon:\"K-Meleon\",maxthon:\"Maxthon\",edge:\"Microsoft Edge\",mz:\"MZ Browser\",naver:\"NAVER Whale Browser\",opera:\"Opera\",opera_coast:\"Opera Coast\",phantomjs:\"PhantomJS\",puffin:\"Puffin\",qupzilla:\"QupZilla\",qq:\"QQ Browser\",qqlite:\"QQ Browser Lite\",safari:\"Safari\",sailfish:\"Sailfish\",samsung_internet:\"Samsung Internet for Android\",seamonkey:\"SeaMonkey\",sleipnir:\"Sleipnir\",swing:\"Swing\",tizen:\"Tizen\",uc:\"UC Browser\",vivaldi:\"Vivaldi\",webos:\"WebOS Browser\",wechat:\"WeChat\",yandex:\"Yandex Browser\"};t.PLATFORMS_MAP={tablet:\"tablet\",mobile:\"mobile\",desktop:\"desktop\",tv:\"tv\"};t.OS_MAP={WindowsPhone:\"Windows Phone\",Windows:\"Windows\",MacOS:\"macOS\",iOS:\"iOS\",Android:\"Android\",WebOS:\"WebOS\",BlackBerry:\"BlackBerry\",Bada:\"Bada\",Tizen:\"Tizen\",Linux:\"Linux\",ChromeOS:\"Chrome OS\",PlayStation4:\"PlayStation 4\",Roku:\"Roku\"};t.ENGINE_MAP={EdgeHTML:\"EdgeHTML\",Blink:\"Blink\",Trident:\"Trident\",Presto:\"Presto\",Gecko:\"Gecko\",WebKit:\"WebKit\"}},90:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(91))&&n.__esModule?n:{default:n},s=r(18);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(){}var t,r,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),\"string\"!=typeof e)throw new Error(\"UserAgent should be a string\");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,n=[{key:\"BROWSER_MAP\",get:function(){return s.BROWSER_MAP}},{key:\"ENGINE_MAP\",get:function(){return s.ENGINE_MAP}},{key:\"OS_MAP\",get:function(){return s.OS_MAP}},{key:\"PLATFORMS_MAP\",get:function(){return s.PLATFORMS_MAP}}],(r=null)&&a(t.prototype,r),n&&a(t,n),e}();t.default=o,e.exports=t.default},91:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n=u(r(92)),i=u(r(93)),s=u(r(94)),a=u(r(95)),o=u(r(17));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||\"\"===e)throw new Error(\"UserAgent parameter can't be empty\");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=o.default.find(n.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||\"\":this.getBrowser().name||\"\"},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=o.default.find(i.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||\"\":t||\"\"},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||\"\":t||\"\"},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=o.default.find(s.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||\"\":this.getEngine().name||\"\"},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=o.default.find(a.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return o.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},n=0,i={},s=0;if(Object.keys(e).forEach((function(t){var a=e[t];\"string\"==typeof a?(i[t]=a,s+=1):\"object\"==typeof a&&(r[t]=a,n+=1)})),n>0){var a=Object.keys(r),u=o.default.find(a,(function(e){return t.isOS(e)}));if(u){var d=this.satisfies(r[u]);if(void 0!==d)return d}var c=o.default.find(a,(function(e){return t.isPlatform(e)}));if(c){var f=this.satisfies(r[c]);if(void 0!==f)return f}}if(s>0){var l=Object.keys(i),h=o.default.find(l,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(i[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),i=o.default.getBrowserTypeByAlias(n);return t&&i&&(n=i.toLowerCase()),n===r},t.compareVersion=function(e){var t=[0],r=e,n=!1,i=this.getBrowserVersion();if(\"string\"==typeof i)return\">\"===e[0]||\"<\"===e[0]?(r=e.substr(1),\"=\"===e[1]?(n=!0,r=e.substr(2)):t=[],\">\"===e[0]?t.push(1):t.push(-1)):\"=\"===e[0]?r=e.substr(1):\"~\"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(o.default.compareVersions(i,r,n))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=d,e.exports=t.default},92:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n};var s=/version\\/(\\d+(\\.?_?\\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:\"Googlebot\"},r=i.default.getFirstMatch(/googlebot\\/(\\d+(\\.\\d+))/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:\"Opera\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:opera)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\\/|opios/i],describe:function(e){var t={name:\"Opera\"},r=i.default.getFirstMatch(/(?:opr|opios)[\\s/](\\S+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:\"Samsung Internet for Android\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:\"NAVER Whale Browser\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:whale)[\\s/](\\d+(?:\\.\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:\"MZ Browser\"},r=i.default.getFirstMatch(/(?:MZBrowser)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:\"Focus\"},r=i.default.getFirstMatch(/(?:focus)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:\"Swing\"},r=i.default.getFirstMatch(/(?:swing)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:\"Opera Coast\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:coast)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\\/\\d+(?:.?_?\\d+)+/i],describe:function(e){var t={name:\"Opera Touch\"},r=i.default.getFirstMatch(/(?:opt)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:\"Yandex Browser\"},r=i.default.getFirstMatch(/(?:yabrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:\"UC Browser\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:ucbrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:\"Maxthon\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:\"Epiphany\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:epiphany)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:\"Puffin\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:puffin)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:\"Sleipnir\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:sleipnir)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:\"K-Meleon\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:k-meleon)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:\"WeChat\"},r=i.default.getFirstMatch(/(?:micromessenger)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?\"QQ Browser Lite\":\"QQ Browser\"},r=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:\"Internet Explorer\"},r=i.default.getFirstMatch(/(?:msie |rv:)(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\\sedg\\//i],describe:function(e){var t={name:\"Microsoft Edge\"},r=i.default.getFirstMatch(/\\sedg\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:\"Microsoft Edge\"},r=i.default.getSecondMatch(/edg([ea]|ios)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:\"Vivaldi\"},r=i.default.getFirstMatch(/vivaldi\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:\"SeaMonkey\"},r=i.default.getFirstMatch(/seamonkey\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:\"Sailfish\"},r=i.default.getFirstMatch(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:\"Amazon Silk\"},r=i.default.getFirstMatch(/silk\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:\"PhantomJS\"},r=i.default.getFirstMatch(/phantomjs\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:\"SlimerJS\"},r=i.default.getFirstMatch(/slimerjs\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe:function(e){var t={name:\"BlackBerry\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/blackberry[\\d]+\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:\"WebOS Browser\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:\"Bada\"},r=i.default.getFirstMatch(/dolfin\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:\"Tizen\"},r=i.default.getFirstMatch(/(?:tizen\\s?)?browser\\/(\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:\"QupZilla\"},r=i.default.getFirstMatch(/(?:qupzilla)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:\"Firefox\"},r=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:\"Electron\"},r=i.default.getFirstMatch(/(?:electron)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:\"Miui\"},r=i.default.getFirstMatch(/(?:MiuiBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:\"Chromium\"},r=i.default.getFirstMatch(/(?:chromium)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:\"Chrome\"},r=i.default.getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:\"Google Search\"},r=i.default.getFirstMatch(/(?:GSA)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:\"Android Browser\"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:\"PlayStation 4\"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:\"Safari\"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search(\"\\\\(\")?/^(.*)\\/(.*)[ \\t]\\((.*)/:/^(.*)\\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var a=[{test:[/Roku\\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\\/DVP-(\\d+\\.\\d+)/i,e);return{name:s.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i,e);return{name:s.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \\d\\d?.\\d)?)/i,e),r=i.default.getWindowsVersionName(t);return{name:s.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\\//],describe:function(e){var t={name:s.OS_MAP.iOS},r=i.default.getSecondMatch(/(Version\\/)(\\d[\\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\\d+(\\.?_?\\d+)+)/i,e).replace(/[_\\s]/g,\".\"),r=i.default.getMacOSVersionName(t),n={name:s.OS_MAP.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\\d+([_\\s]\\d+)*) like mac os x/i,e).replace(/[_\\s]/g,\".\");return{name:s.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=i.default.getFirstMatch(/android[\\s/-](\\d+(\\.\\d+)*)/i,e),r=i.default.getAndroidVersionName(t),n={name:s.OS_MAP.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\\/(\\d+(\\.\\d+)*)/i,e),r={name:s.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\\d+\\/(\\d+([_\\s]\\d+)*)/i,e)||i.default.getFirstMatch(/\\bbb(\\d+)/i,e);return{name:s.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\\/(\\d+(\\.\\d+)*)/i,e);return{name:s.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\\s](\\d+(\\.\\d+)*)/i,e);return{name:s.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:s.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:s.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\\s](\\d+(\\.\\d+)*)/i,e);return{name:s.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var a=[{test:[/googlebot/i],describe:function(){return{type:\"bot\",vendor:\"Google\"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&\"Nova\",r={type:s.PLATFORMS_MAP.mobile,vendor:\"Huawei\"};return t&&(r.model=t),r}},{test:[/nexus\\s*(?:7|8|9|10).*/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Nexus\"}}},{test:[/ipad/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Apple\",model:\"iPad\"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\\//],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Apple\",model:\"iPad\"}}},{test:[/kftt build/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Amazon\",model:\"Kindle Fire HD 7\"}}},{test:[/silk/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Amazon\"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:s.PLATFORMS_MAP.mobile,vendor:\"Apple\",model:t}}},{test:[/nexus\\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:\"Nexus\"}}},{test:[/[^-]mobi/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return\"blackberry\"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:\"BlackBerry\"}}},{test:function(e){return\"bada\"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return\"windows phone\"===e.getBrowserName()},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:\"Microsoft\"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(\".\")[0]);return\"android\"===e.getOSName(!0)&&t>=3},describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){return\"android\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return\"macos\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop,vendor:\"Apple\"}}},{test:function(e){return\"windows\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return\"linux\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return\"playstation 4\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}},{test:function(e){return\"roku\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var a=[{test:function(e){return\"microsoft edge\"===e.getBrowserName(!0)},describe:function(e){if(/\\sedg\\//i.test(e))return{name:s.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\\/(\\d+(\\.?_?\\d+)+)/i,e);return{name:s.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:s.ENGINE_MAP.Trident},r=i.default.getFirstMatch(/trident\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:s.ENGINE_MAP.Presto},r=i.default.getFirstMatch(/presto\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:s.ENGINE_MAP.Gecko},r=i.default.getFirstMatch(/gecko\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\\/537\\.36/i],describe:function(){return{name:s.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:s.ENGINE_MAP.WebKit},r=i.default.getFirstMatch(/webkit\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}}];t.default=a,e.exports=t.default}})}));","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n  function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose, inner;\n    if (async) {\n      if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n      dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n      if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n      dispose = value[Symbol.dispose];\n      if (async) inner = dispose;\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n      }\n      catch (e) {\n          fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n};\n","export function isFunction(value) {\n    return typeof value === 'function';\n}\n//# sourceMappingURL=isFunction.js.map","export function createErrorClass(createImpl) {\n    var _super = function (instance) {\n        Error.call(instance);\n        instance.stack = new Error().stack;\n    };\n    var ctorFunc = createImpl(_super);\n    ctorFunc.prototype = Object.create(Error.prototype);\n    ctorFunc.prototype.constructor = ctorFunc;\n    return ctorFunc;\n}\n//# sourceMappingURL=createErrorClass.js.map","import { createErrorClass } from './createErrorClass';\nexport var UnsubscriptionError = createErrorClass(function (_super) {\n    return function UnsubscriptionErrorImpl(errors) {\n        _super(this);\n        this.message = errors\n            ? errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ')\n            : '';\n        this.name = 'UnsubscriptionError';\n        this.errors = errors;\n    };\n});\n//# sourceMappingURL=UnsubscriptionError.js.map","export function arrRemove(arr, item) {\n    if (arr) {\n        var index = arr.indexOf(item);\n        0 <= index && arr.splice(index, 1);\n    }\n}\n//# sourceMappingURL=arrRemove.js.map","import { __read, __spreadArray, __values } from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nimport { arrRemove } from './util/arrRemove';\nvar Subscription = (function () {\n    function Subscription(initialTeardown) {\n        this.initialTeardown = initialTeardown;\n        this.closed = false;\n        this._parentage = null;\n        this._finalizers = null;\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var e_1, _a, e_2, _b;\n        var errors;\n        if (!this.closed) {\n            this.closed = true;\n            var _parentage = this._parentage;\n            if (_parentage) {\n                this._parentage = null;\n                if (Array.isArray(_parentage)) {\n                    try {\n                        for (var _parentage_1 = __values(_parentage), _parentage_1_1 = _parentage_1.next(); !_parentage_1_1.done; _parentage_1_1 = _parentage_1.next()) {\n                            var parent_1 = _parentage_1_1.value;\n                            parent_1.remove(this);\n                        }\n                    }\n                    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                    finally {\n                        try {\n                            if (_parentage_1_1 && !_parentage_1_1.done && (_a = _parentage_1.return)) _a.call(_parentage_1);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                    }\n                }\n                else {\n                    _parentage.remove(this);\n                }\n            }\n            var initialFinalizer = this.initialTeardown;\n            if (isFunction(initialFinalizer)) {\n                try {\n                    initialFinalizer();\n                }\n                catch (e) {\n                    errors = e instanceof UnsubscriptionError ? e.errors : [e];\n                }\n            }\n            var _finalizers = this._finalizers;\n            if (_finalizers) {\n                this._finalizers = null;\n                try {\n                    for (var _finalizers_1 = __values(_finalizers), _finalizers_1_1 = _finalizers_1.next(); !_finalizers_1_1.done; _finalizers_1_1 = _finalizers_1.next()) {\n                        var finalizer = _finalizers_1_1.value;\n                        try {\n                            execFinalizer(finalizer);\n                        }\n                        catch (err) {\n                            errors = errors !== null && errors !== void 0 ? errors : [];\n                            if (err instanceof UnsubscriptionError) {\n                                errors = __spreadArray(__spreadArray([], __read(errors)), __read(err.errors));\n                            }\n                            else {\n                                errors.push(err);\n                            }\n                        }\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (_finalizers_1_1 && !_finalizers_1_1.done && (_b = _finalizers_1.return)) _b.call(_finalizers_1);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n            }\n            if (errors) {\n                throw new UnsubscriptionError(errors);\n            }\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var _a;\n        if (teardown && teardown !== this) {\n            if (this.closed) {\n                execFinalizer(teardown);\n            }\n            else {\n                if (teardown instanceof Subscription) {\n                    if (teardown.closed || teardown._hasParent(this)) {\n                        return;\n                    }\n                    teardown._addParent(this);\n                }\n                (this._finalizers = (_a = this._finalizers) !== null && _a !== void 0 ? _a : []).push(teardown);\n            }\n        }\n    };\n    Subscription.prototype._hasParent = function (parent) {\n        var _parentage = this._parentage;\n        return _parentage === parent || (Array.isArray(_parentage) && _parentage.includes(parent));\n    };\n    Subscription.prototype._addParent = function (parent) {\n        var _parentage = this._parentage;\n        this._parentage = Array.isArray(_parentage) ? (_parentage.push(parent), _parentage) : _parentage ? [_parentage, parent] : parent;\n    };\n    Subscription.prototype._removeParent = function (parent) {\n        var _parentage = this._parentage;\n        if (_parentage === parent) {\n            this._parentage = null;\n        }\n        else if (Array.isArray(_parentage)) {\n            arrRemove(_parentage, parent);\n        }\n    };\n    Subscription.prototype.remove = function (teardown) {\n        var _finalizers = this._finalizers;\n        _finalizers && arrRemove(_finalizers, teardown);\n        if (teardown instanceof Subscription) {\n            teardown._removeParent(this);\n        }\n    };\n    Subscription.EMPTY = (function () {\n        var empty = new Subscription();\n        empty.closed = true;\n        return empty;\n    })();\n    return Subscription;\n}());\nexport { Subscription };\nexport var EMPTY_SUBSCRIPTION = Subscription.EMPTY;\nexport function isSubscription(value) {\n    return (value instanceof Subscription ||\n        (value && 'closed' in value && isFunction(value.remove) && isFunction(value.add) && isFunction(value.unsubscribe)));\n}\nfunction execFinalizer(finalizer) {\n    if (isFunction(finalizer)) {\n        finalizer();\n    }\n    else {\n        finalizer.unsubscribe();\n    }\n}\n//# sourceMappingURL=Subscription.js.map","export var isArrayLike = (function (x) { return x && typeof x.length === 'number' && typeof x !== 'function'; });\n//# sourceMappingURL=isArrayLike.js.map","import { isFunction } from \"./isFunction\";\nexport function isPromise(value) {\n    return isFunction(value === null || value === void 0 ? void 0 : value.then);\n}\n//# sourceMappingURL=isPromise.js.map","export var config = {\n    onUnhandledError: null,\n    onStoppedNotification: null,\n    Promise: undefined,\n    useDeprecatedSynchronousErrorHandling: false,\n    useDeprecatedNextContext: false,\n};\n//# sourceMappingURL=config.js.map","import { __read, __spreadArray } from \"tslib\";\nexport var timeoutProvider = {\n    setTimeout: function (handler, timeout) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var delegate = timeoutProvider.delegate;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.setTimeout) {\n            return delegate.setTimeout.apply(delegate, __spreadArray([handler, timeout], __read(args)));\n        }\n        return setTimeout.apply(void 0, __spreadArray([handler, timeout], __read(args)));\n    },\n    clearTimeout: function (handle) {\n        var delegate = timeoutProvider.delegate;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearTimeout) || clearTimeout)(handle);\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=timeoutProvider.js.map","import { config } from '../config';\nimport { timeoutProvider } from '../scheduler/timeoutProvider';\nexport function reportUnhandledError(err) {\n    timeoutProvider.setTimeout(function () {\n        var onUnhandledError = config.onUnhandledError;\n        if (onUnhandledError) {\n            onUnhandledError(err);\n        }\n        else {\n            throw err;\n        }\n    });\n}\n//# sourceMappingURL=reportUnhandledError.js.map","export function noop() { }\n//# sourceMappingURL=noop.js.map","export var COMPLETE_NOTIFICATION = (function () { return createNotification('C', undefined, undefined); })();\nexport function errorNotification(error) {\n    return createNotification('E', undefined, error);\n}\nexport function nextNotification(value) {\n    return createNotification('N', value, undefined);\n}\nexport function createNotification(kind, value, error) {\n    return {\n        kind: kind,\n        value: value,\n        error: error,\n    };\n}\n//# sourceMappingURL=NotificationFactories.js.map","import { config } from '../config';\nvar context = null;\nexport function errorContext(cb) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        var isRoot = !context;\n        if (isRoot) {\n            context = { errorThrown: false, error: null };\n        }\n        cb();\n        if (isRoot) {\n            var _a = context, errorThrown = _a.errorThrown, error = _a.error;\n            context = null;\n            if (errorThrown) {\n                throw error;\n            }\n        }\n    }\n    else {\n        cb();\n    }\n}\nexport function captureError(err) {\n    if (config.useDeprecatedSynchronousErrorHandling && context) {\n        context.errorThrown = true;\n        context.error = err;\n    }\n}\n//# sourceMappingURL=errorContext.js.map","import { __extends } from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { isSubscription, Subscription } from './Subscription';\nimport { config } from './config';\nimport { reportUnhandledError } from './util/reportUnhandledError';\nimport { noop } from './util/noop';\nimport { nextNotification, errorNotification, COMPLETE_NOTIFICATION } from './NotificationFactories';\nimport { timeoutProvider } from './scheduler/timeoutProvider';\nimport { captureError } from './util/errorContext';\nvar Subscriber = (function (_super) {\n    __extends(Subscriber, _super);\n    function Subscriber(destination) {\n        var _this = _super.call(this) || this;\n        _this.isStopped = false;\n        if (destination) {\n            _this.destination = destination;\n            if (isSubscription(destination)) {\n                destination.add(_this);\n            }\n        }\n        else {\n            _this.destination = EMPTY_OBSERVER;\n        }\n        return _this;\n    }\n    Subscriber.create = function (next, error, complete) {\n        return new SafeSubscriber(next, error, complete);\n    };\n    Subscriber.prototype.next = function (value) {\n        if (this.isStopped) {\n            handleStoppedNotification(nextNotification(value), this);\n        }\n        else {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (this.isStopped) {\n            handleStoppedNotification(errorNotification(err), this);\n        }\n        else {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (this.isStopped) {\n            handleStoppedNotification(COMPLETE_NOTIFICATION, this);\n        }\n        else {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (!this.closed) {\n            this.isStopped = true;\n            _super.prototype.unsubscribe.call(this);\n            this.destination = null;\n        }\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        try {\n            this.destination.error(err);\n        }\n        finally {\n            this.unsubscribe();\n        }\n    };\n    Subscriber.prototype._complete = function () {\n        try {\n            this.destination.complete();\n        }\n        finally {\n            this.unsubscribe();\n        }\n    };\n    return Subscriber;\n}(Subscription));\nexport { Subscriber };\nvar _bind = Function.prototype.bind;\nfunction bind(fn, thisArg) {\n    return _bind.call(fn, thisArg);\n}\nvar ConsumerObserver = (function () {\n    function ConsumerObserver(partialObserver) {\n        this.partialObserver = partialObserver;\n    }\n    ConsumerObserver.prototype.next = function (value) {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.next) {\n            try {\n                partialObserver.next(value);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    };\n    ConsumerObserver.prototype.error = function (err) {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.error) {\n            try {\n                partialObserver.error(err);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n        else {\n            handleUnhandledError(err);\n        }\n    };\n    ConsumerObserver.prototype.complete = function () {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.complete) {\n            try {\n                partialObserver.complete();\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    };\n    return ConsumerObserver;\n}());\nvar SafeSubscriber = (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        var partialObserver;\n        if (isFunction(observerOrNext) || !observerOrNext) {\n            partialObserver = {\n                next: (observerOrNext !== null && observerOrNext !== void 0 ? observerOrNext : undefined),\n                error: error !== null && error !== void 0 ? error : undefined,\n                complete: complete !== null && complete !== void 0 ? complete : undefined,\n            };\n        }\n        else {\n            var context_1;\n            if (_this && config.useDeprecatedNextContext) {\n                context_1 = Object.create(observerOrNext);\n                context_1.unsubscribe = function () { return _this.unsubscribe(); };\n                partialObserver = {\n                    next: observerOrNext.next && bind(observerOrNext.next, context_1),\n                    error: observerOrNext.error && bind(observerOrNext.error, context_1),\n                    complete: observerOrNext.complete && bind(observerOrNext.complete, context_1),\n                };\n            }\n            else {\n                partialObserver = observerOrNext;\n            }\n        }\n        _this.destination = new ConsumerObserver(partialObserver);\n        return _this;\n    }\n    return SafeSubscriber;\n}(Subscriber));\nexport { SafeSubscriber };\nfunction handleUnhandledError(error) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        captureError(error);\n    }\n    else {\n        reportUnhandledError(error);\n    }\n}\nfunction defaultErrorHandler(err) {\n    throw err;\n}\nfunction handleStoppedNotification(notification, subscriber) {\n    var onStoppedNotification = config.onStoppedNotification;\n    onStoppedNotification && timeoutProvider.setTimeout(function () { return onStoppedNotification(notification, subscriber); });\n}\nexport var EMPTY_OBSERVER = {\n    closed: true,\n    next: noop,\n    error: defaultErrorHandler,\n    complete: noop,\n};\n//# sourceMappingURL=Subscriber.js.map","export var observable = (function () { return (typeof Symbol === 'function' && Symbol.observable) || '@@observable'; })();\n//# sourceMappingURL=observable.js.map","export function identity(x) {\n    return x;\n}\n//# sourceMappingURL=identity.js.map","import { SafeSubscriber, Subscriber } from './Subscriber';\nimport { isSubscription } from './Subscription';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\nimport { isFunction } from './util/isFunction';\nimport { errorContext } from './util/errorContext';\nvar Observable = (function () {\n    function Observable(subscribe) {\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var _this = this;\n        var subscriber = isSubscriber(observerOrNext) ? observerOrNext : new SafeSubscriber(observerOrNext, error, complete);\n        errorContext(function () {\n            var _a = _this, operator = _a.operator, source = _a.source;\n            subscriber.add(operator\n                ?\n                    operator.call(subscriber, source)\n                : source\n                    ?\n                        _this._subscribe(subscriber)\n                    :\n                        _this._trySubscribe(subscriber));\n        });\n        return subscriber;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            sink.error(err);\n        }\n    };\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var subscriber = new SafeSubscriber({\n                next: function (value) {\n                    try {\n                        next(value);\n                    }\n                    catch (err) {\n                        reject(err);\n                        subscriber.unsubscribe();\n                    }\n                },\n                error: reject,\n                complete: resolve,\n            });\n            _this.subscribe(subscriber);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        var _a;\n        return (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber);\n    };\n    Observable.prototype[Symbol_observable] = function () {\n        return this;\n    };\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        return pipeFromArray(operations)(this);\n    };\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return (value = x); }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexport { Observable };\nfunction getPromiseCtor(promiseCtor) {\n    var _a;\n    return (_a = promiseCtor !== null && promiseCtor !== void 0 ? promiseCtor : config.Promise) !== null && _a !== void 0 ? _a : Promise;\n}\nfunction isObserver(value) {\n    return value && isFunction(value.next) && isFunction(value.error) && isFunction(value.complete);\n}\nfunction isSubscriber(value) {\n    return (value && value instanceof Subscriber) || (isObserver(value) && isSubscription(value));\n}\n//# sourceMappingURL=Observable.js.map","import { identity } from './identity';\nexport function pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexport function pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\n//# sourceMappingURL=pipe.js.map","import { observable as Symbol_observable } from '../symbol/observable';\nimport { isFunction } from './isFunction';\nexport function isInteropObservable(input) {\n    return isFunction(input[Symbol_observable]);\n}\n//# sourceMappingURL=isInteropObservable.js.map","import { isFunction } from './isFunction';\nexport function isAsyncIterable(obj) {\n    return Symbol.asyncIterator && isFunction(obj === null || obj === void 0 ? void 0 : obj[Symbol.asyncIterator]);\n}\n//# sourceMappingURL=isAsyncIterable.js.map","export function createInvalidObservableTypeError(input) {\n    return new TypeError(\"You provided \" + (input !== null && typeof input === 'object' ? 'an invalid object' : \"'\" + input + \"'\") + \" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.\");\n}\n//# sourceMappingURL=throwUnobservableError.js.map","export function getSymbolIterator() {\n    if (typeof Symbol !== 'function' || !Symbol.iterator) {\n        return '@@iterator';\n    }\n    return Symbol.iterator;\n}\nexport var iterator = getSymbolIterator();\n//# sourceMappingURL=iterator.js.map","import { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { isFunction } from './isFunction';\nexport function isIterable(input) {\n    return isFunction(input === null || input === void 0 ? void 0 : input[Symbol_iterator]);\n}\n//# sourceMappingURL=isIterable.js.map","import { __asyncGenerator, __await, __generator } from \"tslib\";\nimport { isFunction } from './isFunction';\nexport function readableStreamLikeToAsyncGenerator(readableStream) {\n    return __asyncGenerator(this, arguments, function readableStreamLikeToAsyncGenerator_1() {\n        var reader, _a, value, done;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    reader = readableStream.getReader();\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, , 9, 10]);\n                    _b.label = 2;\n                case 2:\n                    if (!true) return [3, 8];\n                    return [4, __await(reader.read())];\n                case 3:\n                    _a = _b.sent(), value = _a.value, done = _a.done;\n                    if (!done) return [3, 5];\n                    return [4, __await(void 0)];\n                case 4: return [2, _b.sent()];\n                case 5: return [4, __await(value)];\n                case 6: return [4, _b.sent()];\n                case 7:\n                    _b.sent();\n                    return [3, 2];\n                case 8: return [3, 10];\n                case 9:\n                    reader.releaseLock();\n                    return [7];\n                case 10: return [2];\n            }\n        });\n    });\n}\nexport function isReadableStreamLike(obj) {\n    return isFunction(obj === null || obj === void 0 ? void 0 : obj.getReader);\n}\n//# sourceMappingURL=isReadableStreamLike.js.map","import { __asyncValues, __awaiter, __generator, __values } from \"tslib\";\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isPromise } from '../util/isPromise';\nimport { Observable } from '../Observable';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isAsyncIterable } from '../util/isAsyncIterable';\nimport { createInvalidObservableTypeError } from '../util/throwUnobservableError';\nimport { isIterable } from '../util/isIterable';\nimport { isReadableStreamLike, readableStreamLikeToAsyncGenerator } from '../util/isReadableStreamLike';\nimport { isFunction } from '../util/isFunction';\nimport { reportUnhandledError } from '../util/reportUnhandledError';\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport function innerFrom(input) {\n    if (input instanceof Observable) {\n        return input;\n    }\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return fromInteropObservable(input);\n        }\n        if (isArrayLike(input)) {\n            return fromArrayLike(input);\n        }\n        if (isPromise(input)) {\n            return fromPromise(input);\n        }\n        if (isAsyncIterable(input)) {\n            return fromAsyncIterable(input);\n        }\n        if (isIterable(input)) {\n            return fromIterable(input);\n        }\n        if (isReadableStreamLike(input)) {\n            return fromReadableStreamLike(input);\n        }\n    }\n    throw createInvalidObservableTypeError(input);\n}\nexport function fromInteropObservable(obj) {\n    return new Observable(function (subscriber) {\n        var obs = obj[Symbol_observable]();\n        if (isFunction(obs.subscribe)) {\n            return obs.subscribe(subscriber);\n        }\n        throw new TypeError('Provided object does not correctly implement Symbol.observable');\n    });\n}\nexport function fromArrayLike(array) {\n    return new Observable(function (subscriber) {\n        for (var i = 0; i < array.length && !subscriber.closed; i++) {\n            subscriber.next(array[i]);\n        }\n        subscriber.complete();\n    });\n}\nexport function fromPromise(promise) {\n    return new Observable(function (subscriber) {\n        promise\n            .then(function (value) {\n            if (!subscriber.closed) {\n                subscriber.next(value);\n                subscriber.complete();\n            }\n        }, function (err) { return subscriber.error(err); })\n            .then(null, reportUnhandledError);\n    });\n}\nexport function fromIterable(iterable) {\n    return new Observable(function (subscriber) {\n        var e_1, _a;\n        try {\n            for (var iterable_1 = __values(iterable), iterable_1_1 = iterable_1.next(); !iterable_1_1.done; iterable_1_1 = iterable_1.next()) {\n                var value = iterable_1_1.value;\n                subscriber.next(value);\n                if (subscriber.closed) {\n                    return;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (iterable_1_1 && !iterable_1_1.done && (_a = iterable_1.return)) _a.call(iterable_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        subscriber.complete();\n    });\n}\nexport function fromAsyncIterable(asyncIterable) {\n    return new Observable(function (subscriber) {\n        process(asyncIterable, subscriber).catch(function (err) { return subscriber.error(err); });\n    });\n}\nexport function fromReadableStreamLike(readableStream) {\n    return fromAsyncIterable(readableStreamLikeToAsyncGenerator(readableStream));\n}\nfunction process(asyncIterable, subscriber) {\n    var asyncIterable_1, asyncIterable_1_1;\n    var e_2, _a;\n    return __awaiter(this, void 0, void 0, function () {\n        var value, e_2_1;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _b.trys.push([0, 5, 6, 11]);\n                    asyncIterable_1 = __asyncValues(asyncIterable);\n                    _b.label = 1;\n                case 1: return [4, asyncIterable_1.next()];\n                case 2:\n                    if (!(asyncIterable_1_1 = _b.sent(), !asyncIterable_1_1.done)) return [3, 4];\n                    value = asyncIterable_1_1.value;\n                    subscriber.next(value);\n                    if (subscriber.closed) {\n                        return [2];\n                    }\n                    _b.label = 3;\n                case 3: return [3, 1];\n                case 4: return [3, 11];\n                case 5:\n                    e_2_1 = _b.sent();\n                    e_2 = { error: e_2_1 };\n                    return [3, 11];\n                case 6:\n                    _b.trys.push([6, , 9, 10]);\n                    if (!(asyncIterable_1_1 && !asyncIterable_1_1.done && (_a = asyncIterable_1.return))) return [3, 8];\n                    return [4, _a.call(asyncIterable_1)];\n                case 7:\n                    _b.sent();\n                    _b.label = 8;\n                case 8: return [3, 10];\n                case 9:\n                    if (e_2) throw e_2.error;\n                    return [7];\n                case 10: return [7];\n                case 11:\n                    subscriber.complete();\n                    return [2];\n            }\n        });\n    });\n}\n//# sourceMappingURL=innerFrom.js.map","import { isFunction } from './isFunction';\nexport function hasLift(source) {\n    return isFunction(source === null || source === void 0 ? void 0 : source.lift);\n}\nexport function operate(init) {\n    return function (source) {\n        if (hasLift(source)) {\n            return source.lift(function (liftedSource) {\n                try {\n                    return init(liftedSource, this);\n                }\n                catch (err) {\n                    this.error(err);\n                }\n            });\n        }\n        throw new TypeError('Unable to lift unknown Observable type');\n    };\n}\n//# sourceMappingURL=lift.js.map","import { __extends } from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function createOperatorSubscriber(destination, onNext, onComplete, onError, onFinalize) {\n    return new OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize);\n}\nvar OperatorSubscriber = (function (_super) {\n    __extends(OperatorSubscriber, _super);\n    function OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize, shouldUnsubscribe) {\n        var _this = _super.call(this, destination) || this;\n        _this.onFinalize = onFinalize;\n        _this.shouldUnsubscribe = shouldUnsubscribe;\n        _this._next = onNext\n            ? function (value) {\n                try {\n                    onNext(value);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n            }\n            : _super.prototype._next;\n        _this._error = onError\n            ? function (err) {\n                try {\n                    onError(err);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : _super.prototype._error;\n        _this._complete = onComplete\n            ? function () {\n                try {\n                    onComplete();\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : _super.prototype._complete;\n        return _this;\n    }\n    OperatorSubscriber.prototype.unsubscribe = function () {\n        var _a;\n        if (!this.shouldUnsubscribe || this.shouldUnsubscribe()) {\n            var closed_1 = this.closed;\n            _super.prototype.unsubscribe.call(this);\n            !closed_1 && ((_a = this.onFinalize) === null || _a === void 0 ? void 0 : _a.call(this));\n        }\n    };\n    return OperatorSubscriber;\n}(Subscriber));\nexport { OperatorSubscriber };\n//# sourceMappingURL=OperatorSubscriber.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function map(project, thisArg) {\n    return operate(function (source, subscriber) {\n        var index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            subscriber.next(project.call(thisArg, value, index++));\n        }));\n    });\n}\n//# sourceMappingURL=map.js.map","export function executeSchedule(parentSubscription, scheduler, work, delay, repeat) {\n    if (delay === void 0) { delay = 0; }\n    if (repeat === void 0) { repeat = false; }\n    var scheduleSubscription = scheduler.schedule(function () {\n        work();\n        if (repeat) {\n            parentSubscription.add(this.schedule(null, delay));\n        }\n        else {\n            this.unsubscribe();\n        }\n    }, delay);\n    parentSubscription.add(scheduleSubscription);\n    if (!repeat) {\n        return scheduleSubscription;\n    }\n}\n//# sourceMappingURL=executeSchedule.js.map","import { map } from './map';\nimport { innerFrom } from '../observable/innerFrom';\nimport { operate } from '../util/lift';\nimport { mergeInternals } from './mergeInternals';\nimport { isFunction } from '../util/isFunction';\nexport function mergeMap(project, resultSelector, concurrent) {\n    if (concurrent === void 0) { concurrent = Infinity; }\n    if (isFunction(resultSelector)) {\n        return mergeMap(function (a, i) { return map(function (b, ii) { return resultSelector(a, b, i, ii); })(innerFrom(project(a, i))); }, concurrent);\n    }\n    else if (typeof resultSelector === 'number') {\n        concurrent = resultSelector;\n    }\n    return operate(function (source, subscriber) { return mergeInternals(source, subscriber, project, concurrent); });\n}\n//# sourceMappingURL=mergeMap.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { executeSchedule } from '../util/executeSchedule';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function mergeInternals(source, subscriber, project, concurrent, onBeforeNext, expand, innerSubScheduler, additionalFinalizer) {\n    var buffer = [];\n    var active = 0;\n    var index = 0;\n    var isComplete = false;\n    var checkComplete = function () {\n        if (isComplete && !buffer.length && !active) {\n            subscriber.complete();\n        }\n    };\n    var outerNext = function (value) { return (active < concurrent ? doInnerSub(value) : buffer.push(value)); };\n    var doInnerSub = function (value) {\n        expand && subscriber.next(value);\n        active++;\n        var innerComplete = false;\n        innerFrom(project(value, index++)).subscribe(createOperatorSubscriber(subscriber, function (innerValue) {\n            onBeforeNext === null || onBeforeNext === void 0 ? void 0 : onBeforeNext(innerValue);\n            if (expand) {\n                outerNext(innerValue);\n            }\n            else {\n                subscriber.next(innerValue);\n            }\n        }, function () {\n            innerComplete = true;\n        }, undefined, function () {\n            if (innerComplete) {\n                try {\n                    active--;\n                    var _loop_1 = function () {\n                        var bufferedValue = buffer.shift();\n                        if (innerSubScheduler) {\n                            executeSchedule(subscriber, innerSubScheduler, function () { return doInnerSub(bufferedValue); });\n                        }\n                        else {\n                            doInnerSub(bufferedValue);\n                        }\n                    };\n                    while (buffer.length && active < concurrent) {\n                        _loop_1();\n                    }\n                    checkComplete();\n                }\n                catch (err) {\n                    subscriber.error(err);\n                }\n            }\n        }));\n    };\n    source.subscribe(createOperatorSubscriber(subscriber, outerNext, function () {\n        isComplete = true;\n        checkComplete();\n    }));\n    return function () {\n        additionalFinalizer === null || additionalFinalizer === void 0 ? void 0 : additionalFinalizer();\n    };\n}\n//# sourceMappingURL=mergeInternals.js.map","import { __read, __spreadArray } from \"tslib\";\nimport { map } from \"../operators/map\";\nvar isArray = Array.isArray;\nfunction callOrApply(fn, args) {\n    return isArray(args) ? fn.apply(void 0, __spreadArray([], __read(args))) : fn(args);\n}\nexport function mapOneOrManyArgs(fn) {\n    return map(function (args) { return callOrApply(fn, args); });\n}\n//# sourceMappingURL=mapOneOrManyArgs.js.map","import { __read } from \"tslib\";\nimport { innerFrom } from '../observable/innerFrom';\nimport { Observable } from '../Observable';\nimport { mergeMap } from '../operators/mergeMap';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isFunction } from '../util/isFunction';\nimport { mapOneOrManyArgs } from '../util/mapOneOrManyArgs';\nvar nodeEventEmitterMethods = ['addListener', 'removeListener'];\nvar eventTargetMethods = ['addEventListener', 'removeEventListener'];\nvar jqueryMethods = ['on', 'off'];\nexport function fromEvent(target, eventName, options, resultSelector) {\n    if (isFunction(options)) {\n        resultSelector = options;\n        options = undefined;\n    }\n    if (resultSelector) {\n        return fromEvent(target, eventName, options).pipe(mapOneOrManyArgs(resultSelector));\n    }\n    var _a = __read(isEventTarget(target)\n        ? eventTargetMethods.map(function (methodName) { return function (handler) { return target[methodName](eventName, handler, options); }; })\n        :\n            isNodeStyleEventEmitter(target)\n                ? nodeEventEmitterMethods.map(toCommonHandlerRegistry(target, eventName))\n                : isJQueryStyleEventEmitter(target)\n                    ? jqueryMethods.map(toCommonHandlerRegistry(target, eventName))\n                    : [], 2), add = _a[0], remove = _a[1];\n    if (!add) {\n        if (isArrayLike(target)) {\n            return mergeMap(function (subTarget) { return fromEvent(subTarget, eventName, options); })(innerFrom(target));\n        }\n    }\n    if (!add) {\n        throw new TypeError('Invalid event target');\n    }\n    return new Observable(function (subscriber) {\n        var handler = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return subscriber.next(1 < args.length ? args : args[0]);\n        };\n        add(handler);\n        return function () { return remove(handler); };\n    });\n}\nfunction toCommonHandlerRegistry(target, eventName) {\n    return function (methodName) { return function (handler) { return target[methodName](eventName, handler); }; };\n}\nfunction isNodeStyleEventEmitter(target) {\n    return isFunction(target.addListener) && isFunction(target.removeListener);\n}\nfunction isJQueryStyleEventEmitter(target) {\n    return isFunction(target.on) && isFunction(target.off);\n}\nfunction isEventTarget(target) {\n    return isFunction(target.addEventListener) && isFunction(target.removeEventListener);\n}\n//# sourceMappingURL=fromEvent.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function filter(predicate, thisArg) {\n    return operate(function (source, subscriber) {\n        var index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) { return predicate.call(thisArg, value, index++) && subscriber.next(value); }));\n    });\n}\n//# sourceMappingURL=filter.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function switchMap(project, resultSelector) {\n    return operate(function (source, subscriber) {\n        var innerSubscriber = null;\n        var index = 0;\n        var isComplete = false;\n        var checkComplete = function () { return isComplete && !innerSubscriber && subscriber.complete(); };\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            innerSubscriber === null || innerSubscriber === void 0 ? void 0 : innerSubscriber.unsubscribe();\n            var innerIndex = 0;\n            var outerIndex = index++;\n            innerFrom(project(value, outerIndex)).subscribe((innerSubscriber = createOperatorSubscriber(subscriber, function (innerValue) { return subscriber.next(resultSelector ? resultSelector(value, innerValue, outerIndex, innerIndex++) : innerValue); }, function () {\n                innerSubscriber = null;\n                checkComplete();\n            })));\n        }, function () {\n            isComplete = true;\n            checkComplete();\n        }));\n    });\n}\n//# sourceMappingURL=switchMap.js.map","import { isFunction } from '../util/isFunction';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nimport { identity } from '../util/identity';\nexport function tap(observerOrNext, error, complete) {\n    var tapObserver = isFunction(observerOrNext) || error || complete\n        ?\n            { next: observerOrNext, error: error, complete: complete }\n        : observerOrNext;\n    return tapObserver\n        ? operate(function (source, subscriber) {\n            var _a;\n            (_a = tapObserver.subscribe) === null || _a === void 0 ? void 0 : _a.call(tapObserver);\n            var isUnsub = true;\n            source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n                var _a;\n                (_a = tapObserver.next) === null || _a === void 0 ? void 0 : _a.call(tapObserver, value);\n                subscriber.next(value);\n            }, function () {\n                var _a;\n                isUnsub = false;\n                (_a = tapObserver.complete) === null || _a === void 0 ? void 0 : _a.call(tapObserver);\n                subscriber.complete();\n            }, function (err) {\n                var _a;\n                isUnsub = false;\n                (_a = tapObserver.error) === null || _a === void 0 ? void 0 : _a.call(tapObserver, err);\n                subscriber.error(err);\n            }, function () {\n                var _a, _b;\n                if (isUnsub) {\n                    (_a = tapObserver.unsubscribe) === null || _a === void 0 ? void 0 : _a.call(tapObserver);\n                }\n                (_b = tapObserver.finalize) === null || _b === void 0 ? void 0 : _b.call(tapObserver);\n            }));\n        })\n        :\n            identity;\n}\n//# sourceMappingURL=tap.js.map","import { Observable } from '../Observable';\nexport var EMPTY = new Observable(function (subscriber) { return subscriber.complete(); });\nexport function empty(scheduler) {\n    return scheduler ? emptyScheduled(scheduler) : EMPTY;\n}\nfunction emptyScheduled(scheduler) {\n    return new Observable(function (subscriber) { return scheduler.schedule(function () { return subscriber.complete(); }); });\n}\n//# sourceMappingURL=empty.js.map","import { isFunction } from './isFunction';\nexport function isScheduler(value) {\n    return value && isFunction(value.schedule);\n}\n//# sourceMappingURL=isScheduler.js.map","import { isFunction } from './isFunction';\nimport { isScheduler } from './isScheduler';\nfunction last(arr) {\n    return arr[arr.length - 1];\n}\nexport function popResultSelector(args) {\n    return isFunction(last(args)) ? args.pop() : undefined;\n}\nexport function popScheduler(args) {\n    return isScheduler(last(args)) ? args.pop() : undefined;\n}\nexport function popNumber(args, defaultValue) {\n    return typeof last(args) === 'number' ? args.pop() : defaultValue;\n}\n//# sourceMappingURL=args.js.map","import { executeSchedule } from '../util/executeSchedule';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function observeOn(scheduler, delay) {\n    if (delay === void 0) { delay = 0; }\n    return operate(function (source, subscriber) {\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) { return executeSchedule(subscriber, scheduler, function () { return subscriber.next(value); }, delay); }, function () { return executeSchedule(subscriber, scheduler, function () { return subscriber.complete(); }, delay); }, function (err) { return executeSchedule(subscriber, scheduler, function () { return subscriber.error(err); }, delay); }));\n    });\n}\n//# sourceMappingURL=observeOn.js.map","import { operate } from '../util/lift';\nexport function subscribeOn(scheduler, delay) {\n    if (delay === void 0) { delay = 0; }\n    return operate(function (source, subscriber) {\n        subscriber.add(scheduler.schedule(function () { return source.subscribe(subscriber); }, delay));\n    });\n}\n//# sourceMappingURL=subscribeOn.js.map","import { Observable } from '../Observable';\nimport { executeSchedule } from '../util/executeSchedule';\nexport function scheduleAsyncIterable(input, scheduler) {\n    if (!input) {\n        throw new Error('Iterable cannot be null');\n    }\n    return new Observable(function (subscriber) {\n        executeSchedule(subscriber, scheduler, function () {\n            var iterator = input[Symbol.asyncIterator]();\n            executeSchedule(subscriber, scheduler, function () {\n                iterator.next().then(function (result) {\n                    if (result.done) {\n                        subscriber.complete();\n                    }\n                    else {\n                        subscriber.next(result.value);\n                    }\n                });\n            }, 0, true);\n        });\n    });\n}\n//# sourceMappingURL=scheduleAsyncIterable.js.map","import { scheduled } from '../scheduled/scheduled';\nimport { innerFrom } from './innerFrom';\nexport function from(input, scheduler) {\n    return scheduler ? scheduled(input, scheduler) : innerFrom(input);\n}\n//# sourceMappingURL=from.js.map","import { scheduleObservable } from './scheduleObservable';\nimport { schedulePromise } from './schedulePromise';\nimport { scheduleArray } from './scheduleArray';\nimport { scheduleIterable } from './scheduleIterable';\nimport { scheduleAsyncIterable } from './scheduleAsyncIterable';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isPromise } from '../util/isPromise';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isIterable } from '../util/isIterable';\nimport { isAsyncIterable } from '../util/isAsyncIterable';\nimport { createInvalidObservableTypeError } from '../util/throwUnobservableError';\nimport { isReadableStreamLike } from '../util/isReadableStreamLike';\nimport { scheduleReadableStreamLike } from './scheduleReadableStreamLike';\nexport function scheduled(input, scheduler) {\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return scheduleObservable(input, scheduler);\n        }\n        if (isArrayLike(input)) {\n            return scheduleArray(input, scheduler);\n        }\n        if (isPromise(input)) {\n            return schedulePromise(input, scheduler);\n        }\n        if (isAsyncIterable(input)) {\n            return scheduleAsyncIterable(input, scheduler);\n        }\n        if (isIterable(input)) {\n            return scheduleIterable(input, scheduler);\n        }\n        if (isReadableStreamLike(input)) {\n            return scheduleReadableStreamLike(input, scheduler);\n        }\n    }\n    throw createInvalidObservableTypeError(input);\n}\n//# sourceMappingURL=scheduled.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { observeOn } from '../operators/observeOn';\nimport { subscribeOn } from '../operators/subscribeOn';\nexport function scheduleObservable(input, scheduler) {\n    return innerFrom(input).pipe(subscribeOn(scheduler), observeOn(scheduler));\n}\n//# sourceMappingURL=scheduleObservable.js.map","import { Observable } from '../Observable';\nexport function scheduleArray(input, scheduler) {\n    return new Observable(function (subscriber) {\n        var i = 0;\n        return scheduler.schedule(function () {\n            if (i === input.length) {\n                subscriber.complete();\n            }\n            else {\n                subscriber.next(input[i++]);\n                if (!subscriber.closed) {\n                    this.schedule();\n                }\n            }\n        });\n    });\n}\n//# sourceMappingURL=scheduleArray.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { observeOn } from '../operators/observeOn';\nimport { subscribeOn } from '../operators/subscribeOn';\nexport function schedulePromise(input, scheduler) {\n    return innerFrom(input).pipe(subscribeOn(scheduler), observeOn(scheduler));\n}\n//# sourceMappingURL=schedulePromise.js.map","import { Observable } from '../Observable';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { isFunction } from '../util/isFunction';\nimport { executeSchedule } from '../util/executeSchedule';\nexport function scheduleIterable(input, scheduler) {\n    return new Observable(function (subscriber) {\n        var iterator;\n        executeSchedule(subscriber, scheduler, function () {\n            iterator = input[Symbol_iterator]();\n            executeSchedule(subscriber, scheduler, function () {\n                var _a;\n                var value;\n                var done;\n                try {\n                    (_a = iterator.next(), value = _a.value, done = _a.done);\n                }\n                catch (err) {\n                    subscriber.error(err);\n                    return;\n                }\n                if (done) {\n                    subscriber.complete();\n                }\n                else {\n                    subscriber.next(value);\n                }\n            }, 0, true);\n        });\n        return function () { return isFunction(iterator === null || iterator === void 0 ? void 0 : iterator.return) && iterator.return(); };\n    });\n}\n//# sourceMappingURL=scheduleIterable.js.map","import { scheduleAsyncIterable } from './scheduleAsyncIterable';\nimport { readableStreamLikeToAsyncGenerator } from '../util/isReadableStreamLike';\nexport function scheduleReadableStreamLike(input, scheduler) {\n    return scheduleAsyncIterable(readableStreamLikeToAsyncGenerator(input), scheduler);\n}\n//# sourceMappingURL=scheduleReadableStreamLike.js.map","import { mergeAll } from '../operators/mergeAll';\nimport { innerFrom } from './innerFrom';\nimport { EMPTY } from './empty';\nimport { popNumber, popScheduler } from '../util/args';\nimport { from } from './from';\nexport function merge() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var scheduler = popScheduler(args);\n    var concurrent = popNumber(args, Infinity);\n    var sources = args;\n    return !sources.length\n        ?\n            EMPTY\n        : sources.length === 1\n            ?\n                innerFrom(sources[0])\n            :\n                mergeAll(concurrent)(from(sources, scheduler));\n}\n//# sourceMappingURL=merge.js.map","import { mergeMap } from './mergeMap';\nimport { identity } from '../util/identity';\nexport function mergeAll(concurrent) {\n    if (concurrent === void 0) { concurrent = Infinity; }\n    return mergeMap(identity, concurrent);\n}\n//# sourceMappingURL=mergeAll.js.map","import { createErrorClass } from './createErrorClass';\nexport var EmptyError = createErrorClass(function (_super) { return function EmptyErrorImpl() {\n    _super(this);\n    this.name = 'EmptyError';\n    this.message = 'no elements in sequence';\n}; });\n//# sourceMappingURL=EmptyError.js.map","import { EmptyError } from '../util/EmptyError';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function throwIfEmpty(errorFactory) {\n    if (errorFactory === void 0) { errorFactory = defaultErrorFactory; }\n    return operate(function (source, subscriber) {\n        var hasValue = false;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            hasValue = true;\n            subscriber.next(value);\n        }, function () { return (hasValue ? subscriber.complete() : subscriber.error(errorFactory())); }));\n    });\n}\nfunction defaultErrorFactory() {\n    return new EmptyError();\n}\n//# sourceMappingURL=throwIfEmpty.js.map","import { EmptyError } from '../util/EmptyError';\nimport { filter } from './filter';\nimport { take } from './take';\nimport { defaultIfEmpty } from './defaultIfEmpty';\nimport { throwIfEmpty } from './throwIfEmpty';\nimport { identity } from '../util/identity';\nexport function first(predicate, defaultValue) {\n    var hasDefaultValue = arguments.length >= 2;\n    return function (source) {\n        return source.pipe(predicate ? filter(function (v, i) { return predicate(v, i, source); }) : identity, take(1), hasDefaultValue ? defaultIfEmpty(defaultValue) : throwIfEmpty(function () { return new EmptyError(); }));\n    };\n}\n//# sourceMappingURL=first.js.map","import { EMPTY } from '../observable/empty';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function take(count) {\n    return count <= 0\n        ?\n            function () { return EMPTY; }\n        : operate(function (source, subscriber) {\n            var seen = 0;\n            source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n                if (++seen <= count) {\n                    subscriber.next(value);\n                    if (count <= seen) {\n                        subscriber.complete();\n                    }\n                }\n            }));\n        });\n}\n//# sourceMappingURL=take.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function defaultIfEmpty(defaultValue) {\n    return operate(function (source, subscriber) {\n        var hasValue = false;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            hasValue = true;\n            subscriber.next(value);\n        }, function () {\n            if (!hasValue) {\n                subscriber.next(defaultValue);\n            }\n            subscriber.complete();\n        }));\n    });\n}\n//# sourceMappingURL=defaultIfEmpty.js.map","import { popScheduler } from '../util/args';\nimport { from } from './from';\nexport function of() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var scheduler = popScheduler(args);\n    return from(args, scheduler);\n}\n//# sourceMappingURL=of.js.map","import { __extends } from \"tslib\";\nimport { Subscription } from '../Subscription';\nvar Action = (function (_super) {\n    __extends(Action, _super);\n    function Action(scheduler, work) {\n        return _super.call(this) || this;\n    }\n    Action.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        return this;\n    };\n    return Action;\n}(Subscription));\nexport { Action };\n//# sourceMappingURL=Action.js.map","import { __read, __spreadArray } from \"tslib\";\nexport var intervalProvider = {\n    setInterval: function (handler, timeout) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var delegate = intervalProvider.delegate;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.setInterval) {\n            return delegate.setInterval.apply(delegate, __spreadArray([handler, timeout], __read(args)));\n        }\n        return setInterval.apply(void 0, __spreadArray([handler, timeout], __read(args)));\n    },\n    clearInterval: function (handle) {\n        var delegate = intervalProvider.delegate;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearInterval) || clearInterval)(handle);\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=intervalProvider.js.map","import { __extends } from \"tslib\";\nimport { Action } from './Action';\nimport { intervalProvider } from './intervalProvider';\nimport { arrRemove } from '../util/arrRemove';\nvar AsyncAction = (function (_super) {\n    __extends(AsyncAction, _super);\n    function AsyncAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        _this.pending = false;\n        return _this;\n    }\n    AsyncAction.prototype.schedule = function (state, delay) {\n        var _a;\n        if (delay === void 0) { delay = 0; }\n        if (this.closed) {\n            return this;\n        }\n        this.state = state;\n        var id = this.id;\n        var scheduler = this.scheduler;\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, delay);\n        }\n        this.pending = true;\n        this.delay = delay;\n        this.id = (_a = this.id) !== null && _a !== void 0 ? _a : this.requestAsyncId(scheduler, this.id, delay);\n        return this;\n    };\n    AsyncAction.prototype.requestAsyncId = function (scheduler, _id, delay) {\n        if (delay === void 0) { delay = 0; }\n        return intervalProvider.setInterval(scheduler.flush.bind(scheduler, this), delay);\n    };\n    AsyncAction.prototype.recycleAsyncId = function (_scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        if (delay != null && this.delay === delay && this.pending === false) {\n            return id;\n        }\n        if (id != null) {\n            intervalProvider.clearInterval(id);\n        }\n        return undefined;\n    };\n    AsyncAction.prototype.execute = function (state, delay) {\n        if (this.closed) {\n            return new Error('executing a cancelled action');\n        }\n        this.pending = false;\n        var error = this._execute(state, delay);\n        if (error) {\n            return error;\n        }\n        else if (this.pending === false && this.id != null) {\n            this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n        }\n    };\n    AsyncAction.prototype._execute = function (state, _delay) {\n        var errored = false;\n        var errorValue;\n        try {\n            this.work(state);\n        }\n        catch (e) {\n            errored = true;\n            errorValue = e ? e : new Error('Scheduled action threw falsy error');\n        }\n        if (errored) {\n            this.unsubscribe();\n            return errorValue;\n        }\n    };\n    AsyncAction.prototype.unsubscribe = function () {\n        if (!this.closed) {\n            var _a = this, id = _a.id, scheduler = _a.scheduler;\n            var actions = scheduler.actions;\n            this.work = this.state = this.scheduler = null;\n            this.pending = false;\n            arrRemove(actions, this);\n            if (id != null) {\n                this.id = this.recycleAsyncId(scheduler, id, null);\n            }\n            this.delay = null;\n            _super.prototype.unsubscribe.call(this);\n        }\n    };\n    return AsyncAction;\n}(Action));\nexport { AsyncAction };\n//# sourceMappingURL=AsyncAction.js.map","export var dateTimestampProvider = {\n    now: function () {\n        return (dateTimestampProvider.delegate || Date).now();\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=dateTimestampProvider.js.map","import { dateTimestampProvider } from './scheduler/dateTimestampProvider';\nvar Scheduler = (function () {\n    function Scheduler(schedulerActionCtor, now) {\n        if (now === void 0) { now = Scheduler.now; }\n        this.schedulerActionCtor = schedulerActionCtor;\n        this.now = now;\n    }\n    Scheduler.prototype.schedule = function (work, delay, state) {\n        if (delay === void 0) { delay = 0; }\n        return new this.schedulerActionCtor(this, work).schedule(state, delay);\n    };\n    Scheduler.now = dateTimestampProvider.now;\n    return Scheduler;\n}());\nexport { Scheduler };\n//# sourceMappingURL=Scheduler.js.map","import { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\nexport var asyncScheduler = new AsyncScheduler(AsyncAction);\nexport var async = asyncScheduler;\n//# sourceMappingURL=async.js.map","import { __extends } from \"tslib\";\nimport { Scheduler } from '../Scheduler';\nvar AsyncScheduler = (function (_super) {\n    __extends(AsyncScheduler, _super);\n    function AsyncScheduler(SchedulerAction, now) {\n        if (now === void 0) { now = Scheduler.now; }\n        var _this = _super.call(this, SchedulerAction, now) || this;\n        _this.actions = [];\n        _this._active = false;\n        return _this;\n    }\n    AsyncScheduler.prototype.flush = function (action) {\n        var actions = this.actions;\n        if (this._active) {\n            actions.push(action);\n            return;\n        }\n        var error;\n        this._active = true;\n        do {\n            if ((error = action.execute(action.state, action.delay))) {\n                break;\n            }\n        } while ((action = actions.shift()));\n        this._active = false;\n        if (error) {\n            while ((action = actions.shift())) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    return AsyncScheduler;\n}(Scheduler));\nexport { AsyncScheduler };\n//# sourceMappingURL=AsyncScheduler.js.map","import { Observable } from '../Observable';\nimport { async as asyncScheduler } from '../scheduler/async';\nimport { isScheduler } from '../util/isScheduler';\nimport { isValidDate } from '../util/isDate';\nexport function timer(dueTime, intervalOrScheduler, scheduler) {\n    if (dueTime === void 0) { dueTime = 0; }\n    if (scheduler === void 0) { scheduler = asyncScheduler; }\n    var intervalDuration = -1;\n    if (intervalOrScheduler != null) {\n        if (isScheduler(intervalOrScheduler)) {\n            scheduler = intervalOrScheduler;\n        }\n        else {\n            intervalDuration = intervalOrScheduler;\n        }\n    }\n    return new Observable(function (subscriber) {\n        var due = isValidDate(dueTime) ? +dueTime - scheduler.now() : dueTime;\n        if (due < 0) {\n            due = 0;\n        }\n        var n = 0;\n        return scheduler.schedule(function () {\n            if (!subscriber.closed) {\n                subscriber.next(n++);\n                if (0 <= intervalDuration) {\n                    this.schedule(undefined, intervalDuration);\n                }\n                else {\n                    subscriber.complete();\n                }\n            }\n        }, due);\n    });\n}\n//# sourceMappingURL=timer.js.map","export function isValidDate(value) {\n    return value instanceof Date && !isNaN(value);\n}\n//# sourceMappingURL=isDate.js.map","import { createErrorClass } from './createErrorClass';\nexport var ObjectUnsubscribedError = createErrorClass(function (_super) {\n    return function ObjectUnsubscribedErrorImpl() {\n        _super(this);\n        this.name = 'ObjectUnsubscribedError';\n        this.message = 'object unsubscribed';\n    };\n});\n//# sourceMappingURL=ObjectUnsubscribedError.js.map","import { __extends, __values } from \"tslib\";\nimport { Observable } from './Observable';\nimport { Subscription, EMPTY_SUBSCRIPTION } from './Subscription';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { arrRemove } from './util/arrRemove';\nimport { errorContext } from './util/errorContext';\nvar Subject = (function (_super) {\n    __extends(Subject, _super);\n    function Subject() {\n        var _this = _super.call(this) || this;\n        _this.closed = false;\n        _this.currentObservers = null;\n        _this.observers = [];\n        _this.isStopped = false;\n        _this.hasError = false;\n        _this.thrownError = null;\n        return _this;\n    }\n    Subject.prototype.lift = function (operator) {\n        var subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    };\n    Subject.prototype._throwIfClosed = function () {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n    };\n    Subject.prototype.next = function (value) {\n        var _this = this;\n        errorContext(function () {\n            var e_1, _a;\n            _this._throwIfClosed();\n            if (!_this.isStopped) {\n                if (!_this.currentObservers) {\n                    _this.currentObservers = Array.from(_this.observers);\n                }\n                try {\n                    for (var _b = __values(_this.currentObservers), _c = _b.next(); !_c.done; _c = _b.next()) {\n                        var observer = _c.value;\n                        observer.next(value);\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n            }\n        });\n    };\n    Subject.prototype.error = function (err) {\n        var _this = this;\n        errorContext(function () {\n            _this._throwIfClosed();\n            if (!_this.isStopped) {\n                _this.hasError = _this.isStopped = true;\n                _this.thrownError = err;\n                var observers = _this.observers;\n                while (observers.length) {\n                    observers.shift().error(err);\n                }\n            }\n        });\n    };\n    Subject.prototype.complete = function () {\n        var _this = this;\n        errorContext(function () {\n            _this._throwIfClosed();\n            if (!_this.isStopped) {\n                _this.isStopped = true;\n                var observers = _this.observers;\n                while (observers.length) {\n                    observers.shift().complete();\n                }\n            }\n        });\n    };\n    Subject.prototype.unsubscribe = function () {\n        this.isStopped = this.closed = true;\n        this.observers = this.currentObservers = null;\n    };\n    Object.defineProperty(Subject.prototype, \"observed\", {\n        get: function () {\n            var _a;\n            return ((_a = this.observers) === null || _a === void 0 ? void 0 : _a.length) > 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Subject.prototype._trySubscribe = function (subscriber) {\n        this._throwIfClosed();\n        return _super.prototype._trySubscribe.call(this, subscriber);\n    };\n    Subject.prototype._subscribe = function (subscriber) {\n        this._throwIfClosed();\n        this._checkFinalizedStatuses(subscriber);\n        return this._innerSubscribe(subscriber);\n    };\n    Subject.prototype._innerSubscribe = function (subscriber) {\n        var _this = this;\n        var _a = this, hasError = _a.hasError, isStopped = _a.isStopped, observers = _a.observers;\n        if (hasError || isStopped) {\n            return EMPTY_SUBSCRIPTION;\n        }\n        this.currentObservers = null;\n        observers.push(subscriber);\n        return new Subscription(function () {\n            _this.currentObservers = null;\n            arrRemove(observers, subscriber);\n        });\n    };\n    Subject.prototype._checkFinalizedStatuses = function (subscriber) {\n        var _a = this, hasError = _a.hasError, thrownError = _a.thrownError, isStopped = _a.isStopped;\n        if (hasError) {\n            subscriber.error(thrownError);\n        }\n        else if (isStopped) {\n            subscriber.complete();\n        }\n    };\n    Subject.prototype.asObservable = function () {\n        var observable = new Observable();\n        observable.source = this;\n        return observable;\n    };\n    Subject.create = function (destination, source) {\n        return new AnonymousSubject(destination, source);\n    };\n    return Subject;\n}(Observable));\nexport { Subject };\nvar AnonymousSubject = (function (_super) {\n    __extends(AnonymousSubject, _super);\n    function AnonymousSubject(destination, source) {\n        var _this = _super.call(this) || this;\n        _this.destination = destination;\n        _this.source = source;\n        return _this;\n    }\n    AnonymousSubject.prototype.next = function (value) {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.next) === null || _b === void 0 ? void 0 : _b.call(_a, value);\n    };\n    AnonymousSubject.prototype.error = function (err) {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.call(_a, err);\n    };\n    AnonymousSubject.prototype.complete = function () {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.complete) === null || _b === void 0 ? void 0 : _b.call(_a);\n    };\n    AnonymousSubject.prototype._subscribe = function (subscriber) {\n        var _a, _b;\n        return (_b = (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber)) !== null && _b !== void 0 ? _b : EMPTY_SUBSCRIPTION;\n    };\n    return AnonymousSubject;\n}(Subject));\nexport { AnonymousSubject };\n//# sourceMappingURL=Subject.js.map","import { __extends } from \"tslib\";\nimport { Subject } from './Subject';\nimport { dateTimestampProvider } from './scheduler/dateTimestampProvider';\nvar ReplaySubject = (function (_super) {\n    __extends(ReplaySubject, _super);\n    function ReplaySubject(_bufferSize, _windowTime, _timestampProvider) {\n        if (_bufferSize === void 0) { _bufferSize = Infinity; }\n        if (_windowTime === void 0) { _windowTime = Infinity; }\n        if (_timestampProvider === void 0) { _timestampProvider = dateTimestampProvider; }\n        var _this = _super.call(this) || this;\n        _this._bufferSize = _bufferSize;\n        _this._windowTime = _windowTime;\n        _this._timestampProvider = _timestampProvider;\n        _this._buffer = [];\n        _this._infiniteTimeWindow = true;\n        _this._infiniteTimeWindow = _windowTime === Infinity;\n        _this._bufferSize = Math.max(1, _bufferSize);\n        _this._windowTime = Math.max(1, _windowTime);\n        return _this;\n    }\n    ReplaySubject.prototype.next = function (value) {\n        var _a = this, isStopped = _a.isStopped, _buffer = _a._buffer, _infiniteTimeWindow = _a._infiniteTimeWindow, _timestampProvider = _a._timestampProvider, _windowTime = _a._windowTime;\n        if (!isStopped) {\n            _buffer.push(value);\n            !_infiniteTimeWindow && _buffer.push(_timestampProvider.now() + _windowTime);\n        }\n        this._trimBuffer();\n        _super.prototype.next.call(this, value);\n    };\n    ReplaySubject.prototype._subscribe = function (subscriber) {\n        this._throwIfClosed();\n        this._trimBuffer();\n        var subscription = this._innerSubscribe(subscriber);\n        var _a = this, _infiniteTimeWindow = _a._infiniteTimeWindow, _buffer = _a._buffer;\n        var copy = _buffer.slice();\n        for (var i = 0; i < copy.length && !subscriber.closed; i += _infiniteTimeWindow ? 1 : 2) {\n            subscriber.next(copy[i]);\n        }\n        this._checkFinalizedStatuses(subscriber);\n        return subscription;\n    };\n    ReplaySubject.prototype._trimBuffer = function () {\n        var _a = this, _bufferSize = _a._bufferSize, _timestampProvider = _a._timestampProvider, _buffer = _a._buffer, _infiniteTimeWindow = _a._infiniteTimeWindow;\n        var adjustedBufferSize = (_infiniteTimeWindow ? 1 : 2) * _bufferSize;\n        _bufferSize < Infinity && adjustedBufferSize < _buffer.length && _buffer.splice(0, _buffer.length - adjustedBufferSize);\n        if (!_infiniteTimeWindow) {\n            var now = _timestampProvider.now();\n            var last = 0;\n            for (var i = 1; i < _buffer.length && _buffer[i] <= now; i += 2) {\n                last = i;\n            }\n            last && _buffer.splice(0, last + 1);\n        }\n    };\n    return ReplaySubject;\n}(Subject));\nexport { ReplaySubject };\n//# sourceMappingURL=ReplaySubject.js.map","import { __extends } from \"tslib\";\nimport { Subject } from './Subject';\nvar BehaviorSubject = (function (_super) {\n    __extends(BehaviorSubject, _super);\n    function BehaviorSubject(_value) {\n        var _this = _super.call(this) || this;\n        _this._value = _value;\n        return _this;\n    }\n    Object.defineProperty(BehaviorSubject.prototype, \"value\", {\n        get: function () {\n            return this.getValue();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BehaviorSubject.prototype._subscribe = function (subscriber) {\n        var subscription = _super.prototype._subscribe.call(this, subscriber);\n        !subscription.closed && subscriber.next(this._value);\n        return subscription;\n    };\n    BehaviorSubject.prototype.getValue = function () {\n        var _a = this, hasError = _a.hasError, thrownError = _a.thrownError, _value = _a._value;\n        if (hasError) {\n            throw thrownError;\n        }\n        this._throwIfClosed();\n        return _value;\n    };\n    BehaviorSubject.prototype.next = function (value) {\n        _super.prototype.next.call(this, (this._value = value));\n    };\n    return BehaviorSubject;\n}(Subject));\nexport { BehaviorSubject };\n//# sourceMappingURL=BehaviorSubject.js.map","const defaultErrorConfig = {\r\n    withStackTrace: false,\r\n};\r\n// Custom error object\r\n// Context / discussion: https://github.com/supermacro/neverthrow/pull/215\r\nconst createNeverThrowError = (message, result, config = defaultErrorConfig) => {\r\n    const data = result.isOk()\r\n        ? { type: 'Ok', value: result.value }\r\n        : { type: 'Err', value: result.error };\r\n    const maybeStack = config.withStackTrace ? new Error().stack : undefined;\r\n    return {\r\n        data,\r\n        message,\r\n        stack: maybeStack,\r\n    };\r\n};\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nfunction __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nfunction __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nfunction __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nfunction __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\n\nclass ResultAsync {\r\n    constructor(res) {\r\n        this._promise = res;\r\n    }\r\n    static fromSafePromise(promise) {\r\n        const newPromise = promise.then((value) => new Ok(value));\r\n        return new ResultAsync(newPromise);\r\n    }\r\n    static fromPromise(promise, errorFn) {\r\n        const newPromise = promise\r\n            .then((value) => new Ok(value))\r\n            .catch((e) => new Err(errorFn(e)));\r\n        return new ResultAsync(newPromise);\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    static fromThrowable(fn, errorFn) {\r\n        return (...args) => {\r\n            return new ResultAsync((() => __awaiter(this, void 0, void 0, function* () {\r\n                try {\r\n                    return new Ok(yield fn(...args));\r\n                }\r\n                catch (error) {\r\n                    return new Err(errorFn ? errorFn(error) : error);\r\n                }\r\n            }))());\r\n        };\r\n    }\r\n    static combine(asyncResultList) {\r\n        return combineResultAsyncList(asyncResultList);\r\n    }\r\n    static combineWithAllErrors(asyncResultList) {\r\n        return combineResultAsyncListWithAllErrors(asyncResultList);\r\n    }\r\n    map(f) {\r\n        return new ResultAsync(this._promise.then((res) => __awaiter(this, void 0, void 0, function* () {\r\n            if (res.isErr()) {\r\n                return new Err(res.error);\r\n            }\r\n            return new Ok(yield f(res.value));\r\n        })));\r\n    }\r\n    mapErr(f) {\r\n        return new ResultAsync(this._promise.then((res) => __awaiter(this, void 0, void 0, function* () {\r\n            if (res.isOk()) {\r\n                return new Ok(res.value);\r\n            }\r\n            return new Err(yield f(res.error));\r\n        })));\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\r\n    andThen(f) {\r\n        return new ResultAsync(this._promise.then((res) => {\r\n            if (res.isErr()) {\r\n                return new Err(res.error);\r\n            }\r\n            const newValue = f(res.value);\r\n            return newValue instanceof ResultAsync ? newValue._promise : newValue;\r\n        }));\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\r\n    orElse(f) {\r\n        return new ResultAsync(this._promise.then((res) => __awaiter(this, void 0, void 0, function* () {\r\n            if (res.isErr()) {\r\n                return f(res.error);\r\n            }\r\n            return new Ok(res.value);\r\n        })));\r\n    }\r\n    match(ok, _err) {\r\n        return this._promise.then((res) => res.match(ok, _err));\r\n    }\r\n    unwrapOr(t) {\r\n        return this._promise.then((res) => res.unwrapOr(t));\r\n    }\r\n    /**\r\n     * Emulates Rust's `?` operator in `safeTry`'s body. See also `safeTry`.\r\n     */\r\n    safeUnwrap() {\r\n        return __asyncGenerator(this, arguments, function* safeUnwrap_1() {\r\n            return yield __await(yield __await(yield* __asyncDelegator(__asyncValues(yield __await(this._promise.then((res) => res.safeUnwrap()))))));\r\n        });\r\n    }\r\n    // Makes ResultAsync implement PromiseLike<Result>\r\n    then(successCallback, failureCallback) {\r\n        return this._promise.then(successCallback, failureCallback);\r\n    }\r\n}\r\nconst okAsync = (value) => new ResultAsync(Promise.resolve(new Ok(value)));\r\nconst errAsync = (err) => new ResultAsync(Promise.resolve(new Err(err)));\r\nconst fromPromise = ResultAsync.fromPromise;\r\nconst fromSafePromise = ResultAsync.fromSafePromise;\r\nconst fromAsyncThrowable = ResultAsync.fromThrowable;\n\n/**\r\n * Short circuits on the FIRST Err value that we find\r\n */\r\nconst combineResultList = (resultList) => {\r\n    let acc = ok([]);\r\n    for (const result of resultList) {\r\n        if (result.isErr()) {\r\n            acc = err(result.error);\r\n            break;\r\n        }\r\n        else {\r\n            acc.map((list) => list.push(result.value));\r\n        }\r\n    }\r\n    return acc;\r\n};\r\n/* This is the typesafe version of Promise.all\r\n *\r\n * Takes a list of ResultAsync<T, E> and success if all inner results are Ok values\r\n * or fails if one (or more) of the inner results are Err values\r\n */\r\nconst combineResultAsyncList = (asyncResultList) => ResultAsync.fromSafePromise(Promise.all(asyncResultList)).andThen(combineResultList);\r\n/**\r\n * Give a list of all the errors we find\r\n */\r\nconst combineResultListWithAllErrors = (resultList) => {\r\n    let acc = ok([]);\r\n    for (const result of resultList) {\r\n        if (result.isErr() && acc.isErr()) {\r\n            acc.error.push(result.error);\r\n        }\r\n        else if (result.isErr() && acc.isOk()) {\r\n            acc = err([result.error]);\r\n        }\r\n        else if (result.isOk() && acc.isOk()) {\r\n            acc.value.push(result.value);\r\n        }\r\n        // do nothing when result.isOk() && acc.isErr()\r\n    }\r\n    return acc;\r\n};\r\nconst combineResultAsyncListWithAllErrors = (asyncResultList) => ResultAsync.fromSafePromise(Promise.all(asyncResultList)).andThen(combineResultListWithAllErrors);\n\n// eslint-disable-next-line @typescript-eslint/no-namespace\r\nvar Result;\r\n(function (Result) {\r\n    /**\r\n     * Wraps a function with a try catch, creating a new function with the same\r\n     * arguments but returning `Ok` if successful, `Err` if the function throws\r\n     *\r\n     * @param fn function to wrap with ok on success or err on failure\r\n     * @param errorFn when an error is thrown, this will wrap the error result if provided\r\n     */\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    function fromThrowable(fn, errorFn) {\r\n        return (...args) => {\r\n            try {\r\n                const result = fn(...args);\r\n                return ok(result);\r\n            }\r\n            catch (e) {\r\n                return err(errorFn ? errorFn(e) : e);\r\n            }\r\n        };\r\n    }\r\n    Result.fromThrowable = fromThrowable;\r\n    function combine(resultList) {\r\n        return combineResultList(resultList);\r\n    }\r\n    Result.combine = combine;\r\n    function combineWithAllErrors(resultList) {\r\n        return combineResultListWithAllErrors(resultList);\r\n    }\r\n    Result.combineWithAllErrors = combineWithAllErrors;\r\n})(Result || (Result = {}));\r\nconst ok = (value) => new Ok(value);\r\nconst err = (err) => new Err(err);\r\nfunction safeTry(body) {\r\n    const n = body().next();\r\n    if (n instanceof Promise) {\r\n        return n.then((r) => r.value);\r\n    }\r\n    return n.value;\r\n}\r\nclass Ok {\r\n    constructor(value) {\r\n        this.value = value;\r\n    }\r\n    isOk() {\r\n        return true;\r\n    }\r\n    isErr() {\r\n        return !this.isOk();\r\n    }\r\n    map(f) {\r\n        return ok(f(this.value));\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    mapErr(_f) {\r\n        return ok(this.value);\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\r\n    andThen(f) {\r\n        return f(this.value);\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\r\n    orElse(_f) {\r\n        return ok(this.value);\r\n    }\r\n    asyncAndThen(f) {\r\n        return f(this.value);\r\n    }\r\n    asyncMap(f) {\r\n        return ResultAsync.fromSafePromise(f(this.value));\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    unwrapOr(_v) {\r\n        return this.value;\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    match(ok, _err) {\r\n        return ok(this.value);\r\n    }\r\n    safeUnwrap() {\r\n        const value = this.value;\r\n        /* eslint-disable-next-line require-yield */\r\n        return (function* () {\r\n            return value;\r\n        })();\r\n    }\r\n    _unsafeUnwrap(_) {\r\n        return this.value;\r\n    }\r\n    _unsafeUnwrapErr(config) {\r\n        throw createNeverThrowError('Called `_unsafeUnwrapErr` on an Ok', this, config);\r\n    }\r\n}\r\nclass Err {\r\n    constructor(error) {\r\n        this.error = error;\r\n    }\r\n    isOk() {\r\n        return false;\r\n    }\r\n    isErr() {\r\n        return !this.isOk();\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    map(_f) {\r\n        return err(this.error);\r\n    }\r\n    mapErr(f) {\r\n        return err(f(this.error));\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\r\n    andThen(_f) {\r\n        return err(this.error);\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\r\n    orElse(f) {\r\n        return f(this.error);\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    asyncAndThen(_f) {\r\n        return errAsync(this.error);\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    asyncMap(_f) {\r\n        return errAsync(this.error);\r\n    }\r\n    unwrapOr(v) {\r\n        return v;\r\n    }\r\n    match(_ok, err) {\r\n        return err(this.error);\r\n    }\r\n    safeUnwrap() {\r\n        const error = this.error;\r\n        return (function* () {\r\n            yield err(error);\r\n            throw new Error('Do not use this generator out of `safeTry`');\r\n        })();\r\n    }\r\n    _unsafeUnwrap(config) {\r\n        throw createNeverThrowError('Called `_unsafeUnwrap` on an Err', this, config);\r\n    }\r\n    _unsafeUnwrapErr(_) {\r\n        return this.error;\r\n    }\r\n}\r\nconst fromThrowable = Result.fromThrowable;\r\n//#endregion\n\nexport { Err, Ok, Result, ResultAsync, err, errAsync, fromAsyncThrowable, fromPromise, fromSafePromise, fromThrowable, ok, okAsync, safeTry };\n","import { EmptyError } from './util/EmptyError';\nimport { SafeSubscriber } from './Subscriber';\nexport function firstValueFrom(source, config) {\n    var hasConfig = typeof config === 'object';\n    return new Promise(function (resolve, reject) {\n        var subscriber = new SafeSubscriber({\n            next: function (value) {\n                resolve(value);\n                subscriber.unsubscribe();\n            },\n            error: reject,\n            complete: function () {\n                if (hasConfig) {\n                    resolve(config.defaultValue);\n                }\n                else {\n                    reject(new EmptyError());\n                }\n            },\n        });\n        source.subscribe(subscriber);\n    });\n}\n//# sourceMappingURL=firstValueFrom.js.map","// src/error/flatten/flatten.ts\nfunction flatten(arg1) {\n  return (Array.isArray(arg1) ? arg1 : arg1.issues).reduce(\n    (flatErrors, issue) => {\n      if (issue.path) {\n        if (issue.path.every(\n          ({ key }) => typeof key === \"string\" || typeof key === \"number\"\n        )) {\n          const path = issue.path.map(({ key }) => key).join(\".\");\n          if (flatErrors.nested[path]) {\n            flatErrors.nested[path].push(issue.message);\n          } else {\n            flatErrors.nested[path] = [issue.message];\n          }\n        }\n      } else {\n        if (flatErrors.root) {\n          flatErrors.root.push(issue.message);\n        } else {\n          flatErrors.root = [issue.message];\n        }\n      }\n      return flatErrors;\n    },\n    { nested: {} }\n  );\n}\n\n// src/error/ValiError/ValiError.ts\nvar ValiError = class extends Error {\n  issues;\n  /**\n   * Creates a Valibot error with useful information.\n   *\n   * @param issues The error issues.\n   */\n  constructor(issues) {\n    super(issues[0].message);\n    this.name = \"ValiError\";\n    this.issues = issues;\n  }\n};\n\n// src/methods/brand/brand.ts\nvar BrandSymbol = Symbol(\"brand\");\nfunction brand(schema, name) {\n  return schema;\n}\n\n// src/methods/coerce/coerce.ts\nfunction coerce(schema, action) {\n  return {\n    ...schema,\n    _parse(input, config) {\n      return schema._parse(action(input), config);\n    }\n  };\n}\n\n// src/methods/coerce/coerceAsync.ts\nfunction coerceAsync(schema, action) {\n  return {\n    ...schema,\n    async _parse(input, config) {\n      return schema._parse(await action(input), config);\n    }\n  };\n}\n\n// src/utils/actionIssue/actionIssue.ts\nfunction actionIssue(context, reference, input, label, received) {\n  return {\n    issues: [{ context, reference, input, label, received }]\n  };\n}\n\n// src/utils/actionOutput/actionOutput.ts\nfunction actionOutput(output) {\n  return { output };\n}\n\n// src/utils/defaultArgs/defaultArgs.ts\nfunction defaultArgs(arg1, arg2) {\n  return Array.isArray(arg1) ? [void 0, arg1] : [arg1, arg2];\n}\n\n// src/storages/globalConfig/globalConfig.ts\nvar store;\nfunction setGlobalConfig(config) {\n  store = { ...store, ...config };\n}\nfunction getGlobalConfig(config) {\n  return {\n    lang: config?.lang ?? store?.lang,\n    message: config?.message,\n    abortEarly: config?.abortEarly ?? store?.abortEarly,\n    abortPipeEarly: config?.abortPipeEarly ?? store?.abortPipeEarly,\n    skipPipe: config?.skipPipe ?? store?.skipPipe\n  };\n}\nfunction deleteGlobalConfig() {\n  store = void 0;\n}\n\n// src/storages/globalMessage/globalMessage.ts\nvar store2;\nfunction setGlobalMessage(message, lang) {\n  if (!store2)\n    store2 = /* @__PURE__ */ new Map();\n  store2.set(lang, message);\n}\nfunction getGlobalMessage(lang) {\n  return store2?.get(lang);\n}\nfunction deleteGlobalMessage(lang) {\n  store2?.delete(lang);\n}\n\n// src/storages/schemaMessage/schemaMessage.ts\nvar store3;\nfunction setSchemaMessage(message, lang) {\n  if (!store3)\n    store3 = /* @__PURE__ */ new Map();\n  store3.set(lang, message);\n}\nfunction getSchemaMessage(lang) {\n  return store3?.get(lang);\n}\nfunction deleteSchemaMessage(lang) {\n  store3?.delete(lang);\n}\n\n// src/storages/specificMessage/specificMessage.ts\nvar store4;\nfunction setSpecificMessage(reference, message, lang) {\n  if (!store4)\n    store4 = /* @__PURE__ */ new Map();\n  if (!store4.get(reference))\n    store4.set(reference, /* @__PURE__ */ new Map());\n  store4.get(reference).set(lang, message);\n}\nfunction getSpecificMessage(reference, lang) {\n  return store4?.get(reference)?.get(lang);\n}\nfunction deleteSpecificMessage(reference, lang) {\n  store4?.get(reference)?.delete(lang);\n}\n\n// src/utils/i18n/i18n.ts\nfunction i18n(schema, context, reference, config, issue) {\n  const message = context.message ?? getSpecificMessage(reference, issue.lang) ?? (schema ? getSchemaMessage(issue.lang) : null) ?? config?.message ?? getGlobalMessage(issue.lang) ?? issue.message;\n  return typeof message === \"function\" ? message(issue) : message;\n}\n\n// src/utils/isLuhnAlgo/isLuhnAlgo.ts\nvar NON_DIGIT_REGEX = /\\D/gu;\nfunction isLuhnAlgo(input) {\n  const number2 = input.replace(NON_DIGIT_REGEX, \"\");\n  let length2 = number2.length;\n  let bit = 1;\n  let sum = 0;\n  while (length2) {\n    const value2 = +number2[--length2];\n    bit ^= 1;\n    sum += bit ? [0, 2, 4, 6, 8, 1, 3, 5, 7, 9][value2] : value2;\n  }\n  return sum % 10 === 0;\n}\n\n// src/utils/isOfType/isOfType.ts\nfunction isOfType(type, object2) {\n  return object2.type === type;\n}\n\n// src/utils/schemaResult/schemaResult.ts\nfunction schemaResult(typed, output, issues) {\n  return { typed, output, issues };\n}\n\n// src/utils/stringify/stringify.ts\nfunction stringify(input) {\n  let type = typeof input;\n  if (type === \"object\") {\n    type = input ? Object.getPrototypeOf(input).constructor.name : \"null\";\n  }\n  return type === \"string\" ? `\"${input}\"` : type === \"number\" || type === \"bigint\" || type === \"boolean\" ? `${input}` : type;\n}\n\n// src/utils/pipeResult/utils/pipeIssue/pipeIssue.ts\nfunction pipeIssue(context, config, issue) {\n  const received = issue.received ?? stringify(issue.input);\n  const schemaIssue2 = {\n    reason: context.type,\n    context: issue.context.type,\n    expected: issue.context.expects,\n    received,\n    message: `Invalid ${issue.label}: ${issue.context.expects ? `Expected ${issue.context.expects} but r` : \"R\"}eceived ${received}`,\n    input: issue.input,\n    requirement: issue.context.requirement,\n    path: issue.path,\n    lang: config?.lang,\n    abortEarly: config?.abortEarly,\n    abortPipeEarly: config?.abortPipeEarly,\n    skipPipe: config?.skipPipe\n  };\n  schemaIssue2.message = i18n(\n    false,\n    issue.context,\n    issue.reference,\n    config,\n    schemaIssue2\n  );\n  return schemaIssue2;\n}\n\n// src/utils/pipeResult/pipeResult.ts\nfunction pipeResult(context, input, config, issues) {\n  if (context.pipe && !config?.skipPipe) {\n    for (const action of context.pipe) {\n      const result = action._parse(input);\n      if (result.issues) {\n        for (const actionIssue2 of result.issues) {\n          const schemaIssue2 = pipeIssue(context, config, actionIssue2);\n          issues ? issues.push(schemaIssue2) : issues = [schemaIssue2];\n        }\n        if (config?.abortEarly || config?.abortPipeEarly) {\n          break;\n        }\n      } else {\n        input = result.output;\n      }\n    }\n  }\n  return schemaResult(true, input, issues);\n}\n\n// src/utils/pipeResult/pipeResultAsync.ts\nasync function pipeResultAsync(context, input, config, issues) {\n  if (context.pipe && !config?.skipPipe) {\n    for (const action of context.pipe) {\n      const result = await action._parse(input);\n      if (result.issues) {\n        for (const actionIssue2 of result.issues) {\n          const schemaIssue2 = pipeIssue(context, config, actionIssue2);\n          issues ? issues.push(schemaIssue2) : issues = [schemaIssue2];\n        }\n        if (config?.abortEarly || config?.abortPipeEarly) {\n          break;\n        }\n      } else {\n        input = result.output;\n      }\n    }\n  }\n  return schemaResult(true, input, issues);\n}\n\n// src/utils/restAndDefaultArgs/restAndDefaultArgs.ts\nfunction restAndDefaultArgs(arg1, arg2, arg3) {\n  if (!arg1 || typeof arg1 === \"object\" && !Array.isArray(arg1)) {\n    const [error2, pipe2] = defaultArgs(arg2, arg3);\n    return [arg1, error2, pipe2];\n  }\n  const [error, pipe] = defaultArgs(\n    arg1,\n    arg2\n  );\n  return [void 0, error, pipe];\n}\n\n// src/utils/schemaIssue/schemaIssue.ts\nfunction schemaIssue(context, reference, input, config, other) {\n  const received = stringify(input);\n  const expected = other?.expected ?? context.expects;\n  const issue = {\n    reason: other?.reason ?? \"type\",\n    context: context.type,\n    expected,\n    received,\n    message: `Invalid type: Expected ${expected} but received ${received}`,\n    input,\n    path: other?.path,\n    issues: other?.issues,\n    lang: config?.lang,\n    abortEarly: config?.abortEarly,\n    abortPipeEarly: config?.abortPipeEarly,\n    skipPipe: config?.skipPipe\n  };\n  issue.message = i18n(true, context, reference, config, issue);\n  return { typed: false, output: input, issues: [issue] };\n}\n\n// src/methods/getFallback/getFallback.ts\nfunction getFallback(schema, info) {\n  return typeof schema.fallback === \"function\" ? schema.fallback(info) : schema.fallback;\n}\n\n// src/methods/getFallback/getFallbackAsync.ts\nasync function getFallbackAsync(schema, info) {\n  return typeof schema.fallback === \"function\" ? await schema.fallback(info) : schema.fallback;\n}\n\n// src/methods/fallback/fallback.ts\nfunction fallback(schema, fallback2) {\n  return {\n    ...schema,\n    fallback: fallback2,\n    _parse(input, config) {\n      const result = schema._parse(input, config);\n      return result.issues ? schemaResult(\n        true,\n        getFallback(this, { input, issues: result.issues })\n      ) : result;\n    }\n  };\n}\n\n// src/methods/fallback/fallbackAsync.ts\nfunction fallbackAsync(schema, fallback2) {\n  return {\n    ...schema,\n    fallback: fallback2,\n    async _parse(input, config) {\n      const result = await schema._parse(input, config);\n      return result.issues ? schemaResult(\n        true,\n        await getFallbackAsync(this, { input, issues: result.issues })\n      ) : result;\n    }\n  };\n}\n\n// src/methods/forward/forward.ts\nfunction forward(validation, pathList) {\n  return {\n    ...validation,\n    _parse(input) {\n      const result = validation._parse(input);\n      if (result.issues) {\n        for (const issue of result.issues) {\n          let pathInput = input;\n          for (const key of pathList) {\n            const pathValue = pathInput[key];\n            issue.input = pathValue;\n            const pathItem = {\n              type: \"unknown\",\n              origin: \"value\",\n              input: pathInput,\n              key,\n              value: pathValue\n            };\n            issue.path ? issue.path.push(pathItem) : issue.path = [pathItem];\n            if (!pathValue) {\n              break;\n            }\n            pathInput = pathValue;\n          }\n        }\n      }\n      return result;\n    }\n  };\n}\n\n// src/methods/forward/forwardAsync.ts\nfunction forwardAsync(validation, pathList) {\n  return {\n    ...validation,\n    async _parse(input) {\n      const result = await validation._parse(input);\n      if (result.issues) {\n        for (const issue of result.issues) {\n          let pathInput = input;\n          for (const key of pathList) {\n            const pathValue = pathInput[key];\n            issue.input = pathValue;\n            const pathItem = {\n              type: \"unknown\",\n              origin: \"value\",\n              input: pathInput,\n              key,\n              value: pathValue\n            };\n            issue.path ? issue.path.push(pathItem) : issue.path = [pathItem];\n            if (!pathValue) {\n              break;\n            }\n            pathInput = pathValue;\n          }\n        }\n      }\n      return result;\n    }\n  };\n}\n\n// src/methods/getDefault/getDefault.ts\nfunction getDefault(schema) {\n  return typeof schema.default === \"function\" ? schema.default() : schema.default;\n}\n\n// src/methods/getDefault/getDefaultAsync.ts\nasync function getDefaultAsync(schema) {\n  return typeof schema.default === \"function\" ? await schema.default() : schema.default;\n}\n\n// src/methods/getDefaults/getDefaults.ts\nfunction getDefaults(schema) {\n  if (schema.default !== void 0) {\n    return getDefault(schema);\n  }\n  if (isOfType(\"object\", schema)) {\n    return Object.fromEntries(\n      Object.entries(schema.entries).map(([key, value2]) => [\n        key,\n        getDefaults(value2)\n      ])\n    );\n  }\n  if (isOfType(\"tuple\", schema)) {\n    return schema.items.map(getDefaults);\n  }\n  return void 0;\n}\n\n// src/methods/getDefaults/getDefaultsAsync.ts\nasync function getDefaultsAsync(schema) {\n  if (schema.default !== void 0) {\n    return getDefaultAsync(schema);\n  }\n  if (isOfType(\"object\", schema)) {\n    return Object.fromEntries(\n      await Promise.all(\n        Object.entries(schema.entries).map(async ([key, value2]) => [\n          key,\n          await getDefaultsAsync(value2)\n        ])\n      )\n    );\n  }\n  if (isOfType(\"tuple\", schema)) {\n    return Promise.all(\n      schema.items.map(getDefaultsAsync)\n    );\n  }\n  return void 0;\n}\n\n// src/methods/getFallbacks/getFallbacks.ts\nfunction getFallbacks(schema) {\n  if (schema.fallback !== void 0) {\n    return getFallback(schema);\n  }\n  if (isOfType(\"object\", schema)) {\n    return Object.fromEntries(\n      Object.entries(schema.entries).map(([key, value2]) => [\n        key,\n        getFallbacks(value2)\n      ])\n    );\n  }\n  if (isOfType(\"tuple\", schema)) {\n    return schema.items.map(getFallbacks);\n  }\n  return void 0;\n}\n\n// src/methods/getFallbacks/getFallbacksAsync.ts\nasync function getFallbacksAsync(schema) {\n  if (schema.fallback !== void 0) {\n    return getFallbackAsync(schema);\n  }\n  if (isOfType(\"object\", schema)) {\n    return Object.fromEntries(\n      await Promise.all(\n        Object.entries(schema.entries).map(async ([key, value2]) => [\n          key,\n          await getFallbacksAsync(value2)\n        ])\n      )\n    );\n  }\n  if (isOfType(\"tuple\", schema)) {\n    return Promise.all(\n      schema.items.map(getFallbacksAsync)\n    );\n  }\n  return void 0;\n}\n\n// src/methods/is/is.ts\nfunction is(schema, input, config) {\n  return !schema._parse(input, {\n    abortEarly: true,\n    skipPipe: getGlobalConfig(config)?.skipPipe\n  }).issues;\n}\n\n// src/schemas/any/any.ts\nfunction any(pipe) {\n  return {\n    type: \"any\",\n    expects: \"any\",\n    async: false,\n    pipe,\n    _parse(input, config) {\n      return pipeResult(this, input, config);\n    }\n  };\n}\n\n// src/schemas/any/anyAsync.ts\nfunction anyAsync(pipe) {\n  return {\n    type: \"any\",\n    expects: \"any\",\n    async: true,\n    pipe,\n    async _parse(input, config) {\n      return pipeResultAsync(this, input, config);\n    }\n  };\n}\n\n// src/schemas/array/array.ts\nfunction array(item, arg2, arg3) {\n  const [message, pipe] = defaultArgs(arg2, arg3);\n  return {\n    type: \"array\",\n    expects: \"Array\",\n    async: false,\n    item,\n    message,\n    pipe,\n    _parse(input, config) {\n      if (Array.isArray(input)) {\n        let typed = true;\n        let issues;\n        const output = [];\n        for (let key = 0; key < input.length; key++) {\n          const value2 = input[key];\n          const result = this.item._parse(value2, config);\n          if (result.issues) {\n            const pathItem = {\n              type: \"array\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of result.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              issues?.push(issue);\n            }\n            if (!issues) {\n              issues = result.issues;\n            }\n            if (config?.abortEarly) {\n              typed = false;\n              break;\n            }\n          }\n          if (!result.typed) {\n            typed = false;\n          }\n          output.push(result.output);\n        }\n        if (typed) {\n          return pipeResult(this, output, config, issues);\n        }\n        return schemaResult(false, output, issues);\n      }\n      return schemaIssue(this, array, input, config);\n    }\n  };\n}\n\n// src/schemas/array/arrayAsync.ts\nfunction arrayAsync(item, arg2, arg3) {\n  const [message, pipe] = defaultArgs(arg2, arg3);\n  return {\n    type: \"array\",\n    expects: \"Array\",\n    async: true,\n    item,\n    message,\n    pipe,\n    async _parse(input, config) {\n      if (Array.isArray(input)) {\n        let typed = true;\n        let issues;\n        const output = [];\n        await Promise.all(\n          input.map(async (value2, key) => {\n            if (!(config?.abortEarly && issues)) {\n              const result = await this.item._parse(value2, config);\n              if (!(config?.abortEarly && issues)) {\n                if (result.issues) {\n                  const pathItem = {\n                    type: \"array\",\n                    origin: \"value\",\n                    input,\n                    key,\n                    value: value2\n                  };\n                  for (const issue of result.issues) {\n                    if (issue.path) {\n                      issue.path.unshift(pathItem);\n                    } else {\n                      issue.path = [pathItem];\n                    }\n                    issues?.push(issue);\n                  }\n                  if (!issues) {\n                    issues = result.issues;\n                  }\n                  if (config?.abortEarly) {\n                    typed = false;\n                    throw null;\n                  }\n                }\n                if (!result.typed) {\n                  typed = false;\n                }\n                output[key] = result.output;\n              }\n            }\n          })\n        ).catch(() => null);\n        if (typed) {\n          return pipeResultAsync(\n            this,\n            output,\n            config,\n            issues\n          );\n        }\n        return schemaResult(false, output, issues);\n      }\n      return schemaIssue(this, arrayAsync, input, config);\n    }\n  };\n}\n\n// src/schemas/bigint/bigint.ts\nfunction bigint(arg1, arg2) {\n  const [message, pipe] = defaultArgs(arg1, arg2);\n  return {\n    type: \"bigint\",\n    expects: \"bigint\",\n    async: false,\n    message,\n    pipe,\n    _parse(input, config) {\n      if (typeof input === \"bigint\") {\n        return pipeResult(this, input, config);\n      }\n      return schemaIssue(this, bigint, input, config);\n    }\n  };\n}\n\n// src/schemas/bigint/bigintAsync.ts\nfunction bigintAsync(arg1, arg2) {\n  const [message, pipe] = defaultArgs(arg1, arg2);\n  return {\n    type: \"bigint\",\n    expects: \"bigint\",\n    async: true,\n    message,\n    pipe,\n    async _parse(input, config) {\n      if (typeof input === \"bigint\") {\n        return pipeResultAsync(this, input, config);\n      }\n      return schemaIssue(this, bigintAsync, input, config);\n    }\n  };\n}\n\n// src/schemas/blob/blob.ts\nfunction blob(arg1, arg2) {\n  const [message, pipe] = defaultArgs(arg1, arg2);\n  return {\n    type: \"blob\",\n    expects: \"Blob\",\n    async: false,\n    message,\n    pipe,\n    _parse(input, config) {\n      if (input instanceof Blob) {\n        return pipeResult(this, input, config);\n      }\n      return schemaIssue(this, blob, input, config);\n    }\n  };\n}\n\n// src/schemas/blob/blobAsync.ts\nfunction blobAsync(arg1, arg2) {\n  const [message, pipe] = defaultArgs(arg1, arg2);\n  return {\n    type: \"blob\",\n    expects: \"Blob\",\n    async: true,\n    message,\n    pipe,\n    async _parse(input, config) {\n      if (input instanceof Blob) {\n        return pipeResultAsync(this, input, config);\n      }\n      return schemaIssue(this, blobAsync, input, config);\n    }\n  };\n}\n\n// src/schemas/boolean/boolean.ts\nfunction boolean(arg1, arg2) {\n  const [message, pipe] = defaultArgs(arg1, arg2);\n  return {\n    type: \"boolean\",\n    expects: \"boolean\",\n    async: false,\n    message,\n    pipe,\n    _parse(input, config) {\n      if (typeof input === \"boolean\") {\n        return pipeResult(this, input, config);\n      }\n      return schemaIssue(this, boolean, input, config);\n    }\n  };\n}\n\n// src/schemas/boolean/booleanAsync.ts\nfunction booleanAsync(arg1, arg2) {\n  const [message, pipe] = defaultArgs(arg1, arg2);\n  return {\n    type: \"boolean\",\n    expects: \"boolean\",\n    async: true,\n    message,\n    pipe,\n    async _parse(input, config) {\n      if (typeof input === \"boolean\") {\n        return pipeResultAsync(this, input, config);\n      }\n      return schemaIssue(this, booleanAsync, input, config);\n    }\n  };\n}\n\n// src/schemas/date/date.ts\nfunction date(arg1, arg2) {\n  const [message, pipe] = defaultArgs(arg1, arg2);\n  return {\n    type: \"date\",\n    expects: \"Date\",\n    async: false,\n    message,\n    pipe,\n    _parse(input, config) {\n      if (input instanceof Date && !isNaN(input.getTime())) {\n        return pipeResult(this, input, config);\n      }\n      return schemaIssue(this, date, input, config);\n    }\n  };\n}\n\n// src/schemas/date/dateAsync.ts\nfunction dateAsync(arg1, arg2) {\n  const [message, pipe] = defaultArgs(arg1, arg2);\n  return {\n    type: \"date\",\n    expects: \"Date\",\n    async: true,\n    message,\n    pipe,\n    async _parse(input, config) {\n      if (input instanceof Date && !isNaN(input.getTime())) {\n        return pipeResultAsync(this, input, config);\n      }\n      return schemaIssue(this, dateAsync, input, config);\n    }\n  };\n}\n\n// src/schemas/enum/enum.ts\nfunction enum_(enum__, message) {\n  const values = Object.values(enum__);\n  return {\n    type: \"enum\",\n    expects: values.map(stringify).join(\" | \"),\n    async: false,\n    enum: enum__,\n    message,\n    _parse(input, config) {\n      if (values.includes(input)) {\n        return schemaResult(true, input);\n      }\n      return schemaIssue(this, enum_, input, config);\n    }\n  };\n}\n\n// src/schemas/enum/enumAsync.ts\nfunction enumAsync(enum_2, message) {\n  const values = Object.values(enum_2);\n  return {\n    type: \"enum\",\n    expects: values.map(stringify).join(\" | \"),\n    async: true,\n    enum: enum_2,\n    message,\n    async _parse(input, config) {\n      if (values.includes(input)) {\n        return schemaResult(true, input);\n      }\n      return schemaIssue(this, enumAsync, input, config);\n    }\n  };\n}\n\n// src/schemas/instance/instance.ts\nfunction instance(class_, arg2, arg3) {\n  const [message, pipe] = defaultArgs(arg2, arg3);\n  return {\n    type: \"instance\",\n    expects: class_.name,\n    async: false,\n    class: class_,\n    message,\n    pipe,\n    _parse(input, config) {\n      if (input instanceof this.class) {\n        return pipeResult(this, input, config);\n      }\n      return schemaIssue(this, instance, input, config);\n    }\n  };\n}\n\n// src/schemas/instance/instanceAsync.ts\nfunction instanceAsync(class_, arg2, arg3) {\n  const [message, pipe] = defaultArgs(arg2, arg3);\n  return {\n    type: \"instance\",\n    expects: class_.name,\n    async: true,\n    class: class_,\n    message,\n    pipe,\n    async _parse(input, config) {\n      if (input instanceof this.class) {\n        return pipeResultAsync(this, input, config);\n      }\n      return schemaIssue(this, instanceAsync, input, config);\n    }\n  };\n}\n\n// src/schemas/intersect/utils/mergeOutputs/mergeOutputs.ts\nfunction mergeOutputs(output1, output2) {\n  if (typeof output1 === typeof output2) {\n    if (output1 === output2 || output1 instanceof Date && output2 instanceof Date && +output1 === +output2) {\n      return { output: output1 };\n    }\n    if (Array.isArray(output1) && Array.isArray(output2)) {\n      if (output1.length === output2.length) {\n        const array2 = [];\n        for (let index = 0; index < output1.length; index++) {\n          const result = mergeOutputs(output1[index], output2[index]);\n          if (result.invalid) {\n            return result;\n          }\n          array2.push(result.output);\n        }\n        return { output: array2 };\n      }\n      return { invalid: true };\n    }\n    if (output1 && output2 && output1.constructor === Object && output2.constructor === Object) {\n      const object2 = { ...output1, ...output2 };\n      for (const key in output1) {\n        if (key in output2) {\n          const result = mergeOutputs(output1[key], output2[key]);\n          if (result.invalid) {\n            return result;\n          }\n          object2[key] = result.output;\n        }\n      }\n      return { output: object2 };\n    }\n  }\n  return { invalid: true };\n}\n\n// src/schemas/intersect/intersect.ts\nfunction intersect(options, arg2, arg3) {\n  const [message, pipe] = defaultArgs(arg2, arg3);\n  return {\n    type: \"intersect\",\n    expects: [...new Set(options.map((option) => option.expects))].join(\" & \"),\n    async: false,\n    options,\n    message,\n    pipe,\n    _parse(input, config) {\n      let typed = true;\n      let issues;\n      let output;\n      const outputs = [];\n      for (const schema of this.options) {\n        const result = schema._parse(input, config);\n        if (result.issues) {\n          if (issues) {\n            for (const issue of result.issues) {\n              issues.push(issue);\n            }\n          } else {\n            issues = result.issues;\n          }\n          if (config?.abortEarly) {\n            typed = false;\n            break;\n          }\n        }\n        if (!result.typed) {\n          typed = false;\n        }\n        outputs.push(result.output);\n      }\n      if (typed) {\n        output = outputs[0];\n        for (let index = 1; index < outputs.length; index++) {\n          const result = mergeOutputs(output, outputs[index]);\n          if (result.invalid) {\n            return schemaIssue(this, intersect, input, config);\n          }\n          output = result.output;\n        }\n        return pipeResult(this, output, config, issues);\n      }\n      return schemaResult(false, output, issues);\n    }\n  };\n}\n\n// src/schemas/intersect/intersectAsync.ts\nfunction intersectAsync(options, arg2, arg3) {\n  const [message, pipe] = defaultArgs(arg2, arg3);\n  return {\n    type: \"intersect\",\n    expects: [...new Set(options.map((option) => option.expects))].join(\" & \"),\n    async: true,\n    options,\n    message,\n    pipe,\n    async _parse(input, config) {\n      let typed = true;\n      let issues;\n      let output;\n      const outputs = [];\n      await Promise.all(\n        this.options.map(async (schema) => {\n          if (!(config?.abortEarly && issues)) {\n            const result = await schema._parse(input, config);\n            if (!(config?.abortEarly && issues)) {\n              if (result.issues) {\n                if (issues) {\n                  for (const issue of result.issues) {\n                    issues.push(issue);\n                  }\n                } else {\n                  issues = result.issues;\n                }\n                if (config?.abortEarly) {\n                  typed = false;\n                  throw null;\n                }\n              }\n              if (!result.typed) {\n                typed = false;\n              }\n              outputs.push(result.output);\n            }\n          }\n        })\n      ).catch(() => null);\n      if (typed) {\n        output = outputs[0];\n        for (let index = 1; index < outputs.length; index++) {\n          const result = mergeOutputs(output, outputs[index]);\n          if (result.invalid) {\n            return schemaIssue(this, intersectAsync, input, config);\n          }\n          output = result.output;\n        }\n        return pipeResultAsync(this, output, config, issues);\n      }\n      return schemaResult(false, output, issues);\n    }\n  };\n}\n\n// src/schemas/lazy/lazy.ts\nfunction lazy(getter) {\n  return {\n    type: \"lazy\",\n    expects: \"unknown\",\n    async: false,\n    getter,\n    _parse(input, config) {\n      return this.getter(input)._parse(input, config);\n    }\n  };\n}\n\n// src/schemas/lazy/lazyAsync.ts\nfunction lazyAsync(getter) {\n  return {\n    type: \"lazy\",\n    expects: \"unknown\",\n    async: true,\n    getter,\n    async _parse(input, config) {\n      return (await this.getter(input))._parse(input, config);\n    }\n  };\n}\n\n// src/schemas/literal/literal.ts\nfunction literal(literal_, message) {\n  return {\n    type: \"literal\",\n    expects: stringify(literal_),\n    async: false,\n    literal: literal_,\n    message,\n    _parse(input, config) {\n      if (input === this.literal) {\n        return schemaResult(true, input);\n      }\n      return schemaIssue(this, literal, input, config);\n    }\n  };\n}\n\n// src/schemas/literal/literalAsync.ts\nfunction literalAsync(literal2, message) {\n  return {\n    type: \"literal\",\n    expects: stringify(literal2),\n    async: true,\n    literal: literal2,\n    message,\n    async _parse(input, config) {\n      if (input === this.literal) {\n        return schemaResult(true, input);\n      }\n      return schemaIssue(this, literalAsync, input, config);\n    }\n  };\n}\n\n// src/schemas/map/map.ts\nfunction map(key, value2, arg3, arg4) {\n  const [message, pipe] = defaultArgs(arg3, arg4);\n  return {\n    type: \"map\",\n    expects: \"Map\",\n    async: false,\n    key,\n    value: value2,\n    message,\n    pipe,\n    _parse(input, config) {\n      if (input instanceof Map) {\n        let typed = true;\n        let issues;\n        const output = /* @__PURE__ */ new Map();\n        for (const [inputKey, inputValue] of input.entries()) {\n          let pathItem;\n          const keyResult = this.key._parse(inputKey, config);\n          if (keyResult.issues) {\n            pathItem = {\n              type: \"map\",\n              origin: \"key\",\n              input,\n              key: inputKey,\n              value: inputValue\n            };\n            for (const issue of keyResult.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              issues?.push(issue);\n            }\n            if (!issues) {\n              issues = keyResult.issues;\n            }\n            if (config?.abortEarly) {\n              typed = false;\n              break;\n            }\n          }\n          const valueResult = this.value._parse(inputValue, config);\n          if (valueResult.issues) {\n            pathItem = pathItem ?? {\n              type: \"map\",\n              origin: \"value\",\n              input,\n              key: inputKey,\n              value: inputValue\n            };\n            for (const issue of valueResult.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              issues?.push(issue);\n            }\n            if (!issues) {\n              issues = valueResult.issues;\n            }\n            if (config?.abortEarly) {\n              typed = false;\n              break;\n            }\n          }\n          if (!keyResult.typed || !valueResult.typed) {\n            typed = false;\n          }\n          output.set(keyResult.output, valueResult.output);\n        }\n        if (typed) {\n          return pipeResult(this, output, config, issues);\n        }\n        return schemaResult(false, output, issues);\n      }\n      return schemaIssue(this, map, input, config);\n    }\n  };\n}\n\n// src/schemas/map/mapAsync.ts\nfunction mapAsync(key, value2, arg3, arg4) {\n  const [message, pipe] = defaultArgs(arg3, arg4);\n  return {\n    type: \"map\",\n    expects: \"Map\",\n    async: true,\n    key,\n    value: value2,\n    message,\n    pipe,\n    async _parse(input, config) {\n      if (input instanceof Map) {\n        let typed = true;\n        let issues;\n        const output = /* @__PURE__ */ new Map();\n        await Promise.all(\n          Array.from(input.entries()).map(async ([inputKey, inputValue]) => {\n            let pathItem;\n            const [keyResult, valueResult] = await Promise.all(\n              [\n                { schema: this.key, value: inputKey, origin: \"key\" },\n                { schema: this.value, value: inputValue, origin: \"value\" }\n              ].map(async ({ schema, value: value3, origin }) => {\n                if (!(config?.abortEarly && issues)) {\n                  const result = await schema._parse(value3, config);\n                  if (!(config?.abortEarly && issues)) {\n                    if (result.issues) {\n                      pathItem = pathItem ?? {\n                        type: \"map\",\n                        origin,\n                        input,\n                        key: inputKey,\n                        value: inputValue\n                      };\n                      for (const issue of result.issues) {\n                        if (issue.path) {\n                          issue.path.unshift(pathItem);\n                        } else {\n                          issue.path = [pathItem];\n                        }\n                        issues?.push(issue);\n                      }\n                      if (!issues) {\n                        issues = result.issues;\n                      }\n                      if (config?.abortEarly) {\n                        throw null;\n                      }\n                    }\n                    return result;\n                  }\n                }\n              })\n            ).catch(() => []);\n            if (!keyResult?.typed || !valueResult?.typed) {\n              typed = false;\n            }\n            if (keyResult && valueResult) {\n              output.set(keyResult.output, valueResult.output);\n            }\n          })\n        );\n        if (typed) {\n          return pipeResultAsync(this, output, config, issues);\n        }\n        return schemaResult(false, output, issues);\n      }\n      return schemaIssue(this, mapAsync, input, config);\n    }\n  };\n}\n\n// src/schemas/nan/nan.ts\nfunction nan(message) {\n  return {\n    type: \"nan\",\n    expects: \"NaN\",\n    async: false,\n    message,\n    _parse(input, config) {\n      if (Number.isNaN(input)) {\n        return schemaResult(true, input);\n      }\n      return schemaIssue(this, nan, input, config);\n    }\n  };\n}\n\n// src/schemas/nan/nanAsync.ts\nfunction nanAsync(message) {\n  return {\n    type: \"nan\",\n    expects: \"NaN\",\n    async: true,\n    message,\n    async _parse(input, config) {\n      if (Number.isNaN(input)) {\n        return schemaResult(true, input);\n      }\n      return schemaIssue(this, nanAsync, input, config);\n    }\n  };\n}\n\n// src/schemas/never/never.ts\nfunction never(message) {\n  return {\n    type: \"never\",\n    expects: \"never\",\n    async: false,\n    message,\n    _parse(input, config) {\n      return schemaIssue(this, never, input, config);\n    }\n  };\n}\n\n// src/schemas/never/neverAsync.ts\nfunction neverAsync(message) {\n  return {\n    type: \"never\",\n    expects: \"never\",\n    async: true,\n    message,\n    async _parse(input, config) {\n      return schemaIssue(this, neverAsync, input, config);\n    }\n  };\n}\n\n// src/schemas/nonNullable/nonNullable.ts\nfunction nonNullable(wrapped, message) {\n  return {\n    type: \"non_nullable\",\n    expects: \"!null\",\n    async: false,\n    wrapped,\n    message,\n    _parse(input, config) {\n      if (input === null) {\n        return schemaIssue(this, nonNullable, input, config);\n      }\n      return this.wrapped._parse(input, config);\n    }\n  };\n}\n\n// src/schemas/nonNullable/nonNullableAsync.ts\nfunction nonNullableAsync(wrapped, message) {\n  return {\n    type: \"non_nullable\",\n    expects: \"!null\",\n    async: true,\n    wrapped,\n    message,\n    async _parse(input, config) {\n      if (input === null) {\n        return schemaIssue(this, nonNullableAsync, input, config);\n      }\n      return this.wrapped._parse(input, config);\n    }\n  };\n}\n\n// src/schemas/nonNullish/nonNullish.ts\nfunction nonNullish(wrapped, message) {\n  return {\n    type: \"non_nullish\",\n    expects: \"!null & !undefined\",\n    async: false,\n    wrapped,\n    message,\n    _parse(input, config) {\n      if (input === null || input === void 0) {\n        return schemaIssue(this, nonNullish, input, config);\n      }\n      return this.wrapped._parse(input, config);\n    }\n  };\n}\n\n// src/schemas/nonNullish/nonNullishAsync.ts\nfunction nonNullishAsync(wrapped, message) {\n  return {\n    type: \"non_nullish\",\n    expects: \"!null & !undefined\",\n    async: true,\n    wrapped,\n    message,\n    async _parse(input, config) {\n      if (input === null || input === void 0) {\n        return schemaIssue(this, nonNullishAsync, input, config);\n      }\n      return this.wrapped._parse(input, config);\n    }\n  };\n}\n\n// src/schemas/nonOptional/nonOptional.ts\nfunction nonOptional(wrapped, message) {\n  return {\n    type: \"non_optional\",\n    expects: \"!undefined\",\n    async: false,\n    wrapped,\n    message,\n    _parse(input, config) {\n      if (input === void 0) {\n        return schemaIssue(this, nonOptional, input, config);\n      }\n      return this.wrapped._parse(input, config);\n    }\n  };\n}\n\n// src/schemas/nonOptional/nonOptionalAsync.ts\nfunction nonOptionalAsync(wrapped, message) {\n  return {\n    type: \"non_optional\",\n    expects: \"!undefined\",\n    async: true,\n    wrapped,\n    message,\n    async _parse(input, config) {\n      if (input === void 0) {\n        return schemaIssue(this, nonOptionalAsync, input, config);\n      }\n      return this.wrapped._parse(input, config);\n    }\n  };\n}\n\n// src/schemas/nullable/nullable.ts\nfunction nullable(wrapped, default_) {\n  return {\n    type: \"nullable\",\n    expects: `${wrapped.expects} | null`,\n    async: false,\n    wrapped,\n    default: default_,\n    _parse(input, config) {\n      if (input === null) {\n        const override = getDefault(this);\n        if (override === void 0) {\n          return schemaResult(true, input);\n        }\n        input = override;\n      }\n      return this.wrapped._parse(input, config);\n    }\n  };\n}\n\n// src/schemas/nullable/nullableAsync.ts\nfunction nullableAsync(wrapped, default_) {\n  return {\n    type: \"nullable\",\n    expects: `${wrapped.expects} | null`,\n    async: true,\n    wrapped,\n    default: default_,\n    async _parse(input, config) {\n      if (input === null) {\n        const override = await getDefaultAsync(this);\n        if (override === void 0) {\n          return schemaResult(true, input);\n        }\n        input = override;\n      }\n      return this.wrapped._parse(input, config);\n    }\n  };\n}\n\n// src/schemas/nullish/nullish.ts\nfunction nullish(wrapped, default_) {\n  return {\n    type: \"nullish\",\n    expects: `${wrapped.expects} | null | undefined`,\n    async: false,\n    wrapped,\n    default: default_,\n    _parse(input, config) {\n      if (input === null || input === void 0) {\n        const override = getDefault(this);\n        if (override === void 0) {\n          return schemaResult(true, input);\n        }\n        input = override;\n      }\n      return this.wrapped._parse(input, config);\n    }\n  };\n}\n\n// src/schemas/nullish/nullishAsync.ts\nfunction nullishAsync(wrapped, default_) {\n  return {\n    type: \"nullish\",\n    expects: `${wrapped.expects} | null | undefined`,\n    async: true,\n    wrapped,\n    default: default_,\n    async _parse(input, config) {\n      if (input === null || input === void 0) {\n        const override = await getDefaultAsync(this);\n        if (override === void 0) {\n          return schemaResult(true, input);\n        }\n        input = override;\n      }\n      return this.wrapped._parse(input, config);\n    }\n  };\n}\n\n// src/schemas/null/null.ts\nfunction null_(message) {\n  return {\n    type: \"null\",\n    expects: \"null\",\n    async: false,\n    message,\n    _parse(input, config) {\n      if (input === null) {\n        return schemaResult(true, input);\n      }\n      return schemaIssue(this, null_, input, config);\n    }\n  };\n}\n\n// src/schemas/null/nullAsync.ts\nfunction nullAsync(message) {\n  return {\n    type: \"null\",\n    expects: \"null\",\n    async: true,\n    message,\n    async _parse(input, config) {\n      if (input === null) {\n        return schemaResult(true, input);\n      }\n      return schemaIssue(this, nullAsync, input, config);\n    }\n  };\n}\n\n// src/schemas/number/number.ts\nfunction number(arg1, arg2) {\n  const [message, pipe] = defaultArgs(arg1, arg2);\n  return {\n    type: \"number\",\n    expects: \"number\",\n    async: false,\n    message,\n    pipe,\n    _parse(input, config) {\n      if (typeof input === \"number\" && !isNaN(input)) {\n        return pipeResult(this, input, config);\n      }\n      return schemaIssue(this, number, input, config);\n    }\n  };\n}\n\n// src/schemas/number/numberAsync.ts\nfunction numberAsync(arg1, arg2) {\n  const [message, pipe] = defaultArgs(arg1, arg2);\n  return {\n    type: \"number\",\n    expects: \"number\",\n    async: true,\n    message,\n    pipe,\n    async _parse(input, config) {\n      if (typeof input === \"number\" && !isNaN(input)) {\n        return pipeResultAsync(this, input, config);\n      }\n      return schemaIssue(this, numberAsync, input, config);\n    }\n  };\n}\n\n// src/schemas/object/object.ts\nfunction object(entries, arg2, arg3, arg4) {\n  const [rest, message, pipe] = restAndDefaultArgs(arg2, arg3, arg4);\n  let cachedEntries;\n  return {\n    type: \"object\",\n    expects: \"Object\",\n    async: false,\n    entries,\n    rest,\n    message,\n    pipe,\n    _parse(input, config) {\n      if (input && typeof input === \"object\") {\n        cachedEntries = cachedEntries ?? Object.entries(this.entries);\n        let typed = true;\n        let issues;\n        const output = {};\n        for (const [key, schema] of cachedEntries) {\n          const value2 = input[key];\n          const result = schema._parse(value2, config);\n          if (result.issues) {\n            const pathItem = {\n              type: \"object\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of result.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              issues?.push(issue);\n            }\n            if (!issues) {\n              issues = result.issues;\n            }\n            if (config?.abortEarly) {\n              typed = false;\n              break;\n            }\n          }\n          if (!result.typed) {\n            typed = false;\n          }\n          if (result.output !== void 0 || key in input) {\n            output[key] = result.output;\n          }\n        }\n        if (this.rest && !(config?.abortEarly && issues)) {\n          for (const key in input) {\n            if (!(key in this.entries)) {\n              const value2 = input[key];\n              const result = this.rest._parse(value2, config);\n              if (result.issues) {\n                const pathItem = {\n                  type: \"object\",\n                  origin: \"value\",\n                  input,\n                  key,\n                  value: value2\n                };\n                for (const issue of result.issues) {\n                  if (issue.path) {\n                    issue.path.unshift(pathItem);\n                  } else {\n                    issue.path = [pathItem];\n                  }\n                  issues?.push(issue);\n                }\n                if (!issues) {\n                  issues = result.issues;\n                }\n                if (config?.abortEarly) {\n                  typed = false;\n                  break;\n                }\n              }\n              if (!result.typed) {\n                typed = false;\n              }\n              output[key] = result.output;\n            }\n          }\n        }\n        if (typed) {\n          return pipeResult(\n            this,\n            output,\n            config,\n            issues\n          );\n        }\n        return schemaResult(false, output, issues);\n      }\n      return schemaIssue(this, object, input, config);\n    }\n  };\n}\n\n// src/schemas/object/objectAsync.ts\nfunction objectAsync(entries, arg2, arg3, arg4) {\n  const [rest, message, pipe] = restAndDefaultArgs(arg2, arg3, arg4);\n  let cachedEntries;\n  return {\n    type: \"object\",\n    expects: \"Object\",\n    async: true,\n    entries,\n    rest,\n    message,\n    pipe,\n    async _parse(input, config) {\n      if (input && typeof input === \"object\") {\n        cachedEntries = cachedEntries ?? Object.entries(this.entries);\n        let typed = true;\n        let issues;\n        const output = {};\n        await Promise.all([\n          Promise.all(\n            cachedEntries.map(async ([key, schema]) => {\n              if (!(config?.abortEarly && issues)) {\n                const value2 = input[key];\n                const result = await schema._parse(value2, config);\n                if (!(config?.abortEarly && issues)) {\n                  if (result.issues) {\n                    const pathItem = {\n                      type: \"object\",\n                      origin: \"value\",\n                      input,\n                      key,\n                      value: value2\n                    };\n                    for (const issue of result.issues) {\n                      if (issue.path) {\n                        issue.path.unshift(pathItem);\n                      } else {\n                        issue.path = [pathItem];\n                      }\n                      issues?.push(issue);\n                    }\n                    if (!issues) {\n                      issues = result.issues;\n                    }\n                    if (config?.abortEarly) {\n                      typed = false;\n                      throw null;\n                    }\n                  }\n                  if (!result.typed) {\n                    typed = false;\n                  }\n                  if (result.output !== void 0 || key in input) {\n                    output[key] = result.output;\n                  }\n                }\n              }\n            })\n          ),\n          this.rest && Promise.all(\n            Object.entries(input).map(async ([key, value2]) => {\n              if (!(config?.abortEarly && issues)) {\n                if (!(key in this.entries)) {\n                  const result = await this.rest._parse(value2, config);\n                  if (!(config?.abortEarly && issues)) {\n                    if (result.issues) {\n                      const pathItem = {\n                        type: \"object\",\n                        origin: \"value\",\n                        input,\n                        key,\n                        value: value2\n                      };\n                      for (const issue of result.issues) {\n                        if (issue.path) {\n                          issue.path.unshift(pathItem);\n                        } else {\n                          issue.path = [pathItem];\n                        }\n                        issues?.push(issue);\n                      }\n                      if (!issues) {\n                        issues = result.issues;\n                      }\n                      if (config?.abortEarly) {\n                        typed = false;\n                        throw null;\n                      }\n                    }\n                    if (!result.typed) {\n                      typed = false;\n                    }\n                    output[key] = result.output;\n                  }\n                }\n              }\n            })\n          )\n        ]).catch(() => null);\n        if (typed) {\n          return pipeResultAsync(\n            this,\n            output,\n            config,\n            issues\n          );\n        }\n        return schemaResult(false, output, issues);\n      }\n      return schemaIssue(this, objectAsync, input, config);\n    }\n  };\n}\n\n// src/schemas/optional/optional.ts\nfunction optional(wrapped, default_) {\n  return {\n    type: \"optional\",\n    expects: `${wrapped.expects} | undefined`,\n    async: false,\n    wrapped,\n    default: default_,\n    _parse(input, config) {\n      if (input === void 0) {\n        const override = getDefault(this);\n        if (override === void 0) {\n          return schemaResult(true, input);\n        }\n        input = override;\n      }\n      return this.wrapped._parse(input, config);\n    }\n  };\n}\n\n// src/schemas/optional/optionalAsync.ts\nfunction optionalAsync(wrapped, default_) {\n  return {\n    type: \"optional\",\n    expects: `${wrapped.expects} | undefined`,\n    async: true,\n    wrapped,\n    default: default_,\n    async _parse(input, config) {\n      if (input === void 0) {\n        const override = await getDefaultAsync(this);\n        if (override === void 0) {\n          return schemaResult(true, input);\n        }\n        input = override;\n      }\n      return this.wrapped._parse(input, config);\n    }\n  };\n}\n\n// src/schemas/picklist/picklist.ts\nfunction picklist(options, message) {\n  return {\n    type: \"picklist\",\n    expects: options.map(stringify).join(\" | \"),\n    async: false,\n    options,\n    message,\n    _parse(input, config) {\n      if (this.options.includes(input)) {\n        return schemaResult(true, input);\n      }\n      return schemaIssue(this, picklist, input, config);\n    }\n  };\n}\n\n// src/schemas/picklist/picklistAsync.ts\nfunction picklistAsync(options, message) {\n  return {\n    type: \"picklist\",\n    expects: options.map(stringify).join(\" | \"),\n    async: true,\n    options,\n    message,\n    async _parse(input, config) {\n      if (this.options.includes(input)) {\n        return schemaResult(true, input);\n      }\n      return schemaIssue(this, picklistAsync, input, config);\n    }\n  };\n}\n\n// src/schemas/string/string.ts\nfunction string(arg1, arg2) {\n  const [message, pipe] = defaultArgs(arg1, arg2);\n  return {\n    type: \"string\",\n    expects: \"string\",\n    async: false,\n    message,\n    pipe,\n    _parse(input, config) {\n      if (typeof input === \"string\") {\n        return pipeResult(this, input, config);\n      }\n      return schemaIssue(this, string, input, config);\n    }\n  };\n}\n\n// src/schemas/string/stringAsync.ts\nfunction stringAsync(arg1, arg2) {\n  const [message, pipe] = defaultArgs(arg1, arg2);\n  return {\n    type: \"string\",\n    expects: \"string\",\n    async: true,\n    message,\n    pipe,\n    async _parse(input, config) {\n      if (typeof input === \"string\") {\n        return pipeResultAsync(this, input, config);\n      }\n      return schemaIssue(this, stringAsync, input, config);\n    }\n  };\n}\n\n// src/schemas/record/utils/recordArgs/recordArgs.ts\nfunction recordArgs(arg1, arg2, arg3, arg4) {\n  if (typeof arg2 === \"object\" && !Array.isArray(arg2)) {\n    const [message2, pipe2] = defaultArgs(arg3, arg4);\n    return [arg1, arg2, message2, pipe2];\n  }\n  const [message, pipe] = defaultArgs(\n    arg2,\n    arg3\n  );\n  return [string(), arg1, message, pipe];\n}\n\n// src/schemas/record/values.ts\nvar BLOCKED_KEYS = [\"__proto__\", \"prototype\", \"constructor\"];\n\n// src/schemas/record/record.ts\nfunction record(arg1, arg2, arg3, arg4) {\n  const [key, value2, message, pipe] = recordArgs(arg1, arg2, arg3, arg4);\n  return {\n    type: \"record\",\n    expects: \"Object\",\n    async: false,\n    key,\n    value: value2,\n    message,\n    pipe,\n    _parse(input, config) {\n      if (input && typeof input === \"object\") {\n        let typed = true;\n        let issues;\n        const output = {};\n        for (const [inputKey, inputValue] of Object.entries(input)) {\n          if (!BLOCKED_KEYS.includes(inputKey)) {\n            let pathItem;\n            const keyResult = this.key._parse(inputKey, config);\n            if (keyResult.issues) {\n              pathItem = {\n                type: \"record\",\n                origin: \"key\",\n                input,\n                key: inputKey,\n                value: inputValue\n              };\n              for (const issue of keyResult.issues) {\n                issue.path = [pathItem];\n                issues?.push(issue);\n              }\n              if (!issues) {\n                issues = keyResult.issues;\n              }\n              if (config?.abortEarly) {\n                typed = false;\n                break;\n              }\n            }\n            const valueResult = this.value._parse(inputValue, config);\n            if (valueResult.issues) {\n              pathItem = pathItem ?? {\n                type: \"record\",\n                origin: \"value\",\n                input,\n                key: inputKey,\n                value: inputValue\n              };\n              for (const issue of valueResult.issues) {\n                if (issue.path) {\n                  issue.path.unshift(pathItem);\n                } else {\n                  issue.path = [pathItem];\n                }\n                issues?.push(issue);\n              }\n              if (!issues) {\n                issues = valueResult.issues;\n              }\n              if (config?.abortEarly) {\n                typed = false;\n                break;\n              }\n            }\n            if (!keyResult.typed || !valueResult.typed) {\n              typed = false;\n            }\n            if (keyResult.typed) {\n              output[keyResult.output] = valueResult.output;\n            }\n          }\n        }\n        if (typed) {\n          return pipeResult(\n            this,\n            output,\n            config,\n            issues\n          );\n        }\n        return schemaResult(false, output, issues);\n      }\n      return schemaIssue(this, record, input, config);\n    }\n  };\n}\n\n// src/schemas/record/recordAsync.ts\nfunction recordAsync(arg1, arg2, arg3, arg4) {\n  const [key, value2, message, pipe] = recordArgs(arg1, arg2, arg3, arg4);\n  return {\n    type: \"record\",\n    expects: \"Object\",\n    async: true,\n    key,\n    value: value2,\n    message,\n    pipe,\n    async _parse(input, config) {\n      if (input && typeof input === \"object\") {\n        let typed = true;\n        let issues;\n        const output = {};\n        await Promise.all(\n          // Note: `Object.entries(...)` converts each key to a string\n          Object.entries(input).map(async ([inputKey, inputValue]) => {\n            if (!BLOCKED_KEYS.includes(inputKey)) {\n              let pathItem;\n              const [keyResult, valueResult] = await Promise.all(\n                [\n                  { schema: this.key, value: inputKey, origin: \"key\" },\n                  { schema: this.value, value: inputValue, origin: \"value\" }\n                ].map(async ({ schema, value: value3, origin }) => {\n                  if (!(config?.abortEarly && issues)) {\n                    const result = await schema._parse(value3, config);\n                    if (!(config?.abortEarly && issues)) {\n                      if (result.issues) {\n                        pathItem = pathItem ?? {\n                          type: \"record\",\n                          origin,\n                          input,\n                          key: inputKey,\n                          value: inputValue\n                        };\n                        for (const issue of result.issues) {\n                          if (issue.path) {\n                            issue.path.unshift(pathItem);\n                          } else {\n                            issue.path = [pathItem];\n                          }\n                          issues?.push(issue);\n                        }\n                        if (!issues) {\n                          issues = result.issues;\n                        }\n                        if (config?.abortEarly) {\n                          throw null;\n                        }\n                      }\n                      return result;\n                    }\n                  }\n                })\n              ).catch(() => []);\n              if (!keyResult?.typed || !valueResult?.typed) {\n                typed = false;\n              }\n              if (keyResult?.typed && valueResult) {\n                output[keyResult.output] = valueResult.output;\n              }\n            }\n          })\n        );\n        if (typed) {\n          return pipeResultAsync(\n            this,\n            output,\n            config,\n            issues\n          );\n        }\n        return schemaResult(false, output, issues);\n      }\n      return schemaIssue(this, recordAsync, input, config);\n    }\n  };\n}\n\n// src/schemas/set/set.ts\nfunction set(value2, arg2, arg3) {\n  const [message, pipe] = defaultArgs(arg2, arg3);\n  return {\n    type: \"set\",\n    expects: \"Set\",\n    async: false,\n    value: value2,\n    message,\n    pipe,\n    _parse(input, config) {\n      if (input instanceof Set) {\n        let key = 0;\n        let typed = true;\n        let issues;\n        const output = /* @__PURE__ */ new Set();\n        for (const inputValue of input) {\n          const result = this.value._parse(inputValue, config);\n          if (result.issues) {\n            const pathItem = {\n              type: \"set\",\n              origin: \"value\",\n              input,\n              key,\n              value: inputValue\n            };\n            for (const issue of result.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              issues?.push(issue);\n            }\n            if (!issues) {\n              issues = result.issues;\n            }\n            if (config?.abortEarly) {\n              typed = false;\n              break;\n            }\n          }\n          if (!result.typed) {\n            typed = false;\n          }\n          output.add(result.output);\n          key++;\n        }\n        if (typed) {\n          return pipeResult(this, output, config, issues);\n        }\n        return schemaResult(false, output, issues);\n      }\n      return schemaIssue(this, set, input, config);\n    }\n  };\n}\n\n// src/schemas/set/setAsync.ts\nfunction setAsync(value2, arg2, arg3) {\n  const [message, pipe] = defaultArgs(arg2, arg3);\n  return {\n    type: \"set\",\n    expects: \"Set\",\n    async: true,\n    value: value2,\n    message,\n    pipe,\n    async _parse(input, config) {\n      if (input instanceof Set) {\n        let typed = true;\n        let issues;\n        const output = /* @__PURE__ */ new Set();\n        await Promise.all(\n          Array.from(input.values()).map(async (inputValue, key) => {\n            if (!(config?.abortEarly && issues)) {\n              const result = await this.value._parse(inputValue, config);\n              if (!(config?.abortEarly && issues)) {\n                if (result.issues) {\n                  const pathItem = {\n                    type: \"set\",\n                    origin: \"value\",\n                    input,\n                    key,\n                    value: inputValue\n                  };\n                  for (const issue of result.issues) {\n                    if (issue.path) {\n                      issue.path.unshift(pathItem);\n                    } else {\n                      issue.path = [pathItem];\n                    }\n                    issues?.push(issue);\n                  }\n                  if (!issues) {\n                    issues = result.issues;\n                  }\n                  if (config?.abortEarly) {\n                    typed = false;\n                    throw null;\n                  }\n                }\n                if (!result.typed) {\n                  typed = false;\n                }\n                output.add(result.output);\n              }\n            }\n          })\n        ).catch(() => null);\n        if (typed) {\n          return pipeResultAsync(this, output, config, issues);\n        }\n        return schemaResult(false, output, issues);\n      }\n      return schemaIssue(this, setAsync, input, config);\n    }\n  };\n}\n\n// src/schemas/special/special.ts\nfunction special(check, arg2, arg3) {\n  const [message, pipe] = defaultArgs(arg2, arg3);\n  return {\n    type: \"special\",\n    expects: \"unknown\",\n    async: false,\n    check,\n    message,\n    pipe,\n    _parse(input, config) {\n      if (this.check(input)) {\n        return pipeResult(this, input, config);\n      }\n      return schemaIssue(this, special, input, config);\n    }\n  };\n}\n\n// src/schemas/special/specialAsync.ts\nfunction specialAsync(check, arg2, arg3) {\n  const [message, pipe] = defaultArgs(arg2, arg3);\n  return {\n    type: \"special\",\n    expects: \"unknown\",\n    async: true,\n    check,\n    message,\n    pipe,\n    async _parse(input, config) {\n      if (await this.check(input)) {\n        return pipeResultAsync(this, input, config);\n      }\n      return schemaIssue(this, specialAsync, input, config);\n    }\n  };\n}\n\n// src/schemas/symbol/symbol.ts\nfunction symbol(message) {\n  return {\n    type: \"symbol\",\n    expects: \"symbol\",\n    async: false,\n    message,\n    _parse(input, config) {\n      if (typeof input === \"symbol\") {\n        return schemaResult(true, input);\n      }\n      return schemaIssue(this, symbol, input, config);\n    }\n  };\n}\n\n// src/schemas/symbol/symbolAsync.ts\nfunction symbolAsync(message) {\n  return {\n    type: \"symbol\",\n    expects: \"symbol\",\n    async: true,\n    message,\n    async _parse(input, config) {\n      if (typeof input === \"symbol\") {\n        return schemaResult(true, input);\n      }\n      return schemaIssue(this, symbolAsync, input, config);\n    }\n  };\n}\n\n// src/schemas/tuple/tuple.ts\nfunction tuple(items, arg2, arg3, arg4) {\n  const [rest, message, pipe] = restAndDefaultArgs(arg2, arg3, arg4);\n  return {\n    type: \"tuple\",\n    expects: \"Array\",\n    async: false,\n    items,\n    rest,\n    message,\n    pipe,\n    _parse(input, config) {\n      if (Array.isArray(input)) {\n        let typed = true;\n        let issues;\n        const output = [];\n        for (let key = 0; key < this.items.length; key++) {\n          const value2 = input[key];\n          const result = this.items[key]._parse(value2, config);\n          if (result.issues) {\n            const pathItem = {\n              type: \"tuple\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of result.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              issues?.push(issue);\n            }\n            if (!issues) {\n              issues = result.issues;\n            }\n            if (config?.abortEarly) {\n              typed = false;\n              break;\n            }\n          }\n          if (!result.typed) {\n            typed = false;\n          }\n          output[key] = result.output;\n        }\n        if (this.rest && !(config?.abortEarly && issues)) {\n          for (let key = this.items.length; key < input.length; key++) {\n            const value2 = input[key];\n            const result = this.rest._parse(value2, config);\n            if (result.issues) {\n              const pathItem = {\n                type: \"tuple\",\n                origin: \"value\",\n                input,\n                key,\n                value: value2\n              };\n              for (const issue of result.issues) {\n                if (issue.path) {\n                  issue.path.unshift(pathItem);\n                } else {\n                  issue.path = [pathItem];\n                }\n                issues?.push(issue);\n              }\n              if (!issues) {\n                issues = result.issues;\n              }\n              if (config?.abortEarly) {\n                typed = false;\n                break;\n              }\n            }\n            if (!result.typed) {\n              typed = false;\n            }\n            output[key] = result.output;\n          }\n        }\n        if (typed) {\n          return pipeResult(\n            this,\n            output,\n            config,\n            issues\n          );\n        }\n        return schemaResult(false, output, issues);\n      }\n      return schemaIssue(this, tuple, input, config);\n    }\n  };\n}\n\n// src/schemas/tuple/tupleAsync.ts\nfunction tupleAsync(items, arg2, arg3, arg4) {\n  const [rest, message, pipe] = restAndDefaultArgs(arg2, arg3, arg4);\n  return {\n    type: \"tuple\",\n    expects: \"Array\",\n    async: true,\n    items,\n    rest,\n    message,\n    pipe,\n    async _parse(input, config) {\n      if (Array.isArray(input)) {\n        let typed = true;\n        let issues;\n        const output = [];\n        await Promise.all([\n          // Parse schema of each tuple item\n          Promise.all(\n            this.items.map(async (schema, key) => {\n              if (!(config?.abortEarly && issues)) {\n                const value2 = input[key];\n                const result = await schema._parse(value2, config);\n                if (!(config?.abortEarly && issues)) {\n                  if (result.issues) {\n                    const pathItem = {\n                      type: \"tuple\",\n                      origin: \"value\",\n                      input,\n                      key,\n                      value: value2\n                    };\n                    for (const issue of result.issues) {\n                      if (issue.path) {\n                        issue.path.unshift(pathItem);\n                      } else {\n                        issue.path = [pathItem];\n                      }\n                      issues?.push(issue);\n                    }\n                    if (!issues) {\n                      issues = result.issues;\n                    }\n                    if (config?.abortEarly) {\n                      typed = false;\n                      throw null;\n                    }\n                  }\n                  if (!result.typed) {\n                    typed = false;\n                  }\n                  output[key] = result.output;\n                }\n              }\n            })\n          ),\n          // If necessary parse schema of each rest item\n          this.rest && Promise.all(\n            input.slice(this.items.length).map(async (value2, index) => {\n              if (!(config?.abortEarly && issues)) {\n                const key = this.items.length + index;\n                const result = await this.rest._parse(value2, config);\n                if (!(config?.abortEarly && issues)) {\n                  if (result.issues) {\n                    const pathItem = {\n                      type: \"tuple\",\n                      origin: \"value\",\n                      input,\n                      key,\n                      value: value2\n                    };\n                    for (const issue of result.issues) {\n                      if (issue.path) {\n                        issue.path.unshift(pathItem);\n                      } else {\n                        issue.path = [pathItem];\n                      }\n                      issues?.push(issue);\n                    }\n                    if (!issues) {\n                      issues = result.issues;\n                    }\n                    if (config?.abortEarly) {\n                      typed = false;\n                      throw null;\n                    }\n                  }\n                  if (!result.typed) {\n                    typed = false;\n                  }\n                  output[key] = result.output;\n                }\n              }\n            })\n          )\n        ]).catch(() => null);\n        if (typed) {\n          return pipeResultAsync(\n            this,\n            output,\n            config,\n            issues\n          );\n        }\n        return schemaResult(false, output, issues);\n      }\n      return schemaIssue(this, tupleAsync, input, config);\n    }\n  };\n}\n\n// src/schemas/undefined/undefined.ts\nfunction undefined_(message) {\n  return {\n    type: \"undefined\",\n    expects: \"undefined\",\n    async: false,\n    message,\n    _parse(input, config) {\n      if (input === void 0) {\n        return schemaResult(true, input);\n      }\n      return schemaIssue(this, undefined_, input, config);\n    }\n  };\n}\n\n// src/schemas/undefined/undefinedAsync.ts\nfunction undefinedAsync(message) {\n  return {\n    type: \"undefined\",\n    expects: \"undefined\",\n    async: true,\n    message,\n    async _parse(input, config) {\n      if (input === void 0) {\n        return schemaResult(true, input);\n      }\n      return schemaIssue(this, undefinedAsync, input, config);\n    }\n  };\n}\n\n// src/schemas/union/utils/subissues/subissues.ts\nfunction subissues(results) {\n  let issues;\n  if (results) {\n    for (const result of results) {\n      if (issues) {\n        for (const issue of result.issues) {\n          issues.push(issue);\n        }\n      } else {\n        issues = result.issues;\n      }\n    }\n  }\n  return issues;\n}\n\n// src/schemas/union/union.ts\nfunction union(options, arg2, arg3) {\n  const [message, pipe] = defaultArgs(arg2, arg3);\n  return {\n    type: \"union\",\n    expects: [...new Set(options.map((option) => option.expects))].join(\" | \"),\n    async: false,\n    options,\n    message,\n    pipe,\n    _parse(input, config) {\n      let validResult;\n      let untypedResults;\n      let typedResults;\n      for (const schema of this.options) {\n        const result = schema._parse(input, config);\n        if (result.typed) {\n          if (!result.issues) {\n            validResult = result;\n            break;\n          } else {\n            typedResults ? typedResults.push(result) : typedResults = [result];\n          }\n        } else {\n          untypedResults ? untypedResults.push(result) : untypedResults = [result];\n        }\n      }\n      if (validResult) {\n        return pipeResult(this, validResult.output, config);\n      }\n      if (typedResults?.length) {\n        const firstResult = typedResults[0];\n        return pipeResult(\n          this,\n          firstResult.output,\n          config,\n          // Hint: If there is more than one typed result, we use a general\n          // union issue with subissues because the issues could contradict\n          // each other.\n          typedResults.length === 1 ? firstResult.issues : schemaIssue(this, union, input, config, {\n            reason: \"union\",\n            issues: subissues(typedResults)\n          }).issues\n        );\n      }\n      if (untypedResults?.length === 1) {\n        return untypedResults[0];\n      }\n      return schemaIssue(this, union, input, config, {\n        issues: subissues(untypedResults)\n      });\n    }\n  };\n}\n\n// src/schemas/union/unionAsync.ts\nfunction unionAsync(options, arg2, arg3) {\n  const [message, pipe] = defaultArgs(arg2, arg3);\n  return {\n    type: \"union\",\n    expects: [...new Set(options.map((option) => option.expects))].join(\" | \"),\n    async: true,\n    options,\n    message,\n    pipe,\n    async _parse(input, config) {\n      let validResult;\n      let untypedResults;\n      let typedResults;\n      for (const schema of this.options) {\n        const result = await schema._parse(input, config);\n        if (result.typed) {\n          if (!result.issues) {\n            validResult = result;\n            break;\n          } else {\n            typedResults ? typedResults.push(result) : typedResults = [result];\n          }\n        } else {\n          untypedResults ? untypedResults.push(result) : untypedResults = [result];\n        }\n      }\n      if (validResult) {\n        return pipeResultAsync(this, validResult.output, config);\n      }\n      if (typedResults?.length) {\n        const firstResult = typedResults[0];\n        return pipeResultAsync(\n          this,\n          firstResult.output,\n          config,\n          // Hint: If there is more than one typed result, we use a general\n          // union issue with subissues because the issues could contradict\n          // each other.\n          typedResults.length === 1 ? firstResult.issues : schemaIssue(this, unionAsync, input, config, {\n            reason: \"union\",\n            issues: subissues(typedResults)\n          }).issues\n        );\n      }\n      if (untypedResults?.length === 1) {\n        return untypedResults[0];\n      }\n      return schemaIssue(this, unionAsync, input, config, {\n        issues: subissues(untypedResults)\n      });\n    }\n  };\n}\n\n// src/schemas/unknown/unknown.ts\nfunction unknown(pipe) {\n  return {\n    type: \"unknown\",\n    expects: \"unknown\",\n    async: false,\n    pipe,\n    _parse(input, config) {\n      return pipeResult(this, input, config);\n    }\n  };\n}\n\n// src/schemas/unknown/unknownAsync.ts\nfunction unknownAsync(pipe) {\n  return {\n    type: \"unknown\",\n    expects: \"unknown\",\n    async: true,\n    pipe,\n    async _parse(input, config) {\n      return pipeResultAsync(this, input, config);\n    }\n  };\n}\n\n// src/schemas/variant/variant.ts\nfunction variant(key, options, arg3, arg4) {\n  const [message, pipe] = defaultArgs(arg3, arg4);\n  let cachedExpectedKey;\n  return {\n    type: \"variant\",\n    expects: \"Object\",\n    async: false,\n    key,\n    options,\n    message,\n    pipe,\n    _parse(input, config) {\n      if (input && typeof input === \"object\") {\n        if (this.key in input || !cachedExpectedKey) {\n          let expectedKey;\n          let variantResult;\n          const parseOptions = (options2) => {\n            for (const schema of options2) {\n              if (schema.type === \"object\") {\n                const keySchema = schema.entries[this.key];\n                const keyResult = keySchema._parse(\n                  input[this.key],\n                  config\n                );\n                if (!cachedExpectedKey) {\n                  expectedKey ? expectedKey.push(keySchema.expects) : expectedKey = [keySchema.expects];\n                }\n                if (!keyResult.issues) {\n                  const dataResult = schema._parse(input, config);\n                  if (!dataResult.issues) {\n                    variantResult = dataResult;\n                    break;\n                  }\n                  if (!variantResult || !variantResult.typed && dataResult.typed) {\n                    variantResult = dataResult;\n                  }\n                }\n              } else if (schema.type === \"variant\") {\n                parseOptions(schema.options);\n                if (variantResult && !variantResult.issues) {\n                  break;\n                }\n              }\n            }\n          };\n          parseOptions(this.options);\n          cachedExpectedKey = cachedExpectedKey || [...new Set(expectedKey)].join(\" | \");\n          if (variantResult) {\n            if (variantResult.typed) {\n              return pipeResult(\n                this,\n                variantResult.output,\n                config,\n                variantResult.issues\n              );\n            }\n            return variantResult;\n          }\n        }\n        const value2 = input[this.key];\n        return schemaIssue(this, variant, value2, config, {\n          expected: cachedExpectedKey,\n          path: [\n            {\n              type: \"object\",\n              origin: \"value\",\n              input,\n              key: this.key,\n              value: value2\n            }\n          ]\n        });\n      }\n      return schemaIssue(this, variant, input, config);\n    }\n  };\n}\n\n// src/schemas/variant/variantAsync.ts\nfunction variantAsync(key, options, arg3, arg4) {\n  const [message, pipe] = defaultArgs(arg3, arg4);\n  let cachedExpectedKey;\n  return {\n    type: \"variant\",\n    expects: \"Object\",\n    async: true,\n    key,\n    options,\n    message,\n    pipe,\n    async _parse(input, config) {\n      if (input && typeof input === \"object\") {\n        if (this.key in input || !cachedExpectedKey) {\n          let expectedKey;\n          let variantResult;\n          const parseOptions = async (options2) => {\n            for (const schema of options2) {\n              if (schema.type === \"object\") {\n                const keySchema = schema.entries[this.key];\n                const keyResult = await keySchema._parse(\n                  input[this.key],\n                  config\n                );\n                if (!cachedExpectedKey) {\n                  expectedKey ? expectedKey.push(keySchema.expects) : expectedKey = [keySchema.expects];\n                }\n                if (!keyResult.issues) {\n                  const dataResult = await schema._parse(input, config);\n                  if (!dataResult.issues) {\n                    variantResult = dataResult;\n                    break;\n                  }\n                  if (!variantResult || !variantResult.typed && dataResult.typed) {\n                    variantResult = dataResult;\n                  }\n                }\n              } else if (schema.type === \"variant\") {\n                await parseOptions(schema.options);\n                if (variantResult && !variantResult.issues) {\n                  break;\n                }\n              }\n            }\n          };\n          await parseOptions(this.options);\n          cachedExpectedKey = cachedExpectedKey || [...new Set(expectedKey)].join(\" | \");\n          if (variantResult) {\n            if (variantResult.typed) {\n              return pipeResultAsync(\n                this,\n                variantResult.output,\n                config,\n                variantResult.issues\n              );\n            }\n            return variantResult;\n          }\n        }\n        const value2 = input[this.key];\n        return schemaIssue(this, variantAsync, value2, config, {\n          expected: cachedExpectedKey,\n          path: [\n            {\n              type: \"object\",\n              origin: \"value\",\n              input,\n              key: this.key,\n              value: value2\n            }\n          ]\n        });\n      }\n      return schemaIssue(this, variantAsync, input, config);\n    }\n  };\n}\n\n// src/schemas/void/void.ts\nfunction void_(message) {\n  return {\n    type: \"void\",\n    expects: \"void\",\n    async: false,\n    message,\n    _parse(input, config) {\n      if (input === void 0) {\n        return schemaResult(true, input);\n      }\n      return schemaIssue(this, void_, input, config);\n    }\n  };\n}\n\n// src/schemas/void/voidAsync.ts\nfunction voidAsync(message) {\n  return {\n    type: \"void\",\n    expects: \"void\",\n    async: true,\n    message,\n    async _parse(input, config) {\n      if (input === void 0) {\n        return schemaResult(true, input);\n      }\n      return schemaIssue(this, voidAsync, input, config);\n    }\n  };\n}\n\n// src/methods/keyof/keyof.ts\nfunction keyof(schema) {\n  return picklist(\n    Object.keys(schema.entries)\n  );\n}\n\n// src/methods/merge/merge.ts\nfunction merge(schemas, arg2, arg3, arg4) {\n  const [rest, message, pipe] = restAndDefaultArgs(arg2, arg3, arg4);\n  return object(\n    schemas.reduce(\n      (entries, schema) => ({ ...entries, ...schema.entries }),\n      {}\n    ),\n    rest,\n    message,\n    pipe\n  );\n}\n\n// src/methods/merge/mergeAsync.ts\nfunction mergeAsync(schemas, arg2, arg3, arg4) {\n  const [rest, message, pipe] = restAndDefaultArgs(arg2, arg3, arg4);\n  return objectAsync(\n    schemas.reduce(\n      (entries, schema) => ({ ...entries, ...schema.entries }),\n      {}\n    ),\n    rest,\n    message,\n    pipe\n  );\n}\n\n// src/methods/omit/omit.ts\nfunction omit(schema, keys, arg3, arg4, arg5) {\n  const [rest, message, pipe] = restAndDefaultArgs(arg3, arg4, arg5);\n  return object(\n    Object.entries(schema.entries).reduce(\n      (entries, [key, schema2]) => keys.includes(key) ? entries : { ...entries, [key]: schema2 },\n      {}\n    ),\n    rest,\n    message,\n    pipe\n  );\n}\n\n// src/methods/omit/omitAsync.ts\nfunction omitAsync(schema, keys, arg3, arg4, arg5) {\n  const [rest, message, pipe] = restAndDefaultArgs(arg3, arg4, arg5);\n  return objectAsync(\n    Object.entries(schema.entries).reduce(\n      (entries, [key, schema2]) => keys.includes(key) ? entries : { ...entries, [key]: schema2 },\n      {}\n    ),\n    rest,\n    message,\n    pipe\n  );\n}\n\n// src/methods/parse/parse.ts\nfunction parse(schema, input, config) {\n  const result = schema._parse(input, getGlobalConfig(config));\n  if (result.issues) {\n    throw new ValiError(result.issues);\n  }\n  return result.output;\n}\n\n// src/methods/parse/parseAsync.ts\nasync function parseAsync(schema, input, config) {\n  const result = await schema._parse(input, getGlobalConfig(config));\n  if (result.issues) {\n    throw new ValiError(result.issues);\n  }\n  return result.output;\n}\n\n// src/methods/partial/partial.ts\nfunction partial(schema, arg2, arg3, arg4) {\n  const [rest, message, pipe] = restAndDefaultArgs(arg2, arg3, arg4);\n  return object(\n    Object.entries(schema.entries).reduce(\n      (entries, [key, schema2]) => ({\n        ...entries,\n        [key]: optional(schema2)\n      }),\n      {}\n    ),\n    rest,\n    message,\n    pipe\n  );\n}\n\n// src/methods/partial/partialAsync.ts\nfunction partialAsync(schema, arg2, arg3, arg4) {\n  const [rest, message, pipe] = restAndDefaultArgs(arg2, arg3, arg4);\n  return objectAsync(\n    Object.entries(schema.entries).reduce(\n      (entries, [key, schema2]) => ({\n        ...entries,\n        [key]: optionalAsync(schema2)\n      }),\n      {}\n    ),\n    rest,\n    message,\n    pipe\n  );\n}\n\n// src/methods/pick/pick.ts\nfunction pick(schema, keys, arg3, arg4, arg5) {\n  const [rest, message, pipe] = restAndDefaultArgs(arg3, arg4, arg5);\n  return object(\n    Object.entries(schema.entries).reduce(\n      (entries, [key, schema2]) => keys.includes(key) ? { ...entries, [key]: schema2 } : entries,\n      {}\n    ),\n    rest,\n    message,\n    pipe\n  );\n}\n\n// src/methods/pick/pickAsync.ts\nfunction pickAsync(schema, keys, arg3, arg4, arg5) {\n  const [rest, message, pipe] = restAndDefaultArgs(arg3, arg4, arg5);\n  return objectAsync(\n    Object.entries(schema.entries).reduce(\n      (entries, [key, schema2]) => keys.includes(key) ? { ...entries, [key]: schema2 } : entries,\n      {}\n    ),\n    rest,\n    message,\n    pipe\n  );\n}\n\n// src/methods/required/required.ts\nfunction required(schema, arg2, arg3, arg4) {\n  const [rest, message, pipe] = restAndDefaultArgs(arg2, arg3, arg4);\n  return object(\n    Object.entries(schema.entries).reduce(\n      (entries, [key, schema2]) => ({\n        ...entries,\n        [key]: nonOptional(schema2)\n      }),\n      {}\n    ),\n    rest,\n    message,\n    pipe\n  );\n}\n\n// src/methods/required/requiredAsync.ts\nfunction requiredAsync(schema, arg2, arg3, arg4) {\n  const [rest, message, pipe] = restAndDefaultArgs(arg2, arg3, arg4);\n  return objectAsync(\n    Object.entries(schema.entries).reduce(\n      (entries, [key, schema2]) => ({\n        ...entries,\n        [key]: nonOptionalAsync(schema2)\n      }),\n      {}\n    ),\n    rest,\n    message,\n    pipe\n  );\n}\n\n// src/methods/safeParse/safeParse.ts\nfunction safeParse(schema, input, config) {\n  const result = schema._parse(input, getGlobalConfig(config));\n  return {\n    typed: result.typed,\n    success: !result.issues,\n    output: result.output,\n    issues: result.issues\n  };\n}\n\n// src/methods/safeParse/safeParseAsync.ts\nasync function safeParseAsync(schema, input, config) {\n  const result = await schema._parse(input, getGlobalConfig(config));\n  return {\n    typed: result.typed,\n    success: !result.issues,\n    output: result.output,\n    issues: result.issues\n  };\n}\n\n// src/methods/transform/transform.ts\nfunction transform(schema, action, arg1) {\n  return {\n    ...schema,\n    _parse(input, config) {\n      const result = schema._parse(input, config);\n      if (result.issues) {\n        result.typed = false;\n      } else {\n        result.output = action(result.output, { issues: result.issues });\n        if (arg1) {\n          if (Array.isArray(arg1)) {\n            return pipeResult(\n              { type: typeof result.output, pipe: arg1 },\n              result.output,\n              config\n            );\n          }\n          return arg1._parse(result.output, config);\n        }\n      }\n      return result;\n    }\n  };\n}\n\n// src/methods/transform/transformAsync.ts\nfunction transformAsync(schema, action, arg1) {\n  return {\n    ...schema,\n    async: true,\n    async _parse(input, config) {\n      const result = await schema._parse(input, config);\n      if (result.issues) {\n        result.typed = false;\n      } else {\n        result.output = await action(result.output, { issues: result.issues });\n        if (arg1) {\n          if (Array.isArray(arg1)) {\n            return pipeResultAsync(\n              { type: typeof result.output, pipe: arg1 },\n              result.output,\n              config\n            );\n          }\n          return arg1._parse(result.output, config);\n        }\n      }\n      return result;\n    }\n  };\n}\n\n// src/methods/unwrap/unwrap.ts\nfunction unwrap(schema) {\n  return schema.wrapped;\n}\n\n// src/regex.ts\nvar BIC_REGEX = /^[A-Z]{6}(?!00)[A-Z\\d]{2}(?:[A-Z\\d]{3})?$/u;\nvar CUID2_REGEX = /^[a-z][\\da-z]*$/u;\nvar DECIMAL_REGEX = /^\\d+$/u;\nvar EMAIL_REGEX = /^[\\w+-]+(?:\\.[\\w+-]+)*@[\\da-z]+(?:[.-][\\da-z]+)*\\.[a-z]{2,}$/iu;\nvar EMOJI_REGEX = /^[\\p{Extended_Pictographic}\\p{Emoji_Component}]+$/u;\nvar HEXADECIMAL_REGEX = /^(0h|0x)?[\\da-f]+$/iu;\nvar HEX_COLOR_REGEX = /^#([\\da-f]{3}|[\\da-f]{4}|[\\da-f]{6}|[\\da-f]{8})$/iu;\nvar IMEI_REGEX = /^\\d{2}(?:[ /|-]?\\d{6}){2}[ /|-]?\\d$/u;\nvar IPV4_REGEX = (\n  // eslint-disable-next-line redos-detector/no-unsafe-regex -- false positive\n  /^(?:(?:[1-9]|1\\d|2[0-4])?\\d|25[0-5])(?:\\.(?:(?:[1-9]|1\\d|2[0-4])?\\d|25[0-5])){3}$/u\n);\nvar IPV6_REGEX = /^(?:(?:[\\da-f]{1,4}:){7}[\\da-f]{1,4}|(?:[\\da-f]{1,4}:){1,7}:|(?:[\\da-f]{1,4}:){1,6}:[\\da-f]{1,4}|(?:[\\da-f]{1,4}:){1,5}(?::[\\da-f]{1,4}){1,2}|(?:[\\da-f]{1,4}:){1,4}(?::[\\da-f]{1,4}){1,3}|(?:[\\da-f]{1,4}:){1,3}(?::[\\da-f]{1,4}){1,4}|(?:[\\da-f]{1,4}:){1,2}(?::[\\da-f]{1,4}){1,5}|[\\da-f]{1,4}:(?::[\\da-f]{1,4}){1,6}|:(?:(?::[\\da-f]{1,4}){1,7}|:)|fe80:(?::[\\da-f]{0,4}){0,4}%[\\da-z]+|::(?:f{4}(?::0{1,4})?:)?(?:(?:25[0-5]|(?:2[0-4]|1?\\d)?\\d)\\.){3}(?:25[0-5]|(?:2[0-4]|1?\\d)?\\d)|(?:[\\da-f]{1,4}:){1,4}:(?:(?:25[0-5]|(?:2[0-4]|1?\\d)?\\d)\\.){3}(?:25[0-5]|(?:2[0-4]|1?\\d)?\\d))$/iu;\nvar ISO_DATE_REGEX = /^\\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\\d|0[1-9]|3[01])$/u;\nvar ISO_DATE_TIME_REGEX = /^\\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\\d|0[1-9]|3[01])T(?:0\\d|1\\d|2[0-3]):[0-5]\\d$/u;\nvar ISO_TIME_REGEX = /^(?:0\\d|1\\d|2[0-3]):[0-5]\\d$/u;\nvar ISO_TIME_SECOND_REGEX = /^(?:0\\d|1\\d|2[0-3])(?::[0-5]\\d){2}$/u;\nvar ISO_TIMESTAMP_REGEX = /^\\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\\d|0[1-9]|3[01])T(?:0\\d|1\\d|2[0-3])(?::[0-5]\\d){2}(?:\\.\\d{1,9})?Z$/u;\nvar ISO_WEEK_REGEX = /^\\d{4}-W(?:0[1-9]|[1-4]\\d|5[0-3])$/u;\nvar MAC48_REGEX = /^(?:[\\da-f]{2}:){5}[\\da-f]{2}$|^(?:[\\da-f]{2}-){5}[\\da-f]{2}$|^(?:[\\da-f]{4}\\.){2}[\\da-f]{4}$/iu;\nvar MAC64_REGEX = /^(?:[\\da-f]{2}:){7}[\\da-f]{2}$|^(?:[\\da-f]{2}-){7}[\\da-f]{2}$|^(?:[\\da-f]{4}\\.){3}[\\da-f]{4}$|^(?:[\\da-f]{4}:){3}[\\da-f]{4}$/iu;\nvar OCTAL_REGEX = /^(0o)?[0-7]+$/iu;\nvar ULID_REGEX = /^[\\da-hjkmnp-tv-z]{26}$/iu;\nvar UUID_REGEX = /^[\\da-f]{8}(?:-[\\da-f]{4}){3}-[\\da-f]{12}$/iu;\n\n// src/transformations/toCustom/toCustom.ts\nfunction toCustom(action) {\n  return {\n    type: \"to_custom\",\n    async: false,\n    _parse(input) {\n      return actionOutput(action(input));\n    }\n  };\n}\n\n// src/transformations/toCustom/toCustomAsync.ts\nfunction toCustomAsync(action) {\n  return {\n    type: \"to_custom\",\n    async: true,\n    async _parse(input) {\n      return actionOutput(await action(input));\n    }\n  };\n}\n\n// src/transformations/toLowerCase/toLowerCase.ts\nfunction toLowerCase() {\n  return {\n    type: \"to_lower_case\",\n    async: false,\n    _parse(input) {\n      return actionOutput(input.toLocaleLowerCase());\n    }\n  };\n}\n\n// src/transformations/toMaxValue/toMaxValue.ts\nfunction toMaxValue(requirement) {\n  return {\n    type: \"to_max_value\",\n    async: false,\n    requirement,\n    _parse(input) {\n      return actionOutput(input > this.requirement ? this.requirement : input);\n    }\n  };\n}\n\n// src/transformations/toMinValue/toMinValue.ts\nfunction toMinValue(requirement) {\n  return {\n    type: \"to_min_value\",\n    async: false,\n    requirement,\n    _parse(input) {\n      return actionOutput(input < this.requirement ? this.requirement : input);\n    }\n  };\n}\n\n// src/transformations/toTrimmed/toTrimmed.ts\nfunction toTrimmed() {\n  return {\n    type: \"to_trimmed\",\n    async: false,\n    _parse(input) {\n      return actionOutput(input.trim());\n    }\n  };\n}\n\n// src/transformations/toTrimmedEnd/toTrimmedEnd.ts\nfunction toTrimmedEnd() {\n  return {\n    type: \"to_trimmed_end\",\n    async: false,\n    _parse(input) {\n      return actionOutput(input.trimEnd());\n    }\n  };\n}\n\n// src/transformations/toTrimmedStart/toTrimmedStart.ts\nfunction toTrimmedStart() {\n  return {\n    type: \"to_trimmed_start\",\n    async: false,\n    _parse(input) {\n      return actionOutput(input.trimStart());\n    }\n  };\n}\n\n// src/transformations/toUpperCase/toUpperCase.ts\nfunction toUpperCase() {\n  return {\n    type: \"to_upper_case\",\n    async: false,\n    _parse(input) {\n      return actionOutput(input.toUpperCase());\n    }\n  };\n}\n\n// src/validations/bic/bic.ts\nfunction bic(message) {\n  return {\n    type: \"bic\",\n    expects: null,\n    async: false,\n    message,\n    requirement: BIC_REGEX,\n    _parse(input) {\n      if (this.requirement.test(input)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, bic, input, \"BIC\");\n    }\n  };\n}\n\n// src/validations/bytes/bytes.ts\nfunction bytes(requirement, message) {\n  return {\n    type: \"bytes\",\n    expects: `${requirement}`,\n    async: false,\n    message,\n    requirement,\n    _parse(input) {\n      const length2 = new TextEncoder().encode(input).length;\n      if (length2 === this.requirement) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, bytes, input, \"bytes\", `${length2}`);\n    }\n  };\n}\n\n// src/validations/creditCard/creditCard.ts\nvar SANITIZE_REGEX = /[- ]+/gu;\nvar PROVIDER_REGEX_LIST = [\n  // American Express\n  /^3[47]\\d{13}$/u,\n  // Diners Club\n  /^3(?:0[0-5]|[68]\\d)\\d{11}$/u,\n  // Discover\n  /^6(?:011|5\\d{2})\\d{12,15}$/u,\n  // JCB\n  /^(?:2131|1800|35\\d{3})\\d{11}$/u,\n  // Mastercard\n  /^5[1-5]\\d{2}|(222\\d|22[3-9]\\d|2[3-6]\\d{2}|27[01]\\d|2720)\\d{12}$/u,\n  // UnionPay\n  /^(6[27]\\d{14}|81\\d{14,17})$/u,\n  // Visa\n  /^4\\d{12}(?:\\d{3,6})?$/u\n];\nfunction creditCard(message) {\n  return {\n    type: \"credit_card\",\n    expects: null,\n    async: false,\n    message,\n    requirement: (input) => {\n      const sanitized = input.replace(SANITIZE_REGEX, \"\");\n      return PROVIDER_REGEX_LIST.some((regex2) => regex2.test(sanitized)) && isLuhnAlgo(sanitized);\n    },\n    _parse(input) {\n      if (this.requirement(input)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, creditCard, input, \"credit card\");\n    }\n  };\n}\n\n// src/validations/cuid2/cuid2.ts\nfunction cuid2(message) {\n  return {\n    type: \"cuid2\",\n    expects: null,\n    async: false,\n    message,\n    requirement: CUID2_REGEX,\n    _parse(input) {\n      if (this.requirement.test(input)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, cuid2, input, \"Cuid2\");\n    }\n  };\n}\n\n// src/validations/custom/custom.ts\nfunction custom(requirement, message) {\n  return {\n    type: \"custom\",\n    expects: null,\n    async: false,\n    message,\n    requirement,\n    _parse(input) {\n      if (this.requirement(input)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, custom, input, \"input\");\n    }\n  };\n}\n\n// src/validations/custom/customAsync.ts\nfunction customAsync(requirement, message) {\n  return {\n    type: \"custom\",\n    expects: null,\n    async: true,\n    message,\n    requirement,\n    async _parse(input) {\n      if (await this.requirement(input)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, customAsync, input, \"input\");\n    }\n  };\n}\n\n// src/validations/decimal/decimal.ts\nfunction decimal(message) {\n  return {\n    type: \"decimal\",\n    expects: null,\n    async: false,\n    message,\n    requirement: DECIMAL_REGEX,\n    _parse(input) {\n      if (this.requirement.test(input)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, decimal, input, \"decimal\");\n    }\n  };\n}\n\n// src/validations/email/email.ts\nfunction email(message) {\n  return {\n    type: \"email\",\n    expects: null,\n    async: false,\n    message,\n    requirement: EMAIL_REGEX,\n    _parse(input) {\n      if (this.requirement.test(input)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, email, input, \"email\");\n    }\n  };\n}\n\n// src/validations/emoji/emoji.ts\nfunction emoji(message) {\n  return {\n    type: \"emoji\",\n    expects: null,\n    async: false,\n    message,\n    requirement: EMOJI_REGEX,\n    _parse(input) {\n      if (this.requirement.test(input)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, emoji, input, \"emoji\");\n    }\n  };\n}\n\n// src/validations/endsWith/endsWith.ts\nfunction endsWith(requirement, message) {\n  return {\n    type: \"ends_with\",\n    expects: `\"${requirement}\"`,\n    async: false,\n    message,\n    requirement,\n    _parse(input) {\n      if (input.endsWith(this.requirement)) {\n        return actionOutput(input);\n      }\n      return actionIssue(\n        this,\n        endsWith,\n        input,\n        \"end\",\n        `\"${input.slice(-this.requirement.length)}\"`\n      );\n    }\n  };\n}\n\n// src/validations/every/every.ts\nfunction every(requirement, message) {\n  return {\n    type: \"every\",\n    expects: null,\n    async: false,\n    message,\n    requirement,\n    _parse(input) {\n      if (input.every(this.requirement)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, every, input, \"input\");\n    }\n  };\n}\n\n// src/validations/excludes/excludes.ts\nfunction excludes(requirement, message) {\n  const received = stringify(requirement);\n  return {\n    type: \"excludes\",\n    expects: `!${received}`,\n    async: false,\n    message,\n    requirement,\n    _parse(input) {\n      if (!input.includes(this.requirement)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, excludes, input, \"content\", received);\n    }\n  };\n}\n\n// src/validations/finite/finite.ts\nfunction finite(message) {\n  return {\n    type: \"finite\",\n    expects: null,\n    async: false,\n    message,\n    requirement: Number.isFinite,\n    _parse(input) {\n      if (this.requirement(input)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, finite, input, \"finite\");\n    }\n  };\n}\n\n// src/validations/hash/hash.ts\nvar HASH_LENGTHS = {\n  md4: 32,\n  md5: 32,\n  sha1: 40,\n  sha256: 64,\n  sha384: 96,\n  sha512: 128,\n  ripemd128: 32,\n  ripemd160: 40,\n  tiger128: 32,\n  tiger160: 40,\n  tiger192: 48,\n  crc32: 8,\n  crc32b: 8,\n  adler32: 8\n};\nfunction hash(types, message) {\n  return {\n    type: \"hash\",\n    expects: null,\n    async: false,\n    message,\n    requirement: RegExp(\n      types.map((type) => `^[a-f0-9]{${HASH_LENGTHS[type]}}$`).join(\"|\"),\n      \"iu\"\n    ),\n    _parse(input) {\n      if (this.requirement.test(input)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, hash, input, \"hash\");\n    }\n  };\n}\n\n// src/validations/hexadecimal/hexadecimal.ts\nfunction hexadecimal(message) {\n  return {\n    type: \"hexadecimal\",\n    expects: null,\n    async: false,\n    message,\n    requirement: HEXADECIMAL_REGEX,\n    _parse(input) {\n      if (this.requirement.test(input)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, hexadecimal, input, \"hexadecimal\");\n    }\n  };\n}\n\n// src/validations/hexColor/hexColor.ts\nfunction hexColor(message) {\n  return {\n    type: \"hex_color\",\n    expects: null,\n    async: false,\n    message,\n    requirement: HEX_COLOR_REGEX,\n    _parse(input) {\n      if (this.requirement.test(input)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, hexColor, input, \"hex color\");\n    }\n  };\n}\n\n// src/validations/imei/imei.ts\nfunction imei(message) {\n  return {\n    type: \"imei\",\n    expects: null,\n    async: false,\n    message,\n    requirement: [IMEI_REGEX, isLuhnAlgo],\n    _parse(input) {\n      if (this.requirement[0].test(input) && this.requirement[1](input)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, imei, input, \"IMEI\");\n    }\n  };\n}\n\n// src/validations/includes/includes.ts\nfunction includes(requirement, message) {\n  const expects = stringify(requirement);\n  return {\n    type: \"includes\",\n    expects,\n    async: false,\n    message,\n    requirement,\n    _parse(input) {\n      if (input.includes(this.requirement)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, includes, input, \"content\", `!${expects}`);\n    }\n  };\n}\n\n// src/validations/integer/integer.ts\nfunction integer(message) {\n  return {\n    type: \"integer\",\n    expects: null,\n    async: false,\n    message,\n    requirement: Number.isInteger,\n    _parse(input) {\n      if (this.requirement(input)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, integer, input, \"integer\");\n    }\n  };\n}\n\n// src/validations/ip/ip.ts\nfunction ip(message) {\n  return {\n    type: \"ip\",\n    expects: null,\n    async: false,\n    message,\n    // TODO: It is strange that we have an OR relationship between requirements\n    requirement: [IPV4_REGEX, IPV6_REGEX],\n    _parse(input) {\n      if (this.requirement[0].test(input) || this.requirement[1].test(input)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, ip, input, \"IP\");\n    }\n  };\n}\n\n// src/validations/ipv4/ipv4.ts\nfunction ipv4(message) {\n  return {\n    type: \"ipv4\",\n    expects: null,\n    async: false,\n    message,\n    requirement: IPV4_REGEX,\n    _parse(input) {\n      if (this.requirement.test(input)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, ipv4, input, \"IPv4\");\n    }\n  };\n}\n\n// src/validations/ipv6/ipv6.ts\nfunction ipv6(message) {\n  return {\n    type: \"ipv6\",\n    expects: null,\n    async: false,\n    message,\n    requirement: IPV6_REGEX,\n    _parse(input) {\n      if (this.requirement.test(input)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, ipv6, input, \"IPv6\");\n    }\n  };\n}\n\n// src/validations/isoDate/isoDate.ts\nfunction isoDate(message) {\n  return {\n    type: \"iso_date\",\n    expects: null,\n    async: false,\n    message,\n    requirement: ISO_DATE_REGEX,\n    _parse(input) {\n      if (this.requirement.test(input)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, isoDate, input, \"date\");\n    }\n  };\n}\n\n// src/validations/isoDateTime/isoDateTime.ts\nfunction isoDateTime(message) {\n  return {\n    type: \"iso_date_time\",\n    expects: null,\n    async: false,\n    message,\n    requirement: ISO_DATE_TIME_REGEX,\n    _parse(input) {\n      if (this.requirement.test(input)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, isoDateTime, input, \"date-time\");\n    }\n  };\n}\n\n// src/validations/isoTime/isoTime.ts\nfunction isoTime(message) {\n  return {\n    type: \"iso_time\",\n    expects: null,\n    async: false,\n    message,\n    requirement: ISO_TIME_REGEX,\n    _parse(input) {\n      if (this.requirement.test(input)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, isoTime, input, \"time\");\n    }\n  };\n}\n\n// src/validations/isoTimeSecond/isoTimeSecond.ts\nfunction isoTimeSecond(message) {\n  return {\n    type: \"iso_time_second\",\n    expects: null,\n    async: false,\n    message,\n    requirement: ISO_TIME_SECOND_REGEX,\n    _parse(input) {\n      if (this.requirement.test(input)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, isoTimeSecond, input, \"time second\");\n    }\n  };\n}\n\n// src/validations/isoTimestamp/isoTimestamp.ts\nfunction isoTimestamp(message) {\n  return {\n    type: \"iso_timestamp\",\n    expects: null,\n    async: false,\n    message,\n    requirement: ISO_TIMESTAMP_REGEX,\n    _parse(input) {\n      if (this.requirement.test(input)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, isoTimestamp, input, \"timestamp\");\n    }\n  };\n}\n\n// src/validations/isoWeek/isoWeek.ts\nfunction isoWeek(message) {\n  return {\n    type: \"iso_week\",\n    expects: null,\n    async: false,\n    message,\n    requirement: ISO_WEEK_REGEX,\n    _parse(input) {\n      if (this.requirement.test(input)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, isoWeek, input, \"week\");\n    }\n  };\n}\n\n// src/validations/length/length.ts\nfunction length(requirement, message) {\n  return {\n    type: \"length\",\n    expects: `${requirement}`,\n    async: false,\n    message,\n    requirement,\n    _parse(input) {\n      if (input.length === this.requirement) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, length, input, \"length\", `${input.length}`);\n    }\n  };\n}\n\n// src/validations/mac/mac.ts\nfunction mac(message) {\n  return {\n    type: \"mac\",\n    expects: null,\n    async: false,\n    message,\n    // TODO: It is strange that we have an OR relationship between requirements\n    requirement: [MAC48_REGEX, MAC64_REGEX],\n    _parse(input) {\n      if (this.requirement[0].test(input) || this.requirement[1].test(input)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, mac, input, \"MAC\");\n    }\n  };\n}\n\n// src/validations/mac48/mac48.ts\nfunction mac48(message) {\n  return {\n    type: \"mac48\",\n    expects: null,\n    async: false,\n    message,\n    requirement: MAC48_REGEX,\n    _parse(input) {\n      if (this.requirement.test(input)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, mac48, input, \"48-bit MAC\");\n    }\n  };\n}\n\n// src/validations/mac64/mac64.ts\nfunction mac64(message) {\n  return {\n    type: \"mac64\",\n    expects: null,\n    async: false,\n    message,\n    requirement: MAC64_REGEX,\n    _parse(input) {\n      if (this.requirement.test(input)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, mac64, input, \"64-bit MAC\");\n    }\n  };\n}\n\n// src/validations/maxBytes/maxBytes.ts\nfunction maxBytes(requirement, message) {\n  return {\n    type: \"max_bytes\",\n    expects: `<=${requirement}`,\n    async: false,\n    message,\n    requirement,\n    _parse(input) {\n      const length2 = new TextEncoder().encode(input).length;\n      if (length2 <= this.requirement) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, maxBytes, input, \"bytes\", `${length2}`);\n    }\n  };\n}\n\n// src/validations/maxLength/maxLength.ts\nfunction maxLength(requirement, message) {\n  return {\n    type: \"max_length\",\n    expects: `<=${requirement}`,\n    async: false,\n    message,\n    requirement,\n    _parse(input) {\n      if (input.length <= this.requirement) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, maxLength, input, \"length\", `${input.length}`);\n    }\n  };\n}\n\n// src/validations/maxSize/maxSize.ts\nfunction maxSize(requirement, message) {\n  return {\n    type: \"max_size\",\n    expects: `<=${requirement}`,\n    async: false,\n    message,\n    requirement,\n    _parse(input) {\n      if (input.size <= this.requirement) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, maxSize, input, \"size\", `${input.size}`);\n    }\n  };\n}\n\n// src/validations/maxValue/maxValue.ts\nfunction maxValue(requirement, message) {\n  return {\n    type: \"max_value\",\n    expects: `<=${requirement instanceof Date ? requirement.toJSON() : stringify(requirement)}`,\n    async: false,\n    message,\n    requirement,\n    _parse(input) {\n      if (input <= this.requirement) {\n        return actionOutput(input);\n      }\n      return actionIssue(\n        this,\n        maxValue,\n        input,\n        \"value\",\n        input instanceof Date ? input.toJSON() : stringify(input)\n      );\n    }\n  };\n}\n\n// src/validations/minBytes/minBytes.ts\nfunction minBytes(requirement, message) {\n  return {\n    type: \"min_bytes\",\n    expects: `>=${requirement}`,\n    async: false,\n    message,\n    requirement,\n    _parse(input) {\n      const length2 = new TextEncoder().encode(input).length;\n      if (length2 >= this.requirement) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, minBytes, input, \"bytes\", `${length2}`);\n    }\n  };\n}\n\n// src/validations/mimeType/mimeType.ts\nfunction mimeType(requirement, message) {\n  return {\n    type: \"mime_type\",\n    expects: requirement.map((option) => `\"${option}\"`).join(\" | \"),\n    async: false,\n    message,\n    requirement,\n    _parse(input) {\n      if (this.requirement.includes(input.type)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, mimeType, input, \"MIME type\");\n    }\n  };\n}\n\n// src/validations/minLength/minLength.ts\nfunction minLength(requirement, message) {\n  return {\n    type: \"min_length\",\n    expects: `>=${requirement}`,\n    async: false,\n    message,\n    requirement,\n    _parse(input) {\n      if (input.length >= this.requirement) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, minLength, input, \"length\", `${input.length}`);\n    }\n  };\n}\n\n// src/validations/minSize/minSize.ts\nfunction minSize(requirement, message) {\n  return {\n    type: \"min_size\",\n    expects: `>=${requirement}`,\n    async: false,\n    message,\n    requirement,\n    _parse(input) {\n      if (input.size >= this.requirement) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, minSize, input, \"size\", `${input.size}`);\n    }\n  };\n}\n\n// src/validations/minValue/minValue.ts\nfunction minValue(requirement, message) {\n  return {\n    type: \"min_value\",\n    expects: `>=${requirement instanceof Date ? requirement.toJSON() : stringify(requirement)}`,\n    async: false,\n    message,\n    requirement,\n    _parse(input) {\n      if (input >= this.requirement) {\n        return actionOutput(input);\n      }\n      return actionIssue(\n        this,\n        minValue,\n        input,\n        \"value\",\n        input instanceof Date ? input.toJSON() : stringify(input)\n      );\n    }\n  };\n}\n\n// src/validations/multipleOf/multipleOf.ts\nfunction multipleOf(requirement, message) {\n  return {\n    type: \"multiple_of\",\n    expects: `%${requirement}`,\n    async: false,\n    message,\n    requirement,\n    _parse(input) {\n      if (input % this.requirement === 0) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, multipleOf, input, \"multiple\", `${input}`);\n    }\n  };\n}\n\n// src/validations/notBytes/notBytes.ts\nfunction notBytes(requirement, message) {\n  return {\n    type: \"not_bytes\",\n    expects: `!${requirement}`,\n    async: false,\n    message,\n    requirement,\n    _parse(input) {\n      const length2 = new TextEncoder().encode(input).length;\n      if (length2 !== this.requirement) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, notBytes, input, \"bytes\", `${length2}`);\n    }\n  };\n}\n\n// src/validations/notLength/notLength.ts\nfunction notLength(requirement, message) {\n  return {\n    type: \"not_length\",\n    expects: `!${requirement}`,\n    async: false,\n    message,\n    requirement,\n    _parse(input) {\n      if (input.length !== this.requirement) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, notLength, input, \"length\", `${input.length}`);\n    }\n  };\n}\n\n// src/validations/notSize/notSize.ts\nfunction notSize(requirement, message) {\n  return {\n    type: \"not_size\",\n    expects: `!${requirement}`,\n    async: false,\n    message,\n    requirement,\n    _parse(input) {\n      if (input.size !== this.requirement) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, notSize, input, \"size\", `${input.size}`);\n    }\n  };\n}\n\n// src/validations/notValue/notValue.ts\nfunction notValue(requirement, message) {\n  return {\n    type: \"not_value\",\n    expects: `!${requirement instanceof Date ? requirement.toJSON() : stringify(requirement)}`,\n    async: false,\n    message,\n    requirement,\n    _parse(input) {\n      if (input < this.requirement || input > this.requirement) {\n        return actionOutput(input);\n      }\n      return actionIssue(\n        this,\n        notValue,\n        input,\n        \"value\",\n        input instanceof Date ? input.toJSON() : stringify(input)\n      );\n    }\n  };\n}\n\n// src/validations/octal/octal.ts\nfunction octal(message) {\n  return {\n    type: \"octal\",\n    expects: null,\n    async: false,\n    message,\n    requirement: OCTAL_REGEX,\n    _parse(input) {\n      if (this.requirement.test(input)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, octal, input, \"octal\");\n    }\n  };\n}\n\n// src/validations/regex/regex.ts\nfunction regex(requirement, message) {\n  return {\n    type: \"regex\",\n    expects: `${requirement}`,\n    async: false,\n    message,\n    requirement,\n    _parse(input) {\n      if (this.requirement.test(input)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, regex, input, \"format\");\n    }\n  };\n}\n\n// src/validations/safeInteger/safeInteger.ts\nfunction safeInteger(message) {\n  return {\n    type: \"safe_integer\",\n    expects: null,\n    async: false,\n    message,\n    requirement: Number.isSafeInteger,\n    _parse(input) {\n      if (this.requirement(input)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, safeInteger, input, \"safe integer\");\n    }\n  };\n}\n\n// src/validations/size/size.ts\nfunction size(requirement, message) {\n  return {\n    type: \"size\",\n    expects: `${requirement}`,\n    async: false,\n    message,\n    requirement,\n    _parse(input) {\n      if (input.size === this.requirement) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, size, input, \"size\", `${input.size}`);\n    }\n  };\n}\n\n// src/validations/some/some.ts\nfunction some(requirement, message) {\n  return {\n    type: \"some\",\n    expects: null,\n    async: false,\n    message,\n    requirement,\n    _parse(input) {\n      if (input.some(this.requirement)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, some, input, \"input\");\n    }\n  };\n}\n\n// src/validations/startsWith/startsWith.ts\nfunction startsWith(requirement, message) {\n  return {\n    type: \"starts_with\",\n    expects: `\"${requirement}\"`,\n    async: false,\n    message,\n    requirement,\n    _parse(input) {\n      if (input.startsWith(this.requirement)) {\n        return actionOutput(input);\n      }\n      return actionIssue(\n        this,\n        startsWith,\n        input,\n        \"start\",\n        `\"${input.slice(0, this.requirement.length)}\"`\n      );\n    }\n  };\n}\n\n// src/validations/ulid/ulid.ts\nfunction ulid(message) {\n  return {\n    type: \"ulid\",\n    expects: null,\n    async: false,\n    message,\n    requirement: ULID_REGEX,\n    _parse(input) {\n      if (this.requirement.test(input)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, ulid, input, \"ULID\");\n    }\n  };\n}\n\n// src/validations/url/url.ts\nfunction url(message) {\n  return {\n    type: \"url\",\n    expects: null,\n    async: false,\n    message,\n    requirement(input) {\n      try {\n        new URL(input);\n        return true;\n      } catch {\n        return false;\n      }\n    },\n    _parse(input) {\n      if (this.requirement(input)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, url, input, \"URL\");\n    }\n  };\n}\n\n// src/validations/uuid/uuid.ts\nfunction uuid(message) {\n  return {\n    type: \"uuid\",\n    expects: null,\n    async: false,\n    message,\n    requirement: UUID_REGEX,\n    _parse(input) {\n      if (this.requirement.test(input)) {\n        return actionOutput(input);\n      }\n      return actionIssue(this, uuid, input, \"UUID\");\n    }\n  };\n}\n\n// src/validations/value/value.ts\nfunction value(requirement, message) {\n  return {\n    type: \"value\",\n    expects: `${requirement instanceof Date ? requirement.toJSON() : stringify(requirement)}`,\n    async: false,\n    message,\n    requirement,\n    _parse(input) {\n      if (input <= this.requirement && input >= this.requirement) {\n        return actionOutput(input);\n      }\n      return actionIssue(\n        this,\n        value,\n        input,\n        \"value\",\n        input instanceof Date ? input.toJSON() : stringify(input)\n      );\n    }\n  };\n}\nexport {\n  BIC_REGEX,\n  BrandSymbol,\n  CUID2_REGEX,\n  DECIMAL_REGEX,\n  EMAIL_REGEX,\n  EMOJI_REGEX,\n  HEXADECIMAL_REGEX,\n  HEX_COLOR_REGEX,\n  IMEI_REGEX,\n  IPV4_REGEX,\n  IPV6_REGEX,\n  ISO_DATE_REGEX,\n  ISO_DATE_TIME_REGEX,\n  ISO_TIMESTAMP_REGEX,\n  ISO_TIME_REGEX,\n  ISO_TIME_SECOND_REGEX,\n  ISO_WEEK_REGEX,\n  MAC48_REGEX,\n  MAC64_REGEX,\n  OCTAL_REGEX,\n  ULID_REGEX,\n  UUID_REGEX,\n  ValiError,\n  actionIssue,\n  actionOutput,\n  any,\n  anyAsync,\n  array,\n  arrayAsync,\n  bic,\n  bigint,\n  bigintAsync,\n  blob,\n  blobAsync,\n  boolean,\n  booleanAsync,\n  brand,\n  bytes,\n  coerce,\n  coerceAsync,\n  creditCard,\n  cuid2,\n  custom,\n  customAsync,\n  date,\n  dateAsync,\n  decimal,\n  defaultArgs,\n  deleteGlobalConfig,\n  deleteGlobalMessage,\n  deleteSchemaMessage,\n  deleteSpecificMessage,\n  email,\n  emoji,\n  endsWith,\n  enumAsync,\n  enum_,\n  every,\n  excludes,\n  fallback,\n  fallbackAsync,\n  finite,\n  flatten,\n  forward,\n  forwardAsync,\n  getDefault,\n  getDefaultAsync,\n  getDefaults,\n  getDefaultsAsync,\n  getFallback,\n  getFallbackAsync,\n  getFallbacks,\n  getFallbacksAsync,\n  getGlobalConfig,\n  getGlobalMessage,\n  getSchemaMessage,\n  getSpecificMessage,\n  hash,\n  hexColor,\n  hexadecimal,\n  i18n,\n  imei,\n  includes,\n  instance,\n  instanceAsync,\n  integer,\n  intersect,\n  intersectAsync,\n  ip,\n  ipv4,\n  ipv6,\n  is,\n  isLuhnAlgo,\n  isOfType,\n  isoDate,\n  isoDateTime,\n  isoTime,\n  isoTimeSecond,\n  isoTimestamp,\n  isoWeek,\n  keyof,\n  lazy,\n  lazyAsync,\n  length,\n  literal,\n  literalAsync,\n  mac,\n  mac48,\n  mac64,\n  map,\n  mapAsync,\n  maxBytes,\n  maxLength,\n  maxSize,\n  maxValue,\n  merge,\n  mergeAsync,\n  mimeType,\n  minBytes,\n  minLength,\n  minSize,\n  minValue,\n  multipleOf,\n  nan,\n  nanAsync,\n  never,\n  neverAsync,\n  nonNullable,\n  nonNullableAsync,\n  nonNullish,\n  nonNullishAsync,\n  nonOptional,\n  nonOptionalAsync,\n  notBytes,\n  notLength,\n  notSize,\n  notValue,\n  nullAsync,\n  null_,\n  nullable,\n  nullableAsync,\n  nullish,\n  nullishAsync,\n  number,\n  numberAsync,\n  object,\n  objectAsync,\n  octal,\n  omit,\n  omitAsync,\n  optional,\n  optionalAsync,\n  parse,\n  parseAsync,\n  partial,\n  partialAsync,\n  pick,\n  pickAsync,\n  picklist,\n  picklistAsync,\n  pipeResult,\n  pipeResultAsync,\n  record,\n  recordAsync,\n  regex,\n  required,\n  requiredAsync,\n  restAndDefaultArgs,\n  safeInteger,\n  safeParse,\n  safeParseAsync,\n  schemaIssue,\n  schemaResult,\n  set,\n  setAsync,\n  setGlobalConfig,\n  setGlobalMessage,\n  setSchemaMessage,\n  setSpecificMessage,\n  size,\n  some,\n  special,\n  specialAsync,\n  startsWith,\n  string,\n  stringAsync,\n  stringify,\n  symbol,\n  symbolAsync,\n  toCustom,\n  toCustomAsync,\n  toLowerCase,\n  toMaxValue,\n  toMinValue,\n  toTrimmed,\n  toTrimmedEnd,\n  toTrimmedStart,\n  toUpperCase,\n  transform,\n  transformAsync,\n  tuple,\n  tupleAsync,\n  ulid,\n  undefinedAsync,\n  undefined_,\n  union,\n  unionAsync,\n  unknown,\n  unknownAsync,\n  unwrap,\n  url,\n  uuid,\n  value,\n  variant,\n  variantAsync,\n  voidAsync,\n  void_\n};\n","function number(n) {\n    if (!Number.isSafeInteger(n) || n < 0)\n        throw new Error(`positive integer expected, not ${n}`);\n}\nfunction bool(b) {\n    if (typeof b !== 'boolean')\n        throw new Error(`boolean expected, not ${b}`);\n}\n// copied from utils\nexport function isBytes(a) {\n    return (a instanceof Uint8Array ||\n        (a != null && typeof a === 'object' && a.constructor.name === 'Uint8Array'));\n}\nfunction bytes(b, ...lengths) {\n    if (!isBytes(b))\n        throw new Error('Uint8Array expected');\n    if (lengths.length > 0 && !lengths.includes(b.length))\n        throw new Error(`Uint8Array expected of length ${lengths}, not of length=${b.length}`);\n}\nfunction hash(h) {\n    if (typeof h !== 'function' || typeof h.create !== 'function')\n        throw new Error('Hash should be wrapped by utils.wrapConstructor');\n    number(h.outputLen);\n    number(h.blockLen);\n}\nfunction exists(instance, checkFinished = true) {\n    if (instance.destroyed)\n        throw new Error('Hash instance has been destroyed');\n    if (checkFinished && instance.finished)\n        throw new Error('Hash#digest() has already been called');\n}\nfunction output(out, instance) {\n    bytes(out);\n    const min = instance.outputLen;\n    if (out.length < min) {\n        throw new Error(`digestInto() expects output buffer of length at least ${min}`);\n    }\n}\nexport { number, bool, bytes, hash, exists, output };\nconst assert = { number, bool, bytes, hash, exists, output };\nexport default assert;\n//# sourceMappingURL=_assert.js.map","export const crypto = typeof globalThis === 'object' && 'crypto' in globalThis ? globalThis.crypto : undefined;\n//# sourceMappingURL=crypto.js.map","/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// node.js versions earlier than v19 don't declare it in global scope.\n// For node.js, package.json#exports field mapping rewrites import\n// from `crypto` to `cryptoNode`, which imports native module.\n// Makes the utils un-importable in browsers without a bundler.\n// Once node.js 18 is deprecated (2025-04-30), we can just drop the import.\nimport { crypto } from '@noble/hashes/crypto';\nimport { bytes as abytes } from './_assert.js';\n// export { isBytes } from './_assert.js';\n// We can't reuse isBytes from _assert, because somehow this causes huge perf issues\nexport function isBytes(a) {\n    return (a instanceof Uint8Array ||\n        (a != null && typeof a === 'object' && a.constructor.name === 'Uint8Array'));\n}\n// Cast array to different type\nexport const u8 = (arr) => new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\nexport const u32 = (arr) => new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n// Cast array to view\nexport const createView = (arr) => new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n// The rotate right (circular right shift) operation for uint32\nexport const rotr = (word, shift) => (word << (32 - shift)) | (word >>> shift);\n// The rotate left (circular left shift) operation for uint32\nexport const rotl = (word, shift) => (word << shift) | ((word >>> (32 - shift)) >>> 0);\nexport const isLE = new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44;\n// The byte swap operation for uint32\nexport const byteSwap = (word) => ((word << 24) & 0xff000000) |\n    ((word << 8) & 0xff0000) |\n    ((word >>> 8) & 0xff00) |\n    ((word >>> 24) & 0xff);\n// Conditionally byte swap if on a big-endian platform\nexport const byteSwapIfBE = isLE ? (n) => n : (n) => byteSwap(n);\n// In place byte swap for Uint32Array\nexport function byteSwap32(arr) {\n    for (let i = 0; i < arr.length; i++) {\n        arr[i] = byteSwap(arr[i]);\n    }\n}\n// Array where index 0xf0 (240) is mapped to string 'f0'\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) => i.toString(16).padStart(2, '0'));\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes) {\n    abytes(bytes);\n    // pre-caching improves the speed 6x\n    let hex = '';\n    for (let i = 0; i < bytes.length; i++) {\n        hex += hexes[bytes[i]];\n    }\n    return hex;\n}\n// We use optimized technique to convert hex string to byte array\nconst asciis = { _0: 48, _9: 57, _A: 65, _F: 70, _a: 97, _f: 102 };\nfunction asciiToBase16(char) {\n    if (char >= asciis._0 && char <= asciis._9)\n        return char - asciis._0;\n    if (char >= asciis._A && char <= asciis._F)\n        return char - (asciis._A - 10);\n    if (char >= asciis._a && char <= asciis._f)\n        return char - (asciis._a - 10);\n    return;\n}\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex) {\n    if (typeof hex !== 'string')\n        throw new Error('hex string expected, got ' + typeof hex);\n    const hl = hex.length;\n    const al = hl / 2;\n    if (hl % 2)\n        throw new Error('padded hex string expected, got unpadded hex of length ' + hl);\n    const array = new Uint8Array(al);\n    for (let ai = 0, hi = 0; ai < al; ai++, hi += 2) {\n        const n1 = asciiToBase16(hex.charCodeAt(hi));\n        const n2 = asciiToBase16(hex.charCodeAt(hi + 1));\n        if (n1 === undefined || n2 === undefined) {\n            const char = hex[hi] + hex[hi + 1];\n            throw new Error('hex string expected, got non-hex character \"' + char + '\" at index ' + hi);\n        }\n        array[ai] = n1 * 16 + n2;\n    }\n    return array;\n}\n// There is no setImmediate in browser and setTimeout is slow.\n// call of async fn will return Promise, which will be fullfiled only on\n// next scheduler queue processing step and this is exactly what we need.\nexport const nextTick = async () => { };\n// Returns control to thread each 'tick' ms to avoid blocking\nexport async function asyncLoop(iters, tick, cb) {\n    let ts = Date.now();\n    for (let i = 0; i < iters; i++) {\n        cb(i);\n        // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n        const diff = Date.now() - ts;\n        if (diff >= 0 && diff < tick)\n            continue;\n        await nextTick();\n        ts += diff;\n    }\n}\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nexport function utf8ToBytes(str) {\n    if (typeof str !== 'string')\n        throw new Error(`utf8ToBytes expected string, got ${typeof str}`);\n    return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nexport function toBytes(data) {\n    if (typeof data === 'string')\n        data = utf8ToBytes(data);\n    abytes(data);\n    return data;\n}\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes(...arrays) {\n    let sum = 0;\n    for (let i = 0; i < arrays.length; i++) {\n        const a = arrays[i];\n        abytes(a);\n        sum += a.length;\n    }\n    const res = new Uint8Array(sum);\n    for (let i = 0, pad = 0; i < arrays.length; i++) {\n        const a = arrays[i];\n        res.set(a, pad);\n        pad += a.length;\n    }\n    return res;\n}\n// For runtime check if class implements interface\nexport class Hash {\n    // Safe version that clones internal state\n    clone() {\n        return this._cloneInto();\n    }\n}\nconst toStr = {}.toString;\nexport function checkOpts(defaults, opts) {\n    if (opts !== undefined && toStr.call(opts) !== '[object Object]')\n        throw new Error('Options should be object or undefined');\n    const merged = Object.assign(defaults, opts);\n    return merged;\n}\nexport function wrapConstructor(hashCons) {\n    const hashC = (msg) => hashCons().update(toBytes(msg)).digest();\n    const tmp = hashCons();\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = () => hashCons();\n    return hashC;\n}\nexport function wrapConstructorWithOpts(hashCons) {\n    const hashC = (msg, opts) => hashCons(opts).update(toBytes(msg)).digest();\n    const tmp = hashCons({});\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = (opts) => hashCons(opts);\n    return hashC;\n}\nexport function wrapXOFConstructorWithOpts(hashCons) {\n    const hashC = (msg, opts) => hashCons(opts).update(toBytes(msg)).digest();\n    const tmp = hashCons({});\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = (opts) => hashCons(opts);\n    return hashC;\n}\n/**\n * Secure PRNG. Uses `crypto.getRandomValues`, which defers to OS.\n */\nexport function randomBytes(bytesLength = 32) {\n    if (crypto && typeof crypto.getRandomValues === 'function') {\n        return crypto.getRandomValues(new Uint8Array(bytesLength));\n    }\n    throw new Error('crypto.getRandomValues must be defined');\n}\n//# sourceMappingURL=utils.js.map","import { exists, output } from './_assert.js';\nimport { Hash, createView, toBytes } from './utils.js';\n// Polyfill for Safari 14\nfunction setBigUint64(view, byteOffset, value, isLE) {\n    if (typeof view.setBigUint64 === 'function')\n        return view.setBigUint64(byteOffset, value, isLE);\n    const _32n = BigInt(32);\n    const _u32_max = BigInt(0xffffffff);\n    const wh = Number((value >> _32n) & _u32_max);\n    const wl = Number(value & _u32_max);\n    const h = isLE ? 4 : 0;\n    const l = isLE ? 0 : 4;\n    view.setUint32(byteOffset + h, wh, isLE);\n    view.setUint32(byteOffset + l, wl, isLE);\n}\n// Choice: a ? b : c\nexport const Chi = (a, b, c) => (a & b) ^ (~a & c);\n// Majority function, true if any two inpust is true\nexport const Maj = (a, b, c) => (a & b) ^ (a & c) ^ (b & c);\n/**\n * Merkle-Damgard hash construction base class.\n * Could be used to create MD5, RIPEMD, SHA1, SHA2.\n */\nexport class HashMD extends Hash {\n    constructor(blockLen, outputLen, padOffset, isLE) {\n        super();\n        this.blockLen = blockLen;\n        this.outputLen = outputLen;\n        this.padOffset = padOffset;\n        this.isLE = isLE;\n        this.finished = false;\n        this.length = 0;\n        this.pos = 0;\n        this.destroyed = false;\n        this.buffer = new Uint8Array(blockLen);\n        this.view = createView(this.buffer);\n    }\n    update(data) {\n        exists(this);\n        const { view, buffer, blockLen } = this;\n        data = toBytes(data);\n        const len = data.length;\n        for (let pos = 0; pos < len;) {\n            const take = Math.min(blockLen - this.pos, len - pos);\n            // Fast path: we have at least one block in input, cast it to view and process\n            if (take === blockLen) {\n                const dataView = createView(data);\n                for (; blockLen <= len - pos; pos += blockLen)\n                    this.process(dataView, pos);\n                continue;\n            }\n            buffer.set(data.subarray(pos, pos + take), this.pos);\n            this.pos += take;\n            pos += take;\n            if (this.pos === blockLen) {\n                this.process(view, 0);\n                this.pos = 0;\n            }\n        }\n        this.length += data.length;\n        this.roundClean();\n        return this;\n    }\n    digestInto(out) {\n        exists(this);\n        output(out, this);\n        this.finished = true;\n        // Padding\n        // We can avoid allocation of buffer for padding completely if it\n        // was previously not allocated here. But it won't change performance.\n        const { buffer, view, blockLen, isLE } = this;\n        let { pos } = this;\n        // append the bit '1' to the message\n        buffer[pos++] = 0b10000000;\n        this.buffer.subarray(pos).fill(0);\n        // we have less than padOffset left in buffer, so we cannot put length in\n        // current block, need process it and pad again\n        if (this.padOffset > blockLen - pos) {\n            this.process(view, 0);\n            pos = 0;\n        }\n        // Pad until full block byte with zeros\n        for (let i = pos; i < blockLen; i++)\n            buffer[i] = 0;\n        // Note: sha512 requires length to be 128bit integer, but length in JS will overflow before that\n        // You need to write around 2 exabytes (u64_max / 8 / (1024**6)) for this to happen.\n        // So we just write lowest 64 bits of that value.\n        setBigUint64(view, blockLen - 8, BigInt(this.length * 8), isLE);\n        this.process(view, 0);\n        const oview = createView(out);\n        const len = this.outputLen;\n        // NOTE: we do division by 4 later, which should be fused in single op with modulo by JIT\n        if (len % 4)\n            throw new Error('_sha2: outputLen should be aligned to 32bit');\n        const outLen = len / 4;\n        const state = this.get();\n        if (outLen > state.length)\n            throw new Error('_sha2: outputLen bigger than state');\n        for (let i = 0; i < outLen; i++)\n            oview.setUint32(4 * i, state[i], isLE);\n    }\n    digest() {\n        const { buffer, outputLen } = this;\n        this.digestInto(buffer);\n        const res = buffer.slice(0, outputLen);\n        this.destroy();\n        return res;\n    }\n    _cloneInto(to) {\n        to || (to = new this.constructor());\n        to.set(...this.get());\n        const { blockLen, buffer, length, finished, destroyed, pos } = this;\n        to.length = length;\n        to.pos = pos;\n        to.finished = finished;\n        to.destroyed = destroyed;\n        if (length % blockLen)\n            to.buffer.set(buffer);\n        return to;\n    }\n}\n//# sourceMappingURL=_md.js.map","const U32_MASK64 = /* @__PURE__ */ BigInt(2 ** 32 - 1);\nconst _32n = /* @__PURE__ */ BigInt(32);\n// We are not using BigUint64Array, because they are extremely slow as per 2022\nfunction fromBig(n, le = false) {\n    if (le)\n        return { h: Number(n & U32_MASK64), l: Number((n >> _32n) & U32_MASK64) };\n    return { h: Number((n >> _32n) & U32_MASK64) | 0, l: Number(n & U32_MASK64) | 0 };\n}\nfunction split(lst, le = false) {\n    let Ah = new Uint32Array(lst.length);\n    let Al = new Uint32Array(lst.length);\n    for (let i = 0; i < lst.length; i++) {\n        const { h, l } = fromBig(lst[i], le);\n        [Ah[i], Al[i]] = [h, l];\n    }\n    return [Ah, Al];\n}\nconst toBig = (h, l) => (BigInt(h >>> 0) << _32n) | BigInt(l >>> 0);\n// for Shift in [0, 32)\nconst shrSH = (h, _l, s) => h >>> s;\nconst shrSL = (h, l, s) => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in [1, 32)\nconst rotrSH = (h, l, s) => (h >>> s) | (l << (32 - s));\nconst rotrSL = (h, l, s) => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotrBH = (h, l, s) => (h << (64 - s)) | (l >>> (s - 32));\nconst rotrBL = (h, l, s) => (h >>> (s - 32)) | (l << (64 - s));\n// Right rotate for shift===32 (just swaps l&h)\nconst rotr32H = (_h, l) => l;\nconst rotr32L = (h, _l) => h;\n// Left rotate for Shift in [1, 32)\nconst rotlSH = (h, l, s) => (h << s) | (l >>> (32 - s));\nconst rotlSL = (h, l, s) => (l << s) | (h >>> (32 - s));\n// Left rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotlBH = (h, l, s) => (l << (s - 32)) | (h >>> (64 - s));\nconst rotlBL = (h, l, s) => (h << (s - 32)) | (l >>> (64 - s));\n// JS uses 32-bit signed integers for bitwise operations which means we cannot\n// simple take carry out of low bit sum by shift, we need to use division.\nfunction add(Ah, Al, Bh, Bl) {\n    const l = (Al >>> 0) + (Bl >>> 0);\n    return { h: (Ah + Bh + ((l / 2 ** 32) | 0)) | 0, l: l | 0 };\n}\n// Addition with more than 2 elements\nconst add3L = (Al, Bl, Cl) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0);\nconst add3H = (low, Ah, Bh, Ch) => (Ah + Bh + Ch + ((low / 2 ** 32) | 0)) | 0;\nconst add4L = (Al, Bl, Cl, Dl) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0);\nconst add4H = (low, Ah, Bh, Ch, Dh) => (Ah + Bh + Ch + Dh + ((low / 2 ** 32) | 0)) | 0;\nconst add5L = (Al, Bl, Cl, Dl, El) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0) + (El >>> 0);\nconst add5H = (low, Ah, Bh, Ch, Dh, Eh) => (Ah + Bh + Ch + Dh + Eh + ((low / 2 ** 32) | 0)) | 0;\n// prettier-ignore\nexport { fromBig, split, toBig, shrSH, shrSL, rotrSH, rotrSL, rotrBH, rotrBL, rotr32H, rotr32L, rotlSH, rotlSL, rotlBH, rotlBL, add, add3L, add3H, add4L, add4H, add5H, add5L, };\n// prettier-ignore\nconst u64 = {\n    fromBig, split, toBig,\n    shrSH, shrSL,\n    rotrSH, rotrSL, rotrBH, rotrBL,\n    rotr32H, rotr32L,\n    rotlSH, rotlSL, rotlBH, rotlBL,\n    add, add3L, add3H, add4L, add4H, add5H, add5L,\n};\nexport default u64;\n//# sourceMappingURL=_u64.js.map","import { HashMD } from './_md.js';\nimport u64 from './_u64.js';\nimport { wrapConstructor } from './utils.js';\n// Round contants (first 32 bits of the fractional parts of the cube roots of the first 80 primes 2..409):\n// prettier-ignore\nconst [SHA512_Kh, SHA512_Kl] = /* @__PURE__ */ (() => u64.split([\n    '0x428a2f98d728ae22', '0x7137449123ef65cd', '0xb5c0fbcfec4d3b2f', '0xe9b5dba58189dbbc',\n    '0x3956c25bf348b538', '0x59f111f1b605d019', '0x923f82a4af194f9b', '0xab1c5ed5da6d8118',\n    '0xd807aa98a3030242', '0x12835b0145706fbe', '0x243185be4ee4b28c', '0x550c7dc3d5ffb4e2',\n    '0x72be5d74f27b896f', '0x80deb1fe3b1696b1', '0x9bdc06a725c71235', '0xc19bf174cf692694',\n    '0xe49b69c19ef14ad2', '0xefbe4786384f25e3', '0x0fc19dc68b8cd5b5', '0x240ca1cc77ac9c65',\n    '0x2de92c6f592b0275', '0x4a7484aa6ea6e483', '0x5cb0a9dcbd41fbd4', '0x76f988da831153b5',\n    '0x983e5152ee66dfab', '0xa831c66d2db43210', '0xb00327c898fb213f', '0xbf597fc7beef0ee4',\n    '0xc6e00bf33da88fc2', '0xd5a79147930aa725', '0x06ca6351e003826f', '0x142929670a0e6e70',\n    '0x27b70a8546d22ffc', '0x2e1b21385c26c926', '0x4d2c6dfc5ac42aed', '0x53380d139d95b3df',\n    '0x650a73548baf63de', '0x766a0abb3c77b2a8', '0x81c2c92e47edaee6', '0x92722c851482353b',\n    '0xa2bfe8a14cf10364', '0xa81a664bbc423001', '0xc24b8b70d0f89791', '0xc76c51a30654be30',\n    '0xd192e819d6ef5218', '0xd69906245565a910', '0xf40e35855771202a', '0x106aa07032bbd1b8',\n    '0x19a4c116b8d2d0c8', '0x1e376c085141ab53', '0x2748774cdf8eeb99', '0x34b0bcb5e19b48a8',\n    '0x391c0cb3c5c95a63', '0x4ed8aa4ae3418acb', '0x5b9cca4f7763e373', '0x682e6ff3d6b2b8a3',\n    '0x748f82ee5defb2fc', '0x78a5636f43172f60', '0x84c87814a1f0ab72', '0x8cc702081a6439ec',\n    '0x90befffa23631e28', '0xa4506cebde82bde9', '0xbef9a3f7b2c67915', '0xc67178f2e372532b',\n    '0xca273eceea26619c', '0xd186b8c721c0c207', '0xeada7dd6cde0eb1e', '0xf57d4f7fee6ed178',\n    '0x06f067aa72176fba', '0x0a637dc5a2c898a6', '0x113f9804bef90dae', '0x1b710b35131c471b',\n    '0x28db77f523047d84', '0x32caab7b40c72493', '0x3c9ebe0a15c9bebc', '0x431d67c49c100d4c',\n    '0x4cc5d4becb3e42b6', '0x597f299cfc657e2a', '0x5fcb6fab3ad6faec', '0x6c44198c4a475817'\n].map(n => BigInt(n))))();\n// Temporary buffer, not used to store anything between runs\nconst SHA512_W_H = /* @__PURE__ */ new Uint32Array(80);\nconst SHA512_W_L = /* @__PURE__ */ new Uint32Array(80);\nexport class SHA512 extends HashMD {\n    constructor() {\n        super(128, 64, 16, false);\n        // We cannot use array here since array allows indexing by variable which means optimizer/compiler cannot use registers.\n        // Also looks cleaner and easier to verify with spec.\n        // Initial state (first 32 bits of the fractional parts of the square roots of the first 8 primes 2..19):\n        // h -- high 32 bits, l -- low 32 bits\n        this.Ah = 0x6a09e667 | 0;\n        this.Al = 0xf3bcc908 | 0;\n        this.Bh = 0xbb67ae85 | 0;\n        this.Bl = 0x84caa73b | 0;\n        this.Ch = 0x3c6ef372 | 0;\n        this.Cl = 0xfe94f82b | 0;\n        this.Dh = 0xa54ff53a | 0;\n        this.Dl = 0x5f1d36f1 | 0;\n        this.Eh = 0x510e527f | 0;\n        this.El = 0xade682d1 | 0;\n        this.Fh = 0x9b05688c | 0;\n        this.Fl = 0x2b3e6c1f | 0;\n        this.Gh = 0x1f83d9ab | 0;\n        this.Gl = 0xfb41bd6b | 0;\n        this.Hh = 0x5be0cd19 | 0;\n        this.Hl = 0x137e2179 | 0;\n    }\n    // prettier-ignore\n    get() {\n        const { Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl } = this;\n        return [Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl];\n    }\n    // prettier-ignore\n    set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl) {\n        this.Ah = Ah | 0;\n        this.Al = Al | 0;\n        this.Bh = Bh | 0;\n        this.Bl = Bl | 0;\n        this.Ch = Ch | 0;\n        this.Cl = Cl | 0;\n        this.Dh = Dh | 0;\n        this.Dl = Dl | 0;\n        this.Eh = Eh | 0;\n        this.El = El | 0;\n        this.Fh = Fh | 0;\n        this.Fl = Fl | 0;\n        this.Gh = Gh | 0;\n        this.Gl = Gl | 0;\n        this.Hh = Hh | 0;\n        this.Hl = Hl | 0;\n    }\n    process(view, offset) {\n        // Extend the first 16 words into the remaining 64 words w[16..79] of the message schedule array\n        for (let i = 0; i < 16; i++, offset += 4) {\n            SHA512_W_H[i] = view.getUint32(offset);\n            SHA512_W_L[i] = view.getUint32((offset += 4));\n        }\n        for (let i = 16; i < 80; i++) {\n            // s0 := (w[i-15] rightrotate 1) xor (w[i-15] rightrotate 8) xor (w[i-15] rightshift 7)\n            const W15h = SHA512_W_H[i - 15] | 0;\n            const W15l = SHA512_W_L[i - 15] | 0;\n            const s0h = u64.rotrSH(W15h, W15l, 1) ^ u64.rotrSH(W15h, W15l, 8) ^ u64.shrSH(W15h, W15l, 7);\n            const s0l = u64.rotrSL(W15h, W15l, 1) ^ u64.rotrSL(W15h, W15l, 8) ^ u64.shrSL(W15h, W15l, 7);\n            // s1 := (w[i-2] rightrotate 19) xor (w[i-2] rightrotate 61) xor (w[i-2] rightshift 6)\n            const W2h = SHA512_W_H[i - 2] | 0;\n            const W2l = SHA512_W_L[i - 2] | 0;\n            const s1h = u64.rotrSH(W2h, W2l, 19) ^ u64.rotrBH(W2h, W2l, 61) ^ u64.shrSH(W2h, W2l, 6);\n            const s1l = u64.rotrSL(W2h, W2l, 19) ^ u64.rotrBL(W2h, W2l, 61) ^ u64.shrSL(W2h, W2l, 6);\n            // SHA256_W[i] = s0 + s1 + SHA256_W[i - 7] + SHA256_W[i - 16];\n            const SUMl = u64.add4L(s0l, s1l, SHA512_W_L[i - 7], SHA512_W_L[i - 16]);\n            const SUMh = u64.add4H(SUMl, s0h, s1h, SHA512_W_H[i - 7], SHA512_W_H[i - 16]);\n            SHA512_W_H[i] = SUMh | 0;\n            SHA512_W_L[i] = SUMl | 0;\n        }\n        let { Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl } = this;\n        // Compression function main loop, 80 rounds\n        for (let i = 0; i < 80; i++) {\n            // S1 := (e rightrotate 14) xor (e rightrotate 18) xor (e rightrotate 41)\n            const sigma1h = u64.rotrSH(Eh, El, 14) ^ u64.rotrSH(Eh, El, 18) ^ u64.rotrBH(Eh, El, 41);\n            const sigma1l = u64.rotrSL(Eh, El, 14) ^ u64.rotrSL(Eh, El, 18) ^ u64.rotrBL(Eh, El, 41);\n            //const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n            const CHIh = (Eh & Fh) ^ (~Eh & Gh);\n            const CHIl = (El & Fl) ^ (~El & Gl);\n            // T1 = H + sigma1 + Chi(E, F, G) + SHA512_K[i] + SHA512_W[i]\n            // prettier-ignore\n            const T1ll = u64.add5L(Hl, sigma1l, CHIl, SHA512_Kl[i], SHA512_W_L[i]);\n            const T1h = u64.add5H(T1ll, Hh, sigma1h, CHIh, SHA512_Kh[i], SHA512_W_H[i]);\n            const T1l = T1ll | 0;\n            // S0 := (a rightrotate 28) xor (a rightrotate 34) xor (a rightrotate 39)\n            const sigma0h = u64.rotrSH(Ah, Al, 28) ^ u64.rotrBH(Ah, Al, 34) ^ u64.rotrBH(Ah, Al, 39);\n            const sigma0l = u64.rotrSL(Ah, Al, 28) ^ u64.rotrBL(Ah, Al, 34) ^ u64.rotrBL(Ah, Al, 39);\n            const MAJh = (Ah & Bh) ^ (Ah & Ch) ^ (Bh & Ch);\n            const MAJl = (Al & Bl) ^ (Al & Cl) ^ (Bl & Cl);\n            Hh = Gh | 0;\n            Hl = Gl | 0;\n            Gh = Fh | 0;\n            Gl = Fl | 0;\n            Fh = Eh | 0;\n            Fl = El | 0;\n            ({ h: Eh, l: El } = u64.add(Dh | 0, Dl | 0, T1h | 0, T1l | 0));\n            Dh = Ch | 0;\n            Dl = Cl | 0;\n            Ch = Bh | 0;\n            Cl = Bl | 0;\n            Bh = Ah | 0;\n            Bl = Al | 0;\n            const All = u64.add3L(T1l, sigma0l, MAJl);\n            Ah = u64.add3H(All, T1h, sigma0h, MAJh);\n            Al = All | 0;\n        }\n        // Add the compressed chunk to the current hash value\n        ({ h: Ah, l: Al } = u64.add(this.Ah | 0, this.Al | 0, Ah | 0, Al | 0));\n        ({ h: Bh, l: Bl } = u64.add(this.Bh | 0, this.Bl | 0, Bh | 0, Bl | 0));\n        ({ h: Ch, l: Cl } = u64.add(this.Ch | 0, this.Cl | 0, Ch | 0, Cl | 0));\n        ({ h: Dh, l: Dl } = u64.add(this.Dh | 0, this.Dl | 0, Dh | 0, Dl | 0));\n        ({ h: Eh, l: El } = u64.add(this.Eh | 0, this.El | 0, Eh | 0, El | 0));\n        ({ h: Fh, l: Fl } = u64.add(this.Fh | 0, this.Fl | 0, Fh | 0, Fl | 0));\n        ({ h: Gh, l: Gl } = u64.add(this.Gh | 0, this.Gl | 0, Gh | 0, Gl | 0));\n        ({ h: Hh, l: Hl } = u64.add(this.Hh | 0, this.Hl | 0, Hh | 0, Hl | 0));\n        this.set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl);\n    }\n    roundClean() {\n        SHA512_W_H.fill(0);\n        SHA512_W_L.fill(0);\n    }\n    destroy() {\n        this.buffer.fill(0);\n        this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n    }\n}\nclass SHA512_224 extends SHA512 {\n    constructor() {\n        super();\n        // h -- high 32 bits, l -- low 32 bits\n        this.Ah = 0x8c3d37c8 | 0;\n        this.Al = 0x19544da2 | 0;\n        this.Bh = 0x73e19966 | 0;\n        this.Bl = 0x89dcd4d6 | 0;\n        this.Ch = 0x1dfab7ae | 0;\n        this.Cl = 0x32ff9c82 | 0;\n        this.Dh = 0x679dd514 | 0;\n        this.Dl = 0x582f9fcf | 0;\n        this.Eh = 0x0f6d2b69 | 0;\n        this.El = 0x7bd44da8 | 0;\n        this.Fh = 0x77e36f73 | 0;\n        this.Fl = 0x04c48942 | 0;\n        this.Gh = 0x3f9d85a8 | 0;\n        this.Gl = 0x6a1d36c8 | 0;\n        this.Hh = 0x1112e6ad | 0;\n        this.Hl = 0x91d692a1 | 0;\n        this.outputLen = 28;\n    }\n}\nclass SHA512_256 extends SHA512 {\n    constructor() {\n        super();\n        // h -- high 32 bits, l -- low 32 bits\n        this.Ah = 0x22312194 | 0;\n        this.Al = 0xfc2bf72c | 0;\n        this.Bh = 0x9f555fa3 | 0;\n        this.Bl = 0xc84c64c2 | 0;\n        this.Ch = 0x2393b86b | 0;\n        this.Cl = 0x6f53b151 | 0;\n        this.Dh = 0x96387719 | 0;\n        this.Dl = 0x5940eabd | 0;\n        this.Eh = 0x96283ee2 | 0;\n        this.El = 0xa88effe3 | 0;\n        this.Fh = 0xbe5e1e25 | 0;\n        this.Fl = 0x53863992 | 0;\n        this.Gh = 0x2b0199fc | 0;\n        this.Gl = 0x2c85b8aa | 0;\n        this.Hh = 0x0eb72ddc | 0;\n        this.Hl = 0x81c52ca2 | 0;\n        this.outputLen = 32;\n    }\n}\nclass SHA384 extends SHA512 {\n    constructor() {\n        super();\n        // h -- high 32 bits, l -- low 32 bits\n        this.Ah = 0xcbbb9d5d | 0;\n        this.Al = 0xc1059ed8 | 0;\n        this.Bh = 0x629a292a | 0;\n        this.Bl = 0x367cd507 | 0;\n        this.Ch = 0x9159015a | 0;\n        this.Cl = 0x3070dd17 | 0;\n        this.Dh = 0x152fecd8 | 0;\n        this.Dl = 0xf70e5939 | 0;\n        this.Eh = 0x67332667 | 0;\n        this.El = 0xffc00b31 | 0;\n        this.Fh = 0x8eb44a87 | 0;\n        this.Fl = 0x68581511 | 0;\n        this.Gh = 0xdb0c2e0d | 0;\n        this.Gl = 0x64f98fa7 | 0;\n        this.Hh = 0x47b5481d | 0;\n        this.Hl = 0xbefa4fa4 | 0;\n        this.outputLen = 48;\n    }\n}\nexport const sha512 = /* @__PURE__ */ wrapConstructor(() => new SHA512());\nexport const sha512_224 = /* @__PURE__ */ wrapConstructor(() => new SHA512_224());\nexport const sha512_256 = /* @__PURE__ */ wrapConstructor(() => new SHA512_256());\nexport const sha384 = /* @__PURE__ */ wrapConstructor(() => new SHA384());\n//# sourceMappingURL=sha512.js.map","/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// 100 lines of code in the file are duplicated from noble-hashes (utils).\n// This is OK: `abstract` directory does not use noble-hashes.\n// User may opt-in into using different hashing library. This way, noble-hashes\n// won't be included into their bundle.\nconst _0n = /* @__PURE__ */ BigInt(0);\nconst _1n = /* @__PURE__ */ BigInt(1);\nconst _2n = /* @__PURE__ */ BigInt(2);\nexport function isBytes(a) {\n    return (a instanceof Uint8Array ||\n        (a != null && typeof a === 'object' && a.constructor.name === 'Uint8Array'));\n}\nexport function abytes(item) {\n    if (!isBytes(item))\n        throw new Error('Uint8Array expected');\n}\n// Array where index 0xf0 (240) is mapped to string 'f0'\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) => i.toString(16).padStart(2, '0'));\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes) {\n    abytes(bytes);\n    // pre-caching improves the speed 6x\n    let hex = '';\n    for (let i = 0; i < bytes.length; i++) {\n        hex += hexes[bytes[i]];\n    }\n    return hex;\n}\nexport function numberToHexUnpadded(num) {\n    const hex = num.toString(16);\n    return hex.length & 1 ? `0${hex}` : hex;\n}\nexport function hexToNumber(hex) {\n    if (typeof hex !== 'string')\n        throw new Error('hex string expected, got ' + typeof hex);\n    // Big Endian\n    return BigInt(hex === '' ? '0' : `0x${hex}`);\n}\n// We use optimized technique to convert hex string to byte array\nconst asciis = { _0: 48, _9: 57, _A: 65, _F: 70, _a: 97, _f: 102 };\nfunction asciiToBase16(char) {\n    if (char >= asciis._0 && char <= asciis._9)\n        return char - asciis._0;\n    if (char >= asciis._A && char <= asciis._F)\n        return char - (asciis._A - 10);\n    if (char >= asciis._a && char <= asciis._f)\n        return char - (asciis._a - 10);\n    return;\n}\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex) {\n    if (typeof hex !== 'string')\n        throw new Error('hex string expected, got ' + typeof hex);\n    const hl = hex.length;\n    const al = hl / 2;\n    if (hl % 2)\n        throw new Error('padded hex string expected, got unpadded hex of length ' + hl);\n    const array = new Uint8Array(al);\n    for (let ai = 0, hi = 0; ai < al; ai++, hi += 2) {\n        const n1 = asciiToBase16(hex.charCodeAt(hi));\n        const n2 = asciiToBase16(hex.charCodeAt(hi + 1));\n        if (n1 === undefined || n2 === undefined) {\n            const char = hex[hi] + hex[hi + 1];\n            throw new Error('hex string expected, got non-hex character \"' + char + '\" at index ' + hi);\n        }\n        array[ai] = n1 * 16 + n2;\n    }\n    return array;\n}\n// BE: Big Endian, LE: Little Endian\nexport function bytesToNumberBE(bytes) {\n    return hexToNumber(bytesToHex(bytes));\n}\nexport function bytesToNumberLE(bytes) {\n    abytes(bytes);\n    return hexToNumber(bytesToHex(Uint8Array.from(bytes).reverse()));\n}\nexport function numberToBytesBE(n, len) {\n    return hexToBytes(n.toString(16).padStart(len * 2, '0'));\n}\nexport function numberToBytesLE(n, len) {\n    return numberToBytesBE(n, len).reverse();\n}\n// Unpadded, rarely used\nexport function numberToVarBytesBE(n) {\n    return hexToBytes(numberToHexUnpadded(n));\n}\n/**\n * Takes hex string or Uint8Array, converts to Uint8Array.\n * Validates output length.\n * Will throw error for other types.\n * @param title descriptive title for an error e.g. 'private key'\n * @param hex hex string or Uint8Array\n * @param expectedLength optional, will compare to result array's length\n * @returns\n */\nexport function ensureBytes(title, hex, expectedLength) {\n    let res;\n    if (typeof hex === 'string') {\n        try {\n            res = hexToBytes(hex);\n        }\n        catch (e) {\n            throw new Error(`${title} must be valid hex string, got \"${hex}\". Cause: ${e}`);\n        }\n    }\n    else if (isBytes(hex)) {\n        // Uint8Array.from() instead of hash.slice() because node.js Buffer\n        // is instance of Uint8Array, and its slice() creates **mutable** copy\n        res = Uint8Array.from(hex);\n    }\n    else {\n        throw new Error(`${title} must be hex string or Uint8Array`);\n    }\n    const len = res.length;\n    if (typeof expectedLength === 'number' && len !== expectedLength)\n        throw new Error(`${title} expected ${expectedLength} bytes, got ${len}`);\n    return res;\n}\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes(...arrays) {\n    let sum = 0;\n    for (let i = 0; i < arrays.length; i++) {\n        const a = arrays[i];\n        abytes(a);\n        sum += a.length;\n    }\n    const res = new Uint8Array(sum);\n    for (let i = 0, pad = 0; i < arrays.length; i++) {\n        const a = arrays[i];\n        res.set(a, pad);\n        pad += a.length;\n    }\n    return res;\n}\n// Compares 2 u8a-s in kinda constant time\nexport function equalBytes(a, b) {\n    if (a.length !== b.length)\n        return false;\n    let diff = 0;\n    for (let i = 0; i < a.length; i++)\n        diff |= a[i] ^ b[i];\n    return diff === 0;\n}\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nexport function utf8ToBytes(str) {\n    if (typeof str !== 'string')\n        throw new Error(`utf8ToBytes expected string, got ${typeof str}`);\n    return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n// Bit operations\n/**\n * Calculates amount of bits in a bigint.\n * Same as `n.toString(2).length`\n */\nexport function bitLen(n) {\n    let len;\n    for (len = 0; n > _0n; n >>= _1n, len += 1)\n        ;\n    return len;\n}\n/**\n * Gets single bit at position.\n * NOTE: first bit position is 0 (same as arrays)\n * Same as `!!+Array.from(n.toString(2)).reverse()[pos]`\n */\nexport function bitGet(n, pos) {\n    return (n >> BigInt(pos)) & _1n;\n}\n/**\n * Sets single bit at position.\n */\nexport function bitSet(n, pos, value) {\n    return n | ((value ? _1n : _0n) << BigInt(pos));\n}\n/**\n * Calculate mask for N bits. Not using ** operator with bigints because of old engines.\n * Same as BigInt(`0b${Array(i).fill('1').join('')}`)\n */\nexport const bitMask = (n) => (_2n << BigInt(n - 1)) - _1n;\n// DRBG\nconst u8n = (data) => new Uint8Array(data); // creates Uint8Array\nconst u8fr = (arr) => Uint8Array.from(arr); // another shortcut\n/**\n * Minimal HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n * @returns function that will call DRBG until 2nd arg returns something meaningful\n * @example\n *   const drbg = createHmacDRBG<Key>(32, 32, hmac);\n *   drbg(seed, bytesToKey); // bytesToKey must return Key or undefined\n */\nexport function createHmacDrbg(hashLen, qByteLen, hmacFn) {\n    if (typeof hashLen !== 'number' || hashLen < 2)\n        throw new Error('hashLen must be a number');\n    if (typeof qByteLen !== 'number' || qByteLen < 2)\n        throw new Error('qByteLen must be a number');\n    if (typeof hmacFn !== 'function')\n        throw new Error('hmacFn must be a function');\n    // Step B, Step C: set hashLen to 8*ceil(hlen/8)\n    let v = u8n(hashLen); // Minimal non-full-spec HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n    let k = u8n(hashLen); // Steps B and C of RFC6979 3.2: set hashLen, in our case always same\n    let i = 0; // Iterations counter, will throw when over 1000\n    const reset = () => {\n        v.fill(1);\n        k.fill(0);\n        i = 0;\n    };\n    const h = (...b) => hmacFn(k, v, ...b); // hmac(k)(v, ...values)\n    const reseed = (seed = u8n()) => {\n        // HMAC-DRBG reseed() function. Steps D-G\n        k = h(u8fr([0x00]), seed); // k = hmac(k || v || 0x00 || seed)\n        v = h(); // v = hmac(k || v)\n        if (seed.length === 0)\n            return;\n        k = h(u8fr([0x01]), seed); // k = hmac(k || v || 0x01 || seed)\n        v = h(); // v = hmac(k || v)\n    };\n    const gen = () => {\n        // HMAC-DRBG generate() function\n        if (i++ >= 1000)\n            throw new Error('drbg: tried 1000 values');\n        let len = 0;\n        const out = [];\n        while (len < qByteLen) {\n            v = h();\n            const sl = v.slice();\n            out.push(sl);\n            len += v.length;\n        }\n        return concatBytes(...out);\n    };\n    const genUntil = (seed, pred) => {\n        reset();\n        reseed(seed); // Steps D-G\n        let res = undefined; // Step H: grind until k is in [1..n-1]\n        while (!(res = pred(gen())))\n            reseed();\n        reset();\n        return res;\n    };\n    return genUntil;\n}\n// Validating curves and fields\nconst validatorFns = {\n    bigint: (val) => typeof val === 'bigint',\n    function: (val) => typeof val === 'function',\n    boolean: (val) => typeof val === 'boolean',\n    string: (val) => typeof val === 'string',\n    stringOrUint8Array: (val) => typeof val === 'string' || isBytes(val),\n    isSafeInteger: (val) => Number.isSafeInteger(val),\n    array: (val) => Array.isArray(val),\n    field: (val, object) => object.Fp.isValid(val),\n    hash: (val) => typeof val === 'function' && Number.isSafeInteger(val.outputLen),\n};\n// type Record<K extends string | number | symbol, T> = { [P in K]: T; }\nexport function validateObject(object, validators, optValidators = {}) {\n    const checkField = (fieldName, type, isOptional) => {\n        const checkVal = validatorFns[type];\n        if (typeof checkVal !== 'function')\n            throw new Error(`Invalid validator \"${type}\", expected function`);\n        const val = object[fieldName];\n        if (isOptional && val === undefined)\n            return;\n        if (!checkVal(val, object)) {\n            throw new Error(`Invalid param ${String(fieldName)}=${val} (${typeof val}), expected ${type}`);\n        }\n    };\n    for (const [fieldName, type] of Object.entries(validators))\n        checkField(fieldName, type, false);\n    for (const [fieldName, type] of Object.entries(optValidators))\n        checkField(fieldName, type, true);\n    return object;\n}\n// validate type tests\n// const o: { a: number; b: number; c: number } = { a: 1, b: 5, c: 6 };\n// const z0 = validateObject(o, { a: 'isSafeInteger' }, { c: 'bigint' }); // Ok!\n// // Should fail type-check\n// const z1 = validateObject(o, { a: 'tmp' }, { c: 'zz' });\n// const z2 = validateObject(o, { a: 'isSafeInteger' }, { c: 'zz' });\n// const z3 = validateObject(o, { test: 'boolean', z: 'bug' });\n// const z4 = validateObject(o, { a: 'boolean', z: 'bug' });\n//# sourceMappingURL=utils.js.map","/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// Utilities for modular arithmetics and finite fields\nimport { bitMask, bytesToNumberBE, bytesToNumberLE, ensureBytes, numberToBytesBE, numberToBytesLE, validateObject, } from './utils.js';\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = BigInt(2), _3n = BigInt(3);\n// prettier-ignore\nconst _4n = BigInt(4), _5n = BigInt(5), _8n = BigInt(8);\n// prettier-ignore\nconst _9n = BigInt(9), _16n = BigInt(16);\n// Calculates a modulo b\nexport function mod(a, b) {\n    const result = a % b;\n    return result >= _0n ? result : b + result;\n}\n/**\n * Efficiently raise num to power and do modular division.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n * @example\n * pow(2n, 6n, 11n) // 64n % 11n == 9n\n */\n// TODO: use field version && remove\nexport function pow(num, power, modulo) {\n    if (modulo <= _0n || power < _0n)\n        throw new Error('Expected power/modulo > 0');\n    if (modulo === _1n)\n        return _0n;\n    let res = _1n;\n    while (power > _0n) {\n        if (power & _1n)\n            res = (res * num) % modulo;\n        num = (num * num) % modulo;\n        power >>= _1n;\n    }\n    return res;\n}\n// Does x ^ (2 ^ power) mod p. pow2(30, 4) == 30 ^ (2 ^ 4)\nexport function pow2(x, power, modulo) {\n    let res = x;\n    while (power-- > _0n) {\n        res *= res;\n        res %= modulo;\n    }\n    return res;\n}\n// Inverses number over modulo\nexport function invert(number, modulo) {\n    if (number === _0n || modulo <= _0n) {\n        throw new Error(`invert: expected positive integers, got n=${number} mod=${modulo}`);\n    }\n    // Euclidean GCD https://brilliant.org/wiki/extended-euclidean-algorithm/\n    // Fermat's little theorem \"CT-like\" version inv(n) = n^(m-2) mod m is 30x slower.\n    let a = mod(number, modulo);\n    let b = modulo;\n    // prettier-ignore\n    let x = _0n, y = _1n, u = _1n, v = _0n;\n    while (a !== _0n) {\n        // JIT applies optimization if those two lines follow each other\n        const q = b / a;\n        const r = b % a;\n        const m = x - u * q;\n        const n = y - v * q;\n        // prettier-ignore\n        b = a, a = r, x = u, y = v, u = m, v = n;\n    }\n    const gcd = b;\n    if (gcd !== _1n)\n        throw new Error('invert: does not exist');\n    return mod(x, modulo);\n}\n/**\n * Tonelli-Shanks square root search algorithm.\n * 1. https://eprint.iacr.org/2012/685.pdf (page 12)\n * 2. Square Roots from 1; 24, 51, 10 to Dan Shanks\n * Will start an infinite loop if field order P is not prime.\n * @param P field order\n * @returns function that takes field Fp (created from P) and number n\n */\nexport function tonelliShanks(P) {\n    // Legendre constant: used to calculate Legendre symbol (a | p),\n    // which denotes the value of a^((p-1)/2) (mod p).\n    // (a | p)  1    if a is a square (mod p)\n    // (a | p)  -1   if a is not a square (mod p)\n    // (a | p)  0    if a  0 (mod p)\n    const legendreC = (P - _1n) / _2n;\n    let Q, S, Z;\n    // Step 1: By factoring out powers of 2 from p - 1,\n    // find q and s such that p - 1 = q*(2^s) with q odd\n    for (Q = P - _1n, S = 0; Q % _2n === _0n; Q /= _2n, S++)\n        ;\n    // Step 2: Select a non-square z such that (z | p)  -1 and set c  zq\n    for (Z = _2n; Z < P && pow(Z, legendreC, P) !== P - _1n; Z++)\n        ;\n    // Fast-path\n    if (S === 1) {\n        const p1div4 = (P + _1n) / _4n;\n        return function tonelliFast(Fp, n) {\n            const root = Fp.pow(n, p1div4);\n            if (!Fp.eql(Fp.sqr(root), n))\n                throw new Error('Cannot find square root');\n            return root;\n        };\n    }\n    // Slow-path\n    const Q1div2 = (Q + _1n) / _2n;\n    return function tonelliSlow(Fp, n) {\n        // Step 0: Check that n is indeed a square: (n | p) should not be  -1\n        if (Fp.pow(n, legendreC) === Fp.neg(Fp.ONE))\n            throw new Error('Cannot find square root');\n        let r = S;\n        // TODO: will fail at Fp2/etc\n        let g = Fp.pow(Fp.mul(Fp.ONE, Z), Q); // will update both x and b\n        let x = Fp.pow(n, Q1div2); // first guess at the square root\n        let b = Fp.pow(n, Q); // first guess at the fudge factor\n        while (!Fp.eql(b, Fp.ONE)) {\n            if (Fp.eql(b, Fp.ZERO))\n                return Fp.ZERO; // https://en.wikipedia.org/wiki/Tonelli%E2%80%93Shanks_algorithm (4. If t = 0, return r = 0)\n            // Find m such b^(2^m)==1\n            let m = 1;\n            for (let t2 = Fp.sqr(b); m < r; m++) {\n                if (Fp.eql(t2, Fp.ONE))\n                    break;\n                t2 = Fp.sqr(t2); // t2 *= t2\n            }\n            // NOTE: r-m-1 can be bigger than 32, need to convert to bigint before shift, otherwise there will be overflow\n            const ge = Fp.pow(g, _1n << BigInt(r - m - 1)); // ge = 2^(r-m-1)\n            g = Fp.sqr(ge); // g = ge * ge\n            x = Fp.mul(x, ge); // x *= ge\n            b = Fp.mul(b, g); // b *= g\n            r = m;\n        }\n        return x;\n    };\n}\nexport function FpSqrt(P) {\n    // NOTE: different algorithms can give different roots, it is up to user to decide which one they want.\n    // For example there is FpSqrtOdd/FpSqrtEven to choice root based on oddness (used for hash-to-curve).\n    // P  3 (mod 4)\n    // n = n^((P+1)/4)\n    if (P % _4n === _3n) {\n        // Not all roots possible!\n        // const ORDER =\n        //   0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaabn;\n        // const NUM = 72057594037927816n;\n        const p1div4 = (P + _1n) / _4n;\n        return function sqrt3mod4(Fp, n) {\n            const root = Fp.pow(n, p1div4);\n            // Throw if root**2 != n\n            if (!Fp.eql(Fp.sqr(root), n))\n                throw new Error('Cannot find square root');\n            return root;\n        };\n    }\n    // Atkin algorithm for q  5 (mod 8), https://eprint.iacr.org/2012/685.pdf (page 10)\n    if (P % _8n === _5n) {\n        const c1 = (P - _5n) / _8n;\n        return function sqrt5mod8(Fp, n) {\n            const n2 = Fp.mul(n, _2n);\n            const v = Fp.pow(n2, c1);\n            const nv = Fp.mul(n, v);\n            const i = Fp.mul(Fp.mul(nv, _2n), v);\n            const root = Fp.mul(nv, Fp.sub(i, Fp.ONE));\n            if (!Fp.eql(Fp.sqr(root), n))\n                throw new Error('Cannot find square root');\n            return root;\n        };\n    }\n    // P  9 (mod 16)\n    if (P % _16n === _9n) {\n        // NOTE: tonelli is too slow for bls-Fp2 calculations even on start\n        // Means we cannot use sqrt for constants at all!\n        //\n        // const c1 = Fp.sqrt(Fp.negate(Fp.ONE)); //  1. c1 = sqrt(-1) in F, i.e., (c1^2) == -1 in F\n        // const c2 = Fp.sqrt(c1);                //  2. c2 = sqrt(c1) in F, i.e., (c2^2) == c1 in F\n        // const c3 = Fp.sqrt(Fp.negate(c1));     //  3. c3 = sqrt(-c1) in F, i.e., (c3^2) == -c1 in F\n        // const c4 = (P + _7n) / _16n;           //  4. c4 = (q + 7) / 16        # Integer arithmetic\n        // sqrt = (x) => {\n        //   let tv1 = Fp.pow(x, c4);             //  1. tv1 = x^c4\n        //   let tv2 = Fp.mul(c1, tv1);           //  2. tv2 = c1 * tv1\n        //   const tv3 = Fp.mul(c2, tv1);         //  3. tv3 = c2 * tv1\n        //   let tv4 = Fp.mul(c3, tv1);           //  4. tv4 = c3 * tv1\n        //   const e1 = Fp.equals(Fp.square(tv2), x); //  5.  e1 = (tv2^2) == x\n        //   const e2 = Fp.equals(Fp.square(tv3), x); //  6.  e2 = (tv3^2) == x\n        //   tv1 = Fp.cmov(tv1, tv2, e1); //  7. tv1 = CMOV(tv1, tv2, e1)  # Select tv2 if (tv2^2) == x\n        //   tv2 = Fp.cmov(tv4, tv3, e2); //  8. tv2 = CMOV(tv4, tv3, e2)  # Select tv3 if (tv3^2) == x\n        //   const e3 = Fp.equals(Fp.square(tv2), x); //  9.  e3 = (tv2^2) == x\n        //   return Fp.cmov(tv1, tv2, e3); //  10.  z = CMOV(tv1, tv2, e3)  # Select the sqrt from tv1 and tv2\n        // }\n    }\n    // Other cases: Tonelli-Shanks algorithm\n    return tonelliShanks(P);\n}\n// Little-endian check for first LE bit (last BE bit);\nexport const isNegativeLE = (num, modulo) => (mod(num, modulo) & _1n) === _1n;\n// prettier-ignore\nconst FIELD_FIELDS = [\n    'create', 'isValid', 'is0', 'neg', 'inv', 'sqrt', 'sqr',\n    'eql', 'add', 'sub', 'mul', 'pow', 'div',\n    'addN', 'subN', 'mulN', 'sqrN'\n];\nexport function validateField(field) {\n    const initial = {\n        ORDER: 'bigint',\n        MASK: 'bigint',\n        BYTES: 'isSafeInteger',\n        BITS: 'isSafeInteger',\n    };\n    const opts = FIELD_FIELDS.reduce((map, val) => {\n        map[val] = 'function';\n        return map;\n    }, initial);\n    return validateObject(field, opts);\n}\n// Generic field functions\n/**\n * Same as `pow` but for Fp: non-constant-time.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n */\nexport function FpPow(f, num, power) {\n    // Should have same speed as pow for bigints\n    // TODO: benchmark!\n    if (power < _0n)\n        throw new Error('Expected power > 0');\n    if (power === _0n)\n        return f.ONE;\n    if (power === _1n)\n        return num;\n    let p = f.ONE;\n    let d = num;\n    while (power > _0n) {\n        if (power & _1n)\n            p = f.mul(p, d);\n        d = f.sqr(d);\n        power >>= _1n;\n    }\n    return p;\n}\n/**\n * Efficiently invert an array of Field elements.\n * `inv(0)` will return `undefined` here: make sure to throw an error.\n */\nexport function FpInvertBatch(f, nums) {\n    const tmp = new Array(nums.length);\n    // Walk from first to last, multiply them by each other MOD p\n    const lastMultiplied = nums.reduce((acc, num, i) => {\n        if (f.is0(num))\n            return acc;\n        tmp[i] = acc;\n        return f.mul(acc, num);\n    }, f.ONE);\n    // Invert last element\n    const inverted = f.inv(lastMultiplied);\n    // Walk from last to first, multiply them by inverted each other MOD p\n    nums.reduceRight((acc, num, i) => {\n        if (f.is0(num))\n            return acc;\n        tmp[i] = f.mul(acc, tmp[i]);\n        return f.mul(acc, num);\n    }, inverted);\n    return tmp;\n}\nexport function FpDiv(f, lhs, rhs) {\n    return f.mul(lhs, typeof rhs === 'bigint' ? invert(rhs, f.ORDER) : f.inv(rhs));\n}\n// This function returns True whenever the value x is a square in the field F.\nexport function FpIsSquare(f) {\n    const legendreConst = (f.ORDER - _1n) / _2n; // Integer arithmetic\n    return (x) => {\n        const p = f.pow(x, legendreConst);\n        return f.eql(p, f.ZERO) || f.eql(p, f.ONE);\n    };\n}\n// CURVE.n lengths\nexport function nLength(n, nBitLength) {\n    // Bit size, byte size of CURVE.n\n    const _nBitLength = nBitLength !== undefined ? nBitLength : n.toString(2).length;\n    const nByteLength = Math.ceil(_nBitLength / 8);\n    return { nBitLength: _nBitLength, nByteLength };\n}\n/**\n * Initializes a finite field over prime. **Non-primes are not supported.**\n * Do not init in loop: slow. Very fragile: always run a benchmark on a change.\n * Major performance optimizations:\n * * a) denormalized operations like mulN instead of mul\n * * b) same object shape: never add or remove keys\n * * c) Object.freeze\n * @param ORDER prime positive bigint\n * @param bitLen how many bits the field consumes\n * @param isLE (def: false) if encoding / decoding should be in little-endian\n * @param redef optional faster redefinitions of sqrt and other methods\n */\nexport function Field(ORDER, bitLen, isLE = false, redef = {}) {\n    if (ORDER <= _0n)\n        throw new Error(`Expected Field ORDER > 0, got ${ORDER}`);\n    const { nBitLength: BITS, nByteLength: BYTES } = nLength(ORDER, bitLen);\n    if (BYTES > 2048)\n        throw new Error('Field lengths over 2048 bytes are not supported');\n    const sqrtP = FpSqrt(ORDER);\n    const f = Object.freeze({\n        ORDER,\n        BITS,\n        BYTES,\n        MASK: bitMask(BITS),\n        ZERO: _0n,\n        ONE: _1n,\n        create: (num) => mod(num, ORDER),\n        isValid: (num) => {\n            if (typeof num !== 'bigint')\n                throw new Error(`Invalid field element: expected bigint, got ${typeof num}`);\n            return _0n <= num && num < ORDER; // 0 is valid element, but it's not invertible\n        },\n        is0: (num) => num === _0n,\n        isOdd: (num) => (num & _1n) === _1n,\n        neg: (num) => mod(-num, ORDER),\n        eql: (lhs, rhs) => lhs === rhs,\n        sqr: (num) => mod(num * num, ORDER),\n        add: (lhs, rhs) => mod(lhs + rhs, ORDER),\n        sub: (lhs, rhs) => mod(lhs - rhs, ORDER),\n        mul: (lhs, rhs) => mod(lhs * rhs, ORDER),\n        pow: (num, power) => FpPow(f, num, power),\n        div: (lhs, rhs) => mod(lhs * invert(rhs, ORDER), ORDER),\n        // Same as above, but doesn't normalize\n        sqrN: (num) => num * num,\n        addN: (lhs, rhs) => lhs + rhs,\n        subN: (lhs, rhs) => lhs - rhs,\n        mulN: (lhs, rhs) => lhs * rhs,\n        inv: (num) => invert(num, ORDER),\n        sqrt: redef.sqrt || ((n) => sqrtP(f, n)),\n        invertBatch: (lst) => FpInvertBatch(f, lst),\n        // TODO: do we really need constant cmov?\n        // We don't have const-time bigints anyway, so probably will be not very useful\n        cmov: (a, b, c) => (c ? b : a),\n        toBytes: (num) => (isLE ? numberToBytesLE(num, BYTES) : numberToBytesBE(num, BYTES)),\n        fromBytes: (bytes) => {\n            if (bytes.length !== BYTES)\n                throw new Error(`Fp.fromBytes: expected ${BYTES}, got ${bytes.length}`);\n            return isLE ? bytesToNumberLE(bytes) : bytesToNumberBE(bytes);\n        },\n    });\n    return Object.freeze(f);\n}\nexport function FpSqrtOdd(Fp, elm) {\n    if (!Fp.isOdd)\n        throw new Error(`Field doesn't have isOdd`);\n    const root = Fp.sqrt(elm);\n    return Fp.isOdd(root) ? root : Fp.neg(root);\n}\nexport function FpSqrtEven(Fp, elm) {\n    if (!Fp.isOdd)\n        throw new Error(`Field doesn't have isOdd`);\n    const root = Fp.sqrt(elm);\n    return Fp.isOdd(root) ? Fp.neg(root) : root;\n}\n/**\n * \"Constant-time\" private key generation utility.\n * Same as mapKeyToField, but accepts less bytes (40 instead of 48 for 32-byte field).\n * Which makes it slightly more biased, less secure.\n * @deprecated use mapKeyToField instead\n */\nexport function hashToPrivateScalar(hash, groupOrder, isLE = false) {\n    hash = ensureBytes('privateHash', hash);\n    const hashLen = hash.length;\n    const minLen = nLength(groupOrder).nByteLength + 8;\n    if (minLen < 24 || hashLen < minLen || hashLen > 1024)\n        throw new Error(`hashToPrivateScalar: expected ${minLen}-1024 bytes of input, got ${hashLen}`);\n    const num = isLE ? bytesToNumberLE(hash) : bytesToNumberBE(hash);\n    return mod(num, groupOrder - _1n) + _1n;\n}\n/**\n * Returns total number of bytes consumed by the field element.\n * For example, 32 bytes for usual 256-bit weierstrass curve.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of field\n */\nexport function getFieldBytesLength(fieldOrder) {\n    if (typeof fieldOrder !== 'bigint')\n        throw new Error('field order must be bigint');\n    const bitLength = fieldOrder.toString(2).length;\n    return Math.ceil(bitLength / 8);\n}\n/**\n * Returns minimal amount of bytes that can be safely reduced\n * by field order.\n * Should be 2^-128 for 128-bit curve such as P256.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of target hash\n */\nexport function getMinHashLength(fieldOrder) {\n    const length = getFieldBytesLength(fieldOrder);\n    return length + Math.ceil(length / 2);\n}\n/**\n * \"Constant-time\" private key generation utility.\n * Can take (n + n/2) or more bytes of uniform input e.g. from CSPRNG or KDF\n * and convert them into private scalar, with the modulo bias being negligible.\n * Needs at least 48 bytes of input for 32-byte private key.\n * https://research.kudelskisecurity.com/2020/07/28/the-definitive-guide-to-modulo-bias-and-how-to-avoid-it/\n * FIPS 186-5, A.2 https://csrc.nist.gov/publications/detail/fips/186/5/final\n * RFC 9380, https://www.rfc-editor.org/rfc/rfc9380#section-5\n * @param hash hash output from SHA3 or a similar function\n * @param groupOrder size of subgroup - (e.g. secp256k1.CURVE.n)\n * @param isLE interpret hash bytes as LE num\n * @returns valid private scalar\n */\nexport function mapHashToField(key, fieldOrder, isLE = false) {\n    const len = key.length;\n    const fieldLen = getFieldBytesLength(fieldOrder);\n    const minLen = getMinHashLength(fieldOrder);\n    // No small numbers: need to understand bias story. No huge numbers: easier to detect JS timings.\n    if (len < 16 || len < minLen || len > 1024)\n        throw new Error(`expected ${minLen}-1024 bytes of input, got ${len}`);\n    const num = isLE ? bytesToNumberBE(key) : bytesToNumberLE(key);\n    // `mod(x, 11)` can sometimes produce 0. `mod(x, 10) + 1` is the same, but no 0\n    const reduced = mod(num, fieldOrder - _1n) + _1n;\n    return isLE ? numberToBytesLE(reduced, fieldLen) : numberToBytesBE(reduced, fieldLen);\n}\n//# sourceMappingURL=modular.js.map","/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// Abelian group utilities\nimport { validateField, nLength } from './modular.js';\nimport { validateObject } from './utils.js';\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\n// Elliptic curve multiplication of Point by scalar. Fragile.\n// Scalars should always be less than curve order: this should be checked inside of a curve itself.\n// Creates precomputation tables for fast multiplication:\n// - private scalar is split by fixed size windows of W bits\n// - every window point is collected from window's table & added to accumulator\n// - since windows are different, same point inside tables won't be accessed more than once per calc\n// - each multiplication is 'Math.ceil(CURVE_ORDER / ) + 1' point additions (fixed for any scalar)\n// - +1 window is neccessary for wNAF\n// - wNAF reduces table size: 2x less memory + 2x faster generation, but 10% slower multiplication\n// TODO: Research returning 2d JS array of windows, instead of a single window. This would allow\n// windows to be in different memory locations\nexport function wNAF(c, bits) {\n    const constTimeNegate = (condition, item) => {\n        const neg = item.negate();\n        return condition ? neg : item;\n    };\n    const opts = (W) => {\n        const windows = Math.ceil(bits / W) + 1; // +1, because\n        const windowSize = 2 ** (W - 1); // -1 because we skip zero\n        return { windows, windowSize };\n    };\n    return {\n        constTimeNegate,\n        // non-const time multiplication ladder\n        unsafeLadder(elm, n) {\n            let p = c.ZERO;\n            let d = elm;\n            while (n > _0n) {\n                if (n & _1n)\n                    p = p.add(d);\n                d = d.double();\n                n >>= _1n;\n            }\n            return p;\n        },\n        /**\n         * Creates a wNAF precomputation window. Used for caching.\n         * Default window size is set by `utils.precompute()` and is equal to 8.\n         * Number of precomputed points depends on the curve size:\n         * 2^(1) * (Math.ceil( / ) + 1), where:\n         * -  is the window size\n         * -  is the bitlength of the curve order.\n         * For a 256-bit curve and window size 8, the number of precomputed points is 128 * 33 = 4224.\n         * @returns precomputed point tables flattened to a single array\n         */\n        precomputeWindow(elm, W) {\n            const { windows, windowSize } = opts(W);\n            const points = [];\n            let p = elm;\n            let base = p;\n            for (let window = 0; window < windows; window++) {\n                base = p;\n                points.push(base);\n                // =1, because we skip zero\n                for (let i = 1; i < windowSize; i++) {\n                    base = base.add(p);\n                    points.push(base);\n                }\n                p = base.double();\n            }\n            return points;\n        },\n        /**\n         * Implements ec multiplication using precomputed tables and w-ary non-adjacent form.\n         * @param W window size\n         * @param precomputes precomputed tables\n         * @param n scalar (we don't check here, but should be less than curve order)\n         * @returns real and fake (for const-time) points\n         */\n        wNAF(W, precomputes, n) {\n            // TODO: maybe check that scalar is less than group order? wNAF behavious is undefined otherwise\n            // But need to carefully remove other checks before wNAF. ORDER == bits here\n            const { windows, windowSize } = opts(W);\n            let p = c.ZERO;\n            let f = c.BASE;\n            const mask = BigInt(2 ** W - 1); // Create mask with W ones: 0b1111 for W=4 etc.\n            const maxNumber = 2 ** W;\n            const shiftBy = BigInt(W);\n            for (let window = 0; window < windows; window++) {\n                const offset = window * windowSize;\n                // Extract W bits.\n                let wbits = Number(n & mask);\n                // Shift number by W bits.\n                n >>= shiftBy;\n                // If the bits are bigger than max size, we'll split those.\n                // +224 => 256 - 32\n                if (wbits > windowSize) {\n                    wbits -= maxNumber;\n                    n += _1n;\n                }\n                // This code was first written with assumption that 'f' and 'p' will never be infinity point:\n                // since each addition is multiplied by 2 ** W, it cannot cancel each other. However,\n                // there is negate now: it is possible that negated element from low value\n                // would be the same as high element, which will create carry into next window.\n                // It's not obvious how this can fail, but still worth investigating later.\n                // Check if we're onto Zero point.\n                // Add random point inside current window to f.\n                const offset1 = offset;\n                const offset2 = offset + Math.abs(wbits) - 1; // -1 because we skip zero\n                const cond1 = window % 2 !== 0;\n                const cond2 = wbits < 0;\n                if (wbits === 0) {\n                    // The most important part for const-time getPublicKey\n                    f = f.add(constTimeNegate(cond1, precomputes[offset1]));\n                }\n                else {\n                    p = p.add(constTimeNegate(cond2, precomputes[offset2]));\n                }\n            }\n            // JIT-compiler should not eliminate f here, since it will later be used in normalizeZ()\n            // Even if the variable is still unused, there are some checks which will\n            // throw an exception, so compiler needs to prove they won't happen, which is hard.\n            // At this point there is a way to F be infinity-point even if p is not,\n            // which makes it less const-time: around 1 bigint multiply.\n            return { p, f };\n        },\n        wNAFCached(P, precomputesMap, n, transform) {\n            // @ts-ignore\n            const W = P._WINDOW_SIZE || 1;\n            // Calculate precomputes on a first run, reuse them after\n            let comp = precomputesMap.get(P);\n            if (!comp) {\n                comp = this.precomputeWindow(P, W);\n                if (W !== 1) {\n                    precomputesMap.set(P, transform(comp));\n                }\n            }\n            return this.wNAF(W, comp, n);\n        },\n    };\n}\nexport function validateBasic(curve) {\n    validateField(curve.Fp);\n    validateObject(curve, {\n        n: 'bigint',\n        h: 'bigint',\n        Gx: 'field',\n        Gy: 'field',\n    }, {\n        nBitLength: 'isSafeInteger',\n        nByteLength: 'isSafeInteger',\n    });\n    // Set defaults\n    return Object.freeze({\n        ...nLength(curve.n, curve.nBitLength),\n        ...curve,\n        ...{ p: curve.Fp.ORDER },\n    });\n}\n//# sourceMappingURL=curve.js.map","/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// Twisted Edwards curve. The formula is: ax + y = 1 + dxy\nimport { validateBasic, wNAF } from './curve.js';\nimport { mod } from './modular.js';\nimport * as ut from './utils.js';\nimport { ensureBytes } from './utils.js';\n// Be friendly to bad ECMAScript parsers by not using bigint literals\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = BigInt(2), _8n = BigInt(8);\n// verification rule is either zip215 or rfc8032 / nist186-5. Consult fromHex:\nconst VERIFY_DEFAULT = { zip215: true };\nfunction validateOpts(curve) {\n    const opts = validateBasic(curve);\n    ut.validateObject(curve, {\n        hash: 'function',\n        a: 'bigint',\n        d: 'bigint',\n        randomBytes: 'function',\n    }, {\n        adjustScalarBytes: 'function',\n        domain: 'function',\n        uvRatio: 'function',\n        mapToCurve: 'function',\n    });\n    // Set defaults\n    return Object.freeze({ ...opts });\n}\n// It is not generic twisted curve for now, but ed25519/ed448 generic implementation\nexport function twistedEdwards(curveDef) {\n    const CURVE = validateOpts(curveDef);\n    const { Fp, n: CURVE_ORDER, prehash: prehash, hash: cHash, randomBytes, nByteLength, h: cofactor, } = CURVE;\n    const MASK = _2n << (BigInt(nByteLength * 8) - _1n);\n    const modP = Fp.create; // Function overrides\n    // sqrt(u/v)\n    const uvRatio = CURVE.uvRatio ||\n        ((u, v) => {\n            try {\n                return { isValid: true, value: Fp.sqrt(u * Fp.inv(v)) };\n            }\n            catch (e) {\n                return { isValid: false, value: _0n };\n            }\n        });\n    const adjustScalarBytes = CURVE.adjustScalarBytes || ((bytes) => bytes); // NOOP\n    const domain = CURVE.domain ||\n        ((data, ctx, phflag) => {\n            if (ctx.length || phflag)\n                throw new Error('Contexts/pre-hash are not supported');\n            return data;\n        }); // NOOP\n    const inBig = (n) => typeof n === 'bigint' && _0n < n; // n in [1..]\n    const inRange = (n, max) => inBig(n) && inBig(max) && n < max; // n in [1..max-1]\n    const in0MaskRange = (n) => n === _0n || inRange(n, MASK); // n in [0..MASK-1]\n    function assertInRange(n, max) {\n        // n in [1..max-1]\n        if (inRange(n, max))\n            return n;\n        throw new Error(`Expected valid scalar < ${max}, got ${typeof n} ${n}`);\n    }\n    function assertGE0(n) {\n        // n in [0..CURVE_ORDER-1]\n        return n === _0n ? n : assertInRange(n, CURVE_ORDER); // GE = prime subgroup, not full group\n    }\n    const pointPrecomputes = new Map();\n    function isPoint(other) {\n        if (!(other instanceof Point))\n            throw new Error('ExtendedPoint expected');\n    }\n    // Extended Point works in extended coordinates: (x, y, z, t)  (x=x/z, y=y/z, t=xy).\n    // https://en.wikipedia.org/wiki/Twisted_Edwards_curve#Extended_coordinates\n    class Point {\n        constructor(ex, ey, ez, et) {\n            this.ex = ex;\n            this.ey = ey;\n            this.ez = ez;\n            this.et = et;\n            if (!in0MaskRange(ex))\n                throw new Error('x required');\n            if (!in0MaskRange(ey))\n                throw new Error('y required');\n            if (!in0MaskRange(ez))\n                throw new Error('z required');\n            if (!in0MaskRange(et))\n                throw new Error('t required');\n        }\n        get x() {\n            return this.toAffine().x;\n        }\n        get y() {\n            return this.toAffine().y;\n        }\n        static fromAffine(p) {\n            if (p instanceof Point)\n                throw new Error('extended point not allowed');\n            const { x, y } = p || {};\n            if (!in0MaskRange(x) || !in0MaskRange(y))\n                throw new Error('invalid affine point');\n            return new Point(x, y, _1n, modP(x * y));\n        }\n        static normalizeZ(points) {\n            const toInv = Fp.invertBatch(points.map((p) => p.ez));\n            return points.map((p, i) => p.toAffine(toInv[i])).map(Point.fromAffine);\n        }\n        // \"Private method\", don't use it directly\n        _setWindowSize(windowSize) {\n            this._WINDOW_SIZE = windowSize;\n            pointPrecomputes.delete(this);\n        }\n        // Not required for fromHex(), which always creates valid points.\n        // Could be useful for fromAffine().\n        assertValidity() {\n            const { a, d } = CURVE;\n            if (this.is0())\n                throw new Error('bad point: ZERO'); // TODO: optimize, with vars below?\n            // Equation in affine coordinates: ax + y = 1 + dxy\n            // Equation in projective coordinates (X/Z, Y/Z, Z):  (aX + Y)Z = Z + dXY\n            const { ex: X, ey: Y, ez: Z, et: T } = this;\n            const X2 = modP(X * X); // X\n            const Y2 = modP(Y * Y); // Y\n            const Z2 = modP(Z * Z); // Z\n            const Z4 = modP(Z2 * Z2); // Z\n            const aX2 = modP(X2 * a); // aX\n            const left = modP(Z2 * modP(aX2 + Y2)); // (aX + Y)Z\n            const right = modP(Z4 + modP(d * modP(X2 * Y2))); // Z + dXY\n            if (left !== right)\n                throw new Error('bad point: equation left != right (1)');\n            // In Extended coordinates we also have T, which is x*y=T/Z: check X*Y == Z*T\n            const XY = modP(X * Y);\n            const ZT = modP(Z * T);\n            if (XY !== ZT)\n                throw new Error('bad point: equation left != right (2)');\n        }\n        // Compare one point to another.\n        equals(other) {\n            isPoint(other);\n            const { ex: X1, ey: Y1, ez: Z1 } = this;\n            const { ex: X2, ey: Y2, ez: Z2 } = other;\n            const X1Z2 = modP(X1 * Z2);\n            const X2Z1 = modP(X2 * Z1);\n            const Y1Z2 = modP(Y1 * Z2);\n            const Y2Z1 = modP(Y2 * Z1);\n            return X1Z2 === X2Z1 && Y1Z2 === Y2Z1;\n        }\n        is0() {\n            return this.equals(Point.ZERO);\n        }\n        negate() {\n            // Flips point sign to a negative one (-x, y in affine coords)\n            return new Point(modP(-this.ex), this.ey, this.ez, modP(-this.et));\n        }\n        // Fast algo for doubling Extended Point.\n        // https://hyperelliptic.org/EFD/g1p/auto-twisted-extended.html#doubling-dbl-2008-hwcd\n        // Cost: 4M + 4S + 1*a + 6add + 1*2.\n        double() {\n            const { a } = CURVE;\n            const { ex: X1, ey: Y1, ez: Z1 } = this;\n            const A = modP(X1 * X1); // A = X12\n            const B = modP(Y1 * Y1); // B = Y12\n            const C = modP(_2n * modP(Z1 * Z1)); // C = 2*Z12\n            const D = modP(a * A); // D = a*A\n            const x1y1 = X1 + Y1;\n            const E = modP(modP(x1y1 * x1y1) - A - B); // E = (X1+Y1)2-A-B\n            const G = D + B; // G = D+B\n            const F = G - C; // F = G-C\n            const H = D - B; // H = D-B\n            const X3 = modP(E * F); // X3 = E*F\n            const Y3 = modP(G * H); // Y3 = G*H\n            const T3 = modP(E * H); // T3 = E*H\n            const Z3 = modP(F * G); // Z3 = F*G\n            return new Point(X3, Y3, Z3, T3);\n        }\n        // Fast algo for adding 2 Extended Points.\n        // https://hyperelliptic.org/EFD/g1p/auto-twisted-extended.html#addition-add-2008-hwcd\n        // Cost: 9M + 1*a + 1*d + 7add.\n        add(other) {\n            isPoint(other);\n            const { a, d } = CURVE;\n            const { ex: X1, ey: Y1, ez: Z1, et: T1 } = this;\n            const { ex: X2, ey: Y2, ez: Z2, et: T2 } = other;\n            // Faster algo for adding 2 Extended Points when curve's a=-1.\n            // http://hyperelliptic.org/EFD/g1p/auto-twisted-extended-1.html#addition-add-2008-hwcd-4\n            // Cost: 8M + 8add + 2*2.\n            // Note: It does not check whether the `other` point is valid.\n            if (a === BigInt(-1)) {\n                const A = modP((Y1 - X1) * (Y2 + X2));\n                const B = modP((Y1 + X1) * (Y2 - X2));\n                const F = modP(B - A);\n                if (F === _0n)\n                    return this.double(); // Same point. Tests say it doesn't affect timing\n                const C = modP(Z1 * _2n * T2);\n                const D = modP(T1 * _2n * Z2);\n                const E = D + C;\n                const G = B + A;\n                const H = D - C;\n                const X3 = modP(E * F);\n                const Y3 = modP(G * H);\n                const T3 = modP(E * H);\n                const Z3 = modP(F * G);\n                return new Point(X3, Y3, Z3, T3);\n            }\n            const A = modP(X1 * X2); // A = X1*X2\n            const B = modP(Y1 * Y2); // B = Y1*Y2\n            const C = modP(T1 * d * T2); // C = T1*d*T2\n            const D = modP(Z1 * Z2); // D = Z1*Z2\n            const E = modP((X1 + Y1) * (X2 + Y2) - A - B); // E = (X1+Y1)*(X2+Y2)-A-B\n            const F = D - C; // F = D-C\n            const G = D + C; // G = D+C\n            const H = modP(B - a * A); // H = B-a*A\n            const X3 = modP(E * F); // X3 = E*F\n            const Y3 = modP(G * H); // Y3 = G*H\n            const T3 = modP(E * H); // T3 = E*H\n            const Z3 = modP(F * G); // Z3 = F*G\n            return new Point(X3, Y3, Z3, T3);\n        }\n        subtract(other) {\n            return this.add(other.negate());\n        }\n        wNAF(n) {\n            return wnaf.wNAFCached(this, pointPrecomputes, n, Point.normalizeZ);\n        }\n        // Constant-time multiplication.\n        multiply(scalar) {\n            const { p, f } = this.wNAF(assertInRange(scalar, CURVE_ORDER));\n            return Point.normalizeZ([p, f])[0];\n        }\n        // Non-constant-time multiplication. Uses double-and-add algorithm.\n        // It's faster, but should only be used when you don't care about\n        // an exposed private key e.g. sig verification.\n        // Does NOT allow scalars higher than CURVE.n.\n        multiplyUnsafe(scalar) {\n            let n = assertGE0(scalar); // 0 <= scalar < CURVE.n\n            if (n === _0n)\n                return I;\n            if (this.equals(I) || n === _1n)\n                return this;\n            if (this.equals(G))\n                return this.wNAF(n).p;\n            return wnaf.unsafeLadder(this, n);\n        }\n        // Checks if point is of small order.\n        // If you add something to small order point, you will have \"dirty\"\n        // point with torsion component.\n        // Multiplies point by cofactor and checks if the result is 0.\n        isSmallOrder() {\n            return this.multiplyUnsafe(cofactor).is0();\n        }\n        // Multiplies point by curve order and checks if the result is 0.\n        // Returns `false` is the point is dirty.\n        isTorsionFree() {\n            return wnaf.unsafeLadder(this, CURVE_ORDER).is0();\n        }\n        // Converts Extended point to default (x, y) coordinates.\n        // Can accept precomputed Z^-1 - for example, from invertBatch.\n        toAffine(iz) {\n            const { ex: x, ey: y, ez: z } = this;\n            const is0 = this.is0();\n            if (iz == null)\n                iz = is0 ? _8n : Fp.inv(z); // 8 was chosen arbitrarily\n            const ax = modP(x * iz);\n            const ay = modP(y * iz);\n            const zz = modP(z * iz);\n            if (is0)\n                return { x: _0n, y: _1n };\n            if (zz !== _1n)\n                throw new Error('invZ was invalid');\n            return { x: ax, y: ay };\n        }\n        clearCofactor() {\n            const { h: cofactor } = CURVE;\n            if (cofactor === _1n)\n                return this;\n            return this.multiplyUnsafe(cofactor);\n        }\n        // Converts hash string or Uint8Array to Point.\n        // Uses algo from RFC8032 5.1.3.\n        static fromHex(hex, zip215 = false) {\n            const { d, a } = CURVE;\n            const len = Fp.BYTES;\n            hex = ensureBytes('pointHex', hex, len); // copy hex to a new array\n            const normed = hex.slice(); // copy again, we'll manipulate it\n            const lastByte = hex[len - 1]; // select last byte\n            normed[len - 1] = lastByte & ~0x80; // clear last bit\n            const y = ut.bytesToNumberLE(normed);\n            if (y === _0n) {\n                // y=0 is allowed\n            }\n            else {\n                // RFC8032 prohibits >= p, but ZIP215 doesn't\n                if (zip215)\n                    assertInRange(y, MASK); // zip215=true [1..P-1] (2^255-19-1 for ed25519)\n                else\n                    assertInRange(y, Fp.ORDER); // zip215=false [1..MASK-1] (2^256-1 for ed25519)\n            }\n            // Ed25519: x = (y-1)/(dy+1) mod p. Ed448: x = (y-1)/(dy-1) mod p. Generic case:\n            // ax+y=1+dxy => y-1=dxy-ax => y-1=x(dy-a) => x=(y-1)/(dy-a)\n            const y2 = modP(y * y); // denominator is always non-0 mod p.\n            const u = modP(y2 - _1n); // u = y - 1\n            const v = modP(d * y2 - a); // v = d y + 1.\n            let { isValid, value: x } = uvRatio(u, v); // (u/v)\n            if (!isValid)\n                throw new Error('Point.fromHex: invalid y coordinate');\n            const isXOdd = (x & _1n) === _1n; // There are 2 square roots. Use x_0 bit to select proper\n            const isLastByteOdd = (lastByte & 0x80) !== 0; // x_0, last bit\n            if (!zip215 && x === _0n && isLastByteOdd)\n                // if x=0 and x_0 = 1, fail\n                throw new Error('Point.fromHex: x=0 and x_0=1');\n            if (isLastByteOdd !== isXOdd)\n                x = modP(-x); // if x_0 != x mod 2, set x = p-x\n            return Point.fromAffine({ x, y });\n        }\n        static fromPrivateKey(privKey) {\n            return getExtendedPublicKey(privKey).point;\n        }\n        toRawBytes() {\n            const { x, y } = this.toAffine();\n            const bytes = ut.numberToBytesLE(y, Fp.BYTES); // each y has 2 x values (x, -y)\n            bytes[bytes.length - 1] |= x & _1n ? 0x80 : 0; // when compressing, it's enough to store y\n            return bytes; // and use the last byte to encode sign of x\n        }\n        toHex() {\n            return ut.bytesToHex(this.toRawBytes()); // Same as toRawBytes, but returns string.\n        }\n    }\n    Point.BASE = new Point(CURVE.Gx, CURVE.Gy, _1n, modP(CURVE.Gx * CURVE.Gy));\n    Point.ZERO = new Point(_0n, _1n, _1n, _0n); // 0, 1, 1, 0\n    const { BASE: G, ZERO: I } = Point;\n    const wnaf = wNAF(Point, nByteLength * 8);\n    function modN(a) {\n        return mod(a, CURVE_ORDER);\n    }\n    // Little-endian SHA512 with modulo n\n    function modN_LE(hash) {\n        return modN(ut.bytesToNumberLE(hash));\n    }\n    /** Convenience method that creates public key and other stuff. RFC8032 5.1.5 */\n    function getExtendedPublicKey(key) {\n        const len = nByteLength;\n        key = ensureBytes('private key', key, len);\n        // Hash private key with curve's hash function to produce uniformingly random input\n        // Check byte lengths: ensure(64, h(ensure(32, key)))\n        const hashed = ensureBytes('hashed private key', cHash(key), 2 * len);\n        const head = adjustScalarBytes(hashed.slice(0, len)); // clear first half bits, produce FE\n        const prefix = hashed.slice(len, 2 * len); // second half is called key prefix (5.1.6)\n        const scalar = modN_LE(head); // The actual private scalar\n        const point = G.multiply(scalar); // Point on Edwards curve aka public key\n        const pointBytes = point.toRawBytes(); // Uint8Array representation\n        return { head, prefix, scalar, point, pointBytes };\n    }\n    // Calculates EdDSA pub key. RFC8032 5.1.5. Privkey is hashed. Use first half with 3 bits cleared\n    function getPublicKey(privKey) {\n        return getExtendedPublicKey(privKey).pointBytes;\n    }\n    // int('LE', SHA512(dom2(F, C) || msgs)) mod N\n    function hashDomainToScalar(context = new Uint8Array(), ...msgs) {\n        const msg = ut.concatBytes(...msgs);\n        return modN_LE(cHash(domain(msg, ensureBytes('context', context), !!prehash)));\n    }\n    /** Signs message with privateKey. RFC8032 5.1.6 */\n    function sign(msg, privKey, options = {}) {\n        msg = ensureBytes('message', msg);\n        if (prehash)\n            msg = prehash(msg); // for ed25519ph etc.\n        const { prefix, scalar, pointBytes } = getExtendedPublicKey(privKey);\n        const r = hashDomainToScalar(options.context, prefix, msg); // r = dom2(F, C) || prefix || PH(M)\n        const R = G.multiply(r).toRawBytes(); // R = rG\n        const k = hashDomainToScalar(options.context, R, pointBytes, msg); // R || A || PH(M)\n        const s = modN(r + k * scalar); // S = (r + k * s) mod L\n        assertGE0(s); // 0 <= s < l\n        const res = ut.concatBytes(R, ut.numberToBytesLE(s, Fp.BYTES));\n        return ensureBytes('result', res, nByteLength * 2); // 64-byte signature\n    }\n    const verifyOpts = VERIFY_DEFAULT;\n    function verify(sig, msg, publicKey, options = verifyOpts) {\n        const { context, zip215 } = options;\n        const len = Fp.BYTES; // Verifies EdDSA signature against message and public key. RFC8032 5.1.7.\n        sig = ensureBytes('signature', sig, 2 * len); // An extended group equation is checked.\n        msg = ensureBytes('message', msg);\n        if (prehash)\n            msg = prehash(msg); // for ed25519ph, etc\n        const s = ut.bytesToNumberLE(sig.slice(len, 2 * len));\n        // zip215: true is good for consensus-critical apps and allows points < 2^256\n        // zip215: false follows RFC8032 / NIST186-5 and restricts points to CURVE.p\n        let A, R, SB;\n        try {\n            A = Point.fromHex(publicKey, zip215);\n            R = Point.fromHex(sig.slice(0, len), zip215);\n            SB = G.multiplyUnsafe(s); // 0 <= s < l is done inside\n        }\n        catch (error) {\n            return false;\n        }\n        if (!zip215 && A.isSmallOrder())\n            return false;\n        const k = hashDomainToScalar(context, R.toRawBytes(), A.toRawBytes(), msg);\n        const RkA = R.add(A.multiplyUnsafe(k));\n        // [8][S]B = [8]R + [8][k]A'\n        return RkA.subtract(SB).clearCofactor().equals(Point.ZERO);\n    }\n    G._setWindowSize(8); // Enable precomputes. Slows down first publicKey computation by 20ms.\n    const utils = {\n        getExtendedPublicKey,\n        // ed25519 private keys are uniform 32b. No need to check for modulo bias, like in secp256k1.\n        randomPrivateKey: () => randomBytes(Fp.BYTES),\n        /**\n         * We're doing scalar multiplication (used in getPublicKey etc) with precomputed BASE_POINT\n         * values. This slows down first getPublicKey() by milliseconds (see Speed section),\n         * but allows to speed-up subsequent getPublicKey() calls up to 20x.\n         * @param windowSize 2, 4, 8, 16\n         */\n        precompute(windowSize = 8, point = Point.BASE) {\n            point._setWindowSize(windowSize);\n            point.multiply(BigInt(3));\n            return point;\n        },\n    };\n    return {\n        CURVE,\n        getPublicKey,\n        sign,\n        verify,\n        ExtendedPoint: Point,\n        utils,\n    };\n}\n//# sourceMappingURL=edwards.js.map","/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { mod, pow } from './modular.js';\nimport { bytesToNumberLE, ensureBytes, numberToBytesLE, validateObject } from './utils.js';\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\nfunction validateOpts(curve) {\n    validateObject(curve, {\n        a: 'bigint',\n    }, {\n        montgomeryBits: 'isSafeInteger',\n        nByteLength: 'isSafeInteger',\n        adjustScalarBytes: 'function',\n        domain: 'function',\n        powPminus2: 'function',\n        Gu: 'bigint',\n    });\n    // Set defaults\n    return Object.freeze({ ...curve });\n}\n// NOTE: not really montgomery curve, just bunch of very specific methods for X25519/X448 (RFC 7748, https://www.rfc-editor.org/rfc/rfc7748)\n// Uses only one coordinate instead of two\nexport function montgomery(curveDef) {\n    const CURVE = validateOpts(curveDef);\n    const { P } = CURVE;\n    const modP = (n) => mod(n, P);\n    const montgomeryBits = CURVE.montgomeryBits;\n    const montgomeryBytes = Math.ceil(montgomeryBits / 8);\n    const fieldLen = CURVE.nByteLength;\n    const adjustScalarBytes = CURVE.adjustScalarBytes || ((bytes) => bytes);\n    const powPminus2 = CURVE.powPminus2 || ((x) => pow(x, P - BigInt(2), P));\n    // cswap from RFC7748. But it is not from RFC7748!\n    /*\n      cswap(swap, x_2, x_3):\n           dummy = mask(swap) AND (x_2 XOR x_3)\n           x_2 = x_2 XOR dummy\n           x_3 = x_3 XOR dummy\n           Return (x_2, x_3)\n    Where mask(swap) is the all-1 or all-0 word of the same length as x_2\n     and x_3, computed, e.g., as mask(swap) = 0 - swap.\n    */\n    function cswap(swap, x_2, x_3) {\n        const dummy = modP(swap * (x_2 - x_3));\n        x_2 = modP(x_2 - dummy);\n        x_3 = modP(x_3 + dummy);\n        return [x_2, x_3];\n    }\n    // Accepts 0 as well\n    function assertFieldElement(n) {\n        if (typeof n === 'bigint' && _0n <= n && n < P)\n            return n;\n        throw new Error('Expected valid scalar 0 < scalar < CURVE.P');\n    }\n    // x25519 from 4\n    // The constant a24 is (486662 - 2) / 4 = 121665 for curve25519/X25519\n    const a24 = (CURVE.a - BigInt(2)) / BigInt(4);\n    /**\n     *\n     * @param pointU u coordinate (x) on Montgomery Curve 25519\n     * @param scalar by which the point would be multiplied\n     * @returns new Point on Montgomery curve\n     */\n    function montgomeryLadder(pointU, scalar) {\n        const u = assertFieldElement(pointU);\n        // Section 5: Implementations MUST accept non-canonical values and process them as\n        // if they had been reduced modulo the field prime.\n        const k = assertFieldElement(scalar);\n        const x_1 = u;\n        let x_2 = _1n;\n        let z_2 = _0n;\n        let x_3 = u;\n        let z_3 = _1n;\n        let swap = _0n;\n        let sw;\n        for (let t = BigInt(montgomeryBits - 1); t >= _0n; t--) {\n            const k_t = (k >> t) & _1n;\n            swap ^= k_t;\n            sw = cswap(swap, x_2, x_3);\n            x_2 = sw[0];\n            x_3 = sw[1];\n            sw = cswap(swap, z_2, z_3);\n            z_2 = sw[0];\n            z_3 = sw[1];\n            swap = k_t;\n            const A = x_2 + z_2;\n            const AA = modP(A * A);\n            const B = x_2 - z_2;\n            const BB = modP(B * B);\n            const E = AA - BB;\n            const C = x_3 + z_3;\n            const D = x_3 - z_3;\n            const DA = modP(D * A);\n            const CB = modP(C * B);\n            const dacb = DA + CB;\n            const da_cb = DA - CB;\n            x_3 = modP(dacb * dacb);\n            z_3 = modP(x_1 * modP(da_cb * da_cb));\n            x_2 = modP(AA * BB);\n            z_2 = modP(E * (AA + modP(a24 * E)));\n        }\n        // (x_2, x_3) = cswap(swap, x_2, x_3)\n        sw = cswap(swap, x_2, x_3);\n        x_2 = sw[0];\n        x_3 = sw[1];\n        // (z_2, z_3) = cswap(swap, z_2, z_3)\n        sw = cswap(swap, z_2, z_3);\n        z_2 = sw[0];\n        z_3 = sw[1];\n        // z_2^(p - 2)\n        const z2 = powPminus2(z_2);\n        // Return x_2 * (z_2^(p - 2))\n        return modP(x_2 * z2);\n    }\n    function encodeUCoordinate(u) {\n        return numberToBytesLE(modP(u), montgomeryBytes);\n    }\n    function decodeUCoordinate(uEnc) {\n        // Section 5: When receiving such an array, implementations of X25519\n        // MUST mask the most significant bit in the final byte.\n        const u = ensureBytes('u coordinate', uEnc, montgomeryBytes);\n        if (fieldLen === 32)\n            u[31] &= 127; // 0b0111_1111\n        return bytesToNumberLE(u);\n    }\n    function decodeScalar(n) {\n        const bytes = ensureBytes('scalar', n);\n        const len = bytes.length;\n        if (len !== montgomeryBytes && len !== fieldLen)\n            throw new Error(`Expected ${montgomeryBytes} or ${fieldLen} bytes, got ${len}`);\n        return bytesToNumberLE(adjustScalarBytes(bytes));\n    }\n    function scalarMult(scalar, u) {\n        const pointU = decodeUCoordinate(u);\n        const _scalar = decodeScalar(scalar);\n        const pu = montgomeryLadder(pointU, _scalar);\n        // The result was not contributory\n        // https://cr.yp.to/ecdh.html#validate\n        if (pu === _0n)\n            throw new Error('Invalid private or public key received');\n        return encodeUCoordinate(pu);\n    }\n    // Computes public key from private. By doing scalar multiplication of base point.\n    const GuBytes = encodeUCoordinate(CURVE.Gu);\n    function scalarMultBase(scalar) {\n        return scalarMult(scalar, GuBytes);\n    }\n    return {\n        scalarMult,\n        scalarMultBase,\n        getSharedSecret: (privateKey, publicKey) => scalarMult(privateKey, publicKey),\n        getPublicKey: (privateKey) => scalarMultBase(privateKey),\n        utils: { randomPrivateKey: () => CURVE.randomBytes(CURVE.nByteLength) },\n        GuBytes: GuBytes,\n    };\n}\n//# sourceMappingURL=montgomery.js.map","/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { sha512 } from '@noble/hashes/sha512';\nimport { concatBytes, randomBytes, utf8ToBytes } from '@noble/hashes/utils';\nimport { twistedEdwards } from './abstract/edwards.js';\nimport { createHasher, expand_message_xmd } from './abstract/hash-to-curve.js';\nimport { Field, FpSqrtEven, isNegativeLE, mod, pow2 } from './abstract/modular.js';\nimport { montgomery } from './abstract/montgomery.js';\nimport { bytesToHex, bytesToNumberLE, ensureBytes, equalBytes, numberToBytesLE, } from './abstract/utils.js';\n/**\n * ed25519 Twisted Edwards curve with following addons:\n * - X25519 ECDH\n * - Ristretto cofactor elimination\n * - Elligator hash-to-group / point indistinguishability\n */\nconst ED25519_P = BigInt('57896044618658097711785492504343953926634992332820282019728792003956564819949');\n// (-1) aka (a) aka 2^((p-1)/4)\nconst ED25519_SQRT_M1 = /* @__PURE__ */ BigInt('19681161376707505956807079304988542015446066515923890162744021073123829784752');\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = BigInt(2), _3n = BigInt(3);\n// prettier-ignore\nconst _5n = BigInt(5), _8n = BigInt(8);\nfunction ed25519_pow_2_252_3(x) {\n    // prettier-ignore\n    const _10n = BigInt(10), _20n = BigInt(20), _40n = BigInt(40), _80n = BigInt(80);\n    const P = ED25519_P;\n    const x2 = (x * x) % P;\n    const b2 = (x2 * x) % P; // x^3, 11\n    const b4 = (pow2(b2, _2n, P) * b2) % P; // x^15, 1111\n    const b5 = (pow2(b4, _1n, P) * x) % P; // x^31\n    const b10 = (pow2(b5, _5n, P) * b5) % P;\n    const b20 = (pow2(b10, _10n, P) * b10) % P;\n    const b40 = (pow2(b20, _20n, P) * b20) % P;\n    const b80 = (pow2(b40, _40n, P) * b40) % P;\n    const b160 = (pow2(b80, _80n, P) * b80) % P;\n    const b240 = (pow2(b160, _80n, P) * b80) % P;\n    const b250 = (pow2(b240, _10n, P) * b10) % P;\n    const pow_p_5_8 = (pow2(b250, _2n, P) * x) % P;\n    // ^ To pow to (p+3)/8, multiply it by x.\n    return { pow_p_5_8, b2 };\n}\nfunction adjustScalarBytes(bytes) {\n    // Section 5: For X25519, in order to decode 32 random bytes as an integer scalar,\n    // set the three least significant bits of the first byte\n    bytes[0] &= 248; // 0b1111_1000\n    // and the most significant bit of the last to zero,\n    bytes[31] &= 127; // 0b0111_1111\n    // set the second most significant bit of the last byte to 1\n    bytes[31] |= 64; // 0b0100_0000\n    return bytes;\n}\n// sqrt(u/v)\nfunction uvRatio(u, v) {\n    const P = ED25519_P;\n    const v3 = mod(v * v * v, P); // v\n    const v7 = mod(v3 * v3 * v, P); // v\n    // (p+3)/8 and (p-5)/8\n    const pow = ed25519_pow_2_252_3(u * v7).pow_p_5_8;\n    let x = mod(u * v3 * pow, P); // (uv)(uv)^(p-5)/8\n    const vx2 = mod(v * x * x, P); // vx\n    const root1 = x; // First root candidate\n    const root2 = mod(x * ED25519_SQRT_M1, P); // Second root candidate\n    const useRoot1 = vx2 === u; // If vx = u (mod p), x is a square root\n    const useRoot2 = vx2 === mod(-u, P); // If vx = -u, set x <-- x * 2^((p-1)/4)\n    const noRoot = vx2 === mod(-u * ED25519_SQRT_M1, P); // There is no valid root, vx = -u(-1)\n    if (useRoot1)\n        x = root1;\n    if (useRoot2 || noRoot)\n        x = root2; // We return root2 anyway, for const-time\n    if (isNegativeLE(x, P))\n        x = mod(-x, P);\n    return { isValid: useRoot1 || useRoot2, value: x };\n}\n// Just in case\nexport const ED25519_TORSION_SUBGROUP = [\n    '0100000000000000000000000000000000000000000000000000000000000000',\n    'c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a',\n    '0000000000000000000000000000000000000000000000000000000000000080',\n    '26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05',\n    'ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f',\n    '26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85',\n    '0000000000000000000000000000000000000000000000000000000000000000',\n    'c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa',\n];\nconst Fp = /* @__PURE__ */ (() => Field(ED25519_P, undefined, true))();\nconst ed25519Defaults = /* @__PURE__ */ (() => ({\n    // Param: a\n    a: BigInt(-1), // Fp.create(-1) is proper; our way still works and is faster\n    // d is equal to -121665/121666 over finite field.\n    // Negative number is P - number, and division is invert(number, P)\n    d: BigInt('37095705934669439343138083508754565189542113879843219016388785533085940283555'),\n    // Finite field p over which we'll do calculations; 2n**255n - 19n\n    Fp,\n    // Subgroup order: how many points curve has\n    // 2n**252n + 27742317777372353535851937790883648493n;\n    n: BigInt('7237005577332262213973186563042994240857116359379907606001950938285454250989'),\n    // Cofactor\n    h: _8n,\n    // Base point (x, y) aka generator point\n    Gx: BigInt('15112221349535400772501151409588531511454012693041857206046113283949847762202'),\n    Gy: BigInt('46316835694926478169428394003475163141307993866256225615783033603165251855960'),\n    hash: sha512,\n    randomBytes,\n    adjustScalarBytes,\n    // dom2\n    // Ratio of u to v. Allows us to combine inversion and square root. Uses algo from RFC8032 5.1.3.\n    // Constant-time, u/v\n    uvRatio,\n}))();\nexport const ed25519 = /* @__PURE__ */ (() => twistedEdwards(ed25519Defaults))();\nfunction ed25519_domain(data, ctx, phflag) {\n    if (ctx.length > 255)\n        throw new Error('Context is too big');\n    return concatBytes(utf8ToBytes('SigEd25519 no Ed25519 collisions'), new Uint8Array([phflag ? 1 : 0, ctx.length]), ctx, data);\n}\nexport const ed25519ctx = /* @__PURE__ */ (() => twistedEdwards({\n    ...ed25519Defaults,\n    domain: ed25519_domain,\n}))();\nexport const ed25519ph = /* @__PURE__ */ (() => twistedEdwards(Object.assign({}, ed25519Defaults, {\n    domain: ed25519_domain,\n    prehash: sha512,\n})))();\nexport const x25519 = /* @__PURE__ */ (() => montgomery({\n    P: ED25519_P,\n    a: BigInt(486662),\n    montgomeryBits: 255, // n is 253 bits\n    nByteLength: 32,\n    Gu: BigInt(9),\n    powPminus2: (x) => {\n        const P = ED25519_P;\n        // x^(p-2) aka x^(2^255-21)\n        const { pow_p_5_8, b2 } = ed25519_pow_2_252_3(x);\n        return mod(pow2(pow_p_5_8, _3n, P) * b2, P);\n    },\n    adjustScalarBytes,\n    randomBytes,\n}))();\n/**\n * Converts ed25519 public key to x25519 public key. Uses formula:\n * * `(u, v) = ((1+y)/(1-y), sqrt(-486664)*u/x)`\n * * `(x, y) = (sqrt(-486664)*u/v, (u-1)/(u+1))`\n * @example\n *   const someonesPub = ed25519.getPublicKey(ed25519.utils.randomPrivateKey());\n *   const aPriv = x25519.utils.randomPrivateKey();\n *   x25519.getSharedSecret(aPriv, edwardsToMontgomeryPub(someonesPub))\n */\nexport function edwardsToMontgomeryPub(edwardsPub) {\n    const { y } = ed25519.ExtendedPoint.fromHex(edwardsPub);\n    const _1n = BigInt(1);\n    return Fp.toBytes(Fp.create((_1n + y) * Fp.inv(_1n - y)));\n}\nexport const edwardsToMontgomery = edwardsToMontgomeryPub; // deprecated\n/**\n * Converts ed25519 secret key to x25519 secret key.\n * @example\n *   const someonesPub = x25519.getPublicKey(x25519.utils.randomPrivateKey());\n *   const aPriv = ed25519.utils.randomPrivateKey();\n *   x25519.getSharedSecret(edwardsToMontgomeryPriv(aPriv), someonesPub)\n */\nexport function edwardsToMontgomeryPriv(edwardsPriv) {\n    const hashed = ed25519Defaults.hash(edwardsPriv.subarray(0, 32));\n    return ed25519Defaults.adjustScalarBytes(hashed).subarray(0, 32);\n}\n// Hash To Curve Elligator2 Map (NOTE: different from ristretto255 elligator)\n// NOTE: very important part is usage of FpSqrtEven for ELL2_C1_EDWARDS, since\n// SageMath returns different root first and everything falls apart\nconst ELL2_C1 = /* @__PURE__ */ (() => (Fp.ORDER + _3n) / _8n)(); // 1. c1 = (q + 3) / 8       # Integer arithmetic\nconst ELL2_C2 = /* @__PURE__ */ (() => Fp.pow(_2n, ELL2_C1))(); // 2. c2 = 2^c1\nconst ELL2_C3 = /* @__PURE__ */ (() => Fp.sqrt(Fp.neg(Fp.ONE)))(); // 3. c3 = sqrt(-1)\n// prettier-ignore\nfunction map_to_curve_elligator2_curve25519(u) {\n    const ELL2_C4 = (Fp.ORDER - _5n) / _8n; // 4. c4 = (q - 5) / 8       # Integer arithmetic\n    const ELL2_J = BigInt(486662);\n    let tv1 = Fp.sqr(u); //  1.  tv1 = u^2\n    tv1 = Fp.mul(tv1, _2n); //  2.  tv1 = 2 * tv1\n    let xd = Fp.add(tv1, Fp.ONE); //  3.   xd = tv1 + 1         # Nonzero: -1 is square (mod p), tv1 is not\n    let x1n = Fp.neg(ELL2_J); //  4.  x1n = -J              # x1 = x1n / xd = -J / (1 + 2 * u^2)\n    let tv2 = Fp.sqr(xd); //  5.  tv2 = xd^2\n    let gxd = Fp.mul(tv2, xd); //  6.  gxd = tv2 * xd        # gxd = xd^3\n    let gx1 = Fp.mul(tv1, ELL2_J); //  7.  gx1 = J * tv1         # x1n + J * xd\n    gx1 = Fp.mul(gx1, x1n); //  8.  gx1 = gx1 * x1n       # x1n^2 + J * x1n * xd\n    gx1 = Fp.add(gx1, tv2); //  9.  gx1 = gx1 + tv2       # x1n^2 + J * x1n * xd + xd^2\n    gx1 = Fp.mul(gx1, x1n); //  10. gx1 = gx1 * x1n       # x1n^3 + J * x1n^2 * xd + x1n * xd^2\n    let tv3 = Fp.sqr(gxd); //  11. tv3 = gxd^2\n    tv2 = Fp.sqr(tv3); //  12. tv2 = tv3^2           # gxd^4\n    tv3 = Fp.mul(tv3, gxd); //  13. tv3 = tv3 * gxd       # gxd^3\n    tv3 = Fp.mul(tv3, gx1); //  14. tv3 = tv3 * gx1       # gx1 * gxd^3\n    tv2 = Fp.mul(tv2, tv3); //  15. tv2 = tv2 * tv3       # gx1 * gxd^7\n    let y11 = Fp.pow(tv2, ELL2_C4); //  16. y11 = tv2^c4        # (gx1 * gxd^7)^((p - 5) / 8)\n    y11 = Fp.mul(y11, tv3); //  17. y11 = y11 * tv3       # gx1*gxd^3*(gx1*gxd^7)^((p-5)/8)\n    let y12 = Fp.mul(y11, ELL2_C3); //  18. y12 = y11 * c3\n    tv2 = Fp.sqr(y11); //  19. tv2 = y11^2\n    tv2 = Fp.mul(tv2, gxd); //  20. tv2 = tv2 * gxd\n    let e1 = Fp.eql(tv2, gx1); //  21.  e1 = tv2 == gx1\n    let y1 = Fp.cmov(y12, y11, e1); //  22.  y1 = CMOV(y12, y11, e1)  # If g(x1) is square, this is its sqrt\n    let x2n = Fp.mul(x1n, tv1); //  23. x2n = x1n * tv1       # x2 = x2n / xd = 2 * u^2 * x1n / xd\n    let y21 = Fp.mul(y11, u); //  24. y21 = y11 * u\n    y21 = Fp.mul(y21, ELL2_C2); //  25. y21 = y21 * c2\n    let y22 = Fp.mul(y21, ELL2_C3); //  26. y22 = y21 * c3\n    let gx2 = Fp.mul(gx1, tv1); //  27. gx2 = gx1 * tv1       # g(x2) = gx2 / gxd = 2 * u^2 * g(x1)\n    tv2 = Fp.sqr(y21); //  28. tv2 = y21^2\n    tv2 = Fp.mul(tv2, gxd); //  29. tv2 = tv2 * gxd\n    let e2 = Fp.eql(tv2, gx2); //  30.  e2 = tv2 == gx2\n    let y2 = Fp.cmov(y22, y21, e2); //  31.  y2 = CMOV(y22, y21, e2)  # If g(x2) is square, this is its sqrt\n    tv2 = Fp.sqr(y1); //  32. tv2 = y1^2\n    tv2 = Fp.mul(tv2, gxd); //  33. tv2 = tv2 * gxd\n    let e3 = Fp.eql(tv2, gx1); //  34.  e3 = tv2 == gx1\n    let xn = Fp.cmov(x2n, x1n, e3); //  35.  xn = CMOV(x2n, x1n, e3)  # If e3, x = x1, else x = x2\n    let y = Fp.cmov(y2, y1, e3); //  36.   y = CMOV(y2, y1, e3)    # If e3, y = y1, else y = y2\n    let e4 = Fp.isOdd(y); //  37.  e4 = sgn0(y) == 1        # Fix sign of y\n    y = Fp.cmov(y, Fp.neg(y), e3 !== e4); //  38.   y = CMOV(y, -y, e3 XOR e4)\n    return { xMn: xn, xMd: xd, yMn: y, yMd: _1n }; //  39. return (xn, xd, y, 1)\n}\nconst ELL2_C1_EDWARDS = /* @__PURE__ */ (() => FpSqrtEven(Fp, Fp.neg(BigInt(486664))))(); // sgn0(c1) MUST equal 0\nfunction map_to_curve_elligator2_edwards25519(u) {\n    const { xMn, xMd, yMn, yMd } = map_to_curve_elligator2_curve25519(u); //  1.  (xMn, xMd, yMn, yMd) =\n    // map_to_curve_elligator2_curve25519(u)\n    let xn = Fp.mul(xMn, yMd); //  2.  xn = xMn * yMd\n    xn = Fp.mul(xn, ELL2_C1_EDWARDS); //  3.  xn = xn * c1\n    let xd = Fp.mul(xMd, yMn); //  4.  xd = xMd * yMn    # xn / xd = c1 * xM / yM\n    let yn = Fp.sub(xMn, xMd); //  5.  yn = xMn - xMd\n    let yd = Fp.add(xMn, xMd); //  6.  yd = xMn + xMd    # (n / d - 1) / (n / d + 1) = (n - d) / (n + d)\n    let tv1 = Fp.mul(xd, yd); //  7. tv1 = xd * yd\n    let e = Fp.eql(tv1, Fp.ZERO); //  8.   e = tv1 == 0\n    xn = Fp.cmov(xn, Fp.ZERO, e); //  9.  xn = CMOV(xn, 0, e)\n    xd = Fp.cmov(xd, Fp.ONE, e); //  10. xd = CMOV(xd, 1, e)\n    yn = Fp.cmov(yn, Fp.ONE, e); //  11. yn = CMOV(yn, 1, e)\n    yd = Fp.cmov(yd, Fp.ONE, e); //  12. yd = CMOV(yd, 1, e)\n    const inv = Fp.invertBatch([xd, yd]); // batch division\n    return { x: Fp.mul(xn, inv[0]), y: Fp.mul(yn, inv[1]) }; //  13. return (xn, xd, yn, yd)\n}\nconst htf = /* @__PURE__ */ (() => createHasher(ed25519.ExtendedPoint, (scalars) => map_to_curve_elligator2_edwards25519(scalars[0]), {\n    DST: 'edwards25519_XMD:SHA-512_ELL2_RO_',\n    encodeDST: 'edwards25519_XMD:SHA-512_ELL2_NU_',\n    p: Fp.ORDER,\n    m: 1,\n    k: 128,\n    expand: 'xmd',\n    hash: sha512,\n}))();\nexport const hashToCurve = /* @__PURE__ */ (() => htf.hashToCurve)();\nexport const encodeToCurve = /* @__PURE__ */ (() => htf.encodeToCurve)();\nfunction assertRstPoint(other) {\n    if (!(other instanceof RistPoint))\n        throw new Error('RistrettoPoint expected');\n}\n// (-1) aka (a) aka 2^((p-1)/4)\nconst SQRT_M1 = ED25519_SQRT_M1;\n// (ad - 1)\nconst SQRT_AD_MINUS_ONE = /* @__PURE__ */ BigInt('25063068953384623474111414158702152701244531502492656460079210482610430750235');\n// 1 / (a-d)\nconst INVSQRT_A_MINUS_D = /* @__PURE__ */ BigInt('54469307008909316920995813868745141605393597292927456921205312896311721017578');\n// 1-d\nconst ONE_MINUS_D_SQ = /* @__PURE__ */ BigInt('1159843021668779879193775521855586647937357759715417654439879720876111806838');\n// (d-1)\nconst D_MINUS_ONE_SQ = /* @__PURE__ */ BigInt('40440834346308536858101042469323190826248399146238708352240133220865137265952');\n// Calculates 1/(number)\nconst invertSqrt = (number) => uvRatio(_1n, number);\nconst MAX_255B = /* @__PURE__ */ BigInt('0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff');\nconst bytes255ToNumberLE = (bytes) => ed25519.CURVE.Fp.create(bytesToNumberLE(bytes) & MAX_255B);\n// Computes Elligator map for Ristretto\n// https://ristretto.group/formulas/elligator.html\nfunction calcElligatorRistrettoMap(r0) {\n    const { d } = ed25519.CURVE;\n    const P = ed25519.CURVE.Fp.ORDER;\n    const mod = ed25519.CURVE.Fp.create;\n    const r = mod(SQRT_M1 * r0 * r0); // 1\n    const Ns = mod((r + _1n) * ONE_MINUS_D_SQ); // 2\n    let c = BigInt(-1); // 3\n    const D = mod((c - d * r) * mod(r + d)); // 4\n    let { isValid: Ns_D_is_sq, value: s } = uvRatio(Ns, D); // 5\n    let s_ = mod(s * r0); // 6\n    if (!isNegativeLE(s_, P))\n        s_ = mod(-s_);\n    if (!Ns_D_is_sq)\n        s = s_; // 7\n    if (!Ns_D_is_sq)\n        c = r; // 8\n    const Nt = mod(c * (r - _1n) * D_MINUS_ONE_SQ - D); // 9\n    const s2 = s * s;\n    const W0 = mod((s + s) * D); // 10\n    const W1 = mod(Nt * SQRT_AD_MINUS_ONE); // 11\n    const W2 = mod(_1n - s2); // 12\n    const W3 = mod(_1n + s2); // 13\n    return new ed25519.ExtendedPoint(mod(W0 * W3), mod(W2 * W1), mod(W1 * W3), mod(W0 * W2));\n}\n/**\n * Each ed25519/ExtendedPoint has 8 different equivalent points. This can be\n * a source of bugs for protocols like ring signatures. Ristretto was created to solve this.\n * Ristretto point operates in X:Y:Z:T extended coordinates like ExtendedPoint,\n * but it should work in its own namespace: do not combine those two.\n * https://datatracker.ietf.org/doc/html/draft-irtf-cfrg-ristretto255-decaf448\n */\nclass RistPoint {\n    // Private property to discourage combining ExtendedPoint + RistrettoPoint\n    // Always use Ristretto encoding/decoding instead.\n    constructor(ep) {\n        this.ep = ep;\n    }\n    static fromAffine(ap) {\n        return new RistPoint(ed25519.ExtendedPoint.fromAffine(ap));\n    }\n    /**\n     * Takes uniform output of 64-byte hash function like sha512 and converts it to `RistrettoPoint`.\n     * The hash-to-group operation applies Elligator twice and adds the results.\n     * **Note:** this is one-way map, there is no conversion from point to hash.\n     * https://ristretto.group/formulas/elligator.html\n     * @param hex 64-byte output of a hash function\n     */\n    static hashToCurve(hex) {\n        hex = ensureBytes('ristrettoHash', hex, 64);\n        const r1 = bytes255ToNumberLE(hex.slice(0, 32));\n        const R1 = calcElligatorRistrettoMap(r1);\n        const r2 = bytes255ToNumberLE(hex.slice(32, 64));\n        const R2 = calcElligatorRistrettoMap(r2);\n        return new RistPoint(R1.add(R2));\n    }\n    /**\n     * Converts ristretto-encoded string to ristretto point.\n     * https://ristretto.group/formulas/decoding.html\n     * @param hex Ristretto-encoded 32 bytes. Not every 32-byte string is valid ristretto encoding\n     */\n    static fromHex(hex) {\n        hex = ensureBytes('ristrettoHex', hex, 32);\n        const { a, d } = ed25519.CURVE;\n        const P = ed25519.CURVE.Fp.ORDER;\n        const mod = ed25519.CURVE.Fp.create;\n        const emsg = 'RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint';\n        const s = bytes255ToNumberLE(hex);\n        // 1. Check that s_bytes is the canonical encoding of a field element, or else abort.\n        // 3. Check that s is non-negative, or else abort\n        if (!equalBytes(numberToBytesLE(s, 32), hex) || isNegativeLE(s, P))\n            throw new Error(emsg);\n        const s2 = mod(s * s);\n        const u1 = mod(_1n + a * s2); // 4 (a is -1)\n        const u2 = mod(_1n - a * s2); // 5\n        const u1_2 = mod(u1 * u1);\n        const u2_2 = mod(u2 * u2);\n        const v = mod(a * d * u1_2 - u2_2); // 6\n        const { isValid, value: I } = invertSqrt(mod(v * u2_2)); // 7\n        const Dx = mod(I * u2); // 8\n        const Dy = mod(I * Dx * v); // 9\n        let x = mod((s + s) * Dx); // 10\n        if (isNegativeLE(x, P))\n            x = mod(-x); // 10\n        const y = mod(u1 * Dy); // 11\n        const t = mod(x * y); // 12\n        if (!isValid || isNegativeLE(t, P) || y === _0n)\n            throw new Error(emsg);\n        return new RistPoint(new ed25519.ExtendedPoint(x, y, _1n, t));\n    }\n    /**\n     * Encodes ristretto point to Uint8Array.\n     * https://ristretto.group/formulas/encoding.html\n     */\n    toRawBytes() {\n        let { ex: x, ey: y, ez: z, et: t } = this.ep;\n        const P = ed25519.CURVE.Fp.ORDER;\n        const mod = ed25519.CURVE.Fp.create;\n        const u1 = mod(mod(z + y) * mod(z - y)); // 1\n        const u2 = mod(x * y); // 2\n        // Square root always exists\n        const u2sq = mod(u2 * u2);\n        const { value: invsqrt } = invertSqrt(mod(u1 * u2sq)); // 3\n        const D1 = mod(invsqrt * u1); // 4\n        const D2 = mod(invsqrt * u2); // 5\n        const zInv = mod(D1 * D2 * t); // 6\n        let D; // 7\n        if (isNegativeLE(t * zInv, P)) {\n            let _x = mod(y * SQRT_M1);\n            let _y = mod(x * SQRT_M1);\n            x = _x;\n            y = _y;\n            D = mod(D1 * INVSQRT_A_MINUS_D);\n        }\n        else {\n            D = D2; // 8\n        }\n        if (isNegativeLE(x * zInv, P))\n            y = mod(-y); // 9\n        let s = mod((z - y) * D); // 10 (check footer's note, no sqrt(-a))\n        if (isNegativeLE(s, P))\n            s = mod(-s);\n        return numberToBytesLE(s, 32); // 11\n    }\n    toHex() {\n        return bytesToHex(this.toRawBytes());\n    }\n    toString() {\n        return this.toHex();\n    }\n    // Compare one point to another.\n    equals(other) {\n        assertRstPoint(other);\n        const { ex: X1, ey: Y1 } = this.ep;\n        const { ex: X2, ey: Y2 } = other.ep;\n        const mod = ed25519.CURVE.Fp.create;\n        // (x1 * y2 == y1 * x2) | (y1 * y2 == x1 * x2)\n        const one = mod(X1 * Y2) === mod(Y1 * X2);\n        const two = mod(Y1 * Y2) === mod(X1 * X2);\n        return one || two;\n    }\n    add(other) {\n        assertRstPoint(other);\n        return new RistPoint(this.ep.add(other.ep));\n    }\n    subtract(other) {\n        assertRstPoint(other);\n        return new RistPoint(this.ep.subtract(other.ep));\n    }\n    multiply(scalar) {\n        return new RistPoint(this.ep.multiply(scalar));\n    }\n    multiplyUnsafe(scalar) {\n        return new RistPoint(this.ep.multiplyUnsafe(scalar));\n    }\n    double() {\n        return new RistPoint(this.ep.double());\n    }\n    negate() {\n        return new RistPoint(this.ep.negate());\n    }\n}\nexport const RistrettoPoint = /* @__PURE__ */ (() => {\n    if (!RistPoint.BASE)\n        RistPoint.BASE = new RistPoint(ed25519.ExtendedPoint.BASE);\n    if (!RistPoint.ZERO)\n        RistPoint.ZERO = new RistPoint(ed25519.ExtendedPoint.ZERO);\n    return RistPoint;\n})();\n// Hashing to ristretto255. https://www.rfc-editor.org/rfc/rfc9380#appendix-B\nexport const hashToRistretto255 = (msg, options) => {\n    const d = options.DST;\n    const DST = typeof d === 'string' ? utf8ToBytes(d) : d;\n    const uniform_bytes = expand_message_xmd(msg, DST, 64, sha512);\n    const P = RistPoint.hashToCurve(uniform_bytes);\n    return P;\n};\nexport const hash_to_ristretto255 = hashToRistretto255; // legacy\n//# sourceMappingURL=ed25519.js.map","// src/utils/env.ts\nvar NOTHING = Symbol.for(\"immer-nothing\");\nvar DRAFTABLE = Symbol.for(\"immer-draftable\");\nvar DRAFT_STATE = Symbol.for(\"immer-state\");\n\n// src/utils/errors.ts\nvar errors = process.env.NODE_ENV !== \"production\" ? [\n  // All error codes, starting by 0:\n  function(plugin) {\n    return `The plugin for '${plugin}' has not been loaded into Immer. To enable the plugin, import and call \\`enable${plugin}()\\` when initializing your application.`;\n  },\n  function(thing) {\n    return `produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${thing}'`;\n  },\n  \"This object has been frozen and should not be mutated\",\n  function(data) {\n    return \"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \" + data;\n  },\n  \"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",\n  \"Immer forbids circular references\",\n  \"The first or second argument to `produce` must be a function\",\n  \"The third argument to `produce` must be a function or undefined\",\n  \"First argument to `createDraft` must be a plain object, an array, or an immerable object\",\n  \"First argument to `finishDraft` must be a draft returned by `createDraft`\",\n  function(thing) {\n    return `'current' expects a draft, got: ${thing}`;\n  },\n  \"Object.defineProperty() cannot be used on an Immer draft\",\n  \"Object.setPrototypeOf() cannot be used on an Immer draft\",\n  \"Immer only supports deleting array indices\",\n  \"Immer only supports setting array indices and the 'length' property\",\n  function(thing) {\n    return `'original' expects a draft, got: ${thing}`;\n  }\n  // Note: if more errors are added, the errorOffset in Patches.ts should be increased\n  // See Patches.ts for additional errors\n] : [];\nfunction die(error, ...args) {\n  if (process.env.NODE_ENV !== \"production\") {\n    const e = errors[error];\n    const msg = typeof e === \"function\" ? e.apply(null, args) : e;\n    throw new Error(`[Immer] ${msg}`);\n  }\n  throw new Error(\n    `[Immer] minified error nr: ${error}. Full error at: https://bit.ly/3cXEKWf`\n  );\n}\n\n// src/utils/common.ts\nvar getPrototypeOf = Object.getPrototypeOf;\nfunction isDraft(value) {\n  return !!value && !!value[DRAFT_STATE];\n}\nfunction isDraftable(value) {\n  if (!value)\n    return false;\n  return isPlainObject(value) || Array.isArray(value) || !!value[DRAFTABLE] || !!value.constructor?.[DRAFTABLE] || isMap(value) || isSet(value);\n}\nvar objectCtorString = Object.prototype.constructor.toString();\nfunction isPlainObject(value) {\n  if (!value || typeof value !== \"object\")\n    return false;\n  const proto = getPrototypeOf(value);\n  if (proto === null) {\n    return true;\n  }\n  const Ctor = Object.hasOwnProperty.call(proto, \"constructor\") && proto.constructor;\n  if (Ctor === Object)\n    return true;\n  return typeof Ctor == \"function\" && Function.toString.call(Ctor) === objectCtorString;\n}\nfunction original(value) {\n  if (!isDraft(value))\n    die(15, value);\n  return value[DRAFT_STATE].base_;\n}\nfunction each(obj, iter) {\n  if (getArchtype(obj) === 0 /* Object */) {\n    Reflect.ownKeys(obj).forEach((key) => {\n      iter(key, obj[key], obj);\n    });\n  } else {\n    obj.forEach((entry, index) => iter(index, entry, obj));\n  }\n}\nfunction getArchtype(thing) {\n  const state = thing[DRAFT_STATE];\n  return state ? state.type_ : Array.isArray(thing) ? 1 /* Array */ : isMap(thing) ? 2 /* Map */ : isSet(thing) ? 3 /* Set */ : 0 /* Object */;\n}\nfunction has(thing, prop) {\n  return getArchtype(thing) === 2 /* Map */ ? thing.has(prop) : Object.prototype.hasOwnProperty.call(thing, prop);\n}\nfunction get(thing, prop) {\n  return getArchtype(thing) === 2 /* Map */ ? thing.get(prop) : thing[prop];\n}\nfunction set(thing, propOrOldValue, value) {\n  const t = getArchtype(thing);\n  if (t === 2 /* Map */)\n    thing.set(propOrOldValue, value);\n  else if (t === 3 /* Set */) {\n    thing.add(value);\n  } else\n    thing[propOrOldValue] = value;\n}\nfunction is(x, y) {\n  if (x === y) {\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\nfunction isMap(target) {\n  return target instanceof Map;\n}\nfunction isSet(target) {\n  return target instanceof Set;\n}\nfunction latest(state) {\n  return state.copy_ || state.base_;\n}\nfunction shallowCopy(base, strict) {\n  if (isMap(base)) {\n    return new Map(base);\n  }\n  if (isSet(base)) {\n    return new Set(base);\n  }\n  if (Array.isArray(base))\n    return Array.prototype.slice.call(base);\n  const isPlain = isPlainObject(base);\n  if (strict === true || strict === \"class_only\" && !isPlain) {\n    const descriptors = Object.getOwnPropertyDescriptors(base);\n    delete descriptors[DRAFT_STATE];\n    let keys = Reflect.ownKeys(descriptors);\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i];\n      const desc = descriptors[key];\n      if (desc.writable === false) {\n        desc.writable = true;\n        desc.configurable = true;\n      }\n      if (desc.get || desc.set)\n        descriptors[key] = {\n          configurable: true,\n          writable: true,\n          // could live with !!desc.set as well here...\n          enumerable: desc.enumerable,\n          value: base[key]\n        };\n    }\n    return Object.create(getPrototypeOf(base), descriptors);\n  } else {\n    const proto = getPrototypeOf(base);\n    if (proto !== null && isPlain) {\n      return { ...base };\n    }\n    const obj = Object.create(proto);\n    return Object.assign(obj, base);\n  }\n}\nfunction freeze(obj, deep = false) {\n  if (isFrozen(obj) || isDraft(obj) || !isDraftable(obj))\n    return obj;\n  if (getArchtype(obj) > 1) {\n    obj.set = obj.add = obj.clear = obj.delete = dontMutateFrozenCollections;\n  }\n  Object.freeze(obj);\n  if (deep)\n    Object.entries(obj).forEach(([key, value]) => freeze(value, true));\n  return obj;\n}\nfunction dontMutateFrozenCollections() {\n  die(2);\n}\nfunction isFrozen(obj) {\n  return Object.isFrozen(obj);\n}\n\n// src/utils/plugins.ts\nvar plugins = {};\nfunction getPlugin(pluginKey) {\n  const plugin = plugins[pluginKey];\n  if (!plugin) {\n    die(0, pluginKey);\n  }\n  return plugin;\n}\nfunction loadPlugin(pluginKey, implementation) {\n  if (!plugins[pluginKey])\n    plugins[pluginKey] = implementation;\n}\n\n// src/core/scope.ts\nvar currentScope;\nfunction getCurrentScope() {\n  return currentScope;\n}\nfunction createScope(parent_, immer_) {\n  return {\n    drafts_: [],\n    parent_,\n    immer_,\n    // Whenever the modified draft contains a draft from another scope, we\n    // need to prevent auto-freezing so the unowned draft can be finalized.\n    canAutoFreeze_: true,\n    unfinalizedDrafts_: 0\n  };\n}\nfunction usePatchesInScope(scope, patchListener) {\n  if (patchListener) {\n    getPlugin(\"Patches\");\n    scope.patches_ = [];\n    scope.inversePatches_ = [];\n    scope.patchListener_ = patchListener;\n  }\n}\nfunction revokeScope(scope) {\n  leaveScope(scope);\n  scope.drafts_.forEach(revokeDraft);\n  scope.drafts_ = null;\n}\nfunction leaveScope(scope) {\n  if (scope === currentScope) {\n    currentScope = scope.parent_;\n  }\n}\nfunction enterScope(immer2) {\n  return currentScope = createScope(currentScope, immer2);\n}\nfunction revokeDraft(draft) {\n  const state = draft[DRAFT_STATE];\n  if (state.type_ === 0 /* Object */ || state.type_ === 1 /* Array */)\n    state.revoke_();\n  else\n    state.revoked_ = true;\n}\n\n// src/core/finalize.ts\nfunction processResult(result, scope) {\n  scope.unfinalizedDrafts_ = scope.drafts_.length;\n  const baseDraft = scope.drafts_[0];\n  const isReplaced = result !== void 0 && result !== baseDraft;\n  if (isReplaced) {\n    if (baseDraft[DRAFT_STATE].modified_) {\n      revokeScope(scope);\n      die(4);\n    }\n    if (isDraftable(result)) {\n      result = finalize(scope, result);\n      if (!scope.parent_)\n        maybeFreeze(scope, result);\n    }\n    if (scope.patches_) {\n      getPlugin(\"Patches\").generateReplacementPatches_(\n        baseDraft[DRAFT_STATE].base_,\n        result,\n        scope.patches_,\n        scope.inversePatches_\n      );\n    }\n  } else {\n    result = finalize(scope, baseDraft, []);\n  }\n  revokeScope(scope);\n  if (scope.patches_) {\n    scope.patchListener_(scope.patches_, scope.inversePatches_);\n  }\n  return result !== NOTHING ? result : void 0;\n}\nfunction finalize(rootScope, value, path) {\n  if (isFrozen(value))\n    return value;\n  const state = value[DRAFT_STATE];\n  if (!state) {\n    each(\n      value,\n      (key, childValue) => finalizeProperty(rootScope, state, value, key, childValue, path)\n    );\n    return value;\n  }\n  if (state.scope_ !== rootScope)\n    return value;\n  if (!state.modified_) {\n    maybeFreeze(rootScope, state.base_, true);\n    return state.base_;\n  }\n  if (!state.finalized_) {\n    state.finalized_ = true;\n    state.scope_.unfinalizedDrafts_--;\n    const result = state.copy_;\n    let resultEach = result;\n    let isSet2 = false;\n    if (state.type_ === 3 /* Set */) {\n      resultEach = new Set(result);\n      result.clear();\n      isSet2 = true;\n    }\n    each(\n      resultEach,\n      (key, childValue) => finalizeProperty(rootScope, state, result, key, childValue, path, isSet2)\n    );\n    maybeFreeze(rootScope, result, false);\n    if (path && rootScope.patches_) {\n      getPlugin(\"Patches\").generatePatches_(\n        state,\n        path,\n        rootScope.patches_,\n        rootScope.inversePatches_\n      );\n    }\n  }\n  return state.copy_;\n}\nfunction finalizeProperty(rootScope, parentState, targetObject, prop, childValue, rootPath, targetIsSet) {\n  if (process.env.NODE_ENV !== \"production\" && childValue === targetObject)\n    die(5);\n  if (isDraft(childValue)) {\n    const path = rootPath && parentState && parentState.type_ !== 3 /* Set */ && // Set objects are atomic since they have no keys.\n    !has(parentState.assigned_, prop) ? rootPath.concat(prop) : void 0;\n    const res = finalize(rootScope, childValue, path);\n    set(targetObject, prop, res);\n    if (isDraft(res)) {\n      rootScope.canAutoFreeze_ = false;\n    } else\n      return;\n  } else if (targetIsSet) {\n    targetObject.add(childValue);\n  }\n  if (isDraftable(childValue) && !isFrozen(childValue)) {\n    if (!rootScope.immer_.autoFreeze_ && rootScope.unfinalizedDrafts_ < 1) {\n      return;\n    }\n    finalize(rootScope, childValue);\n    if ((!parentState || !parentState.scope_.parent_) && typeof prop !== \"symbol\" && Object.prototype.propertyIsEnumerable.call(targetObject, prop))\n      maybeFreeze(rootScope, childValue);\n  }\n}\nfunction maybeFreeze(scope, value, deep = false) {\n  if (!scope.parent_ && scope.immer_.autoFreeze_ && scope.canAutoFreeze_) {\n    freeze(value, deep);\n  }\n}\n\n// src/core/proxy.ts\nfunction createProxyProxy(base, parent) {\n  const isArray = Array.isArray(base);\n  const state = {\n    type_: isArray ? 1 /* Array */ : 0 /* Object */,\n    // Track which produce call this is associated with.\n    scope_: parent ? parent.scope_ : getCurrentScope(),\n    // True for both shallow and deep changes.\n    modified_: false,\n    // Used during finalization.\n    finalized_: false,\n    // Track which properties have been assigned (true) or deleted (false).\n    assigned_: {},\n    // The parent draft state.\n    parent_: parent,\n    // The base state.\n    base_: base,\n    // The base proxy.\n    draft_: null,\n    // set below\n    // The base copy with any updated values.\n    copy_: null,\n    // Called by the `produce` function.\n    revoke_: null,\n    isManual_: false\n  };\n  let target = state;\n  let traps = objectTraps;\n  if (isArray) {\n    target = [state];\n    traps = arrayTraps;\n  }\n  const { revoke, proxy } = Proxy.revocable(target, traps);\n  state.draft_ = proxy;\n  state.revoke_ = revoke;\n  return proxy;\n}\nvar objectTraps = {\n  get(state, prop) {\n    if (prop === DRAFT_STATE)\n      return state;\n    const source = latest(state);\n    if (!has(source, prop)) {\n      return readPropFromProto(state, source, prop);\n    }\n    const value = source[prop];\n    if (state.finalized_ || !isDraftable(value)) {\n      return value;\n    }\n    if (value === peek(state.base_, prop)) {\n      prepareCopy(state);\n      return state.copy_[prop] = createProxy(value, state);\n    }\n    return value;\n  },\n  has(state, prop) {\n    return prop in latest(state);\n  },\n  ownKeys(state) {\n    return Reflect.ownKeys(latest(state));\n  },\n  set(state, prop, value) {\n    const desc = getDescriptorFromProto(latest(state), prop);\n    if (desc?.set) {\n      desc.set.call(state.draft_, value);\n      return true;\n    }\n    if (!state.modified_) {\n      const current2 = peek(latest(state), prop);\n      const currentState = current2?.[DRAFT_STATE];\n      if (currentState && currentState.base_ === value) {\n        state.copy_[prop] = value;\n        state.assigned_[prop] = false;\n        return true;\n      }\n      if (is(value, current2) && (value !== void 0 || has(state.base_, prop)))\n        return true;\n      prepareCopy(state);\n      markChanged(state);\n    }\n    if (state.copy_[prop] === value && // special case: handle new props with value 'undefined'\n    (value !== void 0 || prop in state.copy_) || // special case: NaN\n    Number.isNaN(value) && Number.isNaN(state.copy_[prop]))\n      return true;\n    state.copy_[prop] = value;\n    state.assigned_[prop] = true;\n    return true;\n  },\n  deleteProperty(state, prop) {\n    if (peek(state.base_, prop) !== void 0 || prop in state.base_) {\n      state.assigned_[prop] = false;\n      prepareCopy(state);\n      markChanged(state);\n    } else {\n      delete state.assigned_[prop];\n    }\n    if (state.copy_) {\n      delete state.copy_[prop];\n    }\n    return true;\n  },\n  // Note: We never coerce `desc.value` into an Immer draft, because we can't make\n  // the same guarantee in ES5 mode.\n  getOwnPropertyDescriptor(state, prop) {\n    const owner = latest(state);\n    const desc = Reflect.getOwnPropertyDescriptor(owner, prop);\n    if (!desc)\n      return desc;\n    return {\n      writable: true,\n      configurable: state.type_ !== 1 /* Array */ || prop !== \"length\",\n      enumerable: desc.enumerable,\n      value: owner[prop]\n    };\n  },\n  defineProperty() {\n    die(11);\n  },\n  getPrototypeOf(state) {\n    return getPrototypeOf(state.base_);\n  },\n  setPrototypeOf() {\n    die(12);\n  }\n};\nvar arrayTraps = {};\neach(objectTraps, (key, fn) => {\n  arrayTraps[key] = function() {\n    arguments[0] = arguments[0][0];\n    return fn.apply(this, arguments);\n  };\n});\narrayTraps.deleteProperty = function(state, prop) {\n  if (process.env.NODE_ENV !== \"production\" && isNaN(parseInt(prop)))\n    die(13);\n  return arrayTraps.set.call(this, state, prop, void 0);\n};\narrayTraps.set = function(state, prop, value) {\n  if (process.env.NODE_ENV !== \"production\" && prop !== \"length\" && isNaN(parseInt(prop)))\n    die(14);\n  return objectTraps.set.call(this, state[0], prop, value, state[0]);\n};\nfunction peek(draft, prop) {\n  const state = draft[DRAFT_STATE];\n  const source = state ? latest(state) : draft;\n  return source[prop];\n}\nfunction readPropFromProto(state, source, prop) {\n  const desc = getDescriptorFromProto(source, prop);\n  return desc ? `value` in desc ? desc.value : (\n    // This is a very special case, if the prop is a getter defined by the\n    // prototype, we should invoke it with the draft as context!\n    desc.get?.call(state.draft_)\n  ) : void 0;\n}\nfunction getDescriptorFromProto(source, prop) {\n  if (!(prop in source))\n    return void 0;\n  let proto = getPrototypeOf(source);\n  while (proto) {\n    const desc = Object.getOwnPropertyDescriptor(proto, prop);\n    if (desc)\n      return desc;\n    proto = getPrototypeOf(proto);\n  }\n  return void 0;\n}\nfunction markChanged(state) {\n  if (!state.modified_) {\n    state.modified_ = true;\n    if (state.parent_) {\n      markChanged(state.parent_);\n    }\n  }\n}\nfunction prepareCopy(state) {\n  if (!state.copy_) {\n    state.copy_ = shallowCopy(\n      state.base_,\n      state.scope_.immer_.useStrictShallowCopy_\n    );\n  }\n}\n\n// src/core/immerClass.ts\nvar Immer2 = class {\n  constructor(config) {\n    this.autoFreeze_ = true;\n    this.useStrictShallowCopy_ = false;\n    /**\n     * The `produce` function takes a value and a \"recipe function\" (whose\n     * return value often depends on the base state). The recipe function is\n     * free to mutate its first argument however it wants. All mutations are\n     * only ever applied to a __copy__ of the base state.\n     *\n     * Pass only a function to create a \"curried producer\" which relieves you\n     * from passing the recipe function every time.\n     *\n     * Only plain objects and arrays are made mutable. All other objects are\n     * considered uncopyable.\n     *\n     * Note: This function is __bound__ to its `Immer` instance.\n     *\n     * @param {any} base - the initial state\n     * @param {Function} recipe - function that receives a proxy of the base state as first argument and which can be freely modified\n     * @param {Function} patchListener - optional function that will be called with all the patches produced here\n     * @returns {any} a new state, or the initial state if nothing was modified\n     */\n    this.produce = (base, recipe, patchListener) => {\n      if (typeof base === \"function\" && typeof recipe !== \"function\") {\n        const defaultBase = recipe;\n        recipe = base;\n        const self = this;\n        return function curriedProduce(base2 = defaultBase, ...args) {\n          return self.produce(base2, (draft) => recipe.call(this, draft, ...args));\n        };\n      }\n      if (typeof recipe !== \"function\")\n        die(6);\n      if (patchListener !== void 0 && typeof patchListener !== \"function\")\n        die(7);\n      let result;\n      if (isDraftable(base)) {\n        const scope = enterScope(this);\n        const proxy = createProxy(base, void 0);\n        let hasError = true;\n        try {\n          result = recipe(proxy);\n          hasError = false;\n        } finally {\n          if (hasError)\n            revokeScope(scope);\n          else\n            leaveScope(scope);\n        }\n        usePatchesInScope(scope, patchListener);\n        return processResult(result, scope);\n      } else if (!base || typeof base !== \"object\") {\n        result = recipe(base);\n        if (result === void 0)\n          result = base;\n        if (result === NOTHING)\n          result = void 0;\n        if (this.autoFreeze_)\n          freeze(result, true);\n        if (patchListener) {\n          const p = [];\n          const ip = [];\n          getPlugin(\"Patches\").generateReplacementPatches_(base, result, p, ip);\n          patchListener(p, ip);\n        }\n        return result;\n      } else\n        die(1, base);\n    };\n    this.produceWithPatches = (base, recipe) => {\n      if (typeof base === \"function\") {\n        return (state, ...args) => this.produceWithPatches(state, (draft) => base(draft, ...args));\n      }\n      let patches, inversePatches;\n      const result = this.produce(base, recipe, (p, ip) => {\n        patches = p;\n        inversePatches = ip;\n      });\n      return [result, patches, inversePatches];\n    };\n    if (typeof config?.autoFreeze === \"boolean\")\n      this.setAutoFreeze(config.autoFreeze);\n    if (typeof config?.useStrictShallowCopy === \"boolean\")\n      this.setUseStrictShallowCopy(config.useStrictShallowCopy);\n  }\n  createDraft(base) {\n    if (!isDraftable(base))\n      die(8);\n    if (isDraft(base))\n      base = current(base);\n    const scope = enterScope(this);\n    const proxy = createProxy(base, void 0);\n    proxy[DRAFT_STATE].isManual_ = true;\n    leaveScope(scope);\n    return proxy;\n  }\n  finishDraft(draft, patchListener) {\n    const state = draft && draft[DRAFT_STATE];\n    if (!state || !state.isManual_)\n      die(9);\n    const { scope_: scope } = state;\n    usePatchesInScope(scope, patchListener);\n    return processResult(void 0, scope);\n  }\n  /**\n   * Pass true to automatically freeze all copies created by Immer.\n   *\n   * By default, auto-freezing is enabled.\n   */\n  setAutoFreeze(value) {\n    this.autoFreeze_ = value;\n  }\n  /**\n   * Pass true to enable strict shallow copy.\n   *\n   * By default, immer does not copy the object descriptors such as getter, setter and non-enumrable properties.\n   */\n  setUseStrictShallowCopy(value) {\n    this.useStrictShallowCopy_ = value;\n  }\n  applyPatches(base, patches) {\n    let i;\n    for (i = patches.length - 1; i >= 0; i--) {\n      const patch = patches[i];\n      if (patch.path.length === 0 && patch.op === \"replace\") {\n        base = patch.value;\n        break;\n      }\n    }\n    if (i > -1) {\n      patches = patches.slice(i + 1);\n    }\n    const applyPatchesImpl = getPlugin(\"Patches\").applyPatches_;\n    if (isDraft(base)) {\n      return applyPatchesImpl(base, patches);\n    }\n    return this.produce(\n      base,\n      (draft) => applyPatchesImpl(draft, patches)\n    );\n  }\n};\nfunction createProxy(value, parent) {\n  const draft = isMap(value) ? getPlugin(\"MapSet\").proxyMap_(value, parent) : isSet(value) ? getPlugin(\"MapSet\").proxySet_(value, parent) : createProxyProxy(value, parent);\n  const scope = parent ? parent.scope_ : getCurrentScope();\n  scope.drafts_.push(draft);\n  return draft;\n}\n\n// src/core/current.ts\nfunction current(value) {\n  if (!isDraft(value))\n    die(10, value);\n  return currentImpl(value);\n}\nfunction currentImpl(value) {\n  if (!isDraftable(value) || isFrozen(value))\n    return value;\n  const state = value[DRAFT_STATE];\n  let copy;\n  if (state) {\n    if (!state.modified_)\n      return state.base_;\n    state.finalized_ = true;\n    copy = shallowCopy(value, state.scope_.immer_.useStrictShallowCopy_);\n  } else {\n    copy = shallowCopy(value, true);\n  }\n  each(copy, (key, childValue) => {\n    set(copy, key, currentImpl(childValue));\n  });\n  if (state) {\n    state.finalized_ = false;\n  }\n  return copy;\n}\n\n// src/plugins/patches.ts\nfunction enablePatches() {\n  const errorOffset = 16;\n  if (process.env.NODE_ENV !== \"production\") {\n    errors.push(\n      'Sets cannot have \"replace\" patches.',\n      function(op) {\n        return \"Unsupported patch operation: \" + op;\n      },\n      function(path) {\n        return \"Cannot apply patch, path doesn't resolve: \" + path;\n      },\n      \"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"\n    );\n  }\n  const REPLACE = \"replace\";\n  const ADD = \"add\";\n  const REMOVE = \"remove\";\n  function generatePatches_(state, basePath, patches, inversePatches) {\n    switch (state.type_) {\n      case 0 /* Object */:\n      case 2 /* Map */:\n        return generatePatchesFromAssigned(\n          state,\n          basePath,\n          patches,\n          inversePatches\n        );\n      case 1 /* Array */:\n        return generateArrayPatches(state, basePath, patches, inversePatches);\n      case 3 /* Set */:\n        return generateSetPatches(\n          state,\n          basePath,\n          patches,\n          inversePatches\n        );\n    }\n  }\n  function generateArrayPatches(state, basePath, patches, inversePatches) {\n    let { base_, assigned_ } = state;\n    let copy_ = state.copy_;\n    if (copy_.length < base_.length) {\n      ;\n      [base_, copy_] = [copy_, base_];\n      [patches, inversePatches] = [inversePatches, patches];\n    }\n    for (let i = 0; i < base_.length; i++) {\n      if (assigned_[i] && copy_[i] !== base_[i]) {\n        const path = basePath.concat([i]);\n        patches.push({\n          op: REPLACE,\n          path,\n          // Need to maybe clone it, as it can in fact be the original value\n          // due to the base/copy inversion at the start of this function\n          value: clonePatchValueIfNeeded(copy_[i])\n        });\n        inversePatches.push({\n          op: REPLACE,\n          path,\n          value: clonePatchValueIfNeeded(base_[i])\n        });\n      }\n    }\n    for (let i = base_.length; i < copy_.length; i++) {\n      const path = basePath.concat([i]);\n      patches.push({\n        op: ADD,\n        path,\n        // Need to maybe clone it, as it can in fact be the original value\n        // due to the base/copy inversion at the start of this function\n        value: clonePatchValueIfNeeded(copy_[i])\n      });\n    }\n    for (let i = copy_.length - 1; base_.length <= i; --i) {\n      const path = basePath.concat([i]);\n      inversePatches.push({\n        op: REMOVE,\n        path\n      });\n    }\n  }\n  function generatePatchesFromAssigned(state, basePath, patches, inversePatches) {\n    const { base_, copy_ } = state;\n    each(state.assigned_, (key, assignedValue) => {\n      const origValue = get(base_, key);\n      const value = get(copy_, key);\n      const op = !assignedValue ? REMOVE : has(base_, key) ? REPLACE : ADD;\n      if (origValue === value && op === REPLACE)\n        return;\n      const path = basePath.concat(key);\n      patches.push(op === REMOVE ? { op, path } : { op, path, value });\n      inversePatches.push(\n        op === ADD ? { op: REMOVE, path } : op === REMOVE ? { op: ADD, path, value: clonePatchValueIfNeeded(origValue) } : { op: REPLACE, path, value: clonePatchValueIfNeeded(origValue) }\n      );\n    });\n  }\n  function generateSetPatches(state, basePath, patches, inversePatches) {\n    let { base_, copy_ } = state;\n    let i = 0;\n    base_.forEach((value) => {\n      if (!copy_.has(value)) {\n        const path = basePath.concat([i]);\n        patches.push({\n          op: REMOVE,\n          path,\n          value\n        });\n        inversePatches.unshift({\n          op: ADD,\n          path,\n          value\n        });\n      }\n      i++;\n    });\n    i = 0;\n    copy_.forEach((value) => {\n      if (!base_.has(value)) {\n        const path = basePath.concat([i]);\n        patches.push({\n          op: ADD,\n          path,\n          value\n        });\n        inversePatches.unshift({\n          op: REMOVE,\n          path,\n          value\n        });\n      }\n      i++;\n    });\n  }\n  function generateReplacementPatches_(baseValue, replacement, patches, inversePatches) {\n    patches.push({\n      op: REPLACE,\n      path: [],\n      value: replacement === NOTHING ? void 0 : replacement\n    });\n    inversePatches.push({\n      op: REPLACE,\n      path: [],\n      value: baseValue\n    });\n  }\n  function applyPatches_(draft, patches) {\n    patches.forEach((patch) => {\n      const { path, op } = patch;\n      let base = draft;\n      for (let i = 0; i < path.length - 1; i++) {\n        const parentType = getArchtype(base);\n        let p = path[i];\n        if (typeof p !== \"string\" && typeof p !== \"number\") {\n          p = \"\" + p;\n        }\n        if ((parentType === 0 /* Object */ || parentType === 1 /* Array */) && (p === \"__proto__\" || p === \"constructor\"))\n          die(errorOffset + 3);\n        if (typeof base === \"function\" && p === \"prototype\")\n          die(errorOffset + 3);\n        base = get(base, p);\n        if (typeof base !== \"object\")\n          die(errorOffset + 2, path.join(\"/\"));\n      }\n      const type = getArchtype(base);\n      const value = deepClonePatchValue(patch.value);\n      const key = path[path.length - 1];\n      switch (op) {\n        case REPLACE:\n          switch (type) {\n            case 2 /* Map */:\n              return base.set(key, value);\n            case 3 /* Set */:\n              die(errorOffset);\n            default:\n              return base[key] = value;\n          }\n        case ADD:\n          switch (type) {\n            case 1 /* Array */:\n              return key === \"-\" ? base.push(value) : base.splice(key, 0, value);\n            case 2 /* Map */:\n              return base.set(key, value);\n            case 3 /* Set */:\n              return base.add(value);\n            default:\n              return base[key] = value;\n          }\n        case REMOVE:\n          switch (type) {\n            case 1 /* Array */:\n              return base.splice(key, 1);\n            case 2 /* Map */:\n              return base.delete(key);\n            case 3 /* Set */:\n              return base.delete(patch.value);\n            default:\n              return delete base[key];\n          }\n        default:\n          die(errorOffset + 1, op);\n      }\n    });\n    return draft;\n  }\n  function deepClonePatchValue(obj) {\n    if (!isDraftable(obj))\n      return obj;\n    if (Array.isArray(obj))\n      return obj.map(deepClonePatchValue);\n    if (isMap(obj))\n      return new Map(\n        Array.from(obj.entries()).map(([k, v]) => [k, deepClonePatchValue(v)])\n      );\n    if (isSet(obj))\n      return new Set(Array.from(obj).map(deepClonePatchValue));\n    const cloned = Object.create(getPrototypeOf(obj));\n    for (const key in obj)\n      cloned[key] = deepClonePatchValue(obj[key]);\n    if (has(obj, DRAFTABLE))\n      cloned[DRAFTABLE] = obj[DRAFTABLE];\n    return cloned;\n  }\n  function clonePatchValueIfNeeded(obj) {\n    if (isDraft(obj)) {\n      return deepClonePatchValue(obj);\n    } else\n      return obj;\n  }\n  loadPlugin(\"Patches\", {\n    applyPatches_,\n    generatePatches_,\n    generateReplacementPatches_\n  });\n}\n\n// src/plugins/mapset.ts\nfunction enableMapSet() {\n  class DraftMap extends Map {\n    constructor(target, parent) {\n      super();\n      this[DRAFT_STATE] = {\n        type_: 2 /* Map */,\n        parent_: parent,\n        scope_: parent ? parent.scope_ : getCurrentScope(),\n        modified_: false,\n        finalized_: false,\n        copy_: void 0,\n        assigned_: void 0,\n        base_: target,\n        draft_: this,\n        isManual_: false,\n        revoked_: false\n      };\n    }\n    get size() {\n      return latest(this[DRAFT_STATE]).size;\n    }\n    has(key) {\n      return latest(this[DRAFT_STATE]).has(key);\n    }\n    set(key, value) {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (!latest(state).has(key) || latest(state).get(key) !== value) {\n        prepareMapCopy(state);\n        markChanged(state);\n        state.assigned_.set(key, true);\n        state.copy_.set(key, value);\n        state.assigned_.set(key, true);\n      }\n      return this;\n    }\n    delete(key) {\n      if (!this.has(key)) {\n        return false;\n      }\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      prepareMapCopy(state);\n      markChanged(state);\n      if (state.base_.has(key)) {\n        state.assigned_.set(key, false);\n      } else {\n        state.assigned_.delete(key);\n      }\n      state.copy_.delete(key);\n      return true;\n    }\n    clear() {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (latest(state).size) {\n        prepareMapCopy(state);\n        markChanged(state);\n        state.assigned_ = /* @__PURE__ */ new Map();\n        each(state.base_, (key) => {\n          state.assigned_.set(key, false);\n        });\n        state.copy_.clear();\n      }\n    }\n    forEach(cb, thisArg) {\n      const state = this[DRAFT_STATE];\n      latest(state).forEach((_value, key, _map) => {\n        cb.call(thisArg, this.get(key), key, this);\n      });\n    }\n    get(key) {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      const value = latest(state).get(key);\n      if (state.finalized_ || !isDraftable(value)) {\n        return value;\n      }\n      if (value !== state.base_.get(key)) {\n        return value;\n      }\n      const draft = createProxy(value, state);\n      prepareMapCopy(state);\n      state.copy_.set(key, draft);\n      return draft;\n    }\n    keys() {\n      return latest(this[DRAFT_STATE]).keys();\n    }\n    values() {\n      const iterator = this.keys();\n      return {\n        [Symbol.iterator]: () => this.values(),\n        next: () => {\n          const r = iterator.next();\n          if (r.done)\n            return r;\n          const value = this.get(r.value);\n          return {\n            done: false,\n            value\n          };\n        }\n      };\n    }\n    entries() {\n      const iterator = this.keys();\n      return {\n        [Symbol.iterator]: () => this.entries(),\n        next: () => {\n          const r = iterator.next();\n          if (r.done)\n            return r;\n          const value = this.get(r.value);\n          return {\n            done: false,\n            value: [r.value, value]\n          };\n        }\n      };\n    }\n    [(DRAFT_STATE, Symbol.iterator)]() {\n      return this.entries();\n    }\n  }\n  function proxyMap_(target, parent) {\n    return new DraftMap(target, parent);\n  }\n  function prepareMapCopy(state) {\n    if (!state.copy_) {\n      state.assigned_ = /* @__PURE__ */ new Map();\n      state.copy_ = new Map(state.base_);\n    }\n  }\n  class DraftSet extends Set {\n    constructor(target, parent) {\n      super();\n      this[DRAFT_STATE] = {\n        type_: 3 /* Set */,\n        parent_: parent,\n        scope_: parent ? parent.scope_ : getCurrentScope(),\n        modified_: false,\n        finalized_: false,\n        copy_: void 0,\n        base_: target,\n        draft_: this,\n        drafts_: /* @__PURE__ */ new Map(),\n        revoked_: false,\n        isManual_: false\n      };\n    }\n    get size() {\n      return latest(this[DRAFT_STATE]).size;\n    }\n    has(value) {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (!state.copy_) {\n        return state.base_.has(value);\n      }\n      if (state.copy_.has(value))\n        return true;\n      if (state.drafts_.has(value) && state.copy_.has(state.drafts_.get(value)))\n        return true;\n      return false;\n    }\n    add(value) {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (!this.has(value)) {\n        prepareSetCopy(state);\n        markChanged(state);\n        state.copy_.add(value);\n      }\n      return this;\n    }\n    delete(value) {\n      if (!this.has(value)) {\n        return false;\n      }\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      prepareSetCopy(state);\n      markChanged(state);\n      return state.copy_.delete(value) || (state.drafts_.has(value) ? state.copy_.delete(state.drafts_.get(value)) : (\n        /* istanbul ignore next */\n        false\n      ));\n    }\n    clear() {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (latest(state).size) {\n        prepareSetCopy(state);\n        markChanged(state);\n        state.copy_.clear();\n      }\n    }\n    values() {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      prepareSetCopy(state);\n      return state.copy_.values();\n    }\n    entries() {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      prepareSetCopy(state);\n      return state.copy_.entries();\n    }\n    keys() {\n      return this.values();\n    }\n    [(DRAFT_STATE, Symbol.iterator)]() {\n      return this.values();\n    }\n    forEach(cb, thisArg) {\n      const iterator = this.values();\n      let result = iterator.next();\n      while (!result.done) {\n        cb.call(thisArg, result.value, result.value, this);\n        result = iterator.next();\n      }\n    }\n  }\n  function proxySet_(target, parent) {\n    return new DraftSet(target, parent);\n  }\n  function prepareSetCopy(state) {\n    if (!state.copy_) {\n      state.copy_ = /* @__PURE__ */ new Set();\n      state.base_.forEach((value) => {\n        if (isDraftable(value)) {\n          const draft = createProxy(value, state);\n          state.drafts_.set(value, draft);\n          state.copy_.add(draft);\n        } else {\n          state.copy_.add(value);\n        }\n      });\n    }\n  }\n  function assertUnrevoked(state) {\n    if (state.revoked_)\n      die(3, JSON.stringify(latest(state)));\n  }\n  loadPlugin(\"MapSet\", { proxyMap_, proxySet_ });\n}\n\n// src/immer.ts\nvar immer = new Immer2();\nvar produce = immer.produce;\nvar produceWithPatches = immer.produceWithPatches.bind(\n  immer\n);\nvar setAutoFreeze = immer.setAutoFreeze.bind(immer);\nvar setUseStrictShallowCopy = immer.setUseStrictShallowCopy.bind(immer);\nvar applyPatches = immer.applyPatches.bind(immer);\nvar createDraft = immer.createDraft.bind(immer);\nvar finishDraft = immer.finishDraft.bind(immer);\nfunction castDraft(value) {\n  return value;\n}\nfunction castImmutable(value) {\n  return value;\n}\nexport {\n  Immer2 as Immer,\n  applyPatches,\n  castDraft,\n  castImmutable,\n  createDraft,\n  current,\n  enableMapSet,\n  enablePatches,\n  finishDraft,\n  freeze,\n  DRAFTABLE as immerable,\n  isDraft,\n  isDraftable,\n  NOTHING as nothing,\n  original,\n  produce,\n  produceWithPatches,\n  setAutoFreeze,\n  setUseStrictShallowCopy\n};\n//# sourceMappingURL=immer.mjs.map","var randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  //\n  // Note to future-self: No, you can't remove the `toLowerCase()` call.\n  // REF: https://github.com/uuidjs/uuid/pull/677#issuecomment-1757351351\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\nfunction stringify(arr, offset = 0) {\n  var uuid = unsafeStringify(arr, offset);\n  // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n  return uuid;\n}\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    offset = offset || 0;\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n    return buf;\n  }\n  return unsafeStringify(rnds);\n}\nexport default v4;","import { __read, __spreadArray } from \"tslib\";\nimport { innerFrom } from '../observable/innerFrom';\nimport { Subject } from '../Subject';\nimport { SafeSubscriber } from '../Subscriber';\nimport { operate } from '../util/lift';\nexport function share(options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.connector, connector = _a === void 0 ? function () { return new Subject(); } : _a, _b = options.resetOnError, resetOnError = _b === void 0 ? true : _b, _c = options.resetOnComplete, resetOnComplete = _c === void 0 ? true : _c, _d = options.resetOnRefCountZero, resetOnRefCountZero = _d === void 0 ? true : _d;\n    return function (wrapperSource) {\n        var connection;\n        var resetConnection;\n        var subject;\n        var refCount = 0;\n        var hasCompleted = false;\n        var hasErrored = false;\n        var cancelReset = function () {\n            resetConnection === null || resetConnection === void 0 ? void 0 : resetConnection.unsubscribe();\n            resetConnection = undefined;\n        };\n        var reset = function () {\n            cancelReset();\n            connection = subject = undefined;\n            hasCompleted = hasErrored = false;\n        };\n        var resetAndUnsubscribe = function () {\n            var conn = connection;\n            reset();\n            conn === null || conn === void 0 ? void 0 : conn.unsubscribe();\n        };\n        return operate(function (source, subscriber) {\n            refCount++;\n            if (!hasErrored && !hasCompleted) {\n                cancelReset();\n            }\n            var dest = (subject = subject !== null && subject !== void 0 ? subject : connector());\n            subscriber.add(function () {\n                refCount--;\n                if (refCount === 0 && !hasErrored && !hasCompleted) {\n                    resetConnection = handleReset(resetAndUnsubscribe, resetOnRefCountZero);\n                }\n            });\n            dest.subscribe(subscriber);\n            if (!connection &&\n                refCount > 0) {\n                connection = new SafeSubscriber({\n                    next: function (value) { return dest.next(value); },\n                    error: function (err) {\n                        hasErrored = true;\n                        cancelReset();\n                        resetConnection = handleReset(reset, resetOnError, err);\n                        dest.error(err);\n                    },\n                    complete: function () {\n                        hasCompleted = true;\n                        cancelReset();\n                        resetConnection = handleReset(reset, resetOnComplete);\n                        dest.complete();\n                    },\n                });\n                innerFrom(source).subscribe(connection);\n            }\n        })(wrapperSource);\n    };\n}\nfunction handleReset(reset, on) {\n    var args = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        args[_i - 2] = arguments[_i];\n    }\n    if (on === true) {\n        reset();\n        return;\n    }\n    if (on === false) {\n        return;\n    }\n    var onSubscriber = new SafeSubscriber({\n        next: function () {\n            onSubscriber.unsubscribe();\n            reset();\n        },\n    });\n    return innerFrom(on.apply(void 0, __spreadArray([], __read(args)))).subscribe(onSubscriber);\n}\n//# sourceMappingURL=share.js.map","var isArray = Array.isArray;\nexport function argsOrArgArray(args) {\n    return args.length === 1 && isArray(args[0]) ? args[0] : args;\n}\n//# sourceMappingURL=argsOrArgArray.js.map","import { Observable } from '../Observable';\nimport { noop } from '../util/noop';\nexport var NEVER = new Observable(noop);\nexport function never() {\n    return NEVER;\n}\n//# sourceMappingURL=never.js.map","// src/polyfills.ts\nimport { Buffer as Buffer2 } from \"buffer\";\nvar polyfills_default = () => {\n  if (!globalThis.Buffer)\n    globalThis.Buffer = Buffer2;\n};\n\n// src/modules/connect-button/connect-button.module.ts\nimport {\n  filter as filter6,\n  finalize,\n  first as first3,\n  fromEvent,\n  map as map5,\n  merge as merge4,\n  mergeMap as mergeMap3,\n  of as of3,\n  Subscription as Subscription6,\n  switchMap as switchMap6,\n  tap as tap3,\n  timer as timer3\n} from \"rxjs\";\n\n// src/modules/connect-button/subjects.ts\nimport { BehaviorSubject, ReplaySubject, Subject as Subject2 } from \"rxjs\";\n\n// src/helpers/exponential-backoff.ts\nimport { err, ok } from \"neverthrow\";\nimport { map, merge, of, Subject, switchMap, timer } from \"rxjs\";\nvar ExponentialBackoff = ({\n  maxDelayTime = 1e4,\n  multiplier = 2,\n  timeout,\n  interval = 2e3\n} = {}) => {\n  const trigger = new Subject();\n  let numberOfRetries = 0;\n  const backoff$ = merge(\n    of(0),\n    trigger.pipe(\n      map(() => {\n        numberOfRetries = numberOfRetries + 1;\n        return numberOfRetries;\n      })\n    )\n  ).pipe(\n    switchMap((numberOfRetries2) => {\n      const delayTime = numberOfRetries2 * interval * multiplier;\n      const delay = delayTime > maxDelayTime ? maxDelayTime : delayTime;\n      return timer(delay).pipe(map(() => ok(numberOfRetries2)));\n    })\n  );\n  const withBackoffAndTimeout$ = timeout ? merge(\n    backoff$,\n    timer(timeout).pipe(map(() => err({ error: \"timeout\" })))\n  ) : backoff$;\n  return { trigger, withBackoff$: withBackoffAndTimeout$ };\n};\n\n// src/helpers/fetch-wrapper.ts\nimport { ResultAsync, errAsync, okAsync } from \"neverthrow\";\n\n// src/helpers/parse-json.ts\nimport { err as err2, ok as ok2 } from \"neverthrow\";\n\n// src/helpers/typed-error.ts\nvar typedError = (error) => error;\n\n// src/helpers/parse-json.ts\nvar parseJSON = (text) => {\n  try {\n    return ok2(JSON.parse(text));\n  } catch (error) {\n    return err2(typedError(error));\n  }\n};\n\n// src/helpers/fetch-wrapper.ts\nvar typedError2 = (error) => error;\nvar resolveFetch = (fetchable) => ResultAsync.fromPromise(fetchable, typedError2).mapErr((error) => ({\n  reason: \"FailedToFetch\",\n  error,\n  status: 0\n}));\nvar fetchWrapper = (fetchable) => resolveFetch(fetchable).andThen(\n  (response) => ResultAsync.fromPromise(response.text(), typedError2).andThen((text) => text ? parseJSON(text) : okAsync(text)).mapErr((error) => ({\n    status: response.status,\n    reason: \"FailedToParseResponseToJson\",\n    error\n  })).andThen(\n    (data) => response.ok ? okAsync({\n      status: response.status,\n      data\n    }) : errAsync({\n      status: response.status,\n      reason: \"RequestStatusNotOk\",\n      data\n    })\n  )\n);\n\n// src/helpers/is-mobile.ts\nimport Bowser from \"bowser\";\nvar isMobile = () => {\n  const userAgent = Bowser.parse(window.navigator.userAgent);\n  return userAgent.platform.type === \"mobile\";\n};\n\n// src/helpers/logger.ts\nimport { Logger as TsLogger } from \"tslog\";\nvar Logger = (minLevel) => new TsLogger({\n  minLevel: minLevel ?? 2,\n  prettyLogTemplate: \"{{hh}}:{{MM}}:{{ss}}:{{ms}}\t{{name}}\t{{logLevelName}}\t\"\n});\n\n// src/helpers/stringify.ts\nimport { err as err3, ok as ok3 } from \"neverthrow\";\nvar stringify = (input) => {\n  try {\n    return ok3(JSON.stringify(input));\n  } catch (error) {\n    return err3(error);\n  }\n};\n\n// src/helpers/remove-undefined.ts\nvar removeUndefined = (input) => stringify(input).andThen(parseJSON);\n\n// src/helpers/unwrap-observable.ts\nimport { ResultAsync as ResultAsync2 } from \"neverthrow\";\nimport { firstValueFrom } from \"rxjs\";\nvar unwrapObservable = (input) => ResultAsync2.fromPromise(\n  firstValueFrom(input),\n  (error) => error\n).andThen((result) => result);\n\n// src/helpers/validate-wallet-response.ts\nimport { Result as Result2, errAsync as errAsync2, okAsync as okAsync2 } from \"neverthrow\";\n\n// src/schemas/index.ts\nimport {\n  array,\n  boolean,\n  literal,\n  number,\n  object,\n  optional,\n  minValue,\n  string,\n  union,\n  merge as merge2,\n  custom\n} from \"valibot\";\nvar Account = object({\n  address: string(),\n  label: string(),\n  appearanceId: number()\n});\nvar Proof = object({\n  publicKey: string(),\n  signature: string(),\n  curve: union([literal(\"curve25519\"), literal(\"secp256k1\")])\n});\nvar AccountProof = object({\n  accountAddress: string(),\n  proof: Proof\n});\nvar Persona = object({ identityAddress: string(), label: string() });\nvar personaDataFullNameVariant = {\n  western: \"western\",\n  eastern: \"eastern\"\n};\nvar PersonaDataNameVariant = union([\n  literal(personaDataFullNameVariant.eastern),\n  literal(personaDataFullNameVariant.western)\n]);\nvar PersonaDataName = object({\n  variant: PersonaDataNameVariant,\n  familyName: string(),\n  nickname: string(),\n  givenNames: string()\n});\nvar NumberOfValues = object({\n  quantifier: union([literal(\"exactly\"), literal(\"atLeast\")]),\n  quantity: number([minValue(0, \"The number must be at least 0.\")])\n});\nvar AccountsRequestItem = object({\n  challenge: optional(string()),\n  numberOfAccounts: NumberOfValues\n});\nvar AccountsRequestResponseItem = object(\n  {\n    accounts: array(Account),\n    challenge: optional(string()),\n    proofs: optional(array(AccountProof))\n  },\n  [\n    custom((data) => {\n      if (data.challenge || data?.proofs) {\n        return !!(data.challenge && data?.proofs?.length);\n      }\n      return true;\n    }, \"missing challenge or proofs\")\n  ]\n);\nvar PersonaDataRequestItem = object({\n  isRequestingName: optional(boolean()),\n  numberOfRequestedEmailAddresses: optional(NumberOfValues),\n  numberOfRequestedPhoneNumbers: optional(NumberOfValues)\n});\nvar PersonaDataRequestResponseItem = object({\n  name: optional(PersonaDataName),\n  emailAddresses: optional(array(string())),\n  phoneNumbers: optional(array(string()))\n});\nvar ResetRequestItem = object({\n  accounts: boolean(),\n  personaData: boolean()\n});\nvar LoginRequestResponseItem = object(\n  {\n    persona: Persona,\n    challenge: optional(string()),\n    proof: optional(Proof)\n  },\n  [\n    custom((data) => {\n      if (data.challenge || data.proof) {\n        return !!(data.challenge && data.proof);\n      }\n      return true;\n    }, \"missing challenge or proof\")\n  ]\n);\nvar WalletUnauthorizedRequestItems = object({\n  discriminator: literal(\"unauthorizedRequest\"),\n  oneTimeAccounts: optional(AccountsRequestItem),\n  oneTimePersonaData: optional(PersonaDataRequestItem)\n});\nvar AuthUsePersonaRequestItem = object({\n  discriminator: literal(\"usePersona\"),\n  identityAddress: string()\n});\nvar AuthLoginWithoutChallengeRequestItem = object({\n  discriminator: literal(\"loginWithoutChallenge\")\n});\nvar AuthLoginWithChallengeRequestItem = object({\n  discriminator: literal(\"loginWithChallenge\"),\n  challenge: string()\n});\nvar AuthLoginRequestItem = union([\n  AuthLoginWithoutChallengeRequestItem,\n  AuthLoginWithChallengeRequestItem\n]);\nvar AuthRequestItem = union([\n  AuthUsePersonaRequestItem,\n  AuthLoginRequestItem\n]);\nvar WalletAuthorizedRequestItems = object({\n  discriminator: literal(\"authorizedRequest\"),\n  auth: AuthRequestItem,\n  reset: optional(ResetRequestItem),\n  oneTimeAccounts: optional(AccountsRequestItem),\n  ongoingAccounts: optional(AccountsRequestItem),\n  oneTimePersonaData: optional(PersonaDataRequestItem),\n  ongoingPersonaData: optional(PersonaDataRequestItem)\n});\nvar WalletRequestItems = union([\n  WalletUnauthorizedRequestItems,\n  WalletAuthorizedRequestItems\n]);\nvar SendTransactionItem = object({\n  transactionManifest: string(),\n  version: number(),\n  blobs: optional(array(string())),\n  message: optional(string())\n});\nvar WalletTransactionItems = object({\n  discriminator: literal(\"transaction\"),\n  send: SendTransactionItem\n});\nvar SendTransactionResponseItem = object({\n  transactionIntentHash: string()\n});\nvar WalletTransactionResponseItems = object({\n  discriminator: literal(\"transaction\"),\n  send: SendTransactionResponseItem\n});\nvar CancelRequest = object({\n  discriminator: literal(\"cancelRequest\")\n});\nvar WalletInteractionItems = union([\n  WalletRequestItems,\n  WalletTransactionItems,\n  CancelRequest\n]);\nvar Metadata = object({\n  version: literal(2),\n  networkId: number(),\n  dAppDefinitionAddress: string(),\n  origin: string()\n});\nvar WalletInteraction = object({\n  interactionId: string(),\n  metadata: Metadata,\n  items: WalletInteractionItems\n});\nvar WalletUnauthorizedRequestResponseItems = object({\n  discriminator: literal(\"unauthorizedRequest\"),\n  oneTimeAccounts: optional(AccountsRequestResponseItem),\n  oneTimePersonaData: optional(PersonaDataRequestResponseItem)\n});\nvar AuthLoginWithoutChallengeRequestResponseItem = object({\n  discriminator: literal(\"loginWithoutChallenge\"),\n  persona: Persona\n});\nvar AuthLoginWithChallengeRequestResponseItem = object({\n  discriminator: literal(\"loginWithChallenge\"),\n  persona: Persona,\n  challenge: string(),\n  proof: Proof\n});\nvar AuthLoginRequestResponseItem = union([\n  AuthLoginWithoutChallengeRequestResponseItem,\n  AuthLoginWithChallengeRequestResponseItem\n]);\nvar AuthUsePersonaRequestResponseItem = object({\n  discriminator: literal(\"usePersona\"),\n  persona: Persona\n});\nvar AuthRequestResponseItem = union([\n  AuthUsePersonaRequestResponseItem,\n  AuthLoginRequestResponseItem\n]);\nvar WalletAuthorizedRequestResponseItems = object({\n  discriminator: literal(\"authorizedRequest\"),\n  auth: AuthRequestResponseItem,\n  oneTimeAccounts: optional(AccountsRequestResponseItem),\n  ongoingAccounts: optional(AccountsRequestResponseItem),\n  oneTimePersonaData: optional(PersonaDataRequestResponseItem),\n  ongoingPersonaData: optional(PersonaDataRequestResponseItem)\n});\nvar WalletRequestResponseItems = union([\n  WalletUnauthorizedRequestResponseItems,\n  WalletAuthorizedRequestResponseItems\n]);\nvar WalletInteractionResponseItems = union([\n  WalletRequestResponseItems,\n  WalletTransactionResponseItems\n]);\nvar WalletInteractionSuccessResponse = object({\n  discriminator: literal(\"success\"),\n  interactionId: string(),\n  items: WalletInteractionResponseItems\n});\nvar WalletInteractionFailureResponse = object({\n  discriminator: literal(\"failure\"),\n  interactionId: string(),\n  error: string(),\n  message: optional(string())\n});\nvar WalletInteractionResponse = union([\n  WalletInteractionSuccessResponse,\n  WalletInteractionFailureResponse\n]);\nvar extensionInteractionDiscriminator = {\n  extensionStatus: \"extensionStatus\",\n  openPopup: \"openPopup\",\n  cancelWalletInteraction: \"cancelWalletInteraction\",\n  walletInteraction: \"walletInteraction\"\n};\nvar StatusExtensionInteraction = object({\n  interactionId: string(),\n  discriminator: literal(extensionInteractionDiscriminator.extensionStatus)\n});\nvar OpenPopupExtensionInteraction = object({\n  interactionId: string(),\n  discriminator: literal(extensionInteractionDiscriminator.openPopup)\n});\nvar WalletInteractionExtensionInteraction = object({\n  interactionId: string(),\n  discriminator: literal(extensionInteractionDiscriminator.walletInteraction),\n  interaction: WalletInteraction,\n  sessionId: optional(string())\n});\nvar CancelWalletInteractionExtensionInteraction = object({\n  interactionId: string(),\n  discriminator: literal(\n    extensionInteractionDiscriminator.cancelWalletInteraction\n  ),\n  metadata: Metadata\n});\nvar ExtensionInteraction = union([\n  StatusExtensionInteraction,\n  OpenPopupExtensionInteraction,\n  WalletInteractionExtensionInteraction,\n  CancelWalletInteractionExtensionInteraction\n]);\nvar messageLifeCycleEventType = {\n  extensionStatus: \"extensionStatus\",\n  receivedByExtension: \"receivedByExtension\",\n  receivedByWallet: \"receivedByWallet\",\n  requestCancelSuccess: \"requestCancelSuccess\",\n  requestCancelFail: \"requestCancelFail\"\n};\nvar MessageLifeCycleExtensionStatusEvent = object({\n  eventType: literal(messageLifeCycleEventType.extensionStatus),\n  interactionId: string(),\n  isWalletLinked: boolean(),\n  isExtensionAvailable: boolean(),\n  canHandleSessions: optional(boolean())\n});\nvar MessageLifeCycleEvent = object({\n  eventType: union([\n    literal(messageLifeCycleEventType.extensionStatus),\n    literal(messageLifeCycleEventType.receivedByExtension),\n    literal(messageLifeCycleEventType.receivedByWallet),\n    literal(messageLifeCycleEventType.requestCancelSuccess),\n    literal(messageLifeCycleEventType.requestCancelFail)\n  ]),\n  interactionId: string()\n});\nvar IncomingMessage = union([\n  MessageLifeCycleEvent,\n  WalletInteractionResponse\n]);\nvar eventType = {\n  outgoingMessage: \"radix#chromeExtension#send\",\n  incomingMessage: \"radix#chromeExtension#receive\"\n};\nvar Offer = literal(\"offer\");\nvar Answer = literal(\"answer\");\nvar IceCandidate = literal(\"iceCandidate\");\nvar IceCandidates = literal(\"iceCandidates\");\nvar Types = union([Offer, Answer, IceCandidate, IceCandidates]);\nvar Sources = union([literal(\"wallet\"), literal(\"extension\")]);\nvar SignalingServerMessage = object({\n  requestId: string(),\n  targetClientId: string(),\n  encryptedPayload: string(),\n  source: optional(Sources),\n  // redundant, to be removed\n  connectionId: optional(string())\n  // redundant, to be removed\n});\nvar AnswerIO = merge2([\n  SignalingServerMessage,\n  object({\n    method: Answer,\n    payload: object({\n      sdp: string()\n    })\n  })\n]);\nvar OfferIO = merge2([\n  SignalingServerMessage,\n  object({\n    method: Offer,\n    payload: object({\n      sdp: string()\n    })\n  })\n]);\nvar IceCandidatePayloadIO = object({\n  candidate: string(),\n  sdpMid: string(),\n  sdpMLineIndex: number()\n});\nvar IceCandidateIO = merge2([\n  SignalingServerMessage,\n  object({\n    method: IceCandidate,\n    payload: IceCandidatePayloadIO\n  })\n]);\nvar IceCandidatesIO = merge2([\n  SignalingServerMessage,\n  object({\n    method: IceCandidates,\n    payload: array(IceCandidatePayloadIO)\n  })\n]);\n\n// src/error.ts\nvar ErrorType = {\n  rejectedByUser: \"rejectedByUser\",\n  missingExtension: \"missingExtension\",\n  canceledByUser: \"canceledByUser\",\n  walletRequestValidation: \"walletRequestValidation\",\n  walletResponseValidation: \"walletResponseValidation\",\n  wrongNetwork: \"wrongNetwork\",\n  failedToPrepareTransaction: \"failedToPrepareTransaction\",\n  failedToCompileTransaction: \"failedToCompileTransaction\",\n  failedToSignTransaction: \"failedToSignTransaction\",\n  failedToSubmitTransaction: \"failedToSubmitTransaction\",\n  failedToPollSubmittedTransaction: \"failedToPollSubmittedTransaction\",\n  submittedTransactionWasDuplicate: \"submittedTransactionWasDuplicate\",\n  submittedTransactionHasFailedTransactionStatus: \"submittedTransactionHasFailedTransactionStatus\",\n  submittedTransactionHasRejectedTransactionStatus: \"submittedTransactionHasRejectedTransactionStatus\",\n  failedToFindAccountWithEnoughFundsToLockFee: \"failedToFindAccountWithEnoughFundsToLockFee\",\n  wrongAccountType: \"wrongAccountType\",\n  unknownWebsite: \"unknownWebsite\",\n  radixJsonNotFound: \"radixJsonNotFound\",\n  unknownDappDefinitionAddress: \"unknownDappDefinitionAddress\",\n  invalidPersona: \"invalidPersona\"\n};\nvar defaultErrorMessage = (/* @__PURE__ */ new Map()).set(ErrorType.missingExtension, \"extension could not be found\").set(ErrorType.rejectedByUser, \"user rejected request\").set(ErrorType.canceledByUser, \"user has canceled the request\");\nvar SdkError = (error, interactionId, message) => ({\n  error,\n  interactionId,\n  message: message || defaultErrorMessage.get(error) || \"\"\n});\n\n// src/helpers/validate-wallet-response.ts\nimport { parse } from \"valibot\";\nvar validateWalletResponse = (walletResponse) => {\n  const fn = Result2.fromThrowable(\n    (_) => parse(WalletInteractionResponse, _),\n    (error) => error\n  );\n  const result = fn(walletResponse);\n  if (result.isErr()) {\n    return errAsync2(SdkError(\"walletResponseValidation\", \"\", \"Invalid input\"));\n  } else if (result.isOk()) {\n    return result.value.discriminator === \"success\" ? okAsync2(result.value) : errAsync2(result.value);\n  }\n  return errAsync2(SdkError(\"walletResponseValidation\", \"\"));\n};\n\n// src/helpers/generate-rola-challenge.ts\nvar generateRolaChallenge = () => [...globalThis.crypto.getRandomValues(new Uint8Array(32))].map((x) => x.toString(16).padStart(2, \"0\")).join(\"\");\n\n// src/helpers/parse-signed-challenge.ts\nimport { safeParse } from \"valibot\";\nvar parseSignedChallenge = (value) => safeParse(SignedChallenge, value);\n\n// src/modules/connect-button/subjects.ts\nvar ConnectButtonSubjects = () => ({\n  onConnect: new Subject2(),\n  onDisconnect: new Subject2(),\n  onUpdateSharedAccounts: new Subject2(),\n  connected: new ReplaySubject(1),\n  requestItems: new BehaviorSubject([]),\n  onCancelRequestItem: new Subject2(),\n  onIgnoreTransactionItem: new Subject2(),\n  accounts: new BehaviorSubject([]),\n  onShowPopover: new Subject2(),\n  status: new BehaviorSubject(\"default\"),\n  loggedInTimestamp: new BehaviorSubject(\"\"),\n  isMobile: new BehaviorSubject(isMobile()),\n  isWalletLinked: new BehaviorSubject(false),\n  showPopoverMenu: new BehaviorSubject(false),\n  isExtensionAvailable: new BehaviorSubject(false),\n  fullWidth: new BehaviorSubject(false),\n  activeTab: new BehaviorSubject(\"sharing\"),\n  mode: new BehaviorSubject(\"light\"),\n  theme: new BehaviorSubject(\"radix-blue\"),\n  avatarUrl: new BehaviorSubject(\"\"),\n  personaLabel: new BehaviorSubject(\"\"),\n  personaData: new BehaviorSubject([]),\n  dAppName: new BehaviorSubject(\"\"),\n  onLinkClick: new Subject2()\n});\n\n// src/modules/wallet-request/crypto/curve25519.ts\nimport { x25519, ed25519 } from \"@noble/curves/ed25519\";\nimport { Buffer as Buffer3 } from \"buffer\";\nimport { err as err4, ok as ok4 } from \"neverthrow\";\n\n// ../../node_modules/@noble/hashes/esm/_assert.js\nfunction number2(n) {\n  if (!Number.isSafeInteger(n) || n < 0)\n    throw new Error(`positive integer expected, not ${n}`);\n}\nfunction isBytes(a) {\n  return a instanceof Uint8Array || a != null && typeof a === \"object\" && a.constructor.name === \"Uint8Array\";\n}\nfunction bytes(b, ...lengths) {\n  if (!isBytes(b))\n    throw new Error(\"Uint8Array expected\");\n  if (lengths.length > 0 && !lengths.includes(b.length))\n    throw new Error(`Uint8Array expected of length ${lengths}, not of length=${b.length}`);\n}\nfunction hash(h) {\n  if (typeof h !== \"function\" || typeof h.create !== \"function\")\n    throw new Error(\"Hash should be wrapped by utils.wrapConstructor\");\n  number2(h.outputLen);\n  number2(h.blockLen);\n}\nfunction exists(instance, checkFinished = true) {\n  if (instance.destroyed)\n    throw new Error(\"Hash instance has been destroyed\");\n  if (checkFinished && instance.finished)\n    throw new Error(\"Hash#digest() has already been called\");\n}\nfunction output(out, instance) {\n  bytes(out);\n  const min = instance.outputLen;\n  if (out.length < min) {\n    throw new Error(`digestInto() expects output buffer of length at least ${min}`);\n  }\n}\n\n// ../../node_modules/@noble/hashes/esm/utils.js\nvar createView = (arr) => new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\nvar rotr = (word, shift) => word << 32 - shift | word >>> shift;\nvar isLE = new Uint8Array(new Uint32Array([287454020]).buffer)[0] === 68;\nfunction utf8ToBytes(str) {\n  if (typeof str !== \"string\")\n    throw new Error(`utf8ToBytes expected string, got ${typeof str}`);\n  return new Uint8Array(new TextEncoder().encode(str));\n}\nfunction toBytes(data) {\n  if (typeof data === \"string\")\n    data = utf8ToBytes(data);\n  bytes(data);\n  return data;\n}\nvar Hash = class {\n  // Safe version that clones internal state\n  clone() {\n    return this._cloneInto();\n  }\n};\nvar toStr = {}.toString;\nfunction wrapConstructor(hashCons) {\n  const hashC = (msg) => hashCons().update(toBytes(msg)).digest();\n  const tmp = hashCons();\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = () => hashCons();\n  return hashC;\n}\n\n// ../../node_modules/@noble/hashes/esm/hmac.js\nvar HMAC = class extends Hash {\n  constructor(hash2, _key) {\n    super();\n    this.finished = false;\n    this.destroyed = false;\n    hash(hash2);\n    const key = toBytes(_key);\n    this.iHash = hash2.create();\n    if (typeof this.iHash.update !== \"function\")\n      throw new Error(\"Expected instance of class which extends utils.Hash\");\n    this.blockLen = this.iHash.blockLen;\n    this.outputLen = this.iHash.outputLen;\n    const blockLen = this.blockLen;\n    const pad = new Uint8Array(blockLen);\n    pad.set(key.length > blockLen ? hash2.create().update(key).digest() : key);\n    for (let i = 0; i < pad.length; i++)\n      pad[i] ^= 54;\n    this.iHash.update(pad);\n    this.oHash = hash2.create();\n    for (let i = 0; i < pad.length; i++)\n      pad[i] ^= 54 ^ 92;\n    this.oHash.update(pad);\n    pad.fill(0);\n  }\n  update(buf) {\n    exists(this);\n    this.iHash.update(buf);\n    return this;\n  }\n  digestInto(out) {\n    exists(this);\n    bytes(out, this.outputLen);\n    this.finished = true;\n    this.iHash.digestInto(out);\n    this.oHash.update(out);\n    this.oHash.digestInto(out);\n    this.destroy();\n  }\n  digest() {\n    const out = new Uint8Array(this.oHash.outputLen);\n    this.digestInto(out);\n    return out;\n  }\n  _cloneInto(to) {\n    to || (to = Object.create(Object.getPrototypeOf(this), {}));\n    const { oHash, iHash, finished, destroyed, blockLen, outputLen } = this;\n    to = to;\n    to.finished = finished;\n    to.destroyed = destroyed;\n    to.blockLen = blockLen;\n    to.outputLen = outputLen;\n    to.oHash = oHash._cloneInto(to.oHash);\n    to.iHash = iHash._cloneInto(to.iHash);\n    return to;\n  }\n  destroy() {\n    this.destroyed = true;\n    this.oHash.destroy();\n    this.iHash.destroy();\n  }\n};\nvar hmac = (hash2, key, message) => new HMAC(hash2, key).update(message).digest();\nhmac.create = (hash2, key) => new HMAC(hash2, key);\n\n// ../../node_modules/@noble/hashes/esm/hkdf.js\nfunction extract(hash2, ikm, salt) {\n  hash(hash2);\n  if (salt === void 0)\n    salt = new Uint8Array(hash2.outputLen);\n  return hmac(hash2, toBytes(salt), toBytes(ikm));\n}\nvar HKDF_COUNTER = /* @__PURE__ */ new Uint8Array([0]);\nvar EMPTY_BUFFER = /* @__PURE__ */ new Uint8Array();\nfunction expand(hash2, prk, info, length = 32) {\n  hash(hash2);\n  number2(length);\n  if (length > 255 * hash2.outputLen)\n    throw new Error(\"Length should be <= 255*HashLen\");\n  const blocks = Math.ceil(length / hash2.outputLen);\n  if (info === void 0)\n    info = EMPTY_BUFFER;\n  const okm = new Uint8Array(blocks * hash2.outputLen);\n  const HMAC2 = hmac.create(hash2, prk);\n  const HMACTmp = HMAC2._cloneInto();\n  const T = new Uint8Array(HMAC2.outputLen);\n  for (let counter = 0; counter < blocks; counter++) {\n    HKDF_COUNTER[0] = counter + 1;\n    HMACTmp.update(counter === 0 ? EMPTY_BUFFER : T).update(info).update(HKDF_COUNTER).digestInto(T);\n    okm.set(T, hash2.outputLen * counter);\n    HMAC2._cloneInto(HMACTmp);\n  }\n  HMAC2.destroy();\n  HMACTmp.destroy();\n  T.fill(0);\n  HKDF_COUNTER.fill(0);\n  return okm.slice(0, length);\n}\nvar hkdf = (hash2, ikm, salt, info, length) => expand(hash2, extract(hash2, ikm, salt), info, length);\n\n// ../../node_modules/@noble/hashes/esm/_md.js\nfunction setBigUint64(view, byteOffset, value, isLE2) {\n  if (typeof view.setBigUint64 === \"function\")\n    return view.setBigUint64(byteOffset, value, isLE2);\n  const _32n = BigInt(32);\n  const _u32_max = BigInt(4294967295);\n  const wh = Number(value >> _32n & _u32_max);\n  const wl = Number(value & _u32_max);\n  const h = isLE2 ? 4 : 0;\n  const l = isLE2 ? 0 : 4;\n  view.setUint32(byteOffset + h, wh, isLE2);\n  view.setUint32(byteOffset + l, wl, isLE2);\n}\nvar Chi = (a, b, c) => a & b ^ ~a & c;\nvar Maj = (a, b, c) => a & b ^ a & c ^ b & c;\nvar HashMD = class extends Hash {\n  constructor(blockLen, outputLen, padOffset, isLE2) {\n    super();\n    this.blockLen = blockLen;\n    this.outputLen = outputLen;\n    this.padOffset = padOffset;\n    this.isLE = isLE2;\n    this.finished = false;\n    this.length = 0;\n    this.pos = 0;\n    this.destroyed = false;\n    this.buffer = new Uint8Array(blockLen);\n    this.view = createView(this.buffer);\n  }\n  update(data) {\n    exists(this);\n    const { view, buffer, blockLen } = this;\n    data = toBytes(data);\n    const len = data.length;\n    for (let pos = 0; pos < len; ) {\n      const take = Math.min(blockLen - this.pos, len - pos);\n      if (take === blockLen) {\n        const dataView = createView(data);\n        for (; blockLen <= len - pos; pos += blockLen)\n          this.process(dataView, pos);\n        continue;\n      }\n      buffer.set(data.subarray(pos, pos + take), this.pos);\n      this.pos += take;\n      pos += take;\n      if (this.pos === blockLen) {\n        this.process(view, 0);\n        this.pos = 0;\n      }\n    }\n    this.length += data.length;\n    this.roundClean();\n    return this;\n  }\n  digestInto(out) {\n    exists(this);\n    output(out, this);\n    this.finished = true;\n    const { buffer, view, blockLen, isLE: isLE2 } = this;\n    let { pos } = this;\n    buffer[pos++] = 128;\n    this.buffer.subarray(pos).fill(0);\n    if (this.padOffset > blockLen - pos) {\n      this.process(view, 0);\n      pos = 0;\n    }\n    for (let i = pos; i < blockLen; i++)\n      buffer[i] = 0;\n    setBigUint64(view, blockLen - 8, BigInt(this.length * 8), isLE2);\n    this.process(view, 0);\n    const oview = createView(out);\n    const len = this.outputLen;\n    if (len % 4)\n      throw new Error(\"_sha2: outputLen should be aligned to 32bit\");\n    const outLen = len / 4;\n    const state = this.get();\n    if (outLen > state.length)\n      throw new Error(\"_sha2: outputLen bigger than state\");\n    for (let i = 0; i < outLen; i++)\n      oview.setUint32(4 * i, state[i], isLE2);\n  }\n  digest() {\n    const { buffer, outputLen } = this;\n    this.digestInto(buffer);\n    const res = buffer.slice(0, outputLen);\n    this.destroy();\n    return res;\n  }\n  _cloneInto(to) {\n    to || (to = new this.constructor());\n    to.set(...this.get());\n    const { blockLen, buffer, length, finished, destroyed, pos } = this;\n    to.length = length;\n    to.pos = pos;\n    to.finished = finished;\n    to.destroyed = destroyed;\n    if (length % blockLen)\n      to.buffer.set(buffer);\n    return to;\n  }\n};\n\n// ../../node_modules/@noble/hashes/esm/sha256.js\nvar SHA256_K = /* @__PURE__ */ new Uint32Array([\n  1116352408,\n  1899447441,\n  3049323471,\n  3921009573,\n  961987163,\n  1508970993,\n  2453635748,\n  2870763221,\n  3624381080,\n  310598401,\n  607225278,\n  1426881987,\n  1925078388,\n  2162078206,\n  2614888103,\n  3248222580,\n  3835390401,\n  4022224774,\n  264347078,\n  604807628,\n  770255983,\n  1249150122,\n  1555081692,\n  1996064986,\n  2554220882,\n  2821834349,\n  2952996808,\n  3210313671,\n  3336571891,\n  3584528711,\n  113926993,\n  338241895,\n  666307205,\n  773529912,\n  1294757372,\n  1396182291,\n  1695183700,\n  1986661051,\n  2177026350,\n  2456956037,\n  2730485921,\n  2820302411,\n  3259730800,\n  3345764771,\n  3516065817,\n  3600352804,\n  4094571909,\n  275423344,\n  430227734,\n  506948616,\n  659060556,\n  883997877,\n  958139571,\n  1322822218,\n  1537002063,\n  1747873779,\n  1955562222,\n  2024104815,\n  2227730452,\n  2361852424,\n  2428436474,\n  2756734187,\n  3204031479,\n  3329325298\n]);\nvar SHA256_IV = /* @__PURE__ */ new Uint32Array([\n  1779033703,\n  3144134277,\n  1013904242,\n  2773480762,\n  1359893119,\n  2600822924,\n  528734635,\n  1541459225\n]);\nvar SHA256_W = /* @__PURE__ */ new Uint32Array(64);\nvar SHA256 = class extends HashMD {\n  constructor() {\n    super(64, 32, 8, false);\n    this.A = SHA256_IV[0] | 0;\n    this.B = SHA256_IV[1] | 0;\n    this.C = SHA256_IV[2] | 0;\n    this.D = SHA256_IV[3] | 0;\n    this.E = SHA256_IV[4] | 0;\n    this.F = SHA256_IV[5] | 0;\n    this.G = SHA256_IV[6] | 0;\n    this.H = SHA256_IV[7] | 0;\n  }\n  get() {\n    const { A, B, C, D, E, F, G, H } = this;\n    return [A, B, C, D, E, F, G, H];\n  }\n  // prettier-ignore\n  set(A, B, C, D, E, F, G, H) {\n    this.A = A | 0;\n    this.B = B | 0;\n    this.C = C | 0;\n    this.D = D | 0;\n    this.E = E | 0;\n    this.F = F | 0;\n    this.G = G | 0;\n    this.H = H | 0;\n  }\n  process(view, offset) {\n    for (let i = 0; i < 16; i++, offset += 4)\n      SHA256_W[i] = view.getUint32(offset, false);\n    for (let i = 16; i < 64; i++) {\n      const W15 = SHA256_W[i - 15];\n      const W2 = SHA256_W[i - 2];\n      const s0 = rotr(W15, 7) ^ rotr(W15, 18) ^ W15 >>> 3;\n      const s1 = rotr(W2, 17) ^ rotr(W2, 19) ^ W2 >>> 10;\n      SHA256_W[i] = s1 + SHA256_W[i - 7] + s0 + SHA256_W[i - 16] | 0;\n    }\n    let { A, B, C, D, E, F, G, H } = this;\n    for (let i = 0; i < 64; i++) {\n      const sigma1 = rotr(E, 6) ^ rotr(E, 11) ^ rotr(E, 25);\n      const T1 = H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i] | 0;\n      const sigma0 = rotr(A, 2) ^ rotr(A, 13) ^ rotr(A, 22);\n      const T2 = sigma0 + Maj(A, B, C) | 0;\n      H = G;\n      G = F;\n      F = E;\n      E = D + T1 | 0;\n      D = C;\n      C = B;\n      B = A;\n      A = T1 + T2 | 0;\n    }\n    A = A + this.A | 0;\n    B = B + this.B | 0;\n    C = C + this.C | 0;\n    D = D + this.D | 0;\n    E = E + this.E | 0;\n    F = F + this.F | 0;\n    G = G + this.G | 0;\n    H = H + this.H | 0;\n    this.set(A, B, C, D, E, F, G, H);\n  }\n  roundClean() {\n    SHA256_W.fill(0);\n  }\n  destroy() {\n    this.set(0, 0, 0, 0, 0, 0, 0, 0);\n    this.buffer.fill(0);\n  }\n};\nvar sha256 = /* @__PURE__ */ wrapConstructor(() => new SHA256());\n\n// src/modules/wallet-request/crypto/curve25519.ts\nvar toHex = (input) => Buffer3.from(input).toString(\"hex\");\nvar Curve25519 = (privateKeyHex = toHex(x25519.utils.randomPrivateKey())) => {\n  const getPrivateKey = () => privateKeyHex;\n  const x25519Api = {\n    getPublicKey: () => toHex(x25519.getPublicKey(privateKeyHex)),\n    calculateSharedSecret: (publicKeyHex, dAppDefinitionAddress) => {\n      try {\n        const sharedSecret = x25519.getSharedSecret(privateKeyHex, publicKeyHex);\n        const derived = hkdf(\n          sha256,\n          sharedSecret,\n          Buffer3.from(dAppDefinitionAddress, \"utf-8\"),\n          \"RCfM\",\n          32\n        );\n        return ok4(toHex(derived));\n      } catch (error) {\n        return err4(error);\n      }\n    }\n  };\n  const ed25519Api = {\n    getPublicKey: () => toHex(ed25519.getPublicKey(privateKeyHex)),\n    sign: (messageHex) => {\n      try {\n        return ok4(toHex(ed25519.sign(messageHex, privateKeyHex)));\n      } catch (error) {\n        return err4(error);\n      }\n    }\n  };\n  return {\n    getPrivateKey,\n    x25519: x25519Api,\n    ed25519: ed25519Api\n  };\n};\n\n// src/modules/wallet-request/crypto/blake2b.ts\nimport { err as err5, ok as ok5 } from \"neverthrow\";\nimport blake from \"blakejs\";\nimport { Buffer as Buffer4 } from \"buffer\";\nvar bufferToArrayBuffer = (buffer) => {\n  const arrayBuffer = new ArrayBuffer(buffer.length);\n  const view = new Uint8Array(arrayBuffer);\n  for (let i = 0; i < buffer.length; ++i) {\n    view[i] = buffer[i];\n  }\n  return arrayBuffer;\n};\nvar bufferToUnit8Array = (buffer) => new Uint8Array(bufferToArrayBuffer(buffer));\nvar blake2b = (input) => {\n  try {\n    return ok5(blake.blake2bHex(bufferToUnit8Array(input), void 0, 32)).map(\n      (hex) => Buffer4.from(hex, \"hex\")\n    );\n  } catch (error) {\n    return err5(error);\n  }\n};\n\n// src/modules/wallet-request/data-request/builders/accounts.ts\nimport { produce } from \"immer\";\nimport { boolean as boolean2, object as object2, optional as optional2 } from \"valibot\";\nvar AccountsDataRequestSchema = object2({\n  numberOfAccounts: NumberOfValues,\n  withProof: optional2(boolean2()),\n  reset: optional2(boolean2())\n});\nvar accounts = () => {\n  const defaultValue = {\n    numberOfAccounts: { quantifier: \"atLeast\", quantity: 1 }\n  };\n  let data = produce(defaultValue, () => {\n  });\n  const atLeast = (n) => {\n    data = produce(data, (draft) => {\n      draft.numberOfAccounts.quantifier = \"atLeast\";\n      draft.numberOfAccounts.quantity = n;\n    });\n    return methods;\n  };\n  const exactly = (n) => {\n    data = produce(data, (draft) => {\n      draft.numberOfAccounts.quantifier = \"exactly\";\n      draft.numberOfAccounts.quantity = n;\n    });\n    return methods;\n  };\n  const reset = (value = true) => {\n    data = produce(data, (draft) => {\n      draft.reset = value;\n    });\n    return methods;\n  };\n  const withProof = (value = true) => {\n    data = produce(data, (draft) => {\n      draft.withProof = value;\n    });\n    return methods;\n  };\n  const _toObject = () => ({\n    accounts: data\n  });\n  const methods = {\n    atLeast,\n    exactly,\n    withProof,\n    reset,\n    _toObject\n  };\n  return methods;\n};\n\n// src/modules/wallet-request/data-request/builders/persona.ts\nimport { produce as produce2 } from \"immer\";\nimport { boolean as boolean3, object as object3, optional as optional3 } from \"valibot\";\nvar schema = object3({\n  withProof: optional3(boolean3())\n});\nvar persona = (initialData = {\n  withProof: false\n}) => {\n  let data = produce2(initialData, () => {\n  });\n  const withProof = (value = true) => {\n    data = produce2(data, (draft) => {\n      draft.withProof = value;\n    });\n    return methods;\n  };\n  const _toObject = () => ({\n    persona: data\n  });\n  const methods = {\n    withProof,\n    _toObject\n  };\n  return methods;\n};\n\n// src/modules/wallet-request/data-request/builders/persona-data.ts\nimport { produce as produce3 } from \"immer\";\nimport { boolean as boolean4, object as object4, partial } from \"valibot\";\nvar PersonaDataRequestSchema = partial(\n  object4({\n    fullName: boolean4(),\n    emailAddresses: NumberOfValues,\n    phoneNumbers: NumberOfValues,\n    reset: boolean4()\n  })\n);\nvar personaData = (initialData = {}) => {\n  let data = produce3(initialData, () => {\n  });\n  const fullName = (value = true) => {\n    data = produce3(data, (draft) => {\n      draft.fullName = value;\n    });\n    return methods;\n  };\n  const createNumberOfValuesOptions = (key) => ({\n    atLeast: (n) => {\n      data = produce3(data, (draft) => {\n        draft[key] = { quantifier: \"atLeast\", quantity: n };\n      });\n      return methods;\n    },\n    exactly: (n) => {\n      data = produce3(data, (draft) => {\n        draft[key] = { quantifier: \"exactly\", quantity: n };\n      });\n      return methods;\n    }\n  });\n  const emailAddresses = (value = true) => {\n    const options = createNumberOfValuesOptions(\"emailAddresses\");\n    options.exactly(value ? 1 : 0);\n    return methods;\n  };\n  const phoneNumbers = (value = true) => {\n    const options = createNumberOfValuesOptions(\"phoneNumbers\");\n    options.exactly(value ? 1 : 0);\n    return methods;\n  };\n  const reset = (value = true) => {\n    data = produce3(data, (draft) => {\n      draft.reset = value;\n    });\n    return methods;\n  };\n  const _toObject = () => ({\n    personaData: data\n  });\n  const methods = {\n    fullName,\n    emailAddresses,\n    phoneNumbers,\n    reset,\n    _toObject\n  };\n  return methods;\n};\n\n// src/modules/wallet-request/data-request/builders/index.ts\nvar config = (data) => {\n  const _toObject = () => ({ ...data });\n  const methods = {\n    _toObject\n  };\n  return methods;\n};\nvar DataRequestBuilder = {\n  accounts,\n  personaData,\n  persona,\n  config\n};\nvar OneTimeDataRequestBuilder = {\n  accounts,\n  personaData\n};\n\n// src/helpers/is-deep-equal.ts\nvar isDeepEqual = (a, b) => {\n  const values = [null, void 0, false, true];\n  if (values.includes(a) || values.includes(b) || typeof a === \"number\" || typeof b === \"number\") {\n    return Object.is(a, b);\n  }\n  const aKeys = Object.keys(a);\n  const bKeys = Object.keys(b);\n  if (aKeys.length !== bKeys.length)\n    return false;\n  for (const key of aKeys) {\n    const value1 = a[key];\n    const value2 = b[key];\n    const isObjects = isObject(value1) && isObject(value2);\n    if (isObjects && !isDeepEqual(value1, value2) || !isObjects && value1 !== value2) {\n      return false;\n    }\n  }\n  return true;\n};\nvar isObject = (x) => {\n  return x != null && typeof x === \"object\";\n};\n\n// src/modules/wallet-request/data-request/helpers/can-data-request-be-resolved-by-rdt-state.ts\nvar canDataRequestBeResolvedByRdtState = (dataRequest, state) => {\n  if (dataRequest.discriminator === \"authorizedRequest\") {\n    const isReset = dataRequest.reset?.accounts || dataRequest.reset?.personaData;\n    const isOneTimeRequest = !!(dataRequest.oneTimeAccounts || dataRequest.oneTimePersonaData);\n    const isChallengeRequest = dataRequest.auth.discriminator === \"loginWithChallenge\" || !!dataRequest.oneTimeAccounts?.challenge || !!dataRequest.ongoingAccounts?.challenge;\n    if (isReset || isOneTimeRequest || isChallengeRequest)\n      return false;\n    let rdtStateSatisfiesRequest = false;\n    if (dataRequest.ongoingAccounts) {\n      const { quantifier, quantity } = dataRequest.ongoingAccounts.numberOfAccounts;\n      rdtStateSatisfiesRequest = state.sharedData?.ongoingAccounts?.numberOfAccounts?.quantifier === quantifier && state.sharedData?.ongoingAccounts?.numberOfAccounts?.quantity === quantity;\n    }\n    if (dataRequest.ongoingPersonaData) {\n      rdtStateSatisfiesRequest = isDeepEqual(\n        dataRequest.ongoingPersonaData,\n        state.sharedData?.ongoingPersonaData\n      );\n    }\n    return rdtStateSatisfiesRequest;\n  }\n  return false;\n};\n\n// src/modules/wallet-request/data-request/helpers/to-wallet-request.ts\nimport { produce as produce5 } from \"immer\";\n\n// src/modules/wallet-request/data-request/transformations/rdt-to-wallet.ts\nimport { produce as produce4 } from \"immer\";\nimport { ok as ok6 } from \"neverthrow\";\nimport { boolean as boolean5, object as object5, string as string2, optional as optional4 } from \"valibot\";\nvar TransformRdtDataRequestToWalletRequestInput = object5({\n  accounts: optional4(\n    object5({\n      numberOfAccounts: NumberOfValues,\n      reset: boolean5(),\n      oneTime: boolean5(),\n      challenge: optional4(string2())\n    })\n  ),\n  personaData: optional4(\n    object5({\n      fullName: optional4(boolean5()),\n      phoneNumbers: optional4(NumberOfValues),\n      emailAddresses: optional4(NumberOfValues),\n      reset: boolean5(),\n      oneTime: optional4(boolean5())\n    })\n  ),\n  persona: optional4(\n    object5({\n      identityAddress: optional4(string2()),\n      label: optional4(string2()),\n      challenge: optional4(string2())\n    })\n  )\n});\nvar isAuthorized = (input) => {\n  const { persona: persona2, accounts: accounts2, personaData: personaData2 } = input;\n  const isPersonaLogin = !!persona2;\n  const shouldResetData = accounts2?.reset || personaData2?.reset;\n  const isOngoingAccountsRequest = accounts2 && !accounts2?.oneTime;\n  const isOngoingPersonaDataRequest = personaData2 && !personaData2?.oneTime;\n  const isAuthorizedRequest = !!(shouldResetData || isOngoingAccountsRequest || isOngoingPersonaDataRequest || isPersonaLogin);\n  return isAuthorizedRequest;\n};\nvar createLoginRequestItem = (input) => {\n  if (input.persona?.challenge) {\n    return {\n      discriminator: \"loginWithChallenge\",\n      challenge: input.persona.challenge\n    };\n  }\n  if (input.persona?.identityAddress) {\n    return {\n      discriminator: \"usePersona\",\n      identityAddress: input.persona?.identityAddress\n    };\n  }\n  return {\n    discriminator: \"loginWithoutChallenge\"\n  };\n};\nvar withAccountRequestItem = (input) => (requestItems) => {\n  const updatedRequestItems = { ...requestItems };\n  const { accounts: accounts2 } = input;\n  if (accounts2) {\n    const data = {\n      challenge: accounts2.challenge,\n      numberOfAccounts: accounts2.numberOfAccounts\n    };\n    const isOngoingRequest = updatedRequestItems.discriminator === \"authorizedRequest\" && !input.accounts?.oneTime;\n    const isConnectOngoingRequest = updatedRequestItems.discriminator === \"authorizedRequest\";\n    if (input.accounts?.oneTime) {\n      updatedRequestItems[\"oneTimeAccounts\"] = data;\n    } else if (isOngoingRequest || isConnectOngoingRequest) {\n      updatedRequestItems[\"ongoingAccounts\"] = data;\n    }\n  }\n  return updatedRequestItems;\n};\nvar withPersonaDataRequestItem = (input) => (requestItems) => {\n  const updatedRequestItems = { ...requestItems };\n  if (input.personaData) {\n    const {\n      fullName: isRequestingName,\n      phoneNumbers: numberOfRequestedPhoneNumbers,\n      emailAddresses: numberOfRequestedEmailAddresses\n    } = input.personaData;\n    if (input.personaData?.oneTime) {\n      updatedRequestItems[\"oneTimePersonaData\"] = {\n        isRequestingName,\n        numberOfRequestedPhoneNumbers,\n        numberOfRequestedEmailAddresses\n      };\n    }\n    const isOngoingRequest = updatedRequestItems.discriminator === \"authorizedRequest\" && !input.personaData?.oneTime;\n    const isConnectOngoingRequest = updatedRequestItems.discriminator === \"authorizedRequest\";\n    if (isOngoingRequest || isConnectOngoingRequest) {\n      updatedRequestItems[\"ongoingPersonaData\"] = {\n        isRequestingName,\n        numberOfRequestedPhoneNumbers,\n        numberOfRequestedEmailAddresses\n      };\n    }\n  }\n  return updatedRequestItems;\n};\nvar withResetRequestItem = (input) => (requestItems) => {\n  const { accounts: accounts2, personaData: personaData2 } = input;\n  return {\n    ...requestItems,\n    reset: { accounts: !!accounts2?.reset, personaData: !!personaData2?.reset }\n  };\n};\nvar createUnauthorizedRequestItems = (input) => ok6({\n  discriminator: \"unauthorizedRequest\"\n}).map(withAccountRequestItem(input)).map(withPersonaDataRequestItem(input));\nvar createAuthorizedRequestItems = (input) => ok6({\n  discriminator: \"authorizedRequest\",\n  auth: createLoginRequestItem(input)\n}).map(withAccountRequestItem(input)).map(withPersonaDataRequestItem(input)).map(withResetRequestItem(input));\nvar transformConnectRequest = (isConnect, input) => ok6(\n  isConnect ? produce4(input, (draft) => {\n    if (draft.accounts) {\n      draft.accounts.oneTime = false;\n      draft.accounts.reset = false;\n    }\n    if (draft.personaData) {\n      draft.personaData.oneTime = false;\n      draft.personaData.reset = false;\n    }\n  }) : input\n);\nvar transformRdtDataRequestToWalletRequest = (isConnect, input) => transformConnectRequest(isConnect, input).andThen(\n  (transformed) => isAuthorized(transformed) ? createAuthorizedRequestItems(transformed) : createUnauthorizedRequestItems(transformed)\n);\n\n// src/modules/wallet-request/data-request/helpers/to-wallet-request.ts\nvar toWalletRequest = ({\n  dataRequestState,\n  isConnect,\n  challenge,\n  oneTime,\n  walletData\n}) => transformRdtDataRequestToWalletRequest(\n  isConnect,\n  produce5({}, (draft) => {\n    if (dataRequestState.accounts) {\n      draft.accounts = {\n        numberOfAccounts: dataRequestState.accounts.numberOfAccounts || {\n          quantifier: \"atLeast\",\n          quantity: 1\n        },\n        oneTime,\n        reset: !!dataRequestState.accounts.reset,\n        challenge: dataRequestState.accounts.withProof ? challenge : void 0\n      };\n    }\n    if (dataRequestState.personaData)\n      draft.personaData = {\n        ...dataRequestState.personaData,\n        reset: !!dataRequestState.personaData.reset,\n        oneTime\n      };\n    if (!oneTime) {\n      const persona2 = walletData.persona;\n      if (walletData.persona)\n        draft.persona = persona2;\n      if (dataRequestState.persona?.withProof)\n        draft.persona = { ...draft.persona ?? {}, challenge };\n      if (Object.values(dataRequestState).length === 0)\n        draft.persona = { challenge: void 0 };\n    }\n  })\n);\n\n// src/modules/wallet-request/data-request/transformations/shared-data.ts\nimport { produce as produce6 } from \"immer\";\nvar transformWalletRequestToSharedData = (walletInteraction, sharedData) => {\n  const { items: walletDataRequest } = walletInteraction;\n  if (walletDataRequest.discriminator === \"authorizedRequest\")\n    return produce6({}, (draft) => {\n      draft.persona = { proof: false };\n      if (walletDataRequest.auth.discriminator === \"loginWithChallenge\")\n        draft.persona.proof = !!walletDataRequest.auth.challenge;\n      if (walletDataRequest.ongoingAccounts) {\n        draft.ongoingAccounts = {\n          proof: !!walletDataRequest.ongoingAccounts.challenge,\n          numberOfAccounts: walletDataRequest.ongoingAccounts.numberOfAccounts\n        };\n      }\n      if (walletDataRequest.ongoingPersonaData) {\n        draft.ongoingPersonaData = walletDataRequest.ongoingPersonaData;\n      }\n    });\n  return sharedData;\n};\nvar transformSharedDataToDataRequestState = (sharedData) => produce6({}, (draft) => {\n  if (sharedData.ongoingAccounts) {\n    draft.accounts = {\n      numberOfAccounts: sharedData.ongoingAccounts.numberOfAccounts,\n      withProof: sharedData.ongoingAccounts.proof,\n      reset: true\n    };\n  }\n  if (sharedData.ongoingPersonaData) {\n    draft.personaData = {\n      fullName: sharedData.ongoingPersonaData.isRequestingName,\n      phoneNumbers: sharedData.ongoingPersonaData.numberOfRequestedPhoneNumbers,\n      emailAddresses: sharedData.ongoingPersonaData.numberOfRequestedEmailAddresses,\n      reset: false\n    };\n  }\n  if (sharedData.persona) {\n    draft.persona = {\n      withProof: false\n    };\n  }\n});\n\n// src/modules/wallet-request/data-request/transformations/wallet-to-rdt.ts\nimport { produce as produce7 } from \"immer\";\nimport { okAsync as okAsync3 } from \"neverthrow\";\n\n// src/modules/state/state.module.ts\nimport { BehaviorSubject as BehaviorSubject2, Subscription, filter } from \"rxjs\";\n\n// src/modules/state/types.ts\nimport {\n  array as array2,\n  boolean as boolean6,\n  optional as optional5,\n  literal as literal2,\n  object as object6,\n  variant,\n  string as string3\n} from \"valibot\";\nvar proofType = {\n  persona: \"persona\",\n  account: \"account\"\n};\nvar SignedChallengePersona = object6({\n  challenge: string3(),\n  proof: Proof,\n  address: string3(),\n  type: literal2(proofType.persona)\n});\nvar SignedChallengeAccount = object6({\n  challenge: string3(),\n  proof: Proof,\n  address: string3(),\n  type: literal2(proofType.account)\n});\nvar SignedChallenge = variant(\"type\", [\n  SignedChallengePersona,\n  SignedChallengeAccount\n]);\nvar WalletDataPersonaDataFullName = object6({\n  entry: literal2(\"fullName\"),\n  fields: PersonaDataName\n});\nvar WalletDataPersonaDataEmailAddresses = object6({\n  entry: literal2(\"emailAddresses\"),\n  fields: array2(string3())\n});\nvar WalletDataPersonaDataPhoneNumbersAddresses = object6({\n  entry: literal2(\"phoneNumbers\"),\n  fields: array2(string3())\n});\nvar WalletDataPersonaData = variant(\"entry\", [\n  WalletDataPersonaDataFullName,\n  WalletDataPersonaDataEmailAddresses,\n  WalletDataPersonaDataPhoneNumbersAddresses\n]);\nvar WalletData = object6({\n  accounts: array2(Account),\n  personaData: array2(WalletDataPersonaData),\n  persona: optional5(Persona),\n  proofs: array2(SignedChallenge)\n});\nvar SharedData = object6({\n  persona: optional5(object6({ proof: boolean6() })),\n  ongoingAccounts: optional5(\n    object6({\n      numberOfAccounts: optional5(NumberOfValues),\n      proof: boolean6()\n    })\n  ),\n  ongoingPersonaData: optional5(PersonaDataRequestItem)\n});\nvar RdtState = object6({\n  loggedInTimestamp: string3(),\n  walletData: WalletData,\n  sharedData: SharedData\n});\nvar walletDataDefault = {\n  accounts: [],\n  personaData: [],\n  proofs: [],\n  persona: void 0\n};\n\n// src/modules/state/state.module.ts\nimport { err as err6, ok as ok7 } from \"neverthrow\";\nvar StateModule = (input) => {\n  const logger = input?.logger?.getSubLogger({ name: \"StateModule\" });\n  const storageModule = input.providers.storageModule;\n  const subscriptions = new Subscription();\n  const setState = (state) => storageModule.setState(state);\n  const getState = () => storageModule.getState().andThen(\n    (state) => state ? ok7(state) : err6(SdkError(\"StateNotFound\", \"\"))\n  );\n  const patchState = (state) => getState().andThen((oldState) => setState({ ...oldState, ...state }));\n  const defaultState = {\n    walletData: walletDataDefault,\n    loggedInTimestamp: \"\",\n    sharedData: {}\n  };\n  const resetState = () => storageModule.setState(defaultState).map(() => {\n    emitWalletData();\n  });\n  const initializeState = () => getState().mapErr(() => {\n    logger?.debug({\n      method: `initializeState.loadedCorruptedStateFromStorage`\n    });\n    resetState().map(() => {\n      emitWalletData();\n    });\n  }).map(() => {\n    emitWalletData();\n  });\n  initializeState();\n  const walletDataSubject = new BehaviorSubject2(\n    void 0\n  );\n  const emitWalletData = () => {\n    storageModule.getState().map((state) => {\n      walletDataSubject.next(state?.walletData);\n    });\n  };\n  const walletData$ = walletDataSubject.asObservable().pipe(filter((walletData) => !!walletData));\n  return {\n    setState,\n    patchState,\n    getState,\n    walletData$,\n    emitWalletData,\n    getWalletData: () => walletDataSubject.value,\n    reset: resetState,\n    storage$: storageModule.storage$,\n    destroy: () => {\n      subscriptions.unsubscribe();\n    }\n  };\n};\n\n// src/modules/wallet-request/data-request/transformations/wallet-to-rdt.ts\nvar withAccounts = (input) => (walletData) => {\n  let accounts2 = [];\n  if (input.discriminator === \"authorizedRequest\") {\n    const oneTimeAccounts = input.oneTimeAccounts?.accounts ?? [];\n    const ongoingAccounts = input.ongoingAccounts?.accounts ?? [];\n    accounts2 = [...oneTimeAccounts, ...ongoingAccounts];\n  } else if (input.discriminator === \"unauthorizedRequest\") {\n    const oneTimeAccounts = input.oneTimeAccounts?.accounts ?? [];\n    accounts2 = oneTimeAccounts;\n  }\n  return produce7(walletData, (draft) => {\n    draft.accounts = accounts2;\n  });\n};\nvar withPersonaDataEntries = (input) => {\n  const entries = [];\n  if (input.name) {\n    entries.push({\n      entry: \"fullName\",\n      fields: input.name\n    });\n  }\n  if (input.emailAddresses)\n    entries.push({\n      entry: \"emailAddresses\",\n      fields: input.emailAddresses\n    });\n  if (input.phoneNumbers)\n    entries.push({\n      entry: \"phoneNumbers\",\n      fields: input.phoneNumbers\n    });\n  return entries;\n};\nvar withPersonaData = (input) => (walletData) => produce7(walletData, (draft) => {\n  if (input.discriminator === \"authorizedRequest\") {\n    if (input.oneTimePersonaData)\n      draft.personaData = withPersonaDataEntries(input.oneTimePersonaData);\n    if (input.ongoingPersonaData)\n      draft.personaData = withPersonaDataEntries(input.ongoingPersonaData);\n  } else if (input.discriminator === \"unauthorizedRequest\" && input.oneTimePersonaData)\n    draft.personaData = withPersonaDataEntries(input.oneTimePersonaData);\n});\nvar withPersona = (input) => (walletData) => produce7(walletData, (draft) => {\n  if (input.discriminator === \"authorizedRequest\")\n    draft.persona = input.auth?.persona;\n});\nvar withProofs = (input) => (walletData) => produce7(walletData, (draft) => {\n  draft.proofs = [];\n  if (input.discriminator === \"authorizedRequest\") {\n    if (input.auth.discriminator === \"loginWithChallenge\")\n      draft.proofs.push({\n        challenge: input.auth.challenge,\n        proof: input.auth.proof,\n        address: input.auth.persona.identityAddress,\n        type: proofType.persona\n      });\n    if (input.ongoingAccounts?.challenge && input.ongoingAccounts.proofs?.length) {\n      const challenge = input.ongoingAccounts.challenge;\n      const accountProofs = input.ongoingAccounts.proofs.map(\n        ({ accountAddress, proof }) => ({\n          proof,\n          address: accountAddress,\n          challenge,\n          type: proofType.account\n        })\n      );\n      draft.proofs.push(...accountProofs);\n    }\n    if (input.oneTimeAccounts?.challenge && input.oneTimeAccounts.proofs?.length) {\n      const challenge = input.oneTimeAccounts.challenge;\n      const accountProofs = input.oneTimeAccounts.proofs.map(\n        ({ accountAddress, proof }) => ({\n          proof,\n          address: accountAddress,\n          challenge,\n          type: proofType.account\n        })\n      );\n      draft.proofs.push(...accountProofs);\n    }\n  }\n  if (input.discriminator === \"unauthorizedRequest\") {\n    if (input.oneTimeAccounts?.challenge && input.oneTimeAccounts.proofs?.length) {\n      const challenge = input.oneTimeAccounts.challenge;\n      const accountProofs = input.oneTimeAccounts.proofs.map(\n        ({ accountAddress, proof }) => ({\n          proof,\n          address: accountAddress,\n          challenge,\n          type: proofType.account\n        })\n      );\n      draft.proofs.push(...accountProofs);\n    }\n  }\n});\nvar transformWalletResponseToRdtWalletData = (response) => okAsync3({\n  accounts: [],\n  personaData: [],\n  proofs: [],\n  persona: void 0\n}).map(withAccounts(response)).map(withPersonaData(response)).map(withPersona(response)).map(withProofs(response));\n\n// src/modules/wallet-request/data-request/transformations/wallet-data-to-connect-button.ts\nvar transformWalletDataToConnectButton = (walletData) => {\n  const accounts2 = walletData.accounts ?? [];\n  const personaLabel = walletData?.persona?.label ?? \"\";\n  const connected = !!walletData?.persona;\n  const personaData2 = walletData?.personaData?.map((item) => {\n    if (item.entry === \"fullName\") {\n      const { variant: variant2, givenNames, familyName, nickname } = item.fields;\n      const value = variant2 === \"western\" ? `${givenNames}${nickname ? ` \"${nickname}\" ` : \" \"}${familyName}` : `${familyName}${nickname ? ` \"${nickname}\" ` : \" \"}${givenNames}`;\n      return {\n        value,\n        field: \"fullName\"\n      };\n    } else if (item.entry === \"emailAddresses\") {\n      return {\n        // currently only one email address is supported\n        value: item.fields[0],\n        field: \"emailAddress\"\n      };\n    } else if (item.entry === \"phoneNumbers\") {\n      return {\n        // currently only one phone number is supported\n        value: item.fields[0],\n        field: \"phoneNumber\"\n      };\n    }\n    return;\n  }).filter(\n    (item) => !!item && !!item.value?.trim()\n  );\n  return { accounts: accounts2, personaLabel, connected, personaData: personaData2 };\n};\n\n// src/modules/wallet-request/data-request/data-request-state.module.ts\nimport { BehaviorSubject as BehaviorSubject3 } from \"rxjs\";\nimport { produce as produce8 } from \"immer\";\nvar DataRequestStateModule = (initialState) => {\n  const state = new BehaviorSubject3(initialState);\n  const reset = () => state.next(initialState);\n  const update = (input) => state.next(input);\n  const getState = () => state.getValue();\n  const toDataRequestState = (...items) => items.filter((item) => typeof item._toObject === \"function\").reduce(\n    (acc, item) => ({\n      ...acc,\n      ...item._toObject()\n    }),\n    {}\n  );\n  const setState = (...items) => {\n    if (items.length === 0)\n      reset();\n    else {\n      update(toDataRequestState(...items));\n    }\n  };\n  const patchState = (...items) => {\n    if (items.length === 0)\n      return;\n    update({ ...getState(), ...toDataRequestState(...items) });\n  };\n  const removeState = (...keys) => {\n    update(\n      produce8(getState(), (draft) => {\n        keys.forEach((key) => {\n          delete draft[key];\n        });\n      })\n    );\n  };\n  return {\n    reset,\n    setState,\n    getState,\n    patchState,\n    removeState,\n    toDataRequestState,\n    state$: state.asObservable()\n  };\n};\n\n// src/modules/wallet-request/identity/identity.module.ts\nimport { err as err7, ok as ok8, okAsync as okAsync4 } from \"neverthrow\";\n\n// src/modules/wallet-request/crypto/create-signature-message.ts\nimport { Buffer as Buffer5 } from \"buffer\";\nvar createSignatureMessage = ({\n  interactionId,\n  dAppDefinitionAddress,\n  origin,\n  logger\n}) => {\n  const prefix = \"C\";\n  const prefixBuffer = Buffer5.from(\"C\", \"ascii\");\n  const lengthOfDappDefAddress = dAppDefinitionAddress.length;\n  const lengthOfDappDefAddressBuffer = Buffer5.from(\n    lengthOfDappDefAddress.toString(16),\n    \"hex\"\n  );\n  const dappDefAddressBuffer = Buffer5.from(dAppDefinitionAddress, \"utf-8\");\n  const originBuffer = Buffer5.from(origin, \"utf-8\");\n  const interactionIdBuffer = Buffer5.from(interactionId, \"utf-8\");\n  const messageBuffer = Buffer5.concat([\n    prefixBuffer,\n    interactionIdBuffer,\n    lengthOfDappDefAddressBuffer,\n    dappDefAddressBuffer,\n    originBuffer\n  ]);\n  const blake2bHash = blake2b(messageBuffer).map((hash2) => {\n    logger?.debug({\n      method: \"createSignatureMessage\",\n      messagePartsRaw: [\n        prefix,\n        interactionId,\n        lengthOfDappDefAddress,\n        dAppDefinitionAddress,\n        origin\n      ],\n      messageParts: [\n        prefixBuffer.toString(\"hex\"),\n        interactionIdBuffer.toString(\"hex\"),\n        lengthOfDappDefAddressBuffer.toString(\"hex\"),\n        dappDefAddressBuffer.toString(\"hex\"),\n        originBuffer.toString(\"hex\")\n      ],\n      message: messageBuffer.toString(\"hex\"),\n      blake2bHash: hash2.toString(\"hex\")\n    });\n    return Buffer5.from(hash2).toString(\"hex\");\n  }).mapErr((jsError) => ({ reason: \"couldNotHashMessage\", jsError }));\n  return blake2bHash;\n};\n\n// src/modules/wallet-request/identity/identity.module.ts\nvar IdentityKind = {\n  dApp: \"dApp\"\n};\nvar IdentityModule = (input) => {\n  const { storageModule, KeyPairModule } = input.providers;\n  const keyPairFromSecret = (input2) => ok8(KeyPairModule(input2));\n  const getIdentity = (kind) => storageModule.getItemById(kind).andThen(\n    (identity) => identity ? keyPairFromSecret(identity.secret) : okAsync4(void 0)\n  );\n  const createIdentity = (kind) => ok8(KeyPairModule()).asyncAndThen(\n    (keyPair) => storageModule.setItems({\n      [kind]: {\n        secret: keyPair.getPrivateKey(),\n        createdAt: Date.now()\n      }\n    }).map(() => keyPair)\n  );\n  const getOrCreateIdentity = (kind) => getIdentity(kind).andThen((keyPair) => keyPair ? okAsync4(keyPair) : createIdentity(kind)).mapErr((error) => ({\n    reason: \"couldNotGetOrCreateIdentity\",\n    jsError: error\n  }));\n  const deriveSharedSecret = (kind, publicKey) => getIdentity(kind).mapErr(() => ({ reason: \"couldNotDeriveSharedSecret\" })).andThen(\n    (identity) => identity ? identity.x25519.calculateSharedSecret(publicKey, input.dAppDefinitionAddress).mapErr(() => ({\n      reason: \"FailedToDeriveSharedSecret\"\n    })) : err7({ reason: \"DappIdentityNotFound\" })\n  );\n  const createSignature = ({\n    kind,\n    interactionId,\n    dAppDefinitionAddress,\n    origin\n  }) => getOrCreateIdentity(kind).andThen(\n    (identity) => createSignatureMessage({\n      interactionId,\n      dAppDefinitionAddress,\n      origin,\n      logger: input.logger\n    }).andThen(\n      (message) => identity.ed25519.sign(message).map((signature) => ({\n        signature,\n        publicKey: identity.x25519.getPublicKey(),\n        identity: identity.ed25519.getPublicKey()\n      })).mapErr((error) => ({\n        reason: \"couldNotSignMessage\",\n        jsError: error\n      }))\n    )\n  );\n  return {\n    get: (kind) => getOrCreateIdentity(kind),\n    deriveSharedSecret,\n    createSignature\n  };\n};\n\n// ../common/src/index.ts\nvar RequestStatus = {\n  pending: \"pending\",\n  success: \"success\",\n  fail: \"fail\",\n  cancelled: \"cancelled\",\n  ignored: \"ignored\"\n};\n\n// src/modules/wallet-request/request-items/request-item.module.ts\nimport { Subscription as Subscription2, filter as filter2, map as map2, switchMap as switchMap2 } from \"rxjs\";\nimport { errAsync as errAsync3 } from \"neverthrow\";\nvar RequestItemModule = (input) => {\n  const logger = input?.logger?.getSubLogger({ name: \"RequestItemModule\" });\n  const subscriptions = new Subscription2();\n  const storageModule = input.providers.storageModule;\n  const createItem = ({\n    type,\n    walletInteraction,\n    isOneTimeRequest\n  }) => ({\n    type,\n    status: \"pending\",\n    createdAt: Date.now(),\n    interactionId: walletInteraction.interactionId,\n    showCancel: true,\n    walletInteraction,\n    isOneTimeRequest\n  });\n  const add = (value) => {\n    const item = createItem(value);\n    logger?.debug({\n      method: \"addRequestItem\",\n      item\n    });\n    return storageModule.setItems({ [item.interactionId]: item }).map(() => item);\n  };\n  const patch = (id, partialValue) => {\n    logger?.debug({\n      method: \"patchRequestItemStatus\",\n      item: { id, ...partialValue }\n    });\n    return storageModule.patchItem(id, partialValue);\n  };\n  const cancel = (id) => {\n    logger?.debug({ method: \"cancelRequestItem\", id });\n    return patch(id, { status: \"fail\", error: ErrorType.canceledByUser });\n  };\n  const updateStatus = ({\n    id,\n    status,\n    error,\n    transactionIntentHash\n  }) => {\n    return storageModule.getItemById(id).mapErr(() => ({ reason: \"couldNotReadFromStore\" })).andThen((item) => {\n      if (item) {\n        const updated = {\n          ...item,\n          status: item.status === RequestStatus.ignored ? item.status : status\n        };\n        if (updated.status === \"fail\") {\n          updated.error = error;\n        }\n        if (updated.status === \"success\" && updated.type === \"sendTransaction\") {\n          updated.transactionIntentHash = transactionIntentHash;\n        }\n        if ([\"success\", \"fail\", \"ignored\", \"cancelled\"].includes(updated.status)) {\n          delete updated.walletInteraction;\n          delete updated.walletResponse;\n        }\n        logger?.debug({ method: \"updateRequestItemStatus\", updated });\n        return storageModule.setItems({ [id]: updated }).mapErr(() => ({ reason: \"couldNotWriteToStore\" }));\n      }\n      return errAsync3({ reason: \"itemNotFound\" });\n    });\n  };\n  const getPending = () => storageModule.getItemList().map((items) => items.filter((item) => item.status === \"pending\"));\n  const requests$ = storageModule.storage$.pipe(\n    switchMap2(() => storageModule.getItemList()),\n    map2((result) => {\n      if (result.isOk())\n        return result.value;\n    }),\n    filter2((items) => !!items)\n  );\n  return {\n    add,\n    cancel,\n    updateStatus,\n    patch,\n    getById: (id) => storageModule.getItemById(id),\n    getPending,\n    requests$,\n    clear: storageModule.clear,\n    destroy: () => {\n      subscriptions.unsubscribe();\n    }\n  };\n};\n\n// src/modules/wallet-request/session/session.module.ts\nimport { okAsync as okAsync5 } from \"neverthrow\";\nimport { v4 as uuidV4 } from \"uuid\";\nvar SessionModule = (input) => {\n  const storageModule = input.providers.storageModule;\n  const getSession = () => storageModule.getItemList().mapErr((error) => ({\n    reason: \"couldNotReadSessionFromStore\",\n    jsError: error\n  })).map((sessions) => sessions[0]);\n  const getSessionById = (sessionId) => storageModule.getItemById(sessionId).mapErr((error) => ({ reason: \"couldNotGetSessionById\", jsError: error }));\n  const createSession = () => {\n    const sessionId = uuidV4();\n    const newSession = {\n      sessionId,\n      createdAt: Date.now()\n    };\n    return storageModule.setItems({ [sessionId]: newSession }).map(() => newSession).mapErr((error) => ({ reason: \"couldNotCreateSession\", jsError: error }));\n  };\n  const patchSession = (sessionId, value) => storageModule.patchItem(sessionId, value).mapErr((error) => ({ reason: \"couldNotPatchSession\", jsError: error }));\n  const getCurrentSession = () => getSession().andThen(\n    (session) => session ? okAsync5(session) : createSession()\n  );\n  return {\n    getCurrentSession,\n    getSession,\n    store: storageModule,\n    getSessionById,\n    patchSession\n  };\n};\n\n// src/modules/wallet-request/transport/connector-extension/subjects.ts\nimport { Subject as Subject3 } from \"rxjs\";\nvar ConnectorExtensionSubjects = () => ({\n  outgoingMessageSubject: new Subject3(),\n  incomingMessageSubject: new Subject3(),\n  responseSubject: new Subject3(),\n  messageLifeCycleEventSubject: new Subject3()\n});\n\n// src/modules/wallet-request/transport/connector-extension/connector-extension.module.ts\nimport { ResultAsync as ResultAsync6, err as err8, ok as ok9, okAsync as okAsync6 } from \"neverthrow\";\nimport {\n  Subject as Subject4,\n  Subscription as Subscription3,\n  filter as filter3,\n  first,\n  firstValueFrom as firstValueFrom2,\n  map as map3,\n  merge as merge3,\n  mergeMap,\n  of as of2,\n  race,\n  share,\n  shareReplay,\n  switchMap as switchMap3,\n  takeUntil,\n  tap,\n  timer as timer2\n} from \"rxjs\";\nimport { v4 as uuidV42 } from \"uuid\";\nvar ConnectorExtensionModule = (input) => {\n  let isExtensionHandlingSessions = false;\n  const logger = input?.logger?.getSubLogger({\n    name: \"ConnectorExtensionModule\"\n  });\n  const subjects = input?.subjects ?? ConnectorExtensionSubjects();\n  const subscription = new Subscription3();\n  const extensionDetectionTime = input?.extensionDetectionTime ?? 100;\n  const requestItemModule = input.providers.requestItemModule;\n  const storage = input.providers.storageModule.getPartition(\"connectorExtension\");\n  subscription.add(\n    subjects.incomingMessageSubject.pipe(\n      tap((message) => {\n        logger?.debug({\n          method: \"incomingMessageSubject\",\n          message\n        });\n        if (\"eventType\" in message) {\n          subjects.messageLifeCycleEventSubject.next(message);\n        } else {\n          subjects.responseSubject.next(message);\n        }\n      })\n    ).subscribe()\n  );\n  subscription.add(\n    subjects.outgoingMessageSubject.pipe(\n      tap((payload) => {\n        logger?.debug({\n          method: \"outgoingMessageSubject\",\n          payload\n        });\n        window.dispatchEvent(\n          new CustomEvent(eventType.outgoingMessage, {\n            detail: payload\n          })\n        );\n      })\n    ).subscribe()\n  );\n  const wrapOutgoingInteraction = (interaction) => {\n    if (!isExtensionHandlingSessions) {\n      return okAsync6(interaction);\n    }\n    return storage.getState().andThen((state) => {\n      const isAuthorizedRequest = interaction.items.discriminator === \"authorizedRequest\";\n      const sessionId = isAuthorizedRequest ? state?.sessionId || uuidV42() : state?.sessionId;\n      const wrappedRequest = {\n        interactionId: interaction.interactionId,\n        interaction,\n        sessionId,\n        discriminator: \"walletInteraction\"\n      };\n      return isAuthorizedRequest ? storage.setState({ sessionId }).map(() => wrappedRequest) : okAsync6(wrappedRequest);\n    });\n  };\n  const handleIncomingMessage = (event) => {\n    const message = event.detail;\n    subjects.incomingMessageSubject.next(message);\n  };\n  addEventListener(eventType.incomingMessage, handleIncomingMessage);\n  const sendWalletInteraction = (walletInteraction, callbackFns) => {\n    const cancelRequestSubject = new Subject4();\n    const walletResponse$ = subjects.responseSubject.pipe(\n      filter3(\n        (response) => response.interactionId === walletInteraction.interactionId\n      ),\n      mergeMap(\n        (walletResponse) => requestItemModule.patch(walletResponse.interactionId, {\n          walletResponse\n        }).mapErr(\n          () => SdkError(\"requestItemPatchError\", walletResponse.interactionId)\n        ).map(() => walletResponse)\n      )\n    );\n    const cancelResponse$ = subjects.messageLifeCycleEventSubject.pipe(\n      filter3(\n        ({ interactionId, eventType: eventType2 }) => walletInteraction.interactionId === interactionId && [\"requestCancelSuccess\", \"requestCancelFail\"].includes(eventType2)\n      ),\n      map3((message) => {\n        const error = SdkError(\"canceledByUser\", message.interactionId);\n        logger?.debug(`\\u{1F535}\\u2B06\\uFE0F\\u274C walletRequestCanceled`, error);\n        return message;\n      })\n    );\n    const sendCancelRequest = () => {\n      subjects.outgoingMessageSubject.next({\n        interactionId: walletInteraction.interactionId,\n        metadata: walletInteraction.metadata,\n        ...isExtensionHandlingSessions ? { discriminator: \"cancelWalletInteraction\" } : { items: { discriminator: \"cancelRequest\" } }\n      });\n      setTimeout(() => {\n        cancelRequestSubject.next(\n          err8(SdkError(\"canceledByUser\", walletInteraction.interactionId))\n        );\n      });\n      return ResultAsync6.fromSafePromise(\n        firstValueFrom2(\n          merge3(\n            walletResponse$.pipe(map3(() => \"requestCancelFail\")),\n            cancelResponse$.pipe(map3(({ eventType: eventType2 }) => eventType2))\n          )\n        )\n      );\n    };\n    if (callbackFns.requestControl)\n      callbackFns.requestControl({\n        cancelRequest: () => sendCancelRequest().andThen(\n          (eventType2) => eventType2 === \"requestCancelSuccess\" ? ok9(\"requestCancelSuccess\") : err8(\"requestCancelFail\")\n        ),\n        getRequest: () => walletInteraction\n      });\n    const walletResponseOrCancelRequest$ = merge3(\n      walletResponse$,\n      cancelRequestSubject\n    ).pipe(first());\n    const messageLifeCycleEvent$ = subjects.messageLifeCycleEventSubject.pipe(\n      filter3(\n        ({ interactionId }) => walletInteraction.interactionId === interactionId\n      ),\n      tap((event) => {\n        if (callbackFns.eventCallback)\n          callbackFns.eventCallback(event.eventType);\n      }),\n      takeUntil(walletResponse$),\n      share()\n    );\n    const messageEventSubscription = messageLifeCycleEvent$.subscribe();\n    const missingExtensionError$ = timer2(extensionDetectionTime).pipe(\n      map3(\n        () => err8(SdkError(\"missingExtension\", walletInteraction.interactionId))\n      )\n    );\n    const extensionMissingError$ = merge3(\n      missingExtensionError$,\n      messageLifeCycleEvent$\n    ).pipe(\n      first(),\n      filter3((value) => !(\"eventType\" in value))\n    );\n    const sendWalletRequest$ = of2(\n      wrapOutgoingInteraction(walletInteraction)\n    ).pipe(\n      tap((result) => {\n        result.map((message) => {\n          subjects.outgoingMessageSubject.next(message);\n        });\n      }),\n      filter3((_) => false)\n    );\n    return unwrapObservable(\n      merge3(\n        walletResponseOrCancelRequest$,\n        extensionMissingError$,\n        sendWalletRequest$\n      ).pipe(\n        tap(() => {\n          messageEventSubscription.unsubscribe();\n        })\n      )\n    );\n  };\n  const extensionStatusEvent$ = subjects.messageLifeCycleEventSubject.pipe(\n    filter3(\n      (event) => event.eventType === \"extensionStatus\"\n    )\n  );\n  const extensionStatus$ = of2(true).pipe(\n    tap(() => {\n      subjects.outgoingMessageSubject.next({\n        interactionId: uuidV42(),\n        discriminator: \"extensionStatus\"\n      });\n    }),\n    switchMap3(\n      () => race(\n        extensionStatusEvent$,\n        merge3(\n          extensionStatusEvent$,\n          timer2(extensionDetectionTime).pipe(\n            map3(\n              () => ({\n                eventType: \"extensionStatus\",\n                isWalletLinked: false,\n                isExtensionAvailable: false,\n                canHandleSessions: false\n              })\n            )\n          )\n        )\n      )\n    ),\n    tap((event) => {\n      isExtensionHandlingSessions = event.canHandleSessions || false;\n    }),\n    shareReplay(1)\n  );\n  return {\n    id: \"connector-extension\",\n    isSupported: () => !isMobile(),\n    send: sendWalletInteraction,\n    isAvailable$: extensionStatus$.pipe(\n      map3(({ isExtensionAvailable }) => isExtensionAvailable)\n    ),\n    isLinked$: extensionStatus$.pipe(\n      map3(({ isWalletLinked }) => isWalletLinked)\n    ),\n    showQrCode: () => {\n      window.dispatchEvent(\n        new CustomEvent(eventType.outgoingMessage, {\n          detail: { discriminator: \"openPopup\" }\n        })\n      );\n    },\n    disconnect: () => {\n      storage.clear();\n    },\n    destroy: () => {\n      subscription.unsubscribe();\n      removeEventListener(eventType.incomingMessage, handleIncomingMessage);\n    }\n  };\n};\n\n// src/modules/wallet-request/transport/radix-connect-relay/deep-link.module.ts\nimport { errAsync as errAsync4, okAsync as okAsync7 } from \"neverthrow\";\nimport Bowser2 from \"bowser\";\nvar DeepLinkModule = (input) => {\n  const { walletUrl } = input;\n  const userAgent = Bowser2.parse(window.navigator.userAgent);\n  const { platform } = userAgent;\n  const logger = input?.logger?.getSubLogger({ name: \"DeepLinkModule\" });\n  logger?.debug({\n    platform,\n    userAgent: window.navigator.userAgent,\n    userAgentParsed: userAgent\n  });\n  const deepLinkToWallet = (values) => {\n    const outboundUrl = new URL(walletUrl);\n    Object.entries(values).forEach(([key, value]) => {\n      outboundUrl.searchParams.append(key, value);\n    });\n    logger?.debug({\n      method: \"deepLinkToWallet\",\n      data: { ...values }\n    });\n    if (platform.type === \"mobile\" && globalThis.location?.href) {\n      globalThis.location.href = outboundUrl.toString();\n      return okAsync7(void 0);\n    }\n    return errAsync4(SdkError(\"UnhandledEnvironment\", \"\"));\n  };\n  return {\n    deepLinkToWallet\n  };\n};\n\n// src/modules/wallet-request/transport/radix-connect-relay/radix-connect-relay.module.ts\nimport { ResultAsync as ResultAsync8, err as err10, errAsync as errAsync5, ok as ok11 } from \"neverthrow\";\nimport { Subscription as Subscription4 } from \"rxjs\";\n\n// src/modules/wallet-request/encryption/helpers/buffer-reader.ts\nimport { err as err9, ok as ok10 } from \"neverthrow\";\nimport { Buffer as Buffer6 } from \"buffer\";\nvar createBufferReader = (buffer) => {\n  let offset = 0;\n  let bytesLeftToRead = buffer.length;\n  const readNextBuffer = (byteCount) => {\n    if (byteCount < 0)\n      return err9(Error(`'byteCount' must not be negative`));\n    if (byteCount === 0) {\n      return ok10(Buffer6.alloc(0));\n    }\n    if (offset + byteCount > buffer.length)\n      return err9(Error(`Out of buffer's boundary`));\n    const bufToReturn = Buffer6.alloc(byteCount);\n    buffer.copy(bufToReturn, 0, offset, offset + byteCount);\n    if (bufToReturn.length !== byteCount) {\n      return err9(Error(`Incorrect length of newly read buffer...`));\n    }\n    offset += byteCount;\n    bytesLeftToRead -= byteCount;\n    return ok10(bufToReturn);\n  };\n  const finishedParsing = () => {\n    if (bytesLeftToRead < 0) {\n      return err9(Error(`Incorrect implementation, read too many bytes.`));\n    }\n    return ok10(bytesLeftToRead === 0);\n  };\n  return {\n    readNextBuffer,\n    finishedParsing,\n    remainingBytes: () => finishedParsing().andThen((finished) => {\n      if (finished)\n        return ok10(Buffer6.alloc(0));\n      const leftBuf = Buffer6.alloc(bytesLeftToRead);\n      buffer.copy(leftBuf, 0, offset);\n      return ok10(leftBuf);\n    })\n  };\n};\nvar readBuffer = (buffer) => createBufferReader(buffer).readNextBuffer;\n\n// src/modules/wallet-request/encryption/helpers/sealbox.ts\nimport { Buffer as Buffer7 } from \"buffer\";\nimport { Result as Result5 } from \"neverthrow\";\nvar combineSealboxToBuffer = ({\n  iv,\n  ciphertext,\n  authTag\n}) => Buffer7.concat([iv, ciphertext, authTag]);\nvar combineCiphertextAndAuthtag = ({\n  ciphertext,\n  authTag\n}) => Buffer7.concat([ciphertext, authTag]);\nvar transformBufferToSealbox = (buffer) => {\n  const readNextBuffer = readBuffer(buffer);\n  const nonceLength = 12;\n  const authTagLength = 16;\n  return Result5.combine([\n    readNextBuffer(nonceLength),\n    readNextBuffer(buffer.length - nonceLength - authTagLength),\n    readNextBuffer(authTagLength)\n  ]).map(([iv, ciphertext, authTag]) => ({\n    iv,\n    ciphertext,\n    authTag,\n    combined: combineSealboxToBuffer({ iv, ciphertext, authTag }),\n    ciphertextAndAuthTag: combineCiphertextAndAuthtag({\n      ciphertext,\n      authTag\n    })\n  }));\n};\n\n// src/modules/wallet-request/encryption/encryption.module.ts\nimport { ResultAsync as ResultAsync7 } from \"neverthrow\";\nimport { Buffer as Buffer8 } from \"buffer\";\nvar EncryptionModule = () => {\n  const cryptoDecrypt = (data, encryptionKey, iv) => ResultAsync7.fromPromise(\n    crypto.subtle.decrypt({ name: \"AES-GCM\", iv }, encryptionKey, data),\n    typedError\n  ).map(Buffer8.from);\n  const cryptoEncrypt = (data, encryptionKey, iv) => ResultAsync7.fromPromise(\n    crypto.subtle.encrypt(\n      {\n        name: \"AES-GCM\",\n        iv\n      },\n      encryptionKey,\n      data\n    ),\n    typedError\n  ).map(Buffer8.from);\n  const getKey = (encryptionKey) => ResultAsync7.fromPromise(\n    crypto.subtle.importKey(\n      \"raw\",\n      encryptionKey,\n      {\n        name: \"AES-GCM\",\n        length: 256\n      },\n      false,\n      [\"encrypt\", \"decrypt\"]\n    ),\n    typedError\n  );\n  const combineIVandCipherText = (iv, ciphertext) => Buffer8.concat([iv, ciphertext]);\n  const decrypt = (data, encryptionKey, iv) => getKey(encryptionKey).andThen(\n    (cryptoKey) => cryptoDecrypt(data, cryptoKey, iv)\n  );\n  const encrypt = (data, encryptionKey, iv = createIV()) => getKey(encryptionKey).andThen((cryptoKey) => cryptoEncrypt(data, cryptoKey, iv)).map((ciphertext) => ({\n    combined: combineIVandCipherText(iv, ciphertext),\n    iv,\n    ciphertext\n  }));\n  const createIV = () => Buffer8.from(crypto.getRandomValues(new Uint8Array(12)));\n  return { encrypt, decrypt, createIV };\n};\n\n// src/modules/wallet-request/transport/radix-connect-relay/radix-connect-relay-api.service.ts\nvar RadixConnectRelayApiService = (input) => {\n  const baseUrl = input.baseUrl;\n  const logger = input.logger?.getSubLogger({ name: \"RadixConnectRelayApi\" });\n  const callApi = (body) => {\n    logger?.debug({ method: `callApi.${body.method}`, body });\n    return fetchWrapper(\n      fetch(baseUrl, {\n        method: \"POST\",\n        body: JSON.stringify(body)\n      })\n    ).map((response) => {\n      logger?.debug({\n        method: `callApi.${body.method}.success`,\n        response\n      });\n      return response;\n    }).mapErr((error) => {\n      logger?.debug({\n        method: `callApi.${body.method}.error`,\n        error\n      });\n      return SdkError(\n        \"RadixConnectRelayRequestFailed\",\n        body.interactionId ?? \"\"\n      );\n    });\n  };\n  const getResponses = (sessionId) => callApi({\n    method: \"getResponses\",\n    sessionId\n  }).map((value) => value.data);\n  return {\n    getResponses\n  };\n};\n\n// src/modules/wallet-request/transport/radix-connect-relay/helpers/base64url.ts\nimport base64url from \"base64url\";\nvar base64urlEncode = (value) => base64url.encode(Buffer.from(JSON.stringify(value)));\n\n// src/modules/wallet-request/transport/radix-connect-relay/radix-connect-relay.module.ts\nvar RadixConnectRelayModule = (input) => {\n  const logger = input.logger?.getSubLogger({ name: \"RadixConnectRelayModule\" });\n  const { baseUrl, providers, walletUrl } = input;\n  const { requestItemModule, storageModule } = providers;\n  const encryptionModule = providers?.encryptionModule ?? EncryptionModule();\n  const deepLinkModule = providers?.deepLinkModule ?? DeepLinkModule({\n    logger,\n    walletUrl\n  });\n  const identityModule = providers?.identityModule ?? IdentityModule({\n    logger,\n    dAppDefinitionAddress: input.dAppDefinitionAddress,\n    providers: {\n      storageModule: storageModule.getPartition(\"identities\"),\n      KeyPairModule: Curve25519\n    }\n  });\n  const sessionModule = providers?.sessionModule ?? SessionModule({\n    providers: {\n      storageModule: storageModule.getPartition(\"sessions\")\n    }\n  });\n  const radixConnectRelayApiService = RadixConnectRelayApiService({\n    baseUrl: `${baseUrl}/api/v1`,\n    logger\n  });\n  const subscriptions = new Subscription4();\n  const sendWalletInteractionRequest = ({\n    session,\n    walletInteraction,\n    signature,\n    publicKey,\n    identity\n  }) => requestItemModule.getById(walletInteraction.interactionId).mapErr(\n    () => SdkError(\"FailedToGetPendingItems\", walletInteraction.interactionId)\n  ).andThen(\n    (pendingItem) => pendingItem ? ok11(pendingItem) : err10(\n      SdkError(\"PendingItemNotFound\", walletInteraction.interactionId)\n    )\n  ).andThen(\n    () => requestItemModule.patch(walletInteraction.interactionId, { sentToWallet: true }).andThen(\n      () => deepLinkModule.deepLinkToWallet({\n        sessionId: session.sessionId,\n        request: base64urlEncode(walletInteraction),\n        signature,\n        publicKey,\n        identity,\n        origin: walletInteraction.metadata.origin,\n        dAppDefinitionAddress: walletInteraction.metadata.dAppDefinitionAddress\n      })\n    )\n  ).mapErr(\n    () => SdkError(\"FailedToSendDappRequest\", walletInteraction.interactionId)\n  );\n  const sendToWallet = (walletInteraction, callbackFns) => ResultAsync8.combine([\n    sessionModule.getCurrentSession().mapErr(\n      (error) => SdkError(error.reason, walletInteraction.interactionId)\n    ),\n    identityModule.get(\"dApp\").mapErr(\n      (error) => SdkError(error.reason, walletInteraction.interactionId)\n    )\n  ]).andThen(\n    ([session, dAppIdentity]) => identityModule.createSignature({\n      dAppDefinitionAddress: walletInteraction.metadata.dAppDefinitionAddress,\n      interactionId: walletInteraction.interactionId,\n      origin: walletInteraction.metadata.origin,\n      kind: \"dApp\"\n    }).mapErr(\n      (error) => SdkError(error.reason, walletInteraction.interactionId)\n    ).andThen(\n      ({ signature }) => sendWalletInteractionRequest({\n        session,\n        walletInteraction,\n        signature,\n        identity: dAppIdentity.ed25519.getPublicKey(),\n        publicKey: dAppIdentity.x25519.getPublicKey()\n      })\n    ).andThen(\n      () => waitForWalletResponse({\n        session,\n        interactionId: walletInteraction.interactionId,\n        dAppIdentity\n      })\n    )\n  );\n  const decryptWalletResponseData = (sharedSecretHex, value) => transformBufferToSealbox(Buffer.from(value, \"hex\")).asyncAndThen(\n    ({ ciphertextAndAuthTag, iv }) => encryptionModule.decrypt(\n      ciphertextAndAuthTag,\n      Buffer.from(sharedSecretHex, \"hex\"),\n      iv\n    )\n  ).andThen(\n    (decrypted) => parseJSON(decrypted.toString(\"utf-8\"))\n  ).mapErr((error) => ({\n    reason: \"FailedToDecryptWalletResponseData\",\n    jsError: error\n  }));\n  const waitForWalletResponse = ({\n    session,\n    interactionId,\n    dAppIdentity\n  }) => ResultAsync8.fromPromise(\n    new Promise(async (resolve, reject) => {\n      let response;\n      let error;\n      let retry = 0;\n      const wait = (timer4 = 1500) => new Promise((resolve2) => setTimeout(resolve2, timer4));\n      logger?.debug({\n        method: \"waitForWalletResponse\",\n        sessionId: session.sessionId,\n        interactionId\n      });\n      const getEncryptedWalletResponses = () => radixConnectRelayApiService.getResponses(session.sessionId);\n      const decryptWalletResponse = (walletResponse) => {\n        if (\"error\" in walletResponse) {\n          return errAsync5({ reason: walletResponse.error });\n        }\n        return dAppIdentity.x25519.calculateSharedSecret(\n          walletResponse.publicKey,\n          input.dAppDefinitionAddress\n        ).mapErr(() => ({ reason: \"FailedToDeriveSharedSecret\" })).asyncAndThen(\n          (sharedSecret) => decryptWalletResponseData(sharedSecret, walletResponse.data)\n        );\n      };\n      while (!response) {\n        const requestItemResult = await requestItemModule.getById(interactionId);\n        if (requestItemResult.isOk()) {\n          logger?.trace({\n            method: \"waitForWalletResponse.requestItemResult\",\n            requestItemResult: requestItemResult.value\n          });\n          if (requestItemResult.value?.status !== \"pending\") {\n            error = SdkError(\n              \"RequestItemNotPending\",\n              interactionId,\n              \"request not in pending state\"\n            );\n            break;\n          }\n        }\n        const encryptedWalletResponsesResult = await getEncryptedWalletResponses();\n        if (encryptedWalletResponsesResult.isOk()) {\n          const encryptedWalletResponses = encryptedWalletResponsesResult.value;\n          for (const encryptedWalletResponse of encryptedWalletResponses) {\n            const walletResponseResult = await decryptWalletResponse(\n              encryptedWalletResponse\n            );\n            if (walletResponseResult.isErr())\n              logger?.error({\n                method: \"waitForWalletResponse.decryptWalletResponse.error\",\n                error: walletResponseResult.error,\n                sessionId: session.sessionId,\n                interactionId\n              });\n            if (walletResponseResult.isOk()) {\n              const walletResponse = walletResponseResult.value;\n              if (walletResponse.interactionId === interactionId) {\n                response = walletResponse;\n                await requestItemModule.patch(walletResponse.interactionId, {\n                  walletResponse\n                });\n              }\n            }\n          }\n        }\n        if (!response) {\n          retry += 1;\n          await wait();\n        }\n      }\n      return response ? resolve(response) : reject(error);\n    }),\n    (err15) => err15\n  );\n  return {\n    id: \"radix-connect-relay\",\n    isSupported: () => isMobile(),\n    send: sendToWallet,\n    disconnect: () => {\n    },\n    destroy: () => {\n      subscriptions.unsubscribe();\n    }\n  };\n};\n\n// src/modules/wallet-request/wallet-request-sdk.ts\nimport { ResultAsync as ResultAsync9, err as err11, ok as ok12 } from \"neverthrow\";\nimport { parse as parse2 } from \"valibot\";\nimport { v4 as uuidV43 } from \"uuid\";\nvar WalletRequestSdk = (input) => {\n  const metadata = {\n    version: 2,\n    dAppDefinitionAddress: input.dAppDefinitionAddress,\n    networkId: input.networkId,\n    origin: input.origin || window.location.origin\n  };\n  parse2(Metadata, metadata);\n  const logger = input?.logger?.getSubLogger({ name: \"WalletSdk\" });\n  const availableTransports = input.providers.transports;\n  const requestInterceptorDefault = async (walletInteraction) => walletInteraction;\n  const requestInterceptor = input.requestInterceptor ?? requestInterceptorDefault;\n  logger?.debug({ metadata });\n  const createWalletInteraction = (items, interactionId = uuidV43()) => ({\n    items,\n    interactionId,\n    metadata\n  });\n  const withInterceptor = (payload) => ResultAsync9.fromPromise(\n    requestInterceptor(payload),\n    (error) => SdkError(\"requestInterceptorError\", payload.interactionId, error.message)\n  );\n  const getTransport = (interactionId) => {\n    const transport = availableTransports.find(\n      (transport2) => transport2.isSupported()\n    );\n    return transport ? ok12(transport) : err11({\n      error: \"SupportedTransportNotFound\",\n      interactionId,\n      message: \"No supported transport found\"\n    });\n  };\n  const request = ({\n    interactionId = uuidV43(),\n    items\n  }, callbackFns = {}) => withInterceptor({\n    items,\n    interactionId,\n    metadata\n  }).andThen(\n    (walletInteraction) => getTransport(walletInteraction.interactionId).asyncAndThen(\n      (transport) => transport.send(walletInteraction, callbackFns).andThen(validateWalletResponse)\n    )\n  );\n  const sendTransaction = ({\n    interactionId = uuidV43(),\n    items\n  }, callbackFns = {}) => withInterceptor({\n    interactionId,\n    items,\n    metadata\n  }).andThen(\n    (walletInteraction) => getTransport(interactionId).asyncAndThen(\n      (transport) => transport.send(walletInteraction, callbackFns).andThen(validateWalletResponse)\n    )\n  );\n  return {\n    request,\n    sendTransaction,\n    createWalletInteraction,\n    getTransport\n  };\n};\n\n// src/modules/wallet-request/wallet-request.ts\nimport {\n  Subject as Subject5,\n  Subscription as Subscription5,\n  filter as filter5,\n  firstValueFrom as firstValueFrom4,\n  map as map4,\n  mergeMap as mergeMap2,\n  switchMap as switchMap5,\n  tap as tap2\n} from \"rxjs\";\n\n// src/modules/gateway/types.ts\nvar TransactionStatus = {\n  Unknown: \"Unknown\",\n  CommittedSuccess: \"CommittedSuccess\",\n  CommittedFailure: \"CommittedFailure\",\n  Pending: \"Pending\",\n  Rejected: \"Rejected\"\n};\nvar RadixNetwork = {\n  Mainnet: 1,\n  Stokenet: 2,\n  Gilganet: 32,\n  Enkinet: 33,\n  Hammunet: 34,\n  Nergalnet: 35,\n  Mardunet: 36,\n  Dumunet: 37\n};\nvar RadixNetworkConfig = {\n  Mainnet: {\n    networkName: \"Mainnet\",\n    networkId: RadixNetwork.Mainnet,\n    gatewayUrl: \"https://mainnet.radixdlt.com\",\n    dashboardUrl: \"https://dashboard.radixdlt.com\"\n  },\n  Stokenet: {\n    networkName: \"Stokenet\",\n    networkId: RadixNetwork.Stokenet,\n    gatewayUrl: \"https://babylon-stokenet-gateway.radixdlt.com\",\n    dashboardUrl: \"https://stokenet-dashboard.radixdlt.com\"\n  },\n  Mardunet: {\n    networkName: \"Mardunet\",\n    networkId: RadixNetwork.Mardunet,\n    gatewayUrl: \"https://mardunet-gateway.radixdlt.com\",\n    dashboardUrl: \"https://mardunet-dashboard.rdx-works-main.extratools.works\"\n  },\n  Gilganet: {\n    networkName: \"Gilganet\",\n    networkId: RadixNetwork.Gilganet,\n    gatewayUrl: \"https://gilganet-gateway.radixdlt.com\",\n    dashboardUrl: \"https://gilganet-dashboard.rdx-works-main.extratools.works\"\n  },\n  Enkinet: {\n    networkName: \"Enkinet\",\n    networkId: RadixNetwork.Enkinet,\n    gatewayUrl: \"https://enkinet-gateway.radixdlt.com\",\n    dashboardUrl: \"https://enkinet-dashboard.rdx-works-main.extratools.works\"\n  },\n  Hammunet: {\n    networkName: \"Hammunet\",\n    networkId: RadixNetwork.Hammunet,\n    gatewayUrl: \"https://hammunet-gateway.radixdlt.com\",\n    dashboardUrl: \"https://hammunet-dashboard.rdx-works-main.extratools.works\"\n  },\n  Dumunet: {\n    networkName: \"Dumunet\",\n    networkId: RadixNetwork.Dumunet,\n    gatewayUrl: \"https://dumunet-gateway.radixdlt.com\",\n    dashboardUrl: \"https://dumunet-dashboard.rdx-works-main.extratools.works\"\n  }\n};\nvar RadixNetworkConfigById = Object.values(RadixNetworkConfig).reduce(\n  (prev, config2) => {\n    prev[config2.networkId] = config2;\n    return prev;\n  },\n  {}\n);\n\n// src/modules/gateway/helpers/generate-gateway-api-config.ts\nvar generateGatewayApiConfig = ({\n  networkId,\n  dAppDefinitionAddress,\n  gatewayBaseUrl,\n  applicationName,\n  applicationVersion\n}) => ({\n  basePath: gatewayBaseUrl ?? RadixNetworkConfigById[networkId].gatewayUrl,\n  applicationName: applicationName ?? \"Unknown\",\n  applicationVersion: applicationVersion ?? \"Unknown\",\n  applicationDappDefinitionAddress: dAppDefinitionAddress\n});\n\n// src/version.ts\nvar __VERSION__ = \"2.0.0\";\n\n// src/modules/gateway/gateway.service.ts\nvar GatewayApiService = ({\n  basePath,\n  applicationName,\n  applicationVersion,\n  applicationDappDefinitionAddress\n}) => {\n  const fetchWithHeaders = (url, body) => fetchWrapper(\n    fetch(`${basePath}${url}`, {\n      method: \"POST\",\n      body: JSON.stringify(body),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"RDX-Client-Name\": \"@radixdlt/radix-dapp-toolkit\",\n        \"RDX-Client-Version\": __VERSION__,\n        \"RDX-App-Name\": applicationName,\n        \"RDX-App-Version\": applicationVersion,\n        \"RDX-App-Dapp-Definition\": applicationDappDefinitionAddress\n      }\n    })\n  ).map((response) => response.data);\n  const getTransactionStatus = (transactionIntentHash) => fetchWithHeaders(\"/transaction/status\", {\n    intent_hash: transactionIntentHash\n  });\n  const getEntityMetadataPage = (address) => fetchWithHeaders(\"/state/entity/page/metadata\", { address });\n  return {\n    getTransactionStatus,\n    getEntityMetadataPage\n  };\n};\n\n// src/modules/gateway/gateway.module.ts\nimport { ResultAsync as ResultAsync10, err as err12 } from \"neverthrow\";\nimport { filter as filter4, first as first2, firstValueFrom as firstValueFrom3, switchMap as switchMap4 } from \"rxjs\";\nvar GatewayModule = (input) => {\n  const logger = input.logger?.getSubLogger({ name: \"GatewayModule\" });\n  const gatewayApi = input?.providers?.gatewayApiService ?? GatewayApiService(input.clientConfig);\n  const pollTransactionStatus = (transactionIntentHash) => {\n    const retry = ExponentialBackoff(input.retryConfig);\n    const completedTransactionStatus = /* @__PURE__ */ new Set([\n      \"CommittedSuccess\",\n      \"CommittedFailure\",\n      \"Rejected\"\n    ]);\n    return ResultAsync10.fromPromise(\n      firstValueFrom3(\n        retry.withBackoff$.pipe(\n          switchMap4((result) => {\n            if (result.isErr())\n              return [err12(SdkError(\"failedToPollSubmittedTransaction\", \"\"))];\n            logger?.debug(`pollingTxStatus retry #${result.value + 1}`);\n            return gatewayApi.getTransactionStatus(transactionIntentHash).map((response) => {\n              if (completedTransactionStatus.has(response.status))\n                return response;\n              retry.trigger.next();\n              return;\n            }).mapErr((response) => {\n              logger?.debug(response);\n              return SdkError(\"failedToPollSubmittedTransaction\", \"\");\n            });\n          }),\n          filter4(\n            (result) => result.isOk() && !!result.value || result.isErr()\n          ),\n          first2()\n        )\n      ),\n      (error) => error\n    ).andThen((result) => result);\n  };\n  return {\n    pollTransactionStatus,\n    gatewayApi,\n    configuration: input.clientConfig\n  };\n};\n\n// src/modules/wallet-request/wallet-request.ts\nimport { ResultAsync as ResultAsync11, err as err13, ok as ok13, okAsync as okAsync8 } from \"neverthrow\";\nvar WalletRequestModule = (input) => {\n  const logger = input.logger?.getSubLogger({ name: \"WalletRequestModule\" });\n  const useCache = input.useCache;\n  const networkId = input.networkId;\n  const cancelRequestSubject = new Subject5();\n  const ignoreTransactionSubject = new Subject5();\n  const interactionStatusChangeSubject = new Subject5();\n  const gatewayModule = input.providers.gatewayModule;\n  const dAppDefinitionAddress = input.dAppDefinitionAddress;\n  const stateModule = input.providers.stateModule;\n  const storageModule = input.providers.storageModule;\n  const dataRequestStateModule = input.providers.dataRequestStateModule ?? DataRequestStateModule({});\n  const requestItemModule = input.providers.requestItemModule ?? RequestItemModule({\n    logger,\n    providers: {\n      storageModule: storageModule.getPartition(\"requests\")\n    }\n  });\n  const transports = input.providers.transports ?? [\n    ConnectorExtensionModule({\n      logger,\n      providers: { requestItemModule, storageModule }\n    }),\n    RadixConnectRelayModule({\n      logger,\n      walletUrl: \"radixWallet://connect\",\n      baseUrl: \"https://radix-connect-relay.radixdlt.com\",\n      dAppDefinitionAddress: input.dAppDefinitionAddress,\n      providers: {\n        requestItemModule,\n        storageModule\n      }\n    })\n  ];\n  const walletRequestSdk = input.providers.walletRequestSdk ?? WalletRequestSdk({\n    logger,\n    networkId,\n    origin: input.origin,\n    dAppDefinitionAddress,\n    requestInterceptor: input.requestInterceptor,\n    providers: { transports }\n  });\n  const cancelRequestControl = (id) => {\n    const messageLifeCycleEvent = new Subject5();\n    return {\n      eventCallback: (event) => {\n        messageLifeCycleEvent.next(event);\n      },\n      requestControl: ({ cancelRequest: cancelRequest2, getRequest }) => {\n        firstValueFrom4(\n          messageLifeCycleEvent.pipe(\n            filter5((event) => event === \"receivedByWallet\"),\n            map4(() => getRequest()),\n            tap2((request) => {\n              if (request.items.discriminator === \"transaction\")\n                requestItemModule.patch(id, { showCancel: false });\n            })\n          )\n        );\n        firstValueFrom4(\n          cancelRequestSubject.pipe(\n            filter5((requestItemId) => requestItemId === id),\n            switchMap5(\n              () => requestItemModule.cancel(id).andThen(() => cancelRequest2())\n            )\n          )\n        );\n        firstValueFrom4(\n          ignoreTransactionSubject.pipe(\n            filter5((requestItemId) => requestItemId === id),\n            switchMap5(\n              () => requestItemModule.updateStatus({\n                id,\n                status: \"ignored\"\n              }).andThen(() => cancelRequest2())\n            )\n          )\n        );\n      }\n    };\n  };\n  let challengeGeneratorFn = () => Promise.resolve(\"\");\n  let connectResponseCallback;\n  let dataRequestControl;\n  const isChallengeNeeded = (dataRequestState) => dataRequestState.accounts?.withProof || dataRequestState.persona?.withProof;\n  const getChallenge = (dataRequestState) => {\n    if (!isChallengeNeeded(dataRequestState))\n      return okAsync8(void 0);\n    return ResultAsync11.fromPromise(\n      challengeGeneratorFn(),\n      () => SdkError(\"ChallengeGeneratorError\", \"\", \"failed to generate challenge\")\n    );\n  };\n  const provideConnectResponseCallback = (fn) => {\n    connectResponseCallback = (result) => fn(result);\n  };\n  const provideDataRequestControl = (fn) => {\n    dataRequestControl = (walletData) => ResultAsync11.fromPromise(fn(walletData), () => ({\n      error: \"LoginRejectedByDapp\",\n      message: \"Login rejected by dApp\"\n    }));\n  };\n  const sendOneTimeRequest = (...items) => sendRequest({\n    dataRequestState: dataRequestStateModule.toDataRequestState(...items),\n    isConnect: false,\n    oneTime: true\n  });\n  const resolveWalletResponse = (walletInteraction, walletInteractionResponse) => {\n    if (walletInteractionResponse.discriminator === \"success\" && walletInteractionResponse.items.discriminator === \"authorizedRequest\") {\n      return ResultAsync11.combine([\n        transformWalletResponseToRdtWalletData(walletInteractionResponse.items),\n        stateModule.getState()\n      ]).andThen(([walletData, state]) => {\n        return stateModule.setState({\n          loggedInTimestamp: Date.now().toString(),\n          walletData,\n          sharedData: transformWalletRequestToSharedData(\n            walletInteraction,\n            state.sharedData\n          )\n        }).andThen(\n          () => requestItemModule.updateStatus({\n            id: walletInteractionResponse.interactionId,\n            status: \"success\"\n          })\n        );\n      });\n    }\n    return okAsync8(void 0);\n  };\n  const sendDataRequest = (walletInteraction) => {\n    return walletRequestSdk.request(\n      walletInteraction,\n      cancelRequestControl(walletInteraction.interactionId)\n    ).map((response) => {\n      logger?.debug({ method: \"sendDataRequest.successResponse\", response });\n      return response;\n    }).mapErr((error) => {\n      logger?.debug({ method: \"sendDataRequest.errorResponse\", error });\n      requestItemModule.updateStatus({\n        id: walletInteraction.interactionId,\n        status: \"fail\",\n        error: error.error\n      });\n      return error;\n    });\n  };\n  const sendRequest = ({\n    isConnect,\n    oneTime,\n    dataRequestState\n  }) => {\n    return ResultAsync11.combine([\n      getChallenge(dataRequestState),\n      stateModule.getState().mapErr(() => SdkError(\"FailedToReadRdtState\", \"\"))\n    ]).andThen(\n      ([challenge, state]) => toWalletRequest({\n        dataRequestState,\n        isConnect,\n        oneTime,\n        challenge,\n        walletData: state.walletData\n      }).mapErr(() => SdkError(\"FailedToTransformWalletRequest\", \"\")).asyncAndThen((walletDataRequest) => {\n        const walletInteraction = walletRequestSdk.createWalletInteraction(walletDataRequest);\n        if (canDataRequestBeResolvedByRdtState(walletDataRequest, state) && useCache)\n          return okAsync8(state.walletData);\n        const isLoginRequest = !state.walletData.persona && walletDataRequest.discriminator === \"authorizedRequest\";\n        return requestItemModule.add({\n          type: isLoginRequest ? \"loginRequest\" : \"dataRequest\",\n          walletInteraction,\n          isOneTimeRequest: oneTime\n        }).mapErr(\n          ({ message }) => SdkError(\n            \"FailedToCreateRequestItem\",\n            walletInteraction.interactionId,\n            message\n          )\n        ).andThen(\n          () => sendDataRequest(walletInteraction).andThen((walletInteractionResponse) => {\n            if (walletInteractionResponse.discriminator === \"success\" && walletInteractionResponse.items.discriminator !== \"transaction\")\n              return ok13(walletInteractionResponse.items);\n            return err13(\n              SdkError(\n                \"WalletResponseFailure\",\n                walletInteractionResponse.interactionId,\n                \"expected data response\"\n              )\n            );\n          }).andThen(transformWalletResponseToRdtWalletData).andThen((transformedWalletResponse) => {\n            if (dataRequestControl)\n              return dataRequestControl(transformedWalletResponse).andThen(\n                () => requestItemModule.updateStatus({\n                  id: walletInteraction.interactionId,\n                  status: \"success\"\n                }).mapErr(\n                  (error) => SdkError(\n                    error.reason,\n                    walletInteraction.interactionId\n                  )\n                ).map(() => transformedWalletResponse)\n              ).mapErr((error) => {\n                requestItemModule.updateStatus({\n                  id: walletInteraction.interactionId,\n                  status: \"fail\",\n                  error: error.error\n                });\n                return SdkError(\n                  error.error,\n                  walletInteraction.interactionId\n                );\n              });\n            return requestItemModule.updateStatus({\n              id: walletInteraction.interactionId,\n              status: \"success\"\n            }).map(() => transformedWalletResponse).mapErr(\n              (error) => SdkError(error.reason, walletInteraction.interactionId)\n            );\n          }).map((transformedWalletResponse) => {\n            interactionStatusChangeSubject.next(\"success\");\n            if (!oneTime) {\n              stateModule.setState({\n                loggedInTimestamp: Date.now().toString(),\n                walletData: transformedWalletResponse,\n                sharedData: transformWalletRequestToSharedData(\n                  walletInteraction,\n                  state.sharedData\n                )\n              }).map(() => {\n                stateModule.emitWalletData();\n              });\n            }\n            return transformedWalletResponse;\n          }).mapErr((err15) => {\n            interactionStatusChangeSubject.next(\"fail\");\n            return err15;\n          })\n        );\n      })\n    ).mapErr((error) => {\n      logger?.error(error);\n      return error;\n    });\n  };\n  const setRequestDataState = (...items) => {\n    dataRequestStateModule.setState(...items);\n    return {\n      sendRequest: () => sendRequest({\n        dataRequestState: dataRequestStateModule.getState(),\n        isConnect: false,\n        oneTime: false\n      })\n    };\n  };\n  const updateSharedAccounts = () => stateModule.getState().mapErr((err15) => {\n    logger?.error(err15);\n    return {\n      error: \"FailedToReadRdtState\",\n      message: \"failed to read rdt state\",\n      jsError: err15\n    };\n  }).andThen(\n    (state) => sendRequest({\n      dataRequestState: transformSharedDataToDataRequestState(\n        state.sharedData\n      ),\n      isConnect: false,\n      oneTime: false\n    })\n  );\n  const subscriptions = new Subscription5();\n  subscriptions.add(\n    requestItemModule.requests$.pipe(\n      mergeMap2((items) => {\n        const unresolvedItems = items.filter((item) => item.status === \"pending\" && item.walletResponse).map(\n          (item) => resolveWalletResponse(\n            item.walletInteraction,\n            item.walletResponse\n          )\n        );\n        return ResultAsync11.combineWithAllErrors(unresolvedItems);\n      })\n    ).subscribe()\n  );\n  const sendTransaction = (value) => {\n    const walletInteraction = walletRequestSdk.createWalletInteraction({\n      discriminator: \"transaction\",\n      send: {\n        blobs: value.blobs,\n        transactionManifest: value.transactionManifest,\n        message: value.message,\n        version: value.version ?? 1\n      }\n    });\n    requestItemModule.add({\n      type: \"sendTransaction\",\n      walletInteraction,\n      isOneTimeRequest: false\n    });\n    return walletRequestSdk.sendTransaction(\n      walletInteraction,\n      cancelRequestControl(walletInteraction.interactionId)\n    ).mapErr((response) => {\n      requestItemModule.updateStatus({\n        id: walletInteraction.interactionId,\n        status: \"fail\",\n        error: response.error\n      });\n      interactionStatusChangeSubject.next(\"fail\");\n      logger?.debug({ method: \"sendTransaction.errorResponse\", response });\n      return response;\n    }).andThen(\n      (response) => {\n        logger?.debug({ method: \"sendTransaction.successResponse\", response });\n        if (response.discriminator === \"success\" && response.items.discriminator === \"transaction\")\n          return ok13(response.items.send);\n        if (response.discriminator === \"failure\")\n          return err13(\n            SdkError(\n              response.error,\n              response.interactionId,\n              response.message\n            )\n          );\n        return err13(SdkError(\"WalletResponseFailure\", response.interactionId));\n      }\n    ).andThen(({ transactionIntentHash }) => {\n      if (value.onTransactionId)\n        value.onTransactionId(transactionIntentHash);\n      return gatewayModule.pollTransactionStatus(transactionIntentHash).map((transactionStatusResponse) => ({\n        transactionIntentHash,\n        status: transactionStatusResponse.status\n      }));\n    }).andThen((response) => {\n      const failedTransactionStatus = [\n        TransactionStatus.Rejected,\n        TransactionStatus.CommittedFailure\n      ];\n      const isFailedTransaction = failedTransactionStatus.includes(\n        response.status\n      );\n      logger?.debug({\n        method: \"sendTransaction.pollTransactionStatus.completed\",\n        response\n      });\n      const status = isFailedTransaction ? \"fail\" : \"success\";\n      return requestItemModule.updateStatus({\n        id: walletInteraction.interactionId,\n        status,\n        transactionIntentHash: response.transactionIntentHash\n      }).mapErr(\n        () => SdkError(\n          \"FailedToUpdateRequestItem\",\n          walletInteraction.interactionId\n        )\n      ).andThen(() => {\n        interactionStatusChangeSubject.next(status);\n        return isFailedTransaction ? err13(\n          SdkError(\n            \"TransactionNotSuccessful\",\n            walletInteraction.interactionId\n          )\n        ) : ok13(response);\n      });\n    });\n  };\n  const getTransport = () => transports.find((transport) => transport.isSupported());\n  const getPendingRequests = () => requestItemModule.getPending();\n  const cancelRequest = (id) => {\n    cancelRequestSubject.next(id);\n    requestItemModule.cancel(id);\n    interactionStatusChangeSubject.next(\"fail\");\n  };\n  const ignoreTransaction = (id) => {\n    ignoreTransactionSubject.next(id);\n    requestItemModule.updateStatus({\n      id,\n      status: \"ignored\"\n    });\n    interactionStatusChangeSubject.next(\"fail\");\n  };\n  const provideChallengeGenerator = (fn) => {\n    challengeGeneratorFn = fn;\n  };\n  const disconnect = () => {\n    requestItemModule.getPending().map((items) => {\n      items.forEach((item) => {\n        if (item.showCancel)\n          cancelRequestSubject.next(item.interactionId);\n      });\n    });\n    stateModule.reset();\n    requestItemModule.clear();\n    transports.forEach((transport) => transport?.disconnect());\n  };\n  const destroy = () => {\n    stateModule.destroy();\n    requestItemModule.destroy();\n    input.providers.transports?.forEach((transport) => transport.destroy());\n    subscriptions.unsubscribe();\n  };\n  return {\n    sendRequest: (input2) => {\n      const result = sendRequest({\n        isConnect: input2.isConnect,\n        oneTime: input2.oneTime,\n        dataRequestState: dataRequestStateModule.getState()\n      });\n      if (connectResponseCallback)\n        result.map((result2) => {\n          connectResponseCallback(ok13(result2));\n        }).mapErr((error) => {\n          connectResponseCallback(err13(error));\n        });\n      return result;\n    },\n    sendTransaction,\n    cancelRequest,\n    ignoreTransaction,\n    requestItemModule,\n    provideChallengeGenerator,\n    provideDataRequestControl,\n    provideConnectResponseCallback,\n    sendOneTimeRequest,\n    setRequestDataState,\n    getPendingRequests,\n    getTransport,\n    updateSharedAccounts,\n    dataRequestStateModule,\n    interactionStatusChange$: interactionStatusChangeSubject.asObservable(),\n    requestItems$: requestItemModule.requests$,\n    disconnect,\n    destroy\n  };\n};\n\n// src/helpers/is-browser.ts\nvar isBrowser = () => ![typeof window, typeof document].includes(\"undefined\");\n\n// src/modules/connect-button/connect-button-noop.module.ts\nimport { NEVER } from \"rxjs\";\nvar ConnectButtonNoopModule = () => {\n  return {\n    status$: NEVER,\n    onConnect$: NEVER,\n    onDisconnect$: NEVER,\n    onUpdateSharedAccounts$: NEVER,\n    onShowPopover$: NEVER,\n    onCancelRequestItem$: NEVER,\n    onLinkClick$: NEVER,\n    setStatus: () => {\n    },\n    setMode: () => {\n    },\n    setTheme: () => {\n    },\n    setActiveTab: () => {\n    },\n    setIsMobile: () => {\n    },\n    setIsWalletLinked: () => {\n    },\n    setIsExtensionAvailable: () => {\n    },\n    setConnected: () => {\n    },\n    setLoggedInTimestamp: () => {\n    },\n    setRequestItems: () => {\n    },\n    setAccounts: () => {\n    },\n    setPersonaData: () => {\n    },\n    setPersonaLabel: () => {\n    },\n    setDappName: () => {\n    },\n    destroy: () => {\n    },\n    disconnect: () => {\n    }\n  };\n};\n\n// src/modules/connect-button/connect-button.module.ts\nvar ConnectButtonModule = (input) => {\n  if (!isBrowser()) {\n    return ConnectButtonNoopModule();\n  }\n  import(\"./connect-button-PSBMAK3V.js\");\n  const logger = input?.logger?.getSubLogger({ name: \"ConnectButtonModule\" });\n  const subjects = input.subjects || ConnectButtonSubjects();\n  const dAppDefinitionAddress = input.dAppDefinitionAddress;\n  const { baseUrl, accountsPath, transactionPath } = input.explorer ?? {\n    baseUrl: RadixNetworkConfigById[input.networkId].dashboardUrl,\n    transactionPath: \"/transaction/\",\n    accountsPath: \"/account/\"\n  };\n  const statusStorage = input.providers.storageModule;\n  const stateModule = input.providers.stateModule;\n  const gatewayModule = input.providers.gatewayModule;\n  const walletRequestModule = input.providers.walletRequestModule;\n  const onConnectDefault = (done) => {\n    done();\n  };\n  const onConnect = input.onConnect || onConnectDefault;\n  const transport = walletRequestModule.getTransport();\n  const getConnectButtonElement = () => document.querySelector(\"radix-connect-button\");\n  const subscriptions = new Subscription6();\n  const onConnectButtonRender$ = fromEvent(window, \"onConnectButtonRender\");\n  subscriptions.add(\n    onConnectButtonRender$.pipe(\n      map5(() => getConnectButtonElement()),\n      filter6((element) => !!element),\n      switchMap6((connectButtonElement) => {\n        logger?.debug({ observable: `onConnectButtonRender$` });\n        const onConnect$ = fromEvent(connectButtonElement, \"onConnect\").pipe(\n          tap3(() => {\n            onConnect((value) => subjects.onConnect.next(value));\n          })\n        );\n        const onDisconnect$ = fromEvent(\n          connectButtonElement,\n          \"onDisconnect\"\n        ).pipe(tap3(() => subjects.onDisconnect.next()));\n        const onLinkClick$ = fromEvent(connectButtonElement, \"onLinkClick\").pipe(\n          tap3((ev) => {\n            subjects.onLinkClick.next(ev.detail);\n          })\n        );\n        const onDestroy$ = fromEvent(connectButtonElement, \"onDestroy\").pipe(\n          map5(() => {\n            logger?.debug({ observable: `onDestroy$` });\n            return true;\n          })\n        );\n        const onCancelRequestItem$ = fromEvent(\n          connectButtonElement,\n          \"onCancelRequestItem\"\n        ).pipe(\n          tap3((event) => {\n            const id = event.detail.id;\n            logger?.debug({ method: \"onCancelRequestItem\", id });\n            subjects.onCancelRequestItem.next(id);\n          })\n        );\n        const onIgnoreTransactionItem$ = fromEvent(\n          connectButtonElement,\n          \"onIgnoreTransactionItem\"\n        ).pipe(\n          tap3((event) => {\n            const id = event.detail.id;\n            logger?.debug({\n              method: \"onIgnoreTransactionItem\",\n              id\n            });\n            subjects.onIgnoreTransactionItem.next(id);\n          })\n        );\n        const onUpdateSharedAccounts$ = fromEvent(\n          connectButtonElement,\n          \"onUpdateSharedAccounts\"\n        ).pipe(\n          tap3(() => {\n            logger?.debug(`onUpdateSharedAccounts`);\n            subjects.onUpdateSharedAccounts.next();\n          })\n        );\n        const onShowPopover$ = fromEvent(\n          connectButtonElement,\n          \"onShowPopover\"\n        ).pipe(tap3(() => subjects.onShowPopover.next()));\n        const isWalletLinked$ = subjects.isWalletLinked.pipe(\n          tap3((value) => connectButtonElement.isWalletLinked = value)\n        );\n        const isExtensionAvailable$ = subjects.isExtensionAvailable.pipe(\n          tap3((value) => connectButtonElement.isExtensionAvailable = value)\n        );\n        const status$ = subjects.status.pipe(\n          tap3((value) => connectButtonElement.status = value)\n        );\n        const mode$ = subjects.mode.pipe(\n          tap3((value) => connectButtonElement.mode = value)\n        );\n        const connected$ = subjects.connected.pipe(\n          tap3((value) => connectButtonElement.connected = value)\n        );\n        const isMobile$ = subjects.isMobile.pipe(\n          tap3((value) => connectButtonElement.isMobile = value)\n        );\n        const loggedInTimestamp$ = subjects.loggedInTimestamp.pipe(\n          tap3((value) => connectButtonElement.loggedInTimestamp = value)\n        );\n        const activeTab$ = subjects.activeTab.pipe(\n          tap3((value) => connectButtonElement.activeTab = value)\n        );\n        const requestItems$ = subjects.requestItems.pipe(\n          tap3((items) => connectButtonElement.requestItems = items)\n        );\n        const showPopoverMenu$ = subjects.showPopoverMenu.pipe(\n          tap3((value) => {\n            value ? connectButtonElement.setAttribute(\"showPopoverMenu\", \"true\") : connectButtonElement.removeAttribute(\"showPopoverMenu\");\n          })\n        );\n        const accounts$ = subjects.accounts.pipe(\n          tap3((items) => connectButtonElement.accounts = items)\n        );\n        const personaData$ = subjects.personaData.pipe(\n          tap3((items) => connectButtonElement.personaData = items)\n        );\n        const personaLabel$ = subjects.personaLabel.pipe(\n          tap3((items) => connectButtonElement.personaLabel = items)\n        );\n        const dAppName$ = subjects.dAppName.pipe(\n          tap3((value) => connectButtonElement.dAppName = value)\n        );\n        const theme$ = subjects.theme.pipe(\n          tap3((value) => connectButtonElement.theme = value)\n        );\n        const connectButtonEvents$ = merge4(\n          onConnect$,\n          status$,\n          theme$,\n          mode$,\n          connected$,\n          showPopoverMenu$,\n          requestItems$,\n          loggedInTimestamp$,\n          isMobile$,\n          activeTab$,\n          isWalletLinked$,\n          isExtensionAvailable$,\n          onDisconnect$,\n          onCancelRequestItem$,\n          onIgnoreTransactionItem$,\n          accounts$,\n          personaData$,\n          personaLabel$,\n          onUpdateSharedAccounts$,\n          onShowPopover$,\n          dAppName$,\n          onLinkClick$\n        ).pipe(map5(() => false));\n        return merge4(connectButtonEvents$, onDestroy$).pipe(\n          filter6((shouldDestroy) => !!shouldDestroy),\n          first3(),\n          finalize(() => {\n            logger?.debug({ observable: `onConnectButtonRender$.finalize` });\n          })\n        );\n      })\n    ).subscribe()\n  );\n  subscriptions.add(\n    (transport && transport.isAvailable$ || of3(true)).pipe(tap3((value) => subjects.isExtensionAvailable.next(value))).subscribe()\n  );\n  subscriptions.add(\n    (transport && transport.isLinked$ || of3(true)).pipe(tap3((value) => subjects.isWalletLinked.next(value))).subscribe()\n  );\n  subscriptions.add(\n    subjects.onLinkClick.pipe(\n      tap3(({ type, data }) => {\n        if ([\"account\", \"transaction\"].includes(type)) {\n          if (!baseUrl || !window)\n            return;\n          const url = `${baseUrl}${type === \"transaction\" ? transactionPath : accountsPath}${data}`;\n          window.open(url);\n        } else if (type === \"setupGuide\")\n          window.open(\"https://wallet.radixdlt.com\");\n        else if (type === \"getWallet\") {\n          window.open(\"https://app.radixdlt.com/qr-code\");\n        } else if (type === \"showQrCode\" && transport?.showQrCode)\n          transport.showQrCode();\n      })\n    ).subscribe()\n  );\n  const connectButtonApi = {\n    status$: subjects.status.asObservable(),\n    onConnect$: subjects.onConnect.asObservable(),\n    onDisconnect$: subjects.onDisconnect.asObservable(),\n    onShowPopover$: subjects.onShowPopover.asObservable(),\n    onUpdateSharedAccounts$: subjects.onUpdateSharedAccounts.asObservable(),\n    onCancelRequestItem$: subjects.onCancelRequestItem.asObservable(),\n    onIgnoreTransactionItem$: subjects.onIgnoreTransactionItem.asObservable(),\n    onLinkClick$: subjects.onLinkClick.asObservable(),\n    setStatus: (value) => subjects.status.next(value),\n    setTheme: (value) => subjects.theme.next(value),\n    setMode: (value) => subjects.mode.next(value),\n    setActiveTab: (value) => subjects.activeTab.next(value),\n    setIsMobile: (value) => subjects.isMobile.next(value),\n    setIsWalletLinked: (value) => subjects.isWalletLinked.next(value),\n    setIsExtensionAvailable: (value) => subjects.isExtensionAvailable.next(value),\n    setLoggedInTimestamp: (value) => subjects.loggedInTimestamp.next(value),\n    setConnected: (value) => subjects.connected.next(value),\n    setShowPopoverMenu: (value) => subjects.showPopoverMenu.next(value),\n    setRequestItems: (items) => subjects.requestItems.next(items),\n    setAccounts: (accounts2) => subjects.accounts.next(accounts2),\n    setPersonaData: (personaData2) => subjects.personaData.next(personaData2),\n    setPersonaLabel: (personaLabel) => subjects.personaLabel.next(personaLabel),\n    setDappName: (dAppName) => subjects.dAppName.next(dAppName),\n    disconnect: () => {\n      subjects.connected.next(false);\n      subjects.status.next(\"default\");\n    },\n    destroy: () => {\n      subscriptions.unsubscribe();\n    }\n  };\n  const setPropsFromState = () => stateModule.getState().map((state) => {\n    const { personaData: personaData2, accounts: accounts2, personaLabel, connected } = transformWalletDataToConnectButton(state.walletData);\n    connectButtonApi.setLoggedInTimestamp(state.loggedInTimestamp);\n    connectButtonApi.setAccounts(accounts2);\n    connectButtonApi.setPersonaData(personaData2);\n    connectButtonApi.setPersonaLabel(personaLabel);\n    connectButtonApi.setConnected(connected);\n  });\n  subscriptions.add(\n    stateModule.storage$.pipe(switchMap6(() => setPropsFromState())).subscribe()\n  );\n  subscriptions.add(\n    subjects.onCancelRequestItem.pipe(\n      tap3((value) => {\n        walletRequestModule.cancelRequest(value);\n      })\n    ).subscribe()\n  );\n  subscriptions.add(\n    subjects.onIgnoreTransactionItem.pipe(\n      tap3((value) => {\n        walletRequestModule.ignoreTransaction(value);\n      })\n    ).subscribe()\n  );\n  subscriptions.add(\n    walletRequestModule.requestItems$.pipe(\n      tap3((items) => {\n        const hasPendingItem = items.find((item) => item.status === \"pending\");\n        if (hasPendingItem) {\n          connectButtonApi.setStatus(\"pending\");\n        }\n        connectButtonApi.setRequestItems([...items].reverse());\n      })\n    ).subscribe()\n  );\n  subscriptions.add(\n    subjects.onShowPopover.pipe(\n      tap3(() => {\n        walletRequestModule.getPendingRequests().map((pendingRequests) => {\n          if (pendingRequests.length > 0) {\n            subjects.activeTab.next(\"requests\");\n          }\n        });\n      })\n    ).subscribe()\n  );\n  subscriptions.add(\n    subjects.onConnect.pipe(\n      switchMap6(\n        () => stateModule.reset().andThen(\n          () => walletRequestModule.sendRequest({\n            isConnect: true,\n            oneTime: false\n          })\n        ).map(() => isMobile() && subjects.showPopoverMenu.next(false))\n      )\n    ).subscribe()\n  );\n  subscriptions.add(\n    subjects.onUpdateSharedAccounts.pipe(switchMap6(() => walletRequestModule.updateSharedAccounts())).subscribe()\n  );\n  subscriptions.add(\n    subjects.onDisconnect.pipe(\n      tap3(() => {\n        subjects.connected.next(false);\n        subjects.status.next(\"default\");\n        walletRequestModule.disconnect();\n        if (input.onDisconnect)\n          input.onDisconnect();\n      })\n    ).subscribe()\n  );\n  subscriptions.add(\n    statusStorage.storage$.pipe(\n      switchMap6(\n        () => statusStorage.getState().map((state) => {\n          if (state?.status) {\n            subjects.status.next(state.status);\n          }\n        })\n      )\n    ).subscribe()\n  );\n  subscriptions.add(\n    walletRequestModule.interactionStatusChange$.pipe(\n      mergeMap3((newStatus) => {\n        statusStorage.setState({\n          status: newStatus === \"success\" ? \"success\" : \"error\"\n        });\n        return timer3(2e3).pipe(\n          tap3(() => {\n            const result = walletRequestModule.getPendingRequests();\n            result.map((pendingItems) => {\n              statusStorage.setState({\n                status: pendingItems.length ? \"pending\" : \"default\"\n              });\n            });\n          })\n        );\n      })\n    ).subscribe()\n  );\n  if (dAppDefinitionAddress) {\n    gatewayModule.gatewayApi.getEntityMetadataPage(dAppDefinitionAddress).map(\n      (details) => details?.items.find((item) => item.key === \"name\")?.value?.typed?.value\n    ).map((dAppName) => {\n      subjects.dAppName.next(dAppName ?? \"Unnamed dApp\");\n    });\n  }\n  return connectButtonApi;\n};\n\n// src/modules/connect-button/types.ts\nvar ConnectButtonStatus = {\n  pending: \"pending\",\n  success: \"success\",\n  default: \"default\",\n  error: \"error\"\n};\n\n// src/modules/storage/local-storage.module.ts\nimport { err as err14, ok as ok14, Result as Result8, ResultAsync as ResultAsync12 } from \"neverthrow\";\nimport { filter as filter7, fromEvent as fromEvent2, map as map6, merge as merge5, mergeMap as mergeMap4, of as of4 } from \"rxjs\";\nvar LocalStorageModule = (key, partitionKey) => {\n  const storageKey = partitionKey ? `${key}:${partitionKey}` : key;\n  const getDataAsync = () => new Promise((resolve, reject) => {\n    try {\n      resolve(localStorage.getItem(storageKey));\n    } catch (error) {\n      reject(error);\n    }\n  });\n  const setDataAsync = (value) => new Promise((resolve, reject) => {\n    try {\n      localStorage.setItem(storageKey, value);\n      resolve();\n    } catch (error) {\n      reject(error);\n    }\n  });\n  const getItems = () => ResultAsync12.fromPromise(getDataAsync(), typedError).andThen(\n    (data) => data ? parseJSON(data) : ok14({})\n  );\n  const getItemById = (id) => ResultAsync12.fromPromise(getDataAsync(), typedError).andThen((data) => data ? parseJSON(data) : ok14(void 0)).map((items) => items ? items[id] : void 0);\n  const removeItemById = (id) => getItems().andThen((items) => {\n    const { [id]: _, ...newItems } = items;\n    return setItems(newItems);\n  });\n  const patchItem = (id, patch) => getItemById(id).andThen((item) => {\n    return item ? setItems({ [id]: { ...item, ...patch } }) : err14(new Error(\"Item not found\"));\n  });\n  const setItems = (item) => getItems().andThen(\n    (data) => stringify({ ...data, ...item }).asyncAndThen((serialized) => {\n      const result = ResultAsync12.fromPromise(\n        setDataAsync(serialized),\n        typedError\n      ).map(() => {\n        window.dispatchEvent(\n          new StorageEvent(\"storage\", {\n            key: storageKey,\n            oldValue: JSON.stringify(data),\n            newValue: serialized\n          })\n        );\n      });\n      return result;\n    })\n  );\n  const getItemList = () => getItems().map(Object.values);\n  const getState = () => ResultAsync12.fromPromise(getDataAsync(), typedError).andThen(\n    (data) => data ? parseJSON(data) : ok14(void 0)\n  );\n  const setState = (newValue) => getState().andThen(\n    (oldValue) => stringify({ ...oldValue ?? {}, ...newValue }).asyncAndThen(\n      (serialized) => {\n        const result = ResultAsync12.fromPromise(\n          setDataAsync(serialized),\n          typedError\n        ).map(() => {\n          window.dispatchEvent(\n            new StorageEvent(\"storage\", {\n              key: storageKey,\n              oldValue: JSON.stringify(oldValue),\n              newValue: serialized\n            })\n          );\n        });\n        return result;\n      }\n    )\n  );\n  const patchState = (newValue) => getState().mapErr(() => ({ reason: \"FailedToReadFromLocalStorage\" })).andThen(\n    (oldState) => oldState ? setState({ ...oldState, ...newValue }).mapErr(() => ({\n      reason: \"FailedToWriteToLocalStorage\"\n    })) : err14({ reason: \"PatchingStateFailed\" })\n  );\n  const getPartition = (partitionKey2) => LocalStorageModule(key, partitionKey2);\n  const storage$ = merge5(\n    fromEvent2(window, \"storage\"),\n    of4({ key: storageKey, newValue: null, oldValue: null })\n  ).pipe(\n    filter7((item) => item.key === storageKey),\n    mergeMap4((event) => {\n      const { key: key2, newValue, oldValue } = event;\n      if (!key2)\n        return [];\n      const [rdt, accountDefinition, networkId, partition] = key2.split(\":\");\n      if (rdt === \"rdt\" && accountDefinition && networkId) {\n        const oldValueResult = oldValue ? parseJSON(oldValue) : ok14(void 0);\n        const newValueResult = newValue ? parseJSON(newValue) : ok14(void 0);\n        return [\n          Result8.combine([oldValueResult, newValueResult]).map(\n            ([oldValue2, newValue2]) => ({\n              key: key2,\n              partition,\n              newValue: newValue2,\n              oldValue: oldValue2\n            })\n          )\n        ];\n      }\n      return [];\n    }),\n    filter7((result) => result.isOk()),\n    map6(({ value }) => value)\n  );\n  const clear = () => ResultAsync12.fromPromise(\n    new Promise((resolve) => resolve(localStorage.removeItem(storageKey))),\n    typedError\n  );\n  return {\n    getItems,\n    getItemById,\n    removeItemById,\n    patchItem,\n    setItems,\n    getItemList,\n    getPartition,\n    setState,\n    getState,\n    patchState,\n    clear,\n    storage$\n  };\n};\n\n// src/radix-dapp-toolkit.ts\npolyfills_default();\nvar RadixDappToolkit = (options) => {\n  const dAppDefinitionAddress = options.dAppDefinitionAddress ?? options.applicationDappDefinitionAddress;\n  const {\n    networkId,\n    providers,\n    logger,\n    onDisconnect,\n    gatewayBaseUrl,\n    applicationName,\n    applicationVersion,\n    useCache = true\n  } = options || {};\n  const storageModule = providers?.storageModule ?? LocalStorageModule(`rdt:${dAppDefinitionAddress}:${networkId}`);\n  const stateModule = providers?.stateModule ?? StateModule({\n    logger,\n    providers: {\n      storageModule: storageModule.getPartition(\"state\")\n    }\n  });\n  const gatewayModule = providers?.gatewayModule ?? GatewayModule({\n    logger,\n    clientConfig: generateGatewayApiConfig({\n      networkId,\n      dAppDefinitionAddress,\n      gatewayBaseUrl,\n      applicationName,\n      applicationVersion\n    })\n  });\n  const walletRequestModule = providers?.walletRequestModule ?? WalletRequestModule({\n    logger,\n    useCache,\n    networkId,\n    dAppDefinitionAddress,\n    requestInterceptor: options.requestInterceptor,\n    providers: {\n      stateModule,\n      storageModule,\n      gatewayModule\n    }\n  });\n  const connectButtonModule = providers?.connectButtonModule ?? ConnectButtonModule({\n    logger,\n    networkId,\n    explorer: options.explorer,\n    onDisconnect,\n    dAppDefinitionAddress,\n    providers: {\n      stateModule,\n      walletRequestModule,\n      gatewayModule,\n      storageModule: storageModule.getPartition(\"connectButton\")\n    }\n  });\n  return {\n    walletApi: {\n      setRequestData: walletRequestModule.setRequestDataState,\n      sendRequest: () => walletRequestModule.sendRequest({\n        isConnect: false,\n        oneTime: false\n      }),\n      provideChallengeGenerator: (fn) => walletRequestModule.provideChallengeGenerator(fn),\n      dataRequestControl: (fn) => {\n        walletRequestModule.provideDataRequestControl(fn);\n      },\n      provideConnectResponseCallback: walletRequestModule.provideConnectResponseCallback,\n      updateSharedAccounts: () => walletRequestModule.updateSharedAccounts(),\n      sendOneTimeRequest: walletRequestModule.sendOneTimeRequest,\n      sendTransaction: (input) => walletRequestModule.sendTransaction(input),\n      walletData$: stateModule.walletData$,\n      getWalletData: stateModule.getWalletData\n    },\n    buttonApi: {\n      setTheme: connectButtonModule.setTheme,\n      setMode: connectButtonModule.setMode,\n      status$: connectButtonModule.status$\n    },\n    gatewayApi: {\n      clientConfig: gatewayModule.configuration\n    },\n    disconnect: () => {\n      walletRequestModule.disconnect();\n      connectButtonModule.disconnect();\n      if (onDisconnect)\n        onDisconnect();\n    },\n    destroy: () => {\n      stateModule.destroy();\n      walletRequestModule.destroy();\n      connectButtonModule.destroy();\n    }\n  };\n};\nexport {\n  Account,\n  AccountProof,\n  AccountsRequestItem,\n  AccountsRequestResponseItem,\n  AnswerIO,\n  AuthLoginRequestItem,\n  AuthLoginRequestResponseItem,\n  AuthLoginWithChallengeRequestItem,\n  AuthLoginWithChallengeRequestResponseItem,\n  AuthLoginWithoutChallengeRequestItem,\n  AuthLoginWithoutChallengeRequestResponseItem,\n  AuthRequestItem,\n  AuthRequestResponseItem,\n  AuthUsePersonaRequestItem,\n  CancelRequest,\n  CancelWalletInteractionExtensionInteraction,\n  ConnectButtonModule,\n  ConnectButtonStatus,\n  ConnectButtonSubjects,\n  ConnectorExtensionModule,\n  ConnectorExtensionSubjects,\n  Curve25519,\n  DataRequestBuilder,\n  DataRequestStateModule,\n  DeepLinkModule,\n  ExponentialBackoff,\n  ExtensionInteraction,\n  GatewayApiService,\n  GatewayModule,\n  IceCandidateIO,\n  IceCandidatePayloadIO,\n  IceCandidatesIO,\n  IdentityKind,\n  IdentityModule,\n  LocalStorageModule,\n  Logger,\n  LoginRequestResponseItem,\n  MessageLifeCycleEvent,\n  MessageLifeCycleExtensionStatusEvent,\n  Metadata,\n  NumberOfValues,\n  OfferIO,\n  OneTimeDataRequestBuilder,\n  OpenPopupExtensionInteraction,\n  Persona,\n  PersonaDataName,\n  PersonaDataNameVariant,\n  PersonaDataRequestItem,\n  PersonaDataRequestResponseItem,\n  Proof,\n  RadixConnectRelayModule,\n  RadixDappToolkit,\n  RadixNetwork,\n  RadixNetworkConfig,\n  RadixNetworkConfigById,\n  RdtState,\n  RequestItemModule,\n  ResetRequestItem,\n  SendTransactionItem,\n  SendTransactionResponseItem,\n  SessionModule,\n  SharedData,\n  SignalingServerMessage,\n  SignedChallenge,\n  SignedChallengeAccount,\n  SignedChallengePersona,\n  Sources,\n  StateModule,\n  StatusExtensionInteraction,\n  TransactionStatus,\n  TransformRdtDataRequestToWalletRequestInput,\n  WalletAuthorizedRequestItems,\n  WalletAuthorizedRequestResponseItems,\n  WalletData,\n  WalletDataPersonaData,\n  WalletDataPersonaDataEmailAddresses,\n  WalletDataPersonaDataFullName,\n  WalletDataPersonaDataPhoneNumbersAddresses,\n  WalletInteraction,\n  WalletInteractionExtensionInteraction,\n  WalletInteractionFailureResponse,\n  WalletInteractionItems,\n  WalletInteractionResponse,\n  WalletInteractionSuccessResponse,\n  WalletRequestItems,\n  WalletRequestModule,\n  WalletRequestResponseItems,\n  WalletRequestSdk,\n  WalletTransactionItems,\n  WalletUnauthorizedRequestItems,\n  blake2b,\n  canDataRequestBeResolvedByRdtState,\n  config,\n  eventType,\n  extensionInteractionDiscriminator,\n  fetchWrapper,\n  generateGatewayApiConfig,\n  generateRolaChallenge,\n  isMobile,\n  messageLifeCycleEventType,\n  parseJSON,\n  parseSignedChallenge,\n  personaDataFullNameVariant,\n  proofType,\n  removeUndefined,\n  stringify,\n  toWalletRequest,\n  transformRdtDataRequestToWalletRequest,\n  transformSharedDataToDataRequestState,\n  transformWalletDataToConnectButton,\n  transformWalletRequestToSharedData,\n  transformWalletResponseToRdtWalletData,\n  typedError,\n  unwrapObservable,\n  validateWalletResponse,\n  walletDataDefault\n};\n/*! Bundled license information:\n\n@noble/hashes/esm/utils.js:\n  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n*/\n","import { Observable } from '../Observable';\nimport { innerFrom } from './innerFrom';\nimport { argsOrArgArray } from '../util/argsOrArgArray';\nimport { createOperatorSubscriber } from '../operators/OperatorSubscriber';\nexport function race() {\n    var sources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        sources[_i] = arguments[_i];\n    }\n    sources = argsOrArgArray(sources);\n    return sources.length === 1 ? innerFrom(sources[0]) : new Observable(raceInit(sources));\n}\nexport function raceInit(sources) {\n    return function (subscriber) {\n        var subscriptions = [];\n        var _loop_1 = function (i) {\n            subscriptions.push(innerFrom(sources[i]).subscribe(createOperatorSubscriber(subscriber, function (value) {\n                if (subscriptions) {\n                    for (var s = 0; s < subscriptions.length; s++) {\n                        s !== i && subscriptions[s].unsubscribe();\n                    }\n                    subscriptions = null;\n                }\n                subscriber.next(value);\n            })));\n        };\n        for (var i = 0; subscriptions && !subscriber.closed && i < sources.length; i++) {\n            _loop_1(i);\n        }\n    };\n}\n//# sourceMappingURL=race.js.map","import { ReplaySubject } from '../ReplaySubject';\nimport { share } from './share';\nexport function shareReplay(configOrBufferSize, windowTime, scheduler) {\n    var _a, _b, _c;\n    var bufferSize;\n    var refCount = false;\n    if (configOrBufferSize && typeof configOrBufferSize === 'object') {\n        (_a = configOrBufferSize.bufferSize, bufferSize = _a === void 0 ? Infinity : _a, _b = configOrBufferSize.windowTime, windowTime = _b === void 0 ? Infinity : _b, _c = configOrBufferSize.refCount, refCount = _c === void 0 ? false : _c, scheduler = configOrBufferSize.scheduler);\n    }\n    else {\n        bufferSize = (configOrBufferSize !== null && configOrBufferSize !== void 0 ? configOrBufferSize : Infinity);\n    }\n    return share({\n        connector: function () { return new ReplaySubject(bufferSize, windowTime, scheduler); },\n        resetOnError: true,\n        resetOnComplete: false,\n        resetOnRefCountZero: refCount,\n    });\n}\n//# sourceMappingURL=shareReplay.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nimport { innerFrom } from '../observable/innerFrom';\nimport { noop } from '../util/noop';\nexport function takeUntil(notifier) {\n    return operate(function (source, subscriber) {\n        innerFrom(notifier).subscribe(createOperatorSubscriber(subscriber, function () { return subscriber.complete(); }, noop));\n        !subscriber.closed && source.subscribe(subscriber);\n    });\n}\n//# sourceMappingURL=takeUntil.js.map","import { operate } from '../util/lift';\nexport function finalize(callback) {\n    return operate(function (source, subscriber) {\n        try {\n            source.subscribe(subscriber);\n        }\n        finally {\n            subscriber.add(callback);\n        }\n    });\n}\n//# sourceMappingURL=finalize.js.map","/*!\n * @kurkle/color v0.3.2\n * https://github.com/kurkle/color#readme\n * (c) 2023 Jukka Kurkela\n * Released under the MIT License\n */\nfunction round(v) {\n  return v + 0.5 | 0;\n}\nconst lim = (v, l, h) => Math.max(Math.min(v, h), l);\nfunction p2b(v) {\n  return lim(round(v * 2.55), 0, 255);\n}\nfunction b2p(v) {\n  return lim(round(v / 2.55), 0, 100);\n}\nfunction n2b(v) {\n  return lim(round(v * 255), 0, 255);\n}\nfunction b2n(v) {\n  return lim(round(v / 2.55) / 100, 0, 1);\n}\nfunction n2p(v) {\n  return lim(round(v * 100), 0, 100);\n}\n\nconst map$1 = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15};\nconst hex = [...'0123456789ABCDEF'];\nconst h1 = b => hex[b & 0xF];\nconst h2 = b => hex[(b & 0xF0) >> 4] + hex[b & 0xF];\nconst eq = b => ((b & 0xF0) >> 4) === (b & 0xF);\nconst isShort = v => eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a);\nfunction hexParse(str) {\n  var len = str.length;\n  var ret;\n  if (str[0] === '#') {\n    if (len === 4 || len === 5) {\n      ret = {\n        r: 255 & map$1[str[1]] * 17,\n        g: 255 & map$1[str[2]] * 17,\n        b: 255 & map$1[str[3]] * 17,\n        a: len === 5 ? map$1[str[4]] * 17 : 255\n      };\n    } else if (len === 7 || len === 9) {\n      ret = {\n        r: map$1[str[1]] << 4 | map$1[str[2]],\n        g: map$1[str[3]] << 4 | map$1[str[4]],\n        b: map$1[str[5]] << 4 | map$1[str[6]],\n        a: len === 9 ? (map$1[str[7]] << 4 | map$1[str[8]]) : 255\n      };\n    }\n  }\n  return ret;\n}\nconst alpha = (a, f) => a < 255 ? f(a) : '';\nfunction hexString(v) {\n  var f = isShort(v) ? h1 : h2;\n  return v\n    ? '#' + f(v.r) + f(v.g) + f(v.b) + alpha(v.a, f)\n    : undefined;\n}\n\nconst HUE_RE = /^(hsla?|hwb|hsv)\\(\\s*([-+.e\\d]+)(?:deg)?[\\s,]+([-+.e\\d]+)%[\\s,]+([-+.e\\d]+)%(?:[\\s,]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction hsl2rgbn(h, s, l) {\n  const a = s * Math.min(l, 1 - l);\n  const f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n  return [f(0), f(8), f(4)];\n}\nfunction hsv2rgbn(h, s, v) {\n  const f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n  return [f(5), f(3), f(1)];\n}\nfunction hwb2rgbn(h, w, b) {\n  const rgb = hsl2rgbn(h, 1, 0.5);\n  let i;\n  if (w + b > 1) {\n    i = 1 / (w + b);\n    w *= i;\n    b *= i;\n  }\n  for (i = 0; i < 3; i++) {\n    rgb[i] *= 1 - w - b;\n    rgb[i] += w;\n  }\n  return rgb;\n}\nfunction hueValue(r, g, b, d, max) {\n  if (r === max) {\n    return ((g - b) / d) + (g < b ? 6 : 0);\n  }\n  if (g === max) {\n    return (b - r) / d + 2;\n  }\n  return (r - g) / d + 4;\n}\nfunction rgb2hsl(v) {\n  const range = 255;\n  const r = v.r / range;\n  const g = v.g / range;\n  const b = v.b / range;\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  const l = (max + min) / 2;\n  let h, s, d;\n  if (max !== min) {\n    d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    h = hueValue(r, g, b, d, max);\n    h = h * 60 + 0.5;\n  }\n  return [h | 0, s || 0, l];\n}\nfunction calln(f, a, b, c) {\n  return (\n    Array.isArray(a)\n      ? f(a[0], a[1], a[2])\n      : f(a, b, c)\n  ).map(n2b);\n}\nfunction hsl2rgb(h, s, l) {\n  return calln(hsl2rgbn, h, s, l);\n}\nfunction hwb2rgb(h, w, b) {\n  return calln(hwb2rgbn, h, w, b);\n}\nfunction hsv2rgb(h, s, v) {\n  return calln(hsv2rgbn, h, s, v);\n}\nfunction hue(h) {\n  return (h % 360 + 360) % 360;\n}\nfunction hueParse(str) {\n  const m = HUE_RE.exec(str);\n  let a = 255;\n  let v;\n  if (!m) {\n    return;\n  }\n  if (m[5] !== v) {\n    a = m[6] ? p2b(+m[5]) : n2b(+m[5]);\n  }\n  const h = hue(+m[2]);\n  const p1 = +m[3] / 100;\n  const p2 = +m[4] / 100;\n  if (m[1] === 'hwb') {\n    v = hwb2rgb(h, p1, p2);\n  } else if (m[1] === 'hsv') {\n    v = hsv2rgb(h, p1, p2);\n  } else {\n    v = hsl2rgb(h, p1, p2);\n  }\n  return {\n    r: v[0],\n    g: v[1],\n    b: v[2],\n    a: a\n  };\n}\nfunction rotate(v, deg) {\n  var h = rgb2hsl(v);\n  h[0] = hue(h[0] + deg);\n  h = hsl2rgb(h);\n  v.r = h[0];\n  v.g = h[1];\n  v.b = h[2];\n}\nfunction hslString(v) {\n  if (!v) {\n    return;\n  }\n  const a = rgb2hsl(v);\n  const h = a[0];\n  const s = n2p(a[1]);\n  const l = n2p(a[2]);\n  return v.a < 255\n    ? `hsla(${h}, ${s}%, ${l}%, ${b2n(v.a)})`\n    : `hsl(${h}, ${s}%, ${l}%)`;\n}\n\nconst map = {\n  x: 'dark',\n  Z: 'light',\n  Y: 're',\n  X: 'blu',\n  W: 'gr',\n  V: 'medium',\n  U: 'slate',\n  A: 'ee',\n  T: 'ol',\n  S: 'or',\n  B: 'ra',\n  C: 'lateg',\n  D: 'ights',\n  R: 'in',\n  Q: 'turquois',\n  E: 'hi',\n  P: 'ro',\n  O: 'al',\n  N: 'le',\n  M: 'de',\n  L: 'yello',\n  F: 'en',\n  K: 'ch',\n  G: 'arks',\n  H: 'ea',\n  I: 'ightg',\n  J: 'wh'\n};\nconst names$1 = {\n  OiceXe: 'f0f8ff',\n  antiquewEte: 'faebd7',\n  aqua: 'ffff',\n  aquamarRe: '7fffd4',\n  azuY: 'f0ffff',\n  beige: 'f5f5dc',\n  bisque: 'ffe4c4',\n  black: '0',\n  blanKedOmond: 'ffebcd',\n  Xe: 'ff',\n  XeviTet: '8a2be2',\n  bPwn: 'a52a2a',\n  burlywood: 'deb887',\n  caMtXe: '5f9ea0',\n  KartYuse: '7fff00',\n  KocTate: 'd2691e',\n  cSO: 'ff7f50',\n  cSnflowerXe: '6495ed',\n  cSnsilk: 'fff8dc',\n  crimson: 'dc143c',\n  cyan: 'ffff',\n  xXe: '8b',\n  xcyan: '8b8b',\n  xgTMnPd: 'b8860b',\n  xWay: 'a9a9a9',\n  xgYF: '6400',\n  xgYy: 'a9a9a9',\n  xkhaki: 'bdb76b',\n  xmagFta: '8b008b',\n  xTivegYF: '556b2f',\n  xSange: 'ff8c00',\n  xScEd: '9932cc',\n  xYd: '8b0000',\n  xsOmon: 'e9967a',\n  xsHgYF: '8fbc8f',\n  xUXe: '483d8b',\n  xUWay: '2f4f4f',\n  xUgYy: '2f4f4f',\n  xQe: 'ced1',\n  xviTet: '9400d3',\n  dAppRk: 'ff1493',\n  dApskyXe: 'bfff',\n  dimWay: '696969',\n  dimgYy: '696969',\n  dodgerXe: '1e90ff',\n  fiYbrick: 'b22222',\n  flSOwEte: 'fffaf0',\n  foYstWAn: '228b22',\n  fuKsia: 'ff00ff',\n  gaRsbSo: 'dcdcdc',\n  ghostwEte: 'f8f8ff',\n  gTd: 'ffd700',\n  gTMnPd: 'daa520',\n  Way: '808080',\n  gYF: '8000',\n  gYFLw: 'adff2f',\n  gYy: '808080',\n  honeyMw: 'f0fff0',\n  hotpRk: 'ff69b4',\n  RdianYd: 'cd5c5c',\n  Rdigo: '4b0082',\n  ivSy: 'fffff0',\n  khaki: 'f0e68c',\n  lavFMr: 'e6e6fa',\n  lavFMrXsh: 'fff0f5',\n  lawngYF: '7cfc00',\n  NmoncEffon: 'fffacd',\n  ZXe: 'add8e6',\n  ZcSO: 'f08080',\n  Zcyan: 'e0ffff',\n  ZgTMnPdLw: 'fafad2',\n  ZWay: 'd3d3d3',\n  ZgYF: '90ee90',\n  ZgYy: 'd3d3d3',\n  ZpRk: 'ffb6c1',\n  ZsOmon: 'ffa07a',\n  ZsHgYF: '20b2aa',\n  ZskyXe: '87cefa',\n  ZUWay: '778899',\n  ZUgYy: '778899',\n  ZstAlXe: 'b0c4de',\n  ZLw: 'ffffe0',\n  lime: 'ff00',\n  limegYF: '32cd32',\n  lRF: 'faf0e6',\n  magFta: 'ff00ff',\n  maPon: '800000',\n  VaquamarRe: '66cdaa',\n  VXe: 'cd',\n  VScEd: 'ba55d3',\n  VpurpN: '9370db',\n  VsHgYF: '3cb371',\n  VUXe: '7b68ee',\n  VsprRggYF: 'fa9a',\n  VQe: '48d1cc',\n  VviTetYd: 'c71585',\n  midnightXe: '191970',\n  mRtcYam: 'f5fffa',\n  mistyPse: 'ffe4e1',\n  moccasR: 'ffe4b5',\n  navajowEte: 'ffdead',\n  navy: '80',\n  Tdlace: 'fdf5e6',\n  Tive: '808000',\n  TivedBb: '6b8e23',\n  Sange: 'ffa500',\n  SangeYd: 'ff4500',\n  ScEd: 'da70d6',\n  pOegTMnPd: 'eee8aa',\n  pOegYF: '98fb98',\n  pOeQe: 'afeeee',\n  pOeviTetYd: 'db7093',\n  papayawEp: 'ffefd5',\n  pHKpuff: 'ffdab9',\n  peru: 'cd853f',\n  pRk: 'ffc0cb',\n  plum: 'dda0dd',\n  powMrXe: 'b0e0e6',\n  purpN: '800080',\n  YbeccapurpN: '663399',\n  Yd: 'ff0000',\n  Psybrown: 'bc8f8f',\n  PyOXe: '4169e1',\n  saddNbPwn: '8b4513',\n  sOmon: 'fa8072',\n  sandybPwn: 'f4a460',\n  sHgYF: '2e8b57',\n  sHshell: 'fff5ee',\n  siFna: 'a0522d',\n  silver: 'c0c0c0',\n  skyXe: '87ceeb',\n  UXe: '6a5acd',\n  UWay: '708090',\n  UgYy: '708090',\n  snow: 'fffafa',\n  sprRggYF: 'ff7f',\n  stAlXe: '4682b4',\n  tan: 'd2b48c',\n  teO: '8080',\n  tEstN: 'd8bfd8',\n  tomato: 'ff6347',\n  Qe: '40e0d0',\n  viTet: 'ee82ee',\n  JHt: 'f5deb3',\n  wEte: 'ffffff',\n  wEtesmoke: 'f5f5f5',\n  Lw: 'ffff00',\n  LwgYF: '9acd32'\n};\nfunction unpack() {\n  const unpacked = {};\n  const keys = Object.keys(names$1);\n  const tkeys = Object.keys(map);\n  let i, j, k, ok, nk;\n  for (i = 0; i < keys.length; i++) {\n    ok = nk = keys[i];\n    for (j = 0; j < tkeys.length; j++) {\n      k = tkeys[j];\n      nk = nk.replace(k, map[k]);\n    }\n    k = parseInt(names$1[ok], 16);\n    unpacked[nk] = [k >> 16 & 0xFF, k >> 8 & 0xFF, k & 0xFF];\n  }\n  return unpacked;\n}\n\nlet names;\nfunction nameParse(str) {\n  if (!names) {\n    names = unpack();\n    names.transparent = [0, 0, 0, 0];\n  }\n  const a = names[str.toLowerCase()];\n  return a && {\n    r: a[0],\n    g: a[1],\n    b: a[2],\n    a: a.length === 4 ? a[3] : 255\n  };\n}\n\nconst RGB_RE = /^rgba?\\(\\s*([-+.\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?(?:[\\s,/]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction rgbParse(str) {\n  const m = RGB_RE.exec(str);\n  let a = 255;\n  let r, g, b;\n  if (!m) {\n    return;\n  }\n  if (m[7] !== r) {\n    const v = +m[7];\n    a = m[8] ? p2b(v) : lim(v * 255, 0, 255);\n  }\n  r = +m[1];\n  g = +m[3];\n  b = +m[5];\n  r = 255 & (m[2] ? p2b(r) : lim(r, 0, 255));\n  g = 255 & (m[4] ? p2b(g) : lim(g, 0, 255));\n  b = 255 & (m[6] ? p2b(b) : lim(b, 0, 255));\n  return {\n    r: r,\n    g: g,\n    b: b,\n    a: a\n  };\n}\nfunction rgbString(v) {\n  return v && (\n    v.a < 255\n      ? `rgba(${v.r}, ${v.g}, ${v.b}, ${b2n(v.a)})`\n      : `rgb(${v.r}, ${v.g}, ${v.b})`\n  );\n}\n\nconst to = v => v <= 0.0031308 ? v * 12.92 : Math.pow(v, 1.0 / 2.4) * 1.055 - 0.055;\nconst from = v => v <= 0.04045 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\nfunction interpolate(rgb1, rgb2, t) {\n  const r = from(b2n(rgb1.r));\n  const g = from(b2n(rgb1.g));\n  const b = from(b2n(rgb1.b));\n  return {\n    r: n2b(to(r + t * (from(b2n(rgb2.r)) - r))),\n    g: n2b(to(g + t * (from(b2n(rgb2.g)) - g))),\n    b: n2b(to(b + t * (from(b2n(rgb2.b)) - b))),\n    a: rgb1.a + t * (rgb2.a - rgb1.a)\n  };\n}\n\nfunction modHSL(v, i, ratio) {\n  if (v) {\n    let tmp = rgb2hsl(v);\n    tmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1));\n    tmp = hsl2rgb(tmp);\n    v.r = tmp[0];\n    v.g = tmp[1];\n    v.b = tmp[2];\n  }\n}\nfunction clone(v, proto) {\n  return v ? Object.assign(proto || {}, v) : v;\n}\nfunction fromObject(input) {\n  var v = {r: 0, g: 0, b: 0, a: 255};\n  if (Array.isArray(input)) {\n    if (input.length >= 3) {\n      v = {r: input[0], g: input[1], b: input[2], a: 255};\n      if (input.length > 3) {\n        v.a = n2b(input[3]);\n      }\n    }\n  } else {\n    v = clone(input, {r: 0, g: 0, b: 0, a: 1});\n    v.a = n2b(v.a);\n  }\n  return v;\n}\nfunction functionParse(str) {\n  if (str.charAt(0) === 'r') {\n    return rgbParse(str);\n  }\n  return hueParse(str);\n}\nclass Color {\n  constructor(input) {\n    if (input instanceof Color) {\n      return input;\n    }\n    const type = typeof input;\n    let v;\n    if (type === 'object') {\n      v = fromObject(input);\n    } else if (type === 'string') {\n      v = hexParse(input) || nameParse(input) || functionParse(input);\n    }\n    this._rgb = v;\n    this._valid = !!v;\n  }\n  get valid() {\n    return this._valid;\n  }\n  get rgb() {\n    var v = clone(this._rgb);\n    if (v) {\n      v.a = b2n(v.a);\n    }\n    return v;\n  }\n  set rgb(obj) {\n    this._rgb = fromObject(obj);\n  }\n  rgbString() {\n    return this._valid ? rgbString(this._rgb) : undefined;\n  }\n  hexString() {\n    return this._valid ? hexString(this._rgb) : undefined;\n  }\n  hslString() {\n    return this._valid ? hslString(this._rgb) : undefined;\n  }\n  mix(color, weight) {\n    if (color) {\n      const c1 = this.rgb;\n      const c2 = color.rgb;\n      let w2;\n      const p = weight === w2 ? 0.5 : weight;\n      const w = 2 * p - 1;\n      const a = c1.a - c2.a;\n      const w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n      w2 = 1 - w1;\n      c1.r = 0xFF & w1 * c1.r + w2 * c2.r + 0.5;\n      c1.g = 0xFF & w1 * c1.g + w2 * c2.g + 0.5;\n      c1.b = 0xFF & w1 * c1.b + w2 * c2.b + 0.5;\n      c1.a = p * c1.a + (1 - p) * c2.a;\n      this.rgb = c1;\n    }\n    return this;\n  }\n  interpolate(color, t) {\n    if (color) {\n      this._rgb = interpolate(this._rgb, color._rgb, t);\n    }\n    return this;\n  }\n  clone() {\n    return new Color(this.rgb);\n  }\n  alpha(a) {\n    this._rgb.a = n2b(a);\n    return this;\n  }\n  clearer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 - ratio;\n    return this;\n  }\n  greyscale() {\n    const rgb = this._rgb;\n    const val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11);\n    rgb.r = rgb.g = rgb.b = val;\n    return this;\n  }\n  opaquer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 + ratio;\n    return this;\n  }\n  negate() {\n    const v = this._rgb;\n    v.r = 255 - v.r;\n    v.g = 255 - v.g;\n    v.b = 255 - v.b;\n    return this;\n  }\n  lighten(ratio) {\n    modHSL(this._rgb, 2, ratio);\n    return this;\n  }\n  darken(ratio) {\n    modHSL(this._rgb, 2, -ratio);\n    return this;\n  }\n  saturate(ratio) {\n    modHSL(this._rgb, 1, ratio);\n    return this;\n  }\n  desaturate(ratio) {\n    modHSL(this._rgb, 1, -ratio);\n    return this;\n  }\n  rotate(deg) {\n    rotate(this._rgb, deg);\n    return this;\n  }\n}\n\nfunction index_esm(input) {\n  return new Color(input);\n}\n\nexport { Color, b2n, b2p, index_esm as default, hexParse, hexString, hsl2rgb, hslString, hsv2rgb, hueParse, hwb2rgb, lim, n2b, n2p, nameParse, p2b, rgb2hsl, rgbParse, rgbString, rotate, round };\n","/*!\n * Chart.js v4.4.4\n * https://www.chartjs.org\n * (c) 2024 Chart.js Contributors\n * Released under the MIT License\n */\nimport { Color } from '@kurkle/color';\n\n/**\n * @namespace Chart.helpers\n */ /**\n * An empty function that can be used, for example, for optional callback.\n */ function noop() {\n/* noop */ }\n/**\n * Returns a unique id, sequentially generated from a global variable.\n */ const uid = (()=>{\n    let id = 0;\n    return ()=>id++;\n})();\n/**\n * Returns true if `value` is neither null nor undefined, else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */ function isNullOrUndef(value) {\n    return value === null || typeof value === 'undefined';\n}\n/**\n * Returns true if `value` is an array (including typed arrays), else returns false.\n * @param value - The value to test.\n * @function\n */ function isArray(value) {\n    if (Array.isArray && Array.isArray(value)) {\n        return true;\n    }\n    const type = Object.prototype.toString.call(value);\n    if (type.slice(0, 7) === '[object' && type.slice(-6) === 'Array]') {\n        return true;\n    }\n    return false;\n}\n/**\n * Returns true if `value` is an object (excluding null), else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */ function isObject(value) {\n    return value !== null && Object.prototype.toString.call(value) === '[object Object]';\n}\n/**\n * Returns true if `value` is a finite number, else returns false\n * @param value  - The value to test.\n */ function isNumberFinite(value) {\n    return (typeof value === 'number' || value instanceof Number) && isFinite(+value);\n}\n/**\n * Returns `value` if finite, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is not finite.\n */ function finiteOrDefault(value, defaultValue) {\n    return isNumberFinite(value) ? value : defaultValue;\n}\n/**\n * Returns `value` if defined, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is undefined.\n */ function valueOrDefault(value, defaultValue) {\n    return typeof value === 'undefined' ? defaultValue : value;\n}\nconst toPercentage = (value, dimension)=>typeof value === 'string' && value.endsWith('%') ? parseFloat(value) / 100 : +value / dimension;\nconst toDimension = (value, dimension)=>typeof value === 'string' && value.endsWith('%') ? parseFloat(value) / 100 * dimension : +value;\n/**\n * Calls `fn` with the given `args` in the scope defined by `thisArg` and returns the\n * value returned by `fn`. If `fn` is not a function, this method returns undefined.\n * @param fn - The function to call.\n * @param args - The arguments with which `fn` should be called.\n * @param [thisArg] - The value of `this` provided for the call to `fn`.\n */ function callback(fn, args, thisArg) {\n    if (fn && typeof fn.call === 'function') {\n        return fn.apply(thisArg, args);\n    }\n}\nfunction each(loopable, fn, thisArg, reverse) {\n    let i, len, keys;\n    if (isArray(loopable)) {\n        len = loopable.length;\n        if (reverse) {\n            for(i = len - 1; i >= 0; i--){\n                fn.call(thisArg, loopable[i], i);\n            }\n        } else {\n            for(i = 0; i < len; i++){\n                fn.call(thisArg, loopable[i], i);\n            }\n        }\n    } else if (isObject(loopable)) {\n        keys = Object.keys(loopable);\n        len = keys.length;\n        for(i = 0; i < len; i++){\n            fn.call(thisArg, loopable[keys[i]], keys[i]);\n        }\n    }\n}\n/**\n * Returns true if the `a0` and `a1` arrays have the same content, else returns false.\n * @param a0 - The array to compare\n * @param a1 - The array to compare\n * @private\n */ function _elementsEqual(a0, a1) {\n    let i, ilen, v0, v1;\n    if (!a0 || !a1 || a0.length !== a1.length) {\n        return false;\n    }\n    for(i = 0, ilen = a0.length; i < ilen; ++i){\n        v0 = a0[i];\n        v1 = a1[i];\n        if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Returns a deep copy of `source` without keeping references on objects and arrays.\n * @param source - The value to clone.\n */ function clone(source) {\n    if (isArray(source)) {\n        return source.map(clone);\n    }\n    if (isObject(source)) {\n        const target = Object.create(null);\n        const keys = Object.keys(source);\n        const klen = keys.length;\n        let k = 0;\n        for(; k < klen; ++k){\n            target[keys[k]] = clone(source[keys[k]]);\n        }\n        return target;\n    }\n    return source;\n}\nfunction isValidKey(key) {\n    return [\n        '__proto__',\n        'prototype',\n        'constructor'\n    ].indexOf(key) === -1;\n}\n/**\n * The default merger when Chart.helpers.merge is called without merger option.\n * Note(SB): also used by mergeConfig and mergeScaleConfig as fallback.\n * @private\n */ function _merger(key, target, source, options) {\n    if (!isValidKey(key)) {\n        return;\n    }\n    const tval = target[key];\n    const sval = source[key];\n    if (isObject(tval) && isObject(sval)) {\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        merge(tval, sval, options);\n    } else {\n        target[key] = clone(sval);\n    }\n}\nfunction merge(target, source, options) {\n    const sources = isArray(source) ? source : [\n        source\n    ];\n    const ilen = sources.length;\n    if (!isObject(target)) {\n        return target;\n    }\n    options = options || {};\n    const merger = options.merger || _merger;\n    let current;\n    for(let i = 0; i < ilen; ++i){\n        current = sources[i];\n        if (!isObject(current)) {\n            continue;\n        }\n        const keys = Object.keys(current);\n        for(let k = 0, klen = keys.length; k < klen; ++k){\n            merger(keys[k], target, current, options);\n        }\n    }\n    return target;\n}\nfunction mergeIf(target, source) {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    return merge(target, source, {\n        merger: _mergerIf\n    });\n}\n/**\n * Merges source[key] in target[key] only if target[key] is undefined.\n * @private\n */ function _mergerIf(key, target, source) {\n    if (!isValidKey(key)) {\n        return;\n    }\n    const tval = target[key];\n    const sval = source[key];\n    if (isObject(tval) && isObject(sval)) {\n        mergeIf(tval, sval);\n    } else if (!Object.prototype.hasOwnProperty.call(target, key)) {\n        target[key] = clone(sval);\n    }\n}\n/**\n * @private\n */ function _deprecated(scope, value, previous, current) {\n    if (value !== undefined) {\n        console.warn(scope + ': \"' + previous + '\" is deprecated. Please use \"' + current + '\" instead');\n    }\n}\n// resolveObjectKey resolver cache\nconst keyResolvers = {\n    // Chart.helpers.core resolveObjectKey should resolve empty key to root object\n    '': (v)=>v,\n    // default resolvers\n    x: (o)=>o.x,\n    y: (o)=>o.y\n};\n/**\n * @private\n */ function _splitKey(key) {\n    const parts = key.split('.');\n    const keys = [];\n    let tmp = '';\n    for (const part of parts){\n        tmp += part;\n        if (tmp.endsWith('\\\\')) {\n            tmp = tmp.slice(0, -1) + '.';\n        } else {\n            keys.push(tmp);\n            tmp = '';\n        }\n    }\n    return keys;\n}\nfunction _getKeyResolver(key) {\n    const keys = _splitKey(key);\n    return (obj)=>{\n        for (const k of keys){\n            if (k === '') {\n                break;\n            }\n            obj = obj && obj[k];\n        }\n        return obj;\n    };\n}\nfunction resolveObjectKey(obj, key) {\n    const resolver = keyResolvers[key] || (keyResolvers[key] = _getKeyResolver(key));\n    return resolver(obj);\n}\n/**\n * @private\n */ function _capitalize(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n}\nconst defined = (value)=>typeof value !== 'undefined';\nconst isFunction = (value)=>typeof value === 'function';\n// Adapted from https://stackoverflow.com/questions/31128855/comparing-ecma6-sets-for-equality#31129384\nconst setsEqual = (a, b)=>{\n    if (a.size !== b.size) {\n        return false;\n    }\n    for (const item of a){\n        if (!b.has(item)) {\n            return false;\n        }\n    }\n    return true;\n};\n/**\n * @param e - The event\n * @private\n */ function _isClickEvent(e) {\n    return e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu';\n}\n\n/**\n * @alias Chart.helpers.math\n * @namespace\n */ const PI = Math.PI;\nconst TAU = 2 * PI;\nconst PITAU = TAU + PI;\nconst INFINITY = Number.POSITIVE_INFINITY;\nconst RAD_PER_DEG = PI / 180;\nconst HALF_PI = PI / 2;\nconst QUARTER_PI = PI / 4;\nconst TWO_THIRDS_PI = PI * 2 / 3;\nconst log10 = Math.log10;\nconst sign = Math.sign;\nfunction almostEquals(x, y, epsilon) {\n    return Math.abs(x - y) < epsilon;\n}\n/**\n * Implementation of the nice number algorithm used in determining where axis labels will go\n */ function niceNum(range) {\n    const roundedRange = Math.round(range);\n    range = almostEquals(range, roundedRange, range / 1000) ? roundedRange : range;\n    const niceRange = Math.pow(10, Math.floor(log10(range)));\n    const fraction = range / niceRange;\n    const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;\n    return niceFraction * niceRange;\n}\n/**\n * Returns an array of factors sorted from 1 to sqrt(value)\n * @private\n */ function _factorize(value) {\n    const result = [];\n    const sqrt = Math.sqrt(value);\n    let i;\n    for(i = 1; i < sqrt; i++){\n        if (value % i === 0) {\n            result.push(i);\n            result.push(value / i);\n        }\n    }\n    if (sqrt === (sqrt | 0)) {\n        result.push(sqrt);\n    }\n    result.sort((a, b)=>a - b).pop();\n    return result;\n}\nfunction isNumber(n) {\n    return !isNaN(parseFloat(n)) && isFinite(n);\n}\nfunction almostWhole(x, epsilon) {\n    const rounded = Math.round(x);\n    return rounded - epsilon <= x && rounded + epsilon >= x;\n}\n/**\n * @private\n */ function _setMinAndMaxByKey(array, target, property) {\n    let i, ilen, value;\n    for(i = 0, ilen = array.length; i < ilen; i++){\n        value = array[i][property];\n        if (!isNaN(value)) {\n            target.min = Math.min(target.min, value);\n            target.max = Math.max(target.max, value);\n        }\n    }\n}\nfunction toRadians(degrees) {\n    return degrees * (PI / 180);\n}\nfunction toDegrees(radians) {\n    return radians * (180 / PI);\n}\n/**\n * Returns the number of decimal places\n * i.e. the number of digits after the decimal point, of the value of this Number.\n * @param x - A number.\n * @returns The number of decimal places.\n * @private\n */ function _decimalPlaces(x) {\n    if (!isNumberFinite(x)) {\n        return;\n    }\n    let e = 1;\n    let p = 0;\n    while(Math.round(x * e) / e !== x){\n        e *= 10;\n        p++;\n    }\n    return p;\n}\n// Gets the angle from vertical upright to the point about a centre.\nfunction getAngleFromPoint(centrePoint, anglePoint) {\n    const distanceFromXCenter = anglePoint.x - centrePoint.x;\n    const distanceFromYCenter = anglePoint.y - centrePoint.y;\n    const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n    let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n    if (angle < -0.5 * PI) {\n        angle += TAU; // make sure the returned angle is in the range of (-PI/2, 3PI/2]\n    }\n    return {\n        angle,\n        distance: radialDistanceFromCenter\n    };\n}\nfunction distanceBetweenPoints(pt1, pt2) {\n    return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n}\n/**\n * Shortest distance between angles, in either direction.\n * @private\n */ function _angleDiff(a, b) {\n    return (a - b + PITAU) % TAU - PI;\n}\n/**\n * Normalize angle to be between 0 and 2*PI\n * @private\n */ function _normalizeAngle(a) {\n    return (a % TAU + TAU) % TAU;\n}\n/**\n * @private\n */ function _angleBetween(angle, start, end, sameAngleIsFullCircle) {\n    const a = _normalizeAngle(angle);\n    const s = _normalizeAngle(start);\n    const e = _normalizeAngle(end);\n    const angleToStart = _normalizeAngle(s - a);\n    const angleToEnd = _normalizeAngle(e - a);\n    const startToAngle = _normalizeAngle(a - s);\n    const endToAngle = _normalizeAngle(a - e);\n    return a === s || a === e || sameAngleIsFullCircle && s === e || angleToStart > angleToEnd && startToAngle < endToAngle;\n}\n/**\n * Limit `value` between `min` and `max`\n * @param value\n * @param min\n * @param max\n * @private\n */ function _limitValue(value, min, max) {\n    return Math.max(min, Math.min(max, value));\n}\n/**\n * @param {number} value\n * @private\n */ function _int16Range(value) {\n    return _limitValue(value, -32768, 32767);\n}\n/**\n * @param value\n * @param start\n * @param end\n * @param [epsilon]\n * @private\n */ function _isBetween(value, start, end, epsilon = 1e-6) {\n    return value >= Math.min(start, end) - epsilon && value <= Math.max(start, end) + epsilon;\n}\n\nfunction _lookup(table, value, cmp) {\n    cmp = cmp || ((index)=>table[index] < value);\n    let hi = table.length - 1;\n    let lo = 0;\n    let mid;\n    while(hi - lo > 1){\n        mid = lo + hi >> 1;\n        if (cmp(mid)) {\n            lo = mid;\n        } else {\n            hi = mid;\n        }\n    }\n    return {\n        lo,\n        hi\n    };\n}\n/**\n * Binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @param last - lookup last index\n * @private\n */ const _lookupByKey = (table, key, value, last)=>_lookup(table, value, last ? (index)=>{\n        const ti = table[index][key];\n        return ti < value || ti === value && table[index + 1][key] === value;\n    } : (index)=>table[index][key] < value);\n/**\n * Reverse binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @private\n */ const _rlookupByKey = (table, key, value)=>_lookup(table, value, (index)=>table[index][key] >= value);\n/**\n * Return subset of `values` between `min` and `max` inclusive.\n * Values are assumed to be in sorted order.\n * @param values - sorted array of values\n * @param min - min value\n * @param max - max value\n */ function _filterBetween(values, min, max) {\n    let start = 0;\n    let end = values.length;\n    while(start < end && values[start] < min){\n        start++;\n    }\n    while(end > start && values[end - 1] > max){\n        end--;\n    }\n    return start > 0 || end < values.length ? values.slice(start, end) : values;\n}\nconst arrayEvents = [\n    'push',\n    'pop',\n    'shift',\n    'splice',\n    'unshift'\n];\nfunction listenArrayEvents(array, listener) {\n    if (array._chartjs) {\n        array._chartjs.listeners.push(listener);\n        return;\n    }\n    Object.defineProperty(array, '_chartjs', {\n        configurable: true,\n        enumerable: false,\n        value: {\n            listeners: [\n                listener\n            ]\n        }\n    });\n    arrayEvents.forEach((key)=>{\n        const method = '_onData' + _capitalize(key);\n        const base = array[key];\n        Object.defineProperty(array, key, {\n            configurable: true,\n            enumerable: false,\n            value (...args) {\n                const res = base.apply(this, args);\n                array._chartjs.listeners.forEach((object)=>{\n                    if (typeof object[method] === 'function') {\n                        object[method](...args);\n                    }\n                });\n                return res;\n            }\n        });\n    });\n}\nfunction unlistenArrayEvents(array, listener) {\n    const stub = array._chartjs;\n    if (!stub) {\n        return;\n    }\n    const listeners = stub.listeners;\n    const index = listeners.indexOf(listener);\n    if (index !== -1) {\n        listeners.splice(index, 1);\n    }\n    if (listeners.length > 0) {\n        return;\n    }\n    arrayEvents.forEach((key)=>{\n        delete array[key];\n    });\n    delete array._chartjs;\n}\n/**\n * @param items\n */ function _arrayUnique(items) {\n    const set = new Set(items);\n    if (set.size === items.length) {\n        return items;\n    }\n    return Array.from(set);\n}\n\nfunction fontString(pixelSize, fontStyle, fontFamily) {\n    return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n}\n/**\n* Request animation polyfill\n*/ const requestAnimFrame = function() {\n    if (typeof window === 'undefined') {\n        return function(callback) {\n            return callback();\n        };\n    }\n    return window.requestAnimationFrame;\n}();\n/**\n * Throttles calling `fn` once per animation frame\n * Latest arguments are used on the actual call\n */ function throttled(fn, thisArg) {\n    let argsToUse = [];\n    let ticking = false;\n    return function(...args) {\n        // Save the args for use later\n        argsToUse = args;\n        if (!ticking) {\n            ticking = true;\n            requestAnimFrame.call(window, ()=>{\n                ticking = false;\n                fn.apply(thisArg, argsToUse);\n            });\n        }\n    };\n}\n/**\n * Debounces calling `fn` for `delay` ms\n */ function debounce(fn, delay) {\n    let timeout;\n    return function(...args) {\n        if (delay) {\n            clearTimeout(timeout);\n            timeout = setTimeout(fn, delay, args);\n        } else {\n            fn.apply(this, args);\n        }\n        return delay;\n    };\n}\n/**\n * Converts 'start' to 'left', 'end' to 'right' and others to 'center'\n * @private\n */ const _toLeftRightCenter = (align)=>align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';\n/**\n * Returns `start`, `end` or `(start + end) / 2` depending on `align`. Defaults to `center`\n * @private\n */ const _alignStartEnd = (align, start, end)=>align === 'start' ? start : align === 'end' ? end : (start + end) / 2;\n/**\n * Returns `left`, `right` or `(left + right) / 2` depending on `align`. Defaults to `left`\n * @private\n */ const _textX = (align, left, right, rtl)=>{\n    const check = rtl ? 'left' : 'right';\n    return align === check ? right : align === 'center' ? (left + right) / 2 : left;\n};\n/**\n * Return start and count of visible points.\n * @private\n */ function _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled) {\n    const pointCount = points.length;\n    let start = 0;\n    let count = pointCount;\n    if (meta._sorted) {\n        const { iScale , _parsed  } = meta;\n        const axis = iScale.axis;\n        const { min , max , minDefined , maxDefined  } = iScale.getUserBounds();\n        if (minDefined) {\n            start = _limitValue(Math.min(// @ts-expect-error Need to type _parsed\n            _lookupByKey(_parsed, axis, min).lo, // @ts-expect-error Need to fix types on _lookupByKey\n            animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo), 0, pointCount - 1);\n        }\n        if (maxDefined) {\n            count = _limitValue(Math.max(// @ts-expect-error Need to type _parsed\n            _lookupByKey(_parsed, iScale.axis, max, true).hi + 1, // @ts-expect-error Need to fix types on _lookupByKey\n            animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max), true).hi + 1), start, pointCount) - start;\n        } else {\n            count = pointCount - start;\n        }\n    }\n    return {\n        start,\n        count\n    };\n}\n/**\n * Checks if the scale ranges have changed.\n * @param {object} meta - dataset meta.\n * @returns {boolean}\n * @private\n */ function _scaleRangesChanged(meta) {\n    const { xScale , yScale , _scaleRanges  } = meta;\n    const newRanges = {\n        xmin: xScale.min,\n        xmax: xScale.max,\n        ymin: yScale.min,\n        ymax: yScale.max\n    };\n    if (!_scaleRanges) {\n        meta._scaleRanges = newRanges;\n        return true;\n    }\n    const changed = _scaleRanges.xmin !== xScale.min || _scaleRanges.xmax !== xScale.max || _scaleRanges.ymin !== yScale.min || _scaleRanges.ymax !== yScale.max;\n    Object.assign(_scaleRanges, newRanges);\n    return changed;\n}\n\nconst atEdge = (t)=>t === 0 || t === 1;\nconst elasticIn = (t, s, p)=>-(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));\nconst elasticOut = (t, s, p)=>Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;\n/**\n * Easing functions adapted from Robert Penner's easing equations.\n * @namespace Chart.helpers.easing.effects\n * @see http://www.robertpenner.com/easing/\n */ const effects = {\n    linear: (t)=>t,\n    easeInQuad: (t)=>t * t,\n    easeOutQuad: (t)=>-t * (t - 2),\n    easeInOutQuad: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t : -0.5 * (--t * (t - 2) - 1),\n    easeInCubic: (t)=>t * t * t,\n    easeOutCubic: (t)=>(t -= 1) * t * t + 1,\n    easeInOutCubic: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t * t : 0.5 * ((t -= 2) * t * t + 2),\n    easeInQuart: (t)=>t * t * t * t,\n    easeOutQuart: (t)=>-((t -= 1) * t * t * t - 1),\n    easeInOutQuart: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t * t * t : -0.5 * ((t -= 2) * t * t * t - 2),\n    easeInQuint: (t)=>t * t * t * t * t,\n    easeOutQuint: (t)=>(t -= 1) * t * t * t * t + 1,\n    easeInOutQuint: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t * t * t * t : 0.5 * ((t -= 2) * t * t * t * t + 2),\n    easeInSine: (t)=>-Math.cos(t * HALF_PI) + 1,\n    easeOutSine: (t)=>Math.sin(t * HALF_PI),\n    easeInOutSine: (t)=>-0.5 * (Math.cos(PI * t) - 1),\n    easeInExpo: (t)=>t === 0 ? 0 : Math.pow(2, 10 * (t - 1)),\n    easeOutExpo: (t)=>t === 1 ? 1 : -Math.pow(2, -10 * t) + 1,\n    easeInOutExpo: (t)=>atEdge(t) ? t : t < 0.5 ? 0.5 * Math.pow(2, 10 * (t * 2 - 1)) : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),\n    easeInCirc: (t)=>t >= 1 ? t : -(Math.sqrt(1 - t * t) - 1),\n    easeOutCirc: (t)=>Math.sqrt(1 - (t -= 1) * t),\n    easeInOutCirc: (t)=>(t /= 0.5) < 1 ? -0.5 * (Math.sqrt(1 - t * t) - 1) : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),\n    easeInElastic: (t)=>atEdge(t) ? t : elasticIn(t, 0.075, 0.3),\n    easeOutElastic: (t)=>atEdge(t) ? t : elasticOut(t, 0.075, 0.3),\n    easeInOutElastic (t) {\n        const s = 0.1125;\n        const p = 0.45;\n        return atEdge(t) ? t : t < 0.5 ? 0.5 * elasticIn(t * 2, s, p) : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);\n    },\n    easeInBack (t) {\n        const s = 1.70158;\n        return t * t * ((s + 1) * t - s);\n    },\n    easeOutBack (t) {\n        const s = 1.70158;\n        return (t -= 1) * t * ((s + 1) * t + s) + 1;\n    },\n    easeInOutBack (t) {\n        let s = 1.70158;\n        if ((t /= 0.5) < 1) {\n            return 0.5 * (t * t * (((s *= 1.525) + 1) * t - s));\n        }\n        return 0.5 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2);\n    },\n    easeInBounce: (t)=>1 - effects.easeOutBounce(1 - t),\n    easeOutBounce (t) {\n        const m = 7.5625;\n        const d = 2.75;\n        if (t < 1 / d) {\n            return m * t * t;\n        }\n        if (t < 2 / d) {\n            return m * (t -= 1.5 / d) * t + 0.75;\n        }\n        if (t < 2.5 / d) {\n            return m * (t -= 2.25 / d) * t + 0.9375;\n        }\n        return m * (t -= 2.625 / d) * t + 0.984375;\n    },\n    easeInOutBounce: (t)=>t < 0.5 ? effects.easeInBounce(t * 2) * 0.5 : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5\n};\n\nfunction isPatternOrGradient(value) {\n    if (value && typeof value === 'object') {\n        const type = value.toString();\n        return type === '[object CanvasPattern]' || type === '[object CanvasGradient]';\n    }\n    return false;\n}\nfunction color(value) {\n    return isPatternOrGradient(value) ? value : new Color(value);\n}\nfunction getHoverColor(value) {\n    return isPatternOrGradient(value) ? value : new Color(value).saturate(0.5).darken(0.1).hexString();\n}\n\nconst numbers = [\n    'x',\n    'y',\n    'borderWidth',\n    'radius',\n    'tension'\n];\nconst colors = [\n    'color',\n    'borderColor',\n    'backgroundColor'\n];\nfunction applyAnimationsDefaults(defaults) {\n    defaults.set('animation', {\n        delay: undefined,\n        duration: 1000,\n        easing: 'easeOutQuart',\n        fn: undefined,\n        from: undefined,\n        loop: undefined,\n        to: undefined,\n        type: undefined\n    });\n    defaults.describe('animation', {\n        _fallback: false,\n        _indexable: false,\n        _scriptable: (name)=>name !== 'onProgress' && name !== 'onComplete' && name !== 'fn'\n    });\n    defaults.set('animations', {\n        colors: {\n            type: 'color',\n            properties: colors\n        },\n        numbers: {\n            type: 'number',\n            properties: numbers\n        }\n    });\n    defaults.describe('animations', {\n        _fallback: 'animation'\n    });\n    defaults.set('transitions', {\n        active: {\n            animation: {\n                duration: 400\n            }\n        },\n        resize: {\n            animation: {\n                duration: 0\n            }\n        },\n        show: {\n            animations: {\n                colors: {\n                    from: 'transparent'\n                },\n                visible: {\n                    type: 'boolean',\n                    duration: 0\n                }\n            }\n        },\n        hide: {\n            animations: {\n                colors: {\n                    to: 'transparent'\n                },\n                visible: {\n                    type: 'boolean',\n                    easing: 'linear',\n                    fn: (v)=>v | 0\n                }\n            }\n        }\n    });\n}\n\nfunction applyLayoutsDefaults(defaults) {\n    defaults.set('layout', {\n        autoPadding: true,\n        padding: {\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0\n        }\n    });\n}\n\nconst intlCache = new Map();\nfunction getNumberFormat(locale, options) {\n    options = options || {};\n    const cacheKey = locale + JSON.stringify(options);\n    let formatter = intlCache.get(cacheKey);\n    if (!formatter) {\n        formatter = new Intl.NumberFormat(locale, options);\n        intlCache.set(cacheKey, formatter);\n    }\n    return formatter;\n}\nfunction formatNumber(num, locale, options) {\n    return getNumberFormat(locale, options).format(num);\n}\n\nconst formatters = {\n values (value) {\n        return isArray(value) ?  value : '' + value;\n    },\n numeric (tickValue, index, ticks) {\n        if (tickValue === 0) {\n            return '0';\n        }\n        const locale = this.chart.options.locale;\n        let notation;\n        let delta = tickValue;\n        if (ticks.length > 1) {\n            const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n            if (maxTick < 1e-4 || maxTick > 1e+15) {\n                notation = 'scientific';\n            }\n            delta = calculateDelta(tickValue, ticks);\n        }\n        const logDelta = log10(Math.abs(delta));\n        const numDecimal = isNaN(logDelta) ? 1 : Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n        const options = {\n            notation,\n            minimumFractionDigits: numDecimal,\n            maximumFractionDigits: numDecimal\n        };\n        Object.assign(options, this.options.ticks.format);\n        return formatNumber(tickValue, locale, options);\n    },\n logarithmic (tickValue, index, ticks) {\n        if (tickValue === 0) {\n            return '0';\n        }\n        const remain = ticks[index].significand || tickValue / Math.pow(10, Math.floor(log10(tickValue)));\n        if ([\n            1,\n            2,\n            3,\n            5,\n            10,\n            15\n        ].includes(remain) || index > 0.8 * ticks.length) {\n            return formatters.numeric.call(this, tickValue, index, ticks);\n        }\n        return '';\n    }\n};\nfunction calculateDelta(tickValue, ticks) {\n    let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n    if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {\n        delta = tickValue - Math.floor(tickValue);\n    }\n    return delta;\n}\n var Ticks = {\n    formatters\n};\n\nfunction applyScaleDefaults(defaults) {\n    defaults.set('scale', {\n        display: true,\n        offset: false,\n        reverse: false,\n        beginAtZero: false,\n bounds: 'ticks',\n        clip: true,\n grace: 0,\n        grid: {\n            display: true,\n            lineWidth: 1,\n            drawOnChartArea: true,\n            drawTicks: true,\n            tickLength: 8,\n            tickWidth: (_ctx, options)=>options.lineWidth,\n            tickColor: (_ctx, options)=>options.color,\n            offset: false\n        },\n        border: {\n            display: true,\n            dash: [],\n            dashOffset: 0.0,\n            width: 1\n        },\n        title: {\n            display: false,\n            text: '',\n            padding: {\n                top: 4,\n                bottom: 4\n            }\n        },\n        ticks: {\n            minRotation: 0,\n            maxRotation: 50,\n            mirror: false,\n            textStrokeWidth: 0,\n            textStrokeColor: '',\n            padding: 3,\n            display: true,\n            autoSkip: true,\n            autoSkipPadding: 3,\n            labelOffset: 0,\n            callback: Ticks.formatters.values,\n            minor: {},\n            major: {},\n            align: 'center',\n            crossAlign: 'near',\n            showLabelBackdrop: false,\n            backdropColor: 'rgba(255, 255, 255, 0.75)',\n            backdropPadding: 2\n        }\n    });\n    defaults.route('scale.ticks', 'color', '', 'color');\n    defaults.route('scale.grid', 'color', '', 'borderColor');\n    defaults.route('scale.border', 'color', '', 'borderColor');\n    defaults.route('scale.title', 'color', '', 'color');\n    defaults.describe('scale', {\n        _fallback: false,\n        _scriptable: (name)=>!name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser',\n        _indexable: (name)=>name !== 'borderDash' && name !== 'tickBorderDash' && name !== 'dash'\n    });\n    defaults.describe('scales', {\n        _fallback: 'scale'\n    });\n    defaults.describe('scale.ticks', {\n        _scriptable: (name)=>name !== 'backdropPadding' && name !== 'callback',\n        _indexable: (name)=>name !== 'backdropPadding'\n    });\n}\n\nconst overrides = Object.create(null);\nconst descriptors = Object.create(null);\n function getScope$1(node, key) {\n    if (!key) {\n        return node;\n    }\n    const keys = key.split('.');\n    for(let i = 0, n = keys.length; i < n; ++i){\n        const k = keys[i];\n        node = node[k] || (node[k] = Object.create(null));\n    }\n    return node;\n}\nfunction set(root, scope, values) {\n    if (typeof scope === 'string') {\n        return merge(getScope$1(root, scope), values);\n    }\n    return merge(getScope$1(root, ''), scope);\n}\n class Defaults {\n    constructor(_descriptors, _appliers){\n        this.animation = undefined;\n        this.backgroundColor = 'rgba(0,0,0,0.1)';\n        this.borderColor = 'rgba(0,0,0,0.1)';\n        this.color = '#666';\n        this.datasets = {};\n        this.devicePixelRatio = (context)=>context.chart.platform.getDevicePixelRatio();\n        this.elements = {};\n        this.events = [\n            'mousemove',\n            'mouseout',\n            'click',\n            'touchstart',\n            'touchmove'\n        ];\n        this.font = {\n            family: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n            size: 12,\n            style: 'normal',\n            lineHeight: 1.2,\n            weight: null\n        };\n        this.hover = {};\n        this.hoverBackgroundColor = (ctx, options)=>getHoverColor(options.backgroundColor);\n        this.hoverBorderColor = (ctx, options)=>getHoverColor(options.borderColor);\n        this.hoverColor = (ctx, options)=>getHoverColor(options.color);\n        this.indexAxis = 'x';\n        this.interaction = {\n            mode: 'nearest',\n            intersect: true,\n            includeInvisible: false\n        };\n        this.maintainAspectRatio = true;\n        this.onHover = null;\n        this.onClick = null;\n        this.parsing = true;\n        this.plugins = {};\n        this.responsive = true;\n        this.scale = undefined;\n        this.scales = {};\n        this.showLine = true;\n        this.drawActiveElementsOnTop = true;\n        this.describe(_descriptors);\n        this.apply(_appliers);\n    }\n set(scope, values) {\n        return set(this, scope, values);\n    }\n get(scope) {\n        return getScope$1(this, scope);\n    }\n describe(scope, values) {\n        return set(descriptors, scope, values);\n    }\n    override(scope, values) {\n        return set(overrides, scope, values);\n    }\n route(scope, name, targetScope, targetName) {\n        const scopeObject = getScope$1(this, scope);\n        const targetScopeObject = getScope$1(this, targetScope);\n        const privateName = '_' + name;\n        Object.defineProperties(scopeObject, {\n            [privateName]: {\n                value: scopeObject[name],\n                writable: true\n            },\n            [name]: {\n                enumerable: true,\n                get () {\n                    const local = this[privateName];\n                    const target = targetScopeObject[targetName];\n                    if (isObject(local)) {\n                        return Object.assign({}, target, local);\n                    }\n                    return valueOrDefault(local, target);\n                },\n                set (value) {\n                    this[privateName] = value;\n                }\n            }\n        });\n    }\n    apply(appliers) {\n        appliers.forEach((apply)=>apply(this));\n    }\n}\nvar defaults = /* #__PURE__ */ new Defaults({\n    _scriptable: (name)=>!name.startsWith('on'),\n    _indexable: (name)=>name !== 'events',\n    hover: {\n        _fallback: 'interaction'\n    },\n    interaction: {\n        _scriptable: false,\n        _indexable: false\n    }\n}, [\n    applyAnimationsDefaults,\n    applyLayoutsDefaults,\n    applyScaleDefaults\n]);\n\n/**\n * Converts the given font object into a CSS font string.\n * @param font - A font object.\n * @return The CSS font string. See https://developer.mozilla.org/en-US/docs/Web/CSS/font\n * @private\n */ function toFontString(font) {\n    if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {\n        return null;\n    }\n    return (font.style ? font.style + ' ' : '') + (font.weight ? font.weight + ' ' : '') + font.size + 'px ' + font.family;\n}\n/**\n * @private\n */ function _measureText(ctx, data, gc, longest, string) {\n    let textWidth = data[string];\n    if (!textWidth) {\n        textWidth = data[string] = ctx.measureText(string).width;\n        gc.push(string);\n    }\n    if (textWidth > longest) {\n        longest = textWidth;\n    }\n    return longest;\n}\n/**\n * @private\n */ // eslint-disable-next-line complexity\nfunction _longestText(ctx, font, arrayOfThings, cache) {\n    cache = cache || {};\n    let data = cache.data = cache.data || {};\n    let gc = cache.garbageCollect = cache.garbageCollect || [];\n    if (cache.font !== font) {\n        data = cache.data = {};\n        gc = cache.garbageCollect = [];\n        cache.font = font;\n    }\n    ctx.save();\n    ctx.font = font;\n    let longest = 0;\n    const ilen = arrayOfThings.length;\n    let i, j, jlen, thing, nestedThing;\n    for(i = 0; i < ilen; i++){\n        thing = arrayOfThings[i];\n        // Undefined strings and arrays should not be measured\n        if (thing !== undefined && thing !== null && !isArray(thing)) {\n            longest = _measureText(ctx, data, gc, longest, thing);\n        } else if (isArray(thing)) {\n            // if it is an array lets measure each element\n            // to do maybe simplify this function a bit so we can do this more recursively?\n            for(j = 0, jlen = thing.length; j < jlen; j++){\n                nestedThing = thing[j];\n                // Undefined strings and arrays should not be measured\n                if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {\n                    longest = _measureText(ctx, data, gc, longest, nestedThing);\n                }\n            }\n        }\n    }\n    ctx.restore();\n    const gcLen = gc.length / 2;\n    if (gcLen > arrayOfThings.length) {\n        for(i = 0; i < gcLen; i++){\n            delete data[gc[i]];\n        }\n        gc.splice(0, gcLen);\n    }\n    return longest;\n}\n/**\n * Returns the aligned pixel value to avoid anti-aliasing blur\n * @param chart - The chart instance.\n * @param pixel - A pixel value.\n * @param width - The width of the element.\n * @returns The aligned pixel value.\n * @private\n */ function _alignPixel(chart, pixel, width) {\n    const devicePixelRatio = chart.currentDevicePixelRatio;\n    const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;\n    return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\n}\n/**\n * Clears the entire canvas.\n */ function clearCanvas(canvas, ctx) {\n    if (!ctx && !canvas) {\n        return;\n    }\n    ctx = ctx || canvas.getContext('2d');\n    ctx.save();\n    // canvas.width and canvas.height do not consider the canvas transform,\n    // while clearRect does\n    ctx.resetTransform();\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.restore();\n}\nfunction drawPoint(ctx, options, x, y) {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    drawPointLegend(ctx, options, x, y, null);\n}\n// eslint-disable-next-line complexity\nfunction drawPointLegend(ctx, options, x, y, w) {\n    let type, xOffset, yOffset, size, cornerRadius, width, xOffsetW, yOffsetW;\n    const style = options.pointStyle;\n    const rotation = options.rotation;\n    const radius = options.radius;\n    let rad = (rotation || 0) * RAD_PER_DEG;\n    if (style && typeof style === 'object') {\n        type = style.toString();\n        if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n            ctx.save();\n            ctx.translate(x, y);\n            ctx.rotate(rad);\n            ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n            ctx.restore();\n            return;\n        }\n    }\n    if (isNaN(radius) || radius <= 0) {\n        return;\n    }\n    ctx.beginPath();\n    switch(style){\n        // Default includes circle\n        default:\n            if (w) {\n                ctx.ellipse(x, y, w / 2, radius, 0, 0, TAU);\n            } else {\n                ctx.arc(x, y, radius, 0, TAU);\n            }\n            ctx.closePath();\n            break;\n        case 'triangle':\n            width = w ? w / 2 : radius;\n            ctx.moveTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n            rad += TWO_THIRDS_PI;\n            ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n            rad += TWO_THIRDS_PI;\n            ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n            ctx.closePath();\n            break;\n        case 'rectRounded':\n            // NOTE: the rounded rect implementation changed to use `arc` instead of\n            // `quadraticCurveTo` since it generates better results when rect is\n            // almost a circle. 0.516 (instead of 0.5) produces results with visually\n            // closer proportion to the previous impl and it is inscribed in the\n            // circle with `radius`. For more details, see the following PRs:\n            // https://github.com/chartjs/Chart.js/issues/5597\n            // https://github.com/chartjs/Chart.js/issues/5858\n            cornerRadius = radius * 0.516;\n            size = radius - cornerRadius;\n            xOffset = Math.cos(rad + QUARTER_PI) * size;\n            xOffsetW = Math.cos(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n            yOffset = Math.sin(rad + QUARTER_PI) * size;\n            yOffsetW = Math.sin(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n            ctx.arc(x - xOffsetW, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n            ctx.arc(x + yOffsetW, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n            ctx.arc(x + xOffsetW, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n            ctx.arc(x - yOffsetW, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n            ctx.closePath();\n            break;\n        case 'rect':\n            if (!rotation) {\n                size = Math.SQRT1_2 * radius;\n                width = w ? w / 2 : size;\n                ctx.rect(x - width, y - size, 2 * width, 2 * size);\n                break;\n            }\n            rad += QUARTER_PI;\n        /* falls through */ case 'rectRot':\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            ctx.closePath();\n            break;\n        case 'crossRot':\n            rad += QUARTER_PI;\n        /* falls through */ case 'cross':\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.moveTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            break;\n        case 'star':\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.moveTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            rad += QUARTER_PI;\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.moveTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            break;\n        case 'line':\n            xOffset = w ? w / 2 : Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            ctx.moveTo(x - xOffset, y - yOffset);\n            ctx.lineTo(x + xOffset, y + yOffset);\n            break;\n        case 'dash':\n            ctx.moveTo(x, y);\n            ctx.lineTo(x + Math.cos(rad) * (w ? w / 2 : radius), y + Math.sin(rad) * radius);\n            break;\n        case false:\n            ctx.closePath();\n            break;\n    }\n    ctx.fill();\n    if (options.borderWidth > 0) {\n        ctx.stroke();\n    }\n}\n/**\n * Returns true if the point is inside the rectangle\n * @param point - The point to test\n * @param area - The rectangle\n * @param margin - allowed margin\n * @private\n */ function _isPointInArea(point, area, margin) {\n    margin = margin || 0.5; // margin - default is to match rounded decimals\n    return !area || point && point.x > area.left - margin && point.x < area.right + margin && point.y > area.top - margin && point.y < area.bottom + margin;\n}\nfunction clipArea(ctx, area) {\n    ctx.save();\n    ctx.beginPath();\n    ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\n    ctx.clip();\n}\nfunction unclipArea(ctx) {\n    ctx.restore();\n}\n/**\n * @private\n */ function _steppedLineTo(ctx, previous, target, flip, mode) {\n    if (!previous) {\n        return ctx.lineTo(target.x, target.y);\n    }\n    if (mode === 'middle') {\n        const midpoint = (previous.x + target.x) / 2.0;\n        ctx.lineTo(midpoint, previous.y);\n        ctx.lineTo(midpoint, target.y);\n    } else if (mode === 'after' !== !!flip) {\n        ctx.lineTo(previous.x, target.y);\n    } else {\n        ctx.lineTo(target.x, previous.y);\n    }\n    ctx.lineTo(target.x, target.y);\n}\n/**\n * @private\n */ function _bezierCurveTo(ctx, previous, target, flip) {\n    if (!previous) {\n        return ctx.lineTo(target.x, target.y);\n    }\n    ctx.bezierCurveTo(flip ? previous.cp1x : previous.cp2x, flip ? previous.cp1y : previous.cp2y, flip ? target.cp2x : target.cp1x, flip ? target.cp2y : target.cp1y, target.x, target.y);\n}\nfunction setRenderOpts(ctx, opts) {\n    if (opts.translation) {\n        ctx.translate(opts.translation[0], opts.translation[1]);\n    }\n    if (!isNullOrUndef(opts.rotation)) {\n        ctx.rotate(opts.rotation);\n    }\n    if (opts.color) {\n        ctx.fillStyle = opts.color;\n    }\n    if (opts.textAlign) {\n        ctx.textAlign = opts.textAlign;\n    }\n    if (opts.textBaseline) {\n        ctx.textBaseline = opts.textBaseline;\n    }\n}\nfunction decorateText(ctx, x, y, line, opts) {\n    if (opts.strikethrough || opts.underline) {\n        /**\n     * Now that IE11 support has been dropped, we can use more\n     * of the TextMetrics object. The actual bounding boxes\n     * are unflagged in Chrome, Firefox, Edge, and Safari so they\n     * can be safely used.\n     * See https://developer.mozilla.org/en-US/docs/Web/API/TextMetrics#Browser_compatibility\n     */ const metrics = ctx.measureText(line);\n        const left = x - metrics.actualBoundingBoxLeft;\n        const right = x + metrics.actualBoundingBoxRight;\n        const top = y - metrics.actualBoundingBoxAscent;\n        const bottom = y + metrics.actualBoundingBoxDescent;\n        const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;\n        ctx.strokeStyle = ctx.fillStyle;\n        ctx.beginPath();\n        ctx.lineWidth = opts.decorationWidth || 2;\n        ctx.moveTo(left, yDecoration);\n        ctx.lineTo(right, yDecoration);\n        ctx.stroke();\n    }\n}\nfunction drawBackdrop(ctx, opts) {\n    const oldColor = ctx.fillStyle;\n    ctx.fillStyle = opts.color;\n    ctx.fillRect(opts.left, opts.top, opts.width, opts.height);\n    ctx.fillStyle = oldColor;\n}\n/**\n * Render text onto the canvas\n */ function renderText(ctx, text, x, y, font, opts = {}) {\n    const lines = isArray(text) ? text : [\n        text\n    ];\n    const stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';\n    let i, line;\n    ctx.save();\n    ctx.font = font.string;\n    setRenderOpts(ctx, opts);\n    for(i = 0; i < lines.length; ++i){\n        line = lines[i];\n        if (opts.backdrop) {\n            drawBackdrop(ctx, opts.backdrop);\n        }\n        if (stroke) {\n            if (opts.strokeColor) {\n                ctx.strokeStyle = opts.strokeColor;\n            }\n            if (!isNullOrUndef(opts.strokeWidth)) {\n                ctx.lineWidth = opts.strokeWidth;\n            }\n            ctx.strokeText(line, x, y, opts.maxWidth);\n        }\n        ctx.fillText(line, x, y, opts.maxWidth);\n        decorateText(ctx, x, y, line, opts);\n        y += Number(font.lineHeight);\n    }\n    ctx.restore();\n}\n/**\n * Add a path of a rectangle with rounded corners to the current sub-path\n * @param ctx - Context\n * @param rect - Bounding rect\n */ function addRoundedRectPath(ctx, rect) {\n    const { x , y , w , h , radius  } = rect;\n    // top left arc\n    ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, 1.5 * PI, PI, true);\n    // line from top left to bottom left\n    ctx.lineTo(x, y + h - radius.bottomLeft);\n    // bottom left arc\n    ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);\n    // line from bottom left to bottom right\n    ctx.lineTo(x + w - radius.bottomRight, y + h);\n    // bottom right arc\n    ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);\n    // line from bottom right to top right\n    ctx.lineTo(x + w, y + radius.topRight);\n    // top right arc\n    ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);\n    // line from top right to top left\n    ctx.lineTo(x + radius.topLeft, y);\n}\n\nconst LINE_HEIGHT = /^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/;\nconst FONT_STYLE = /^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;\n/**\n * @alias Chart.helpers.options\n * @namespace\n */ /**\n * Converts the given line height `value` in pixels for a specific font `size`.\n * @param value - The lineHeight to parse (eg. 1.6, '14px', '75%', '1.6em').\n * @param size - The font size (in pixels) used to resolve relative `value`.\n * @returns The effective line height in pixels (size * 1.2 if value is invalid).\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/line-height\n * @since 2.7.0\n */ function toLineHeight(value, size) {\n    const matches = ('' + value).match(LINE_HEIGHT);\n    if (!matches || matches[1] === 'normal') {\n        return size * 1.2;\n    }\n    value = +matches[2];\n    switch(matches[3]){\n        case 'px':\n            return value;\n        case '%':\n            value /= 100;\n            break;\n    }\n    return size * value;\n}\nconst numberOrZero = (v)=>+v || 0;\nfunction _readValueToProps(value, props) {\n    const ret = {};\n    const objProps = isObject(props);\n    const keys = objProps ? Object.keys(props) : props;\n    const read = isObject(value) ? objProps ? (prop)=>valueOrDefault(value[prop], value[props[prop]]) : (prop)=>value[prop] : ()=>value;\n    for (const prop of keys){\n        ret[prop] = numberOrZero(read(prop));\n    }\n    return ret;\n}\n/**\n * Converts the given value into a TRBL object.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left)\n * @since 3.0.0\n */ function toTRBL(value) {\n    return _readValueToProps(value, {\n        top: 'y',\n        right: 'x',\n        bottom: 'y',\n        left: 'x'\n    });\n}\n/**\n * Converts the given value into a TRBL corners object (similar with css border-radius).\n * @param value - If a number, set the value to all TRBL corner components,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n * @returns The TRBL corner values (topLeft, topRight, bottomLeft, bottomRight)\n * @since 3.0.0\n */ function toTRBLCorners(value) {\n    return _readValueToProps(value, [\n        'topLeft',\n        'topRight',\n        'bottomLeft',\n        'bottomRight'\n    ]);\n}\n/**\n * Converts the given value into a padding object with pre-computed width/height.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left, width, height)\n * @since 2.7.0\n */ function toPadding(value) {\n    const obj = toTRBL(value);\n    obj.width = obj.left + obj.right;\n    obj.height = obj.top + obj.bottom;\n    return obj;\n}\n/**\n * Parses font options and returns the font object.\n * @param options - A object that contains font options to be parsed.\n * @param fallback - A object that contains fallback font options.\n * @return The font object.\n * @private\n */ function toFont(options, fallback) {\n    options = options || {};\n    fallback = fallback || defaults.font;\n    let size = valueOrDefault(options.size, fallback.size);\n    if (typeof size === 'string') {\n        size = parseInt(size, 10);\n    }\n    let style = valueOrDefault(options.style, fallback.style);\n    if (style && !('' + style).match(FONT_STYLE)) {\n        console.warn('Invalid font style specified: \"' + style + '\"');\n        style = undefined;\n    }\n    const font = {\n        family: valueOrDefault(options.family, fallback.family),\n        lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),\n        size,\n        style,\n        weight: valueOrDefault(options.weight, fallback.weight),\n        string: ''\n    };\n    font.string = toFontString(font);\n    return font;\n}\n/**\n * Evaluates the given `inputs` sequentially and returns the first defined value.\n * @param inputs - An array of values, falling back to the last value.\n * @param context - If defined and the current value is a function, the value\n * is called with `context` as first argument and the result becomes the new input.\n * @param index - If defined and the current value is an array, the value\n * at `index` become the new input.\n * @param info - object to return information about resolution in\n * @param info.cacheable - Will be set to `false` if option is not cacheable.\n * @since 2.7.0\n */ function resolve(inputs, context, index, info) {\n    let cacheable = true;\n    let i, ilen, value;\n    for(i = 0, ilen = inputs.length; i < ilen; ++i){\n        value = inputs[i];\n        if (value === undefined) {\n            continue;\n        }\n        if (context !== undefined && typeof value === 'function') {\n            value = value(context);\n            cacheable = false;\n        }\n        if (index !== undefined && isArray(value)) {\n            value = value[index % value.length];\n            cacheable = false;\n        }\n        if (value !== undefined) {\n            if (info && !cacheable) {\n                info.cacheable = false;\n            }\n            return value;\n        }\n    }\n}\n/**\n * @param minmax\n * @param grace\n * @param beginAtZero\n * @private\n */ function _addGrace(minmax, grace, beginAtZero) {\n    const { min , max  } = minmax;\n    const change = toDimension(grace, (max - min) / 2);\n    const keepZero = (value, add)=>beginAtZero && value === 0 ? 0 : value + add;\n    return {\n        min: keepZero(min, -Math.abs(change)),\n        max: keepZero(max, change)\n    };\n}\nfunction createContext(parentContext, context) {\n    return Object.assign(Object.create(parentContext), context);\n}\n\n/**\n * Creates a Proxy for resolving raw values for options.\n * @param scopes - The option scopes to look for values, in resolution order\n * @param prefixes - The prefixes for values, in resolution order.\n * @param rootScopes - The root option scopes\n * @param fallback - Parent scopes fallback\n * @param getTarget - callback for getting the target for changed values\n * @returns Proxy\n * @private\n */ function _createResolver(scopes, prefixes = [\n    ''\n], rootScopes, fallback, getTarget = ()=>scopes[0]) {\n    const finalRootScopes = rootScopes || scopes;\n    if (typeof fallback === 'undefined') {\n        fallback = _resolve('_fallback', scopes);\n    }\n    const cache = {\n        [Symbol.toStringTag]: 'Object',\n        _cacheable: true,\n        _scopes: scopes,\n        _rootScopes: finalRootScopes,\n        _fallback: fallback,\n        _getTarget: getTarget,\n        override: (scope)=>_createResolver([\n                scope,\n                ...scopes\n            ], prefixes, finalRootScopes, fallback)\n    };\n    return new Proxy(cache, {\n        /**\n     * A trap for the delete operator.\n     */ deleteProperty (target, prop) {\n            delete target[prop]; // remove from cache\n            delete target._keys; // remove cached keys\n            delete scopes[0][prop]; // remove from top level scope\n            return true;\n        },\n        /**\n     * A trap for getting property values.\n     */ get (target, prop) {\n            return _cached(target, prop, ()=>_resolveWithPrefixes(prop, prefixes, scopes, target));\n        },\n        /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */ getOwnPropertyDescriptor (target, prop) {\n            return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);\n        },\n        /**\n     * A trap for Object.getPrototypeOf.\n     */ getPrototypeOf () {\n            return Reflect.getPrototypeOf(scopes[0]);\n        },\n        /**\n     * A trap for the in operator.\n     */ has (target, prop) {\n            return getKeysFromAllScopes(target).includes(prop);\n        },\n        /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */ ownKeys (target) {\n            return getKeysFromAllScopes(target);\n        },\n        /**\n     * A trap for setting property values.\n     */ set (target, prop, value) {\n            const storage = target._storage || (target._storage = getTarget());\n            target[prop] = storage[prop] = value; // set to top level scope + cache\n            delete target._keys; // remove cached keys\n            return true;\n        }\n    });\n}\n/**\n * Returns an Proxy for resolving option values with context.\n * @param proxy - The Proxy returned by `_createResolver`\n * @param context - Context object for scriptable/indexable options\n * @param subProxy - The proxy provided for scriptable options\n * @param descriptorDefaults - Defaults for descriptors\n * @private\n */ function _attachContext(proxy, context, subProxy, descriptorDefaults) {\n    const cache = {\n        _cacheable: false,\n        _proxy: proxy,\n        _context: context,\n        _subProxy: subProxy,\n        _stack: new Set(),\n        _descriptors: _descriptors(proxy, descriptorDefaults),\n        setContext: (ctx)=>_attachContext(proxy, ctx, subProxy, descriptorDefaults),\n        override: (scope)=>_attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)\n    };\n    return new Proxy(cache, {\n        /**\n     * A trap for the delete operator.\n     */ deleteProperty (target, prop) {\n            delete target[prop]; // remove from cache\n            delete proxy[prop]; // remove from proxy\n            return true;\n        },\n        /**\n     * A trap for getting property values.\n     */ get (target, prop, receiver) {\n            return _cached(target, prop, ()=>_resolveWithContext(target, prop, receiver));\n        },\n        /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */ getOwnPropertyDescriptor (target, prop) {\n            return target._descriptors.allKeys ? Reflect.has(proxy, prop) ? {\n                enumerable: true,\n                configurable: true\n            } : undefined : Reflect.getOwnPropertyDescriptor(proxy, prop);\n        },\n        /**\n     * A trap for Object.getPrototypeOf.\n     */ getPrototypeOf () {\n            return Reflect.getPrototypeOf(proxy);\n        },\n        /**\n     * A trap for the in operator.\n     */ has (target, prop) {\n            return Reflect.has(proxy, prop);\n        },\n        /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */ ownKeys () {\n            return Reflect.ownKeys(proxy);\n        },\n        /**\n     * A trap for setting property values.\n     */ set (target, prop, value) {\n            proxy[prop] = value; // set to proxy\n            delete target[prop]; // remove from cache\n            return true;\n        }\n    });\n}\n/**\n * @private\n */ function _descriptors(proxy, defaults = {\n    scriptable: true,\n    indexable: true\n}) {\n    const { _scriptable =defaults.scriptable , _indexable =defaults.indexable , _allKeys =defaults.allKeys  } = proxy;\n    return {\n        allKeys: _allKeys,\n        scriptable: _scriptable,\n        indexable: _indexable,\n        isScriptable: isFunction(_scriptable) ? _scriptable : ()=>_scriptable,\n        isIndexable: isFunction(_indexable) ? _indexable : ()=>_indexable\n    };\n}\nconst readKey = (prefix, name)=>prefix ? prefix + _capitalize(name) : name;\nconst needsSubResolver = (prop, value)=>isObject(value) && prop !== 'adapters' && (Object.getPrototypeOf(value) === null || value.constructor === Object);\nfunction _cached(target, prop, resolve) {\n    if (Object.prototype.hasOwnProperty.call(target, prop) || prop === 'constructor') {\n        return target[prop];\n    }\n    const value = resolve();\n    // cache the resolved value\n    target[prop] = value;\n    return value;\n}\nfunction _resolveWithContext(target, prop, receiver) {\n    const { _proxy , _context , _subProxy , _descriptors: descriptors  } = target;\n    let value = _proxy[prop]; // resolve from proxy\n    // resolve with context\n    if (isFunction(value) && descriptors.isScriptable(prop)) {\n        value = _resolveScriptable(prop, value, target, receiver);\n    }\n    if (isArray(value) && value.length) {\n        value = _resolveArray(prop, value, target, descriptors.isIndexable);\n    }\n    if (needsSubResolver(prop, value)) {\n        // if the resolved value is an object, create a sub resolver for it\n        value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);\n    }\n    return value;\n}\nfunction _resolveScriptable(prop, getValue, target, receiver) {\n    const { _proxy , _context , _subProxy , _stack  } = target;\n    if (_stack.has(prop)) {\n        throw new Error('Recursion detected: ' + Array.from(_stack).join('->') + '->' + prop);\n    }\n    _stack.add(prop);\n    let value = getValue(_context, _subProxy || receiver);\n    _stack.delete(prop);\n    if (needsSubResolver(prop, value)) {\n        // When scriptable option returns an object, create a resolver on that.\n        value = createSubResolver(_proxy._scopes, _proxy, prop, value);\n    }\n    return value;\n}\nfunction _resolveArray(prop, value, target, isIndexable) {\n    const { _proxy , _context , _subProxy , _descriptors: descriptors  } = target;\n    if (typeof _context.index !== 'undefined' && isIndexable(prop)) {\n        return value[_context.index % value.length];\n    } else if (isObject(value[0])) {\n        // Array of objects, return array or resolvers\n        const arr = value;\n        const scopes = _proxy._scopes.filter((s)=>s !== arr);\n        value = [];\n        for (const item of arr){\n            const resolver = createSubResolver(scopes, _proxy, prop, item);\n            value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));\n        }\n    }\n    return value;\n}\nfunction resolveFallback(fallback, prop, value) {\n    return isFunction(fallback) ? fallback(prop, value) : fallback;\n}\nconst getScope = (key, parent)=>key === true ? parent : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;\nfunction addScopes(set, parentScopes, key, parentFallback, value) {\n    for (const parent of parentScopes){\n        const scope = getScope(key, parent);\n        if (scope) {\n            set.add(scope);\n            const fallback = resolveFallback(scope._fallback, key, value);\n            if (typeof fallback !== 'undefined' && fallback !== key && fallback !== parentFallback) {\n                // When we reach the descriptor that defines a new _fallback, return that.\n                // The fallback will resume to that new scope.\n                return fallback;\n            }\n        } else if (scope === false && typeof parentFallback !== 'undefined' && key !== parentFallback) {\n            // Fallback to `false` results to `false`, when falling back to different key.\n            // For example `interaction` from `hover` or `plugins.tooltip` and `animation` from `animations`\n            return null;\n        }\n    }\n    return false;\n}\nfunction createSubResolver(parentScopes, resolver, prop, value) {\n    const rootScopes = resolver._rootScopes;\n    const fallback = resolveFallback(resolver._fallback, prop, value);\n    const allScopes = [\n        ...parentScopes,\n        ...rootScopes\n    ];\n    const set = new Set();\n    set.add(value);\n    let key = addScopesFromKey(set, allScopes, prop, fallback || prop, value);\n    if (key === null) {\n        return false;\n    }\n    if (typeof fallback !== 'undefined' && fallback !== prop) {\n        key = addScopesFromKey(set, allScopes, fallback, key, value);\n        if (key === null) {\n            return false;\n        }\n    }\n    return _createResolver(Array.from(set), [\n        ''\n    ], rootScopes, fallback, ()=>subGetTarget(resolver, prop, value));\n}\nfunction addScopesFromKey(set, allScopes, key, fallback, item) {\n    while(key){\n        key = addScopes(set, allScopes, key, fallback, item);\n    }\n    return key;\n}\nfunction subGetTarget(resolver, prop, value) {\n    const parent = resolver._getTarget();\n    if (!(prop in parent)) {\n        parent[prop] = {};\n    }\n    const target = parent[prop];\n    if (isArray(target) && isObject(value)) {\n        // For array of objects, the object is used to store updated values\n        return value;\n    }\n    return target || {};\n}\nfunction _resolveWithPrefixes(prop, prefixes, scopes, proxy) {\n    let value;\n    for (const prefix of prefixes){\n        value = _resolve(readKey(prefix, prop), scopes);\n        if (typeof value !== 'undefined') {\n            return needsSubResolver(prop, value) ? createSubResolver(scopes, proxy, prop, value) : value;\n        }\n    }\n}\nfunction _resolve(key, scopes) {\n    for (const scope of scopes){\n        if (!scope) {\n            continue;\n        }\n        const value = scope[key];\n        if (typeof value !== 'undefined') {\n            return value;\n        }\n    }\n}\nfunction getKeysFromAllScopes(target) {\n    let keys = target._keys;\n    if (!keys) {\n        keys = target._keys = resolveKeysFromAllScopes(target._scopes);\n    }\n    return keys;\n}\nfunction resolveKeysFromAllScopes(scopes) {\n    const set = new Set();\n    for (const scope of scopes){\n        for (const key of Object.keys(scope).filter((k)=>!k.startsWith('_'))){\n            set.add(key);\n        }\n    }\n    return Array.from(set);\n}\nfunction _parseObjectDataRadialScale(meta, data, start, count) {\n    const { iScale  } = meta;\n    const { key ='r'  } = this._parsing;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n    for(i = 0, ilen = count; i < ilen; ++i){\n        index = i + start;\n        item = data[index];\n        parsed[i] = {\n            r: iScale.parse(resolveObjectKey(item, key), index)\n        };\n    }\n    return parsed;\n}\n\nconst EPSILON = Number.EPSILON || 1e-14;\nconst getPoint = (points, i)=>i < points.length && !points[i].skip && points[i];\nconst getValueAxis = (indexAxis)=>indexAxis === 'x' ? 'y' : 'x';\nfunction splineCurve(firstPoint, middlePoint, afterPoint, t) {\n    // Props to Rob Spencer at scaled innovation for his post on splining between points\n    // http://scaledinnovation.com/analytics/splines/aboutSplines.html\n    // This function must also respect \"skipped\" points\n    const previous = firstPoint.skip ? middlePoint : firstPoint;\n    const current = middlePoint;\n    const next = afterPoint.skip ? middlePoint : afterPoint;\n    const d01 = distanceBetweenPoints(current, previous);\n    const d12 = distanceBetweenPoints(next, current);\n    let s01 = d01 / (d01 + d12);\n    let s12 = d12 / (d01 + d12);\n    // If all points are the same, s01 & s02 will be inf\n    s01 = isNaN(s01) ? 0 : s01;\n    s12 = isNaN(s12) ? 0 : s12;\n    const fa = t * s01; // scaling factor for triangle Ta\n    const fb = t * s12;\n    return {\n        previous: {\n            x: current.x - fa * (next.x - previous.x),\n            y: current.y - fa * (next.y - previous.y)\n        },\n        next: {\n            x: current.x + fb * (next.x - previous.x),\n            y: current.y + fb * (next.y - previous.y)\n        }\n    };\n}\n/**\n * Adjust tangents to ensure monotonic properties\n */ function monotoneAdjust(points, deltaK, mK) {\n    const pointsLen = points.length;\n    let alphaK, betaK, tauK, squaredMagnitude, pointCurrent;\n    let pointAfter = getPoint(points, 0);\n    for(let i = 0; i < pointsLen - 1; ++i){\n        pointCurrent = pointAfter;\n        pointAfter = getPoint(points, i + 1);\n        if (!pointCurrent || !pointAfter) {\n            continue;\n        }\n        if (almostEquals(deltaK[i], 0, EPSILON)) {\n            mK[i] = mK[i + 1] = 0;\n            continue;\n        }\n        alphaK = mK[i] / deltaK[i];\n        betaK = mK[i + 1] / deltaK[i];\n        squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n        if (squaredMagnitude <= 9) {\n            continue;\n        }\n        tauK = 3 / Math.sqrt(squaredMagnitude);\n        mK[i] = alphaK * tauK * deltaK[i];\n        mK[i + 1] = betaK * tauK * deltaK[i];\n    }\n}\nfunction monotoneCompute(points, mK, indexAxis = 'x') {\n    const valueAxis = getValueAxis(indexAxis);\n    const pointsLen = points.length;\n    let delta, pointBefore, pointCurrent;\n    let pointAfter = getPoint(points, 0);\n    for(let i = 0; i < pointsLen; ++i){\n        pointBefore = pointCurrent;\n        pointCurrent = pointAfter;\n        pointAfter = getPoint(points, i + 1);\n        if (!pointCurrent) {\n            continue;\n        }\n        const iPixel = pointCurrent[indexAxis];\n        const vPixel = pointCurrent[valueAxis];\n        if (pointBefore) {\n            delta = (iPixel - pointBefore[indexAxis]) / 3;\n            pointCurrent[`cp1${indexAxis}`] = iPixel - delta;\n            pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i];\n        }\n        if (pointAfter) {\n            delta = (pointAfter[indexAxis] - iPixel) / 3;\n            pointCurrent[`cp2${indexAxis}`] = iPixel + delta;\n            pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i];\n        }\n    }\n}\n/**\n * This function calculates Bzier control points in a similar way than |splineCurve|,\n * but preserves monotonicity of the provided data and ensures no local extremums are added\n * between the dataset discrete points due to the interpolation.\n * See : https://en.wikipedia.org/wiki/Monotone_cubic_interpolation\n */ function splineCurveMonotone(points, indexAxis = 'x') {\n    const valueAxis = getValueAxis(indexAxis);\n    const pointsLen = points.length;\n    const deltaK = Array(pointsLen).fill(0);\n    const mK = Array(pointsLen);\n    // Calculate slopes (deltaK) and initialize tangents (mK)\n    let i, pointBefore, pointCurrent;\n    let pointAfter = getPoint(points, 0);\n    for(i = 0; i < pointsLen; ++i){\n        pointBefore = pointCurrent;\n        pointCurrent = pointAfter;\n        pointAfter = getPoint(points, i + 1);\n        if (!pointCurrent) {\n            continue;\n        }\n        if (pointAfter) {\n            const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];\n            // In the case of two points that appear at the same x pixel, slopeDeltaX is 0\n            deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;\n        }\n        mK[i] = !pointBefore ? deltaK[i] : !pointAfter ? deltaK[i - 1] : sign(deltaK[i - 1]) !== sign(deltaK[i]) ? 0 : (deltaK[i - 1] + deltaK[i]) / 2;\n    }\n    monotoneAdjust(points, deltaK, mK);\n    monotoneCompute(points, mK, indexAxis);\n}\nfunction capControlPoint(pt, min, max) {\n    return Math.max(Math.min(pt, max), min);\n}\nfunction capBezierPoints(points, area) {\n    let i, ilen, point, inArea, inAreaPrev;\n    let inAreaNext = _isPointInArea(points[0], area);\n    for(i = 0, ilen = points.length; i < ilen; ++i){\n        inAreaPrev = inArea;\n        inArea = inAreaNext;\n        inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);\n        if (!inArea) {\n            continue;\n        }\n        point = points[i];\n        if (inAreaPrev) {\n            point.cp1x = capControlPoint(point.cp1x, area.left, area.right);\n            point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);\n        }\n        if (inAreaNext) {\n            point.cp2x = capControlPoint(point.cp2x, area.left, area.right);\n            point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);\n        }\n    }\n}\n/**\n * @private\n */ function _updateBezierControlPoints(points, options, area, loop, indexAxis) {\n    let i, ilen, point, controlPoints;\n    // Only consider points that are drawn in case the spanGaps option is used\n    if (options.spanGaps) {\n        points = points.filter((pt)=>!pt.skip);\n    }\n    if (options.cubicInterpolationMode === 'monotone') {\n        splineCurveMonotone(points, indexAxis);\n    } else {\n        let prev = loop ? points[points.length - 1] : points[0];\n        for(i = 0, ilen = points.length; i < ilen; ++i){\n            point = points[i];\n            controlPoints = splineCurve(prev, point, points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen], options.tension);\n            point.cp1x = controlPoints.previous.x;\n            point.cp1y = controlPoints.previous.y;\n            point.cp2x = controlPoints.next.x;\n            point.cp2y = controlPoints.next.y;\n            prev = point;\n        }\n    }\n    if (options.capBezierPoints) {\n        capBezierPoints(points, area);\n    }\n}\n\n/**\n * Note: typedefs are auto-exported, so use a made-up `dom` namespace where\n * necessary to avoid duplicates with `export * from './helpers`; see\n * https://github.com/microsoft/TypeScript/issues/46011\n * @typedef { import('../core/core.controller.js').default } dom.Chart\n * @typedef { import('../../types').ChartEvent } ChartEvent\n */ /**\n * @private\n */ function _isDomSupported() {\n    return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\n/**\n * @private\n */ function _getParentNode(domNode) {\n    let parent = domNode.parentNode;\n    if (parent && parent.toString() === '[object ShadowRoot]') {\n        parent = parent.host;\n    }\n    return parent;\n}\n/**\n * convert max-width/max-height values that may be percentages into a number\n * @private\n */ function parseMaxStyle(styleValue, node, parentProperty) {\n    let valueInPixels;\n    if (typeof styleValue === 'string') {\n        valueInPixels = parseInt(styleValue, 10);\n        if (styleValue.indexOf('%') !== -1) {\n            // percentage * size in dimension\n            valueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];\n        }\n    } else {\n        valueInPixels = styleValue;\n    }\n    return valueInPixels;\n}\nconst getComputedStyle = (element)=>element.ownerDocument.defaultView.getComputedStyle(element, null);\nfunction getStyle(el, property) {\n    return getComputedStyle(el).getPropertyValue(property);\n}\nconst positions = [\n    'top',\n    'right',\n    'bottom',\n    'left'\n];\nfunction getPositionedStyle(styles, style, suffix) {\n    const result = {};\n    suffix = suffix ? '-' + suffix : '';\n    for(let i = 0; i < 4; i++){\n        const pos = positions[i];\n        result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;\n    }\n    result.width = result.left + result.right;\n    result.height = result.top + result.bottom;\n    return result;\n}\nconst useOffsetPos = (x, y, target)=>(x > 0 || y > 0) && (!target || !target.shadowRoot);\n/**\n * @param e\n * @param canvas\n * @returns Canvas position\n */ function getCanvasPosition(e, canvas) {\n    const touches = e.touches;\n    const source = touches && touches.length ? touches[0] : e;\n    const { offsetX , offsetY  } = source;\n    let box = false;\n    let x, y;\n    if (useOffsetPos(offsetX, offsetY, e.target)) {\n        x = offsetX;\n        y = offsetY;\n    } else {\n        const rect = canvas.getBoundingClientRect();\n        x = source.clientX - rect.left;\n        y = source.clientY - rect.top;\n        box = true;\n    }\n    return {\n        x,\n        y,\n        box\n    };\n}\n/**\n * Gets an event's x, y coordinates, relative to the chart area\n * @param event\n * @param chart\n * @returns x and y coordinates of the event\n */ function getRelativePosition(event, chart) {\n    if ('native' in event) {\n        return event;\n    }\n    const { canvas , currentDevicePixelRatio  } = chart;\n    const style = getComputedStyle(canvas);\n    const borderBox = style.boxSizing === 'border-box';\n    const paddings = getPositionedStyle(style, 'padding');\n    const borders = getPositionedStyle(style, 'border', 'width');\n    const { x , y , box  } = getCanvasPosition(event, canvas);\n    const xOffset = paddings.left + (box && borders.left);\n    const yOffset = paddings.top + (box && borders.top);\n    let { width , height  } = chart;\n    if (borderBox) {\n        width -= paddings.width + borders.width;\n        height -= paddings.height + borders.height;\n    }\n    return {\n        x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),\n        y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)\n    };\n}\nfunction getContainerSize(canvas, width, height) {\n    let maxWidth, maxHeight;\n    if (width === undefined || height === undefined) {\n        const container = canvas && _getParentNode(canvas);\n        if (!container) {\n            width = canvas.clientWidth;\n            height = canvas.clientHeight;\n        } else {\n            const rect = container.getBoundingClientRect(); // this is the border box of the container\n            const containerStyle = getComputedStyle(container);\n            const containerBorder = getPositionedStyle(containerStyle, 'border', 'width');\n            const containerPadding = getPositionedStyle(containerStyle, 'padding');\n            width = rect.width - containerPadding.width - containerBorder.width;\n            height = rect.height - containerPadding.height - containerBorder.height;\n            maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');\n            maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');\n        }\n    }\n    return {\n        width,\n        height,\n        maxWidth: maxWidth || INFINITY,\n        maxHeight: maxHeight || INFINITY\n    };\n}\nconst round1 = (v)=>Math.round(v * 10) / 10;\n// eslint-disable-next-line complexity\nfunction getMaximumSize(canvas, bbWidth, bbHeight, aspectRatio) {\n    const style = getComputedStyle(canvas);\n    const margins = getPositionedStyle(style, 'margin');\n    const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;\n    const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;\n    const containerSize = getContainerSize(canvas, bbWidth, bbHeight);\n    let { width , height  } = containerSize;\n    if (style.boxSizing === 'content-box') {\n        const borders = getPositionedStyle(style, 'border', 'width');\n        const paddings = getPositionedStyle(style, 'padding');\n        width -= paddings.width + borders.width;\n        height -= paddings.height + borders.height;\n    }\n    width = Math.max(0, width - margins.width);\n    height = Math.max(0, aspectRatio ? width / aspectRatio : height - margins.height);\n    width = round1(Math.min(width, maxWidth, containerSize.maxWidth));\n    height = round1(Math.min(height, maxHeight, containerSize.maxHeight));\n    if (width && !height) {\n        // https://github.com/chartjs/Chart.js/issues/4659\n        // If the canvas has width, but no height, default to aspectRatio of 2 (canvas default)\n        height = round1(width / 2);\n    }\n    const maintainHeight = bbWidth !== undefined || bbHeight !== undefined;\n    if (maintainHeight && aspectRatio && containerSize.height && height > containerSize.height) {\n        height = containerSize.height;\n        width = round1(Math.floor(height * aspectRatio));\n    }\n    return {\n        width,\n        height\n    };\n}\n/**\n * @param chart\n * @param forceRatio\n * @param forceStyle\n * @returns True if the canvas context size or transformation has changed.\n */ function retinaScale(chart, forceRatio, forceStyle) {\n    const pixelRatio = forceRatio || 1;\n    const deviceHeight = Math.floor(chart.height * pixelRatio);\n    const deviceWidth = Math.floor(chart.width * pixelRatio);\n    chart.height = Math.floor(chart.height);\n    chart.width = Math.floor(chart.width);\n    const canvas = chart.canvas;\n    // If no style has been set on the canvas, the render size is used as display size,\n    // making the chart visually bigger, so let's enforce it to the \"correct\" values.\n    // See https://github.com/chartjs/Chart.js/issues/3575\n    if (canvas.style && (forceStyle || !canvas.style.height && !canvas.style.width)) {\n        canvas.style.height = `${chart.height}px`;\n        canvas.style.width = `${chart.width}px`;\n    }\n    if (chart.currentDevicePixelRatio !== pixelRatio || canvas.height !== deviceHeight || canvas.width !== deviceWidth) {\n        chart.currentDevicePixelRatio = pixelRatio;\n        canvas.height = deviceHeight;\n        canvas.width = deviceWidth;\n        chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n        return true;\n    }\n    return false;\n}\n/**\n * Detects support for options object argument in addEventListener.\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\n * @private\n */ const supportsEventListenerOptions = function() {\n    let passiveSupported = false;\n    try {\n        const options = {\n            get passive () {\n                passiveSupported = true;\n                return false;\n            }\n        };\n        if (_isDomSupported()) {\n            window.addEventListener('test', null, options);\n            window.removeEventListener('test', null, options);\n        }\n    } catch (e) {\n    // continue regardless of error\n    }\n    return passiveSupported;\n}();\n/**\n * The \"used\" size is the final value of a dimension property after all calculations have\n * been performed. This method uses the computed style of `element` but returns undefined\n * if the computed style is not expressed in pixels. That can happen in some cases where\n * `element` has a size relative to its parent and this last one is not yet displayed,\n * for example because of `display: none` on a parent node.\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/used_value\n * @returns Size in pixels or undefined if unknown.\n */ function readUsedSize(element, property) {\n    const value = getStyle(element, property);\n    const matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\n    return matches ? +matches[1] : undefined;\n}\n\n/**\n * @private\n */ function _pointInLine(p1, p2, t, mode) {\n    return {\n        x: p1.x + t * (p2.x - p1.x),\n        y: p1.y + t * (p2.y - p1.y)\n    };\n}\n/**\n * @private\n */ function _steppedInterpolation(p1, p2, t, mode) {\n    return {\n        x: p1.x + t * (p2.x - p1.x),\n        y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y : mode === 'after' ? t < 1 ? p1.y : p2.y : t > 0 ? p2.y : p1.y\n    };\n}\n/**\n * @private\n */ function _bezierInterpolation(p1, p2, t, mode) {\n    const cp1 = {\n        x: p1.cp2x,\n        y: p1.cp2y\n    };\n    const cp2 = {\n        x: p2.cp1x,\n        y: p2.cp1y\n    };\n    const a = _pointInLine(p1, cp1, t);\n    const b = _pointInLine(cp1, cp2, t);\n    const c = _pointInLine(cp2, p2, t);\n    const d = _pointInLine(a, b, t);\n    const e = _pointInLine(b, c, t);\n    return _pointInLine(d, e, t);\n}\n\nconst getRightToLeftAdapter = function(rectX, width) {\n    return {\n        x (x) {\n            return rectX + rectX + width - x;\n        },\n        setWidth (w) {\n            width = w;\n        },\n        textAlign (align) {\n            if (align === 'center') {\n                return align;\n            }\n            return align === 'right' ? 'left' : 'right';\n        },\n        xPlus (x, value) {\n            return x - value;\n        },\n        leftForLtr (x, itemWidth) {\n            return x - itemWidth;\n        }\n    };\n};\nconst getLeftToRightAdapter = function() {\n    return {\n        x (x) {\n            return x;\n        },\n        setWidth (w) {},\n        textAlign (align) {\n            return align;\n        },\n        xPlus (x, value) {\n            return x + value;\n        },\n        leftForLtr (x, _itemWidth) {\n            return x;\n        }\n    };\n};\nfunction getRtlAdapter(rtl, rectX, width) {\n    return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();\n}\nfunction overrideTextDirection(ctx, direction) {\n    let style, original;\n    if (direction === 'ltr' || direction === 'rtl') {\n        style = ctx.canvas.style;\n        original = [\n            style.getPropertyValue('direction'),\n            style.getPropertyPriority('direction')\n        ];\n        style.setProperty('direction', direction, 'important');\n        ctx.prevTextDirection = original;\n    }\n}\nfunction restoreTextDirection(ctx, original) {\n    if (original !== undefined) {\n        delete ctx.prevTextDirection;\n        ctx.canvas.style.setProperty('direction', original[0], original[1]);\n    }\n}\n\nfunction propertyFn(property) {\n    if (property === 'angle') {\n        return {\n            between: _angleBetween,\n            compare: _angleDiff,\n            normalize: _normalizeAngle\n        };\n    }\n    return {\n        between: _isBetween,\n        compare: (a, b)=>a - b,\n        normalize: (x)=>x\n    };\n}\nfunction normalizeSegment({ start , end , count , loop , style  }) {\n    return {\n        start: start % count,\n        end: end % count,\n        loop: loop && (end - start + 1) % count === 0,\n        style\n    };\n}\nfunction getSegment(segment, points, bounds) {\n    const { property , start: startBound , end: endBound  } = bounds;\n    const { between , normalize  } = propertyFn(property);\n    const count = points.length;\n    let { start , end , loop  } = segment;\n    let i, ilen;\n    if (loop) {\n        start += count;\n        end += count;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            if (!between(normalize(points[start % count][property]), startBound, endBound)) {\n                break;\n            }\n            start--;\n            end--;\n        }\n        start %= count;\n        end %= count;\n    }\n    if (end < start) {\n        end += count;\n    }\n    return {\n        start,\n        end,\n        loop,\n        style: segment.style\n    };\n}\n function _boundSegment(segment, points, bounds) {\n    if (!bounds) {\n        return [\n            segment\n        ];\n    }\n    const { property , start: startBound , end: endBound  } = bounds;\n    const count = points.length;\n    const { compare , between , normalize  } = propertyFn(property);\n    const { start , end , loop , style  } = getSegment(segment, points, bounds);\n    const result = [];\n    let inside = false;\n    let subStart = null;\n    let value, point, prevValue;\n    const startIsBefore = ()=>between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;\n    const endIsBefore = ()=>compare(endBound, value) === 0 || between(endBound, prevValue, value);\n    const shouldStart = ()=>inside || startIsBefore();\n    const shouldStop = ()=>!inside || endIsBefore();\n    for(let i = start, prev = start; i <= end; ++i){\n        point = points[i % count];\n        if (point.skip) {\n            continue;\n        }\n        value = normalize(point[property]);\n        if (value === prevValue) {\n            continue;\n        }\n        inside = between(value, startBound, endBound);\n        if (subStart === null && shouldStart()) {\n            subStart = compare(value, startBound) === 0 ? i : prev;\n        }\n        if (subStart !== null && shouldStop()) {\n            result.push(normalizeSegment({\n                start: subStart,\n                end: i,\n                loop,\n                count,\n                style\n            }));\n            subStart = null;\n        }\n        prev = i;\n        prevValue = value;\n    }\n    if (subStart !== null) {\n        result.push(normalizeSegment({\n            start: subStart,\n            end,\n            loop,\n            count,\n            style\n        }));\n    }\n    return result;\n}\n function _boundSegments(line, bounds) {\n    const result = [];\n    const segments = line.segments;\n    for(let i = 0; i < segments.length; i++){\n        const sub = _boundSegment(segments[i], line.points, bounds);\n        if (sub.length) {\n            result.push(...sub);\n        }\n    }\n    return result;\n}\n function findStartAndEnd(points, count, loop, spanGaps) {\n    let start = 0;\n    let end = count - 1;\n    if (loop && !spanGaps) {\n        while(start < count && !points[start].skip){\n            start++;\n        }\n    }\n    while(start < count && points[start].skip){\n        start++;\n    }\n    start %= count;\n    if (loop) {\n        end += start;\n    }\n    while(end > start && points[end % count].skip){\n        end--;\n    }\n    end %= count;\n    return {\n        start,\n        end\n    };\n}\n function solidSegments(points, start, max, loop) {\n    const count = points.length;\n    const result = [];\n    let last = start;\n    let prev = points[start];\n    let end;\n    for(end = start + 1; end <= max; ++end){\n        const cur = points[end % count];\n        if (cur.skip || cur.stop) {\n            if (!prev.skip) {\n                loop = false;\n                result.push({\n                    start: start % count,\n                    end: (end - 1) % count,\n                    loop\n                });\n                start = last = cur.stop ? end : null;\n            }\n        } else {\n            last = end;\n            if (prev.skip) {\n                start = end;\n            }\n        }\n        prev = cur;\n    }\n    if (last !== null) {\n        result.push({\n            start: start % count,\n            end: last % count,\n            loop\n        });\n    }\n    return result;\n}\n function _computeSegments(line, segmentOptions) {\n    const points = line.points;\n    const spanGaps = line.options.spanGaps;\n    const count = points.length;\n    if (!count) {\n        return [];\n    }\n    const loop = !!line._loop;\n    const { start , end  } = findStartAndEnd(points, count, loop, spanGaps);\n    if (spanGaps === true) {\n        return splitByStyles(line, [\n            {\n                start,\n                end,\n                loop\n            }\n        ], points, segmentOptions);\n    }\n    const max = end < start ? end + count : end;\n    const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;\n    return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions);\n}\n function splitByStyles(line, segments, points, segmentOptions) {\n    if (!segmentOptions || !segmentOptions.setContext || !points) {\n        return segments;\n    }\n    return doSplitByStyles(line, segments, points, segmentOptions);\n}\n function doSplitByStyles(line, segments, points, segmentOptions) {\n    const chartContext = line._chart.getContext();\n    const baseStyle = readStyle(line.options);\n    const { _datasetIndex: datasetIndex , options: { spanGaps  }  } = line;\n    const count = points.length;\n    const result = [];\n    let prevStyle = baseStyle;\n    let start = segments[0].start;\n    let i = start;\n    function addStyle(s, e, l, st) {\n        const dir = spanGaps ? -1 : 1;\n        if (s === e) {\n            return;\n        }\n        s += count;\n        while(points[s % count].skip){\n            s -= dir;\n        }\n        while(points[e % count].skip){\n            e += dir;\n        }\n        if (s % count !== e % count) {\n            result.push({\n                start: s % count,\n                end: e % count,\n                loop: l,\n                style: st\n            });\n            prevStyle = st;\n            start = e % count;\n        }\n    }\n    for (const segment of segments){\n        start = spanGaps ? start : segment.start;\n        let prev = points[start % count];\n        let style;\n        for(i = start + 1; i <= segment.end; i++){\n            const pt = points[i % count];\n            style = readStyle(segmentOptions.setContext(createContext(chartContext, {\n                type: 'segment',\n                p0: prev,\n                p1: pt,\n                p0DataIndex: (i - 1) % count,\n                p1DataIndex: i % count,\n                datasetIndex\n            })));\n            if (styleChanged(style, prevStyle)) {\n                addStyle(start, i - 1, segment.loop, prevStyle);\n            }\n            prev = pt;\n            prevStyle = style;\n        }\n        if (start < i - 1) {\n            addStyle(start, i - 1, segment.loop, prevStyle);\n        }\n    }\n    return result;\n}\nfunction readStyle(options) {\n    return {\n        backgroundColor: options.backgroundColor,\n        borderCapStyle: options.borderCapStyle,\n        borderDash: options.borderDash,\n        borderDashOffset: options.borderDashOffset,\n        borderJoinStyle: options.borderJoinStyle,\n        borderWidth: options.borderWidth,\n        borderColor: options.borderColor\n    };\n}\nfunction styleChanged(style, prevStyle) {\n    if (!prevStyle) {\n        return false;\n    }\n    const cache = [];\n    const replacer = function(key, value) {\n        if (!isPatternOrGradient(value)) {\n            return value;\n        }\n        if (!cache.includes(value)) {\n            cache.push(value);\n        }\n        return cache.indexOf(value);\n    };\n    return JSON.stringify(style, replacer) !== JSON.stringify(prevStyle, replacer);\n}\n\nexport { unclipArea as $, _rlookupByKey as A, _lookupByKey as B, _isPointInArea as C, getAngleFromPoint as D, toPadding as E, each as F, getMaximumSize as G, HALF_PI as H, _getParentNode as I, readUsedSize as J, supportsEventListenerOptions as K, throttled as L, _isDomSupported as M, _factorize as N, finiteOrDefault as O, PI as P, callback as Q, _addGrace as R, _limitValue as S, TAU as T, toDegrees as U, _measureText as V, _int16Range as W, _alignPixel as X, clipArea as Y, renderText as Z, _arrayUnique as _, resolve as a, fontString as a$, toFont as a0, _toLeftRightCenter as a1, _alignStartEnd as a2, overrides as a3, merge as a4, _capitalize as a5, descriptors as a6, isFunction as a7, _attachContext as a8, _createResolver as a9, overrideTextDirection as aA, _textX as aB, restoreTextDirection as aC, drawPointLegend as aD, distanceBetweenPoints as aE, noop as aF, _setMinAndMaxByKey as aG, niceNum as aH, almostWhole as aI, almostEquals as aJ, _decimalPlaces as aK, Ticks as aL, log10 as aM, _longestText as aN, _filterBetween as aO, _lookup as aP, isPatternOrGradient as aQ, getHoverColor as aR, clone as aS, _merger as aT, _mergerIf as aU, _deprecated as aV, _splitKey as aW, toFontString as aX, splineCurve as aY, splineCurveMonotone as aZ, getStyle as a_, _descriptors as aa, mergeIf as ab, uid as ac, debounce as ad, retinaScale as ae, clearCanvas as af, setsEqual as ag, _elementsEqual as ah, _isClickEvent as ai, _isBetween as aj, _readValueToProps as ak, _updateBezierControlPoints as al, _computeSegments as am, _boundSegments as an, _steppedInterpolation as ao, _bezierInterpolation as ap, _pointInLine as aq, _steppedLineTo as ar, _bezierCurveTo as as, drawPoint as at, addRoundedRectPath as au, toTRBL as av, toTRBLCorners as aw, _boundSegment as ax, _normalizeAngle as ay, getRtlAdapter as az, isArray as b, toLineHeight as b0, PITAU as b1, INFINITY as b2, RAD_PER_DEG as b3, QUARTER_PI as b4, TWO_THIRDS_PI as b5, _angleDiff as b6, color as c, defaults as d, effects as e, resolveObjectKey as f, isNumberFinite as g, defined as h, isObject as i, createContext as j, isNullOrUndef as k, listenArrayEvents as l, toPercentage as m, toDimension as n, formatNumber as o, _angleBetween as p, _getStartAndCountOfVisiblePoints as q, requestAnimFrame as r, sign as s, toRadians as t, unlistenArrayEvents as u, valueOrDefault as v, _scaleRangesChanged as w, isNumber as x, _parseObjectDataRadialScale as y, getRelativePosition as z };\n//# sourceMappingURL=helpers.segment.js.map\n","/*!\n * Chart.js v4.4.4\n * https://www.chartjs.org\n * (c) 2024 Chart.js Contributors\n * Released under the MIT License\n */\nimport { r as requestAnimFrame, a as resolve, e as effects, c as color, i as isObject, d as defaults, b as isArray, v as valueOrDefault, u as unlistenArrayEvents, l as listenArrayEvents, f as resolveObjectKey, g as isNumberFinite, h as defined, s as sign, j as createContext, k as isNullOrUndef, _ as _arrayUnique, t as toRadians, m as toPercentage, n as toDimension, T as TAU, o as formatNumber, p as _angleBetween, H as HALF_PI, P as PI, q as _getStartAndCountOfVisiblePoints, w as _scaleRangesChanged, x as isNumber, y as _parseObjectDataRadialScale, z as getRelativePosition, A as _rlookupByKey, B as _lookupByKey, C as _isPointInArea, D as getAngleFromPoint, E as toPadding, F as each, G as getMaximumSize, I as _getParentNode, J as readUsedSize, K as supportsEventListenerOptions, L as throttled, M as _isDomSupported, N as _factorize, O as finiteOrDefault, Q as callback, R as _addGrace, S as _limitValue, U as toDegrees, V as _measureText, W as _int16Range, X as _alignPixel, Y as clipArea, Z as renderText, $ as unclipArea, a0 as toFont, a1 as _toLeftRightCenter, a2 as _alignStartEnd, a3 as overrides, a4 as merge, a5 as _capitalize, a6 as descriptors, a7 as isFunction, a8 as _attachContext, a9 as _createResolver, aa as _descriptors, ab as mergeIf, ac as uid, ad as debounce, ae as retinaScale, af as clearCanvas, ag as setsEqual, ah as _elementsEqual, ai as _isClickEvent, aj as _isBetween, ak as _readValueToProps, al as _updateBezierControlPoints, am as _computeSegments, an as _boundSegments, ao as _steppedInterpolation, ap as _bezierInterpolation, aq as _pointInLine, ar as _steppedLineTo, as as _bezierCurveTo, at as drawPoint, au as addRoundedRectPath, av as toTRBL, aw as toTRBLCorners, ax as _boundSegment, ay as _normalizeAngle, az as getRtlAdapter, aA as overrideTextDirection, aB as _textX, aC as restoreTextDirection, aD as drawPointLegend, aE as distanceBetweenPoints, aF as noop, aG as _setMinAndMaxByKey, aH as niceNum, aI as almostWhole, aJ as almostEquals, aK as _decimalPlaces, aL as Ticks, aM as log10, aN as _longestText, aO as _filterBetween, aP as _lookup } from './chunks/helpers.segment.js';\nimport '@kurkle/color';\n\nclass Animator {\n    constructor(){\n        this._request = null;\n        this._charts = new Map();\n        this._running = false;\n        this._lastDate = undefined;\n    }\n _notify(chart, anims, date, type) {\n        const callbacks = anims.listeners[type];\n        const numSteps = anims.duration;\n        callbacks.forEach((fn)=>fn({\n                chart,\n                initial: anims.initial,\n                numSteps,\n                currentStep: Math.min(date - anims.start, numSteps)\n            }));\n    }\n _refresh() {\n        if (this._request) {\n            return;\n        }\n        this._running = true;\n        this._request = requestAnimFrame.call(window, ()=>{\n            this._update();\n            this._request = null;\n            if (this._running) {\n                this._refresh();\n            }\n        });\n    }\n _update(date = Date.now()) {\n        let remaining = 0;\n        this._charts.forEach((anims, chart)=>{\n            if (!anims.running || !anims.items.length) {\n                return;\n            }\n            const items = anims.items;\n            let i = items.length - 1;\n            let draw = false;\n            let item;\n            for(; i >= 0; --i){\n                item = items[i];\n                if (item._active) {\n                    if (item._total > anims.duration) {\n                        anims.duration = item._total;\n                    }\n                    item.tick(date);\n                    draw = true;\n                } else {\n                    items[i] = items[items.length - 1];\n                    items.pop();\n                }\n            }\n            if (draw) {\n                chart.draw();\n                this._notify(chart, anims, date, 'progress');\n            }\n            if (!items.length) {\n                anims.running = false;\n                this._notify(chart, anims, date, 'complete');\n                anims.initial = false;\n            }\n            remaining += items.length;\n        });\n        this._lastDate = date;\n        if (remaining === 0) {\n            this._running = false;\n        }\n    }\n _getAnims(chart) {\n        const charts = this._charts;\n        let anims = charts.get(chart);\n        if (!anims) {\n            anims = {\n                running: false,\n                initial: true,\n                items: [],\n                listeners: {\n                    complete: [],\n                    progress: []\n                }\n            };\n            charts.set(chart, anims);\n        }\n        return anims;\n    }\n listen(chart, event, cb) {\n        this._getAnims(chart).listeners[event].push(cb);\n    }\n add(chart, items) {\n        if (!items || !items.length) {\n            return;\n        }\n        this._getAnims(chart).items.push(...items);\n    }\n has(chart) {\n        return this._getAnims(chart).items.length > 0;\n    }\n start(chart) {\n        const anims = this._charts.get(chart);\n        if (!anims) {\n            return;\n        }\n        anims.running = true;\n        anims.start = Date.now();\n        anims.duration = anims.items.reduce((acc, cur)=>Math.max(acc, cur._duration), 0);\n        this._refresh();\n    }\n    running(chart) {\n        if (!this._running) {\n            return false;\n        }\n        const anims = this._charts.get(chart);\n        if (!anims || !anims.running || !anims.items.length) {\n            return false;\n        }\n        return true;\n    }\n stop(chart) {\n        const anims = this._charts.get(chart);\n        if (!anims || !anims.items.length) {\n            return;\n        }\n        const items = anims.items;\n        let i = items.length - 1;\n        for(; i >= 0; --i){\n            items[i].cancel();\n        }\n        anims.items = [];\n        this._notify(chart, anims, Date.now(), 'complete');\n    }\n remove(chart) {\n        return this._charts.delete(chart);\n    }\n}\nvar animator = /* #__PURE__ */ new Animator();\n\nconst transparent = 'transparent';\nconst interpolators = {\n    boolean (from, to, factor) {\n        return factor > 0.5 ? to : from;\n    },\n color (from, to, factor) {\n        const c0 = color(from || transparent);\n        const c1 = c0.valid && color(to || transparent);\n        return c1 && c1.valid ? c1.mix(c0, factor).hexString() : to;\n    },\n    number (from, to, factor) {\n        return from + (to - from) * factor;\n    }\n};\nclass Animation {\n    constructor(cfg, target, prop, to){\n        const currentValue = target[prop];\n        to = resolve([\n            cfg.to,\n            to,\n            currentValue,\n            cfg.from\n        ]);\n        const from = resolve([\n            cfg.from,\n            currentValue,\n            to\n        ]);\n        this._active = true;\n        this._fn = cfg.fn || interpolators[cfg.type || typeof from];\n        this._easing = effects[cfg.easing] || effects.linear;\n        this._start = Math.floor(Date.now() + (cfg.delay || 0));\n        this._duration = this._total = Math.floor(cfg.duration);\n        this._loop = !!cfg.loop;\n        this._target = target;\n        this._prop = prop;\n        this._from = from;\n        this._to = to;\n        this._promises = undefined;\n    }\n    active() {\n        return this._active;\n    }\n    update(cfg, to, date) {\n        if (this._active) {\n            this._notify(false);\n            const currentValue = this._target[this._prop];\n            const elapsed = date - this._start;\n            const remain = this._duration - elapsed;\n            this._start = date;\n            this._duration = Math.floor(Math.max(remain, cfg.duration));\n            this._total += elapsed;\n            this._loop = !!cfg.loop;\n            this._to = resolve([\n                cfg.to,\n                to,\n                currentValue,\n                cfg.from\n            ]);\n            this._from = resolve([\n                cfg.from,\n                currentValue,\n                to\n            ]);\n        }\n    }\n    cancel() {\n        if (this._active) {\n            this.tick(Date.now());\n            this._active = false;\n            this._notify(false);\n        }\n    }\n    tick(date) {\n        const elapsed = date - this._start;\n        const duration = this._duration;\n        const prop = this._prop;\n        const from = this._from;\n        const loop = this._loop;\n        const to = this._to;\n        let factor;\n        this._active = from !== to && (loop || elapsed < duration);\n        if (!this._active) {\n            this._target[prop] = to;\n            this._notify(true);\n            return;\n        }\n        if (elapsed < 0) {\n            this._target[prop] = from;\n            return;\n        }\n        factor = elapsed / duration % 2;\n        factor = loop && factor > 1 ? 2 - factor : factor;\n        factor = this._easing(Math.min(1, Math.max(0, factor)));\n        this._target[prop] = this._fn(from, to, factor);\n    }\n    wait() {\n        const promises = this._promises || (this._promises = []);\n        return new Promise((res, rej)=>{\n            promises.push({\n                res,\n                rej\n            });\n        });\n    }\n    _notify(resolved) {\n        const method = resolved ? 'res' : 'rej';\n        const promises = this._promises || [];\n        for(let i = 0; i < promises.length; i++){\n            promises[i][method]();\n        }\n    }\n}\n\nclass Animations {\n    constructor(chart, config){\n        this._chart = chart;\n        this._properties = new Map();\n        this.configure(config);\n    }\n    configure(config) {\n        if (!isObject(config)) {\n            return;\n        }\n        const animationOptions = Object.keys(defaults.animation);\n        const animatedProps = this._properties;\n        Object.getOwnPropertyNames(config).forEach((key)=>{\n            const cfg = config[key];\n            if (!isObject(cfg)) {\n                return;\n            }\n            const resolved = {};\n            for (const option of animationOptions){\n                resolved[option] = cfg[option];\n            }\n            (isArray(cfg.properties) && cfg.properties || [\n                key\n            ]).forEach((prop)=>{\n                if (prop === key || !animatedProps.has(prop)) {\n                    animatedProps.set(prop, resolved);\n                }\n            });\n        });\n    }\n _animateOptions(target, values) {\n        const newOptions = values.options;\n        const options = resolveTargetOptions(target, newOptions);\n        if (!options) {\n            return [];\n        }\n        const animations = this._createAnimations(options, newOptions);\n        if (newOptions.$shared) {\n            awaitAll(target.options.$animations, newOptions).then(()=>{\n                target.options = newOptions;\n            }, ()=>{\n            });\n        }\n        return animations;\n    }\n _createAnimations(target, values) {\n        const animatedProps = this._properties;\n        const animations = [];\n        const running = target.$animations || (target.$animations = {});\n        const props = Object.keys(values);\n        const date = Date.now();\n        let i;\n        for(i = props.length - 1; i >= 0; --i){\n            const prop = props[i];\n            if (prop.charAt(0) === '$') {\n                continue;\n            }\n            if (prop === 'options') {\n                animations.push(...this._animateOptions(target, values));\n                continue;\n            }\n            const value = values[prop];\n            let animation = running[prop];\n            const cfg = animatedProps.get(prop);\n            if (animation) {\n                if (cfg && animation.active()) {\n                    animation.update(cfg, value, date);\n                    continue;\n                } else {\n                    animation.cancel();\n                }\n            }\n            if (!cfg || !cfg.duration) {\n                target[prop] = value;\n                continue;\n            }\n            running[prop] = animation = new Animation(cfg, target, prop, value);\n            animations.push(animation);\n        }\n        return animations;\n    }\n update(target, values) {\n        if (this._properties.size === 0) {\n            Object.assign(target, values);\n            return;\n        }\n        const animations = this._createAnimations(target, values);\n        if (animations.length) {\n            animator.add(this._chart, animations);\n            return true;\n        }\n    }\n}\nfunction awaitAll(animations, properties) {\n    const running = [];\n    const keys = Object.keys(properties);\n    for(let i = 0; i < keys.length; i++){\n        const anim = animations[keys[i]];\n        if (anim && anim.active()) {\n            running.push(anim.wait());\n        }\n    }\n    return Promise.all(running);\n}\nfunction resolveTargetOptions(target, newOptions) {\n    if (!newOptions) {\n        return;\n    }\n    let options = target.options;\n    if (!options) {\n        target.options = newOptions;\n        return;\n    }\n    if (options.$shared) {\n        target.options = options = Object.assign({}, options, {\n            $shared: false,\n            $animations: {}\n        });\n    }\n    return options;\n}\n\nfunction scaleClip(scale, allowedOverflow) {\n    const opts = scale && scale.options || {};\n    const reverse = opts.reverse;\n    const min = opts.min === undefined ? allowedOverflow : 0;\n    const max = opts.max === undefined ? allowedOverflow : 0;\n    return {\n        start: reverse ? max : min,\n        end: reverse ? min : max\n    };\n}\nfunction defaultClip(xScale, yScale, allowedOverflow) {\n    if (allowedOverflow === false) {\n        return false;\n    }\n    const x = scaleClip(xScale, allowedOverflow);\n    const y = scaleClip(yScale, allowedOverflow);\n    return {\n        top: y.end,\n        right: x.end,\n        bottom: y.start,\n        left: x.start\n    };\n}\nfunction toClip(value) {\n    let t, r, b, l;\n    if (isObject(value)) {\n        t = value.top;\n        r = value.right;\n        b = value.bottom;\n        l = value.left;\n    } else {\n        t = r = b = l = value;\n    }\n    return {\n        top: t,\n        right: r,\n        bottom: b,\n        left: l,\n        disabled: value === false\n    };\n}\nfunction getSortedDatasetIndices(chart, filterVisible) {\n    const keys = [];\n    const metasets = chart._getSortedDatasetMetas(filterVisible);\n    let i, ilen;\n    for(i = 0, ilen = metasets.length; i < ilen; ++i){\n        keys.push(metasets[i].index);\n    }\n    return keys;\n}\nfunction applyStack(stack, value, dsIndex, options = {}) {\n    const keys = stack.keys;\n    const singleMode = options.mode === 'single';\n    let i, ilen, datasetIndex, otherValue;\n    if (value === null) {\n        return;\n    }\n    for(i = 0, ilen = keys.length; i < ilen; ++i){\n        datasetIndex = +keys[i];\n        if (datasetIndex === dsIndex) {\n            if (options.all) {\n                continue;\n            }\n            break;\n        }\n        otherValue = stack.values[datasetIndex];\n        if (isNumberFinite(otherValue) && (singleMode || value === 0 || sign(value) === sign(otherValue))) {\n            value += otherValue;\n        }\n    }\n    return value;\n}\nfunction convertObjectDataToArray(data, meta) {\n    const { iScale , vScale  } = meta;\n    const iAxisKey = iScale.axis === 'x' ? 'x' : 'y';\n    const vAxisKey = vScale.axis === 'x' ? 'x' : 'y';\n    const keys = Object.keys(data);\n    const adata = new Array(keys.length);\n    let i, ilen, key;\n    for(i = 0, ilen = keys.length; i < ilen; ++i){\n        key = keys[i];\n        adata[i] = {\n            [iAxisKey]: key,\n            [vAxisKey]: data[key]\n        };\n    }\n    return adata;\n}\nfunction isStacked(scale, meta) {\n    const stacked = scale && scale.options.stacked;\n    return stacked || stacked === undefined && meta.stack !== undefined;\n}\nfunction getStackKey(indexScale, valueScale, meta) {\n    return `${indexScale.id}.${valueScale.id}.${meta.stack || meta.type}`;\n}\nfunction getUserBounds(scale) {\n    const { min , max , minDefined , maxDefined  } = scale.getUserBounds();\n    return {\n        min: minDefined ? min : Number.NEGATIVE_INFINITY,\n        max: maxDefined ? max : Number.POSITIVE_INFINITY\n    };\n}\nfunction getOrCreateStack(stacks, stackKey, indexValue) {\n    const subStack = stacks[stackKey] || (stacks[stackKey] = {});\n    return subStack[indexValue] || (subStack[indexValue] = {});\n}\nfunction getLastIndexInStack(stack, vScale, positive, type) {\n    for (const meta of vScale.getMatchingVisibleMetas(type).reverse()){\n        const value = stack[meta.index];\n        if (positive && value > 0 || !positive && value < 0) {\n            return meta.index;\n        }\n    }\n    return null;\n}\nfunction updateStacks(controller, parsed) {\n    const { chart , _cachedMeta: meta  } = controller;\n    const stacks = chart._stacks || (chart._stacks = {});\n    const { iScale , vScale , index: datasetIndex  } = meta;\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const key = getStackKey(iScale, vScale, meta);\n    const ilen = parsed.length;\n    let stack;\n    for(let i = 0; i < ilen; ++i){\n        const item = parsed[i];\n        const { [iAxis]: index , [vAxis]: value  } = item;\n        const itemStacks = item._stacks || (item._stacks = {});\n        stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);\n        stack[datasetIndex] = value;\n        stack._top = getLastIndexInStack(stack, vScale, true, meta.type);\n        stack._bottom = getLastIndexInStack(stack, vScale, false, meta.type);\n        const visualValues = stack._visualValues || (stack._visualValues = {});\n        visualValues[datasetIndex] = value;\n    }\n}\nfunction getFirstScaleId(chart, axis) {\n    const scales = chart.scales;\n    return Object.keys(scales).filter((key)=>scales[key].axis === axis).shift();\n}\nfunction createDatasetContext(parent, index) {\n    return createContext(parent, {\n        active: false,\n        dataset: undefined,\n        datasetIndex: index,\n        index,\n        mode: 'default',\n        type: 'dataset'\n    });\n}\nfunction createDataContext(parent, index, element) {\n    return createContext(parent, {\n        active: false,\n        dataIndex: index,\n        parsed: undefined,\n        raw: undefined,\n        element,\n        index,\n        mode: 'default',\n        type: 'data'\n    });\n}\nfunction clearStacks(meta, items) {\n    const datasetIndex = meta.controller.index;\n    const axis = meta.vScale && meta.vScale.axis;\n    if (!axis) {\n        return;\n    }\n    items = items || meta._parsed;\n    for (const parsed of items){\n        const stacks = parsed._stacks;\n        if (!stacks || stacks[axis] === undefined || stacks[axis][datasetIndex] === undefined) {\n            return;\n        }\n        delete stacks[axis][datasetIndex];\n        if (stacks[axis]._visualValues !== undefined && stacks[axis]._visualValues[datasetIndex] !== undefined) {\n            delete stacks[axis]._visualValues[datasetIndex];\n        }\n    }\n}\nconst isDirectUpdateMode = (mode)=>mode === 'reset' || mode === 'none';\nconst cloneIfNotShared = (cached, shared)=>shared ? cached : Object.assign({}, cached);\nconst createStack = (canStack, meta, chart)=>canStack && !meta.hidden && meta._stacked && {\n        keys: getSortedDatasetIndices(chart, true),\n        values: null\n    };\nclass DatasetController {\n static defaults = {};\n static datasetElementType = null;\n static dataElementType = null;\n constructor(chart, datasetIndex){\n        this.chart = chart;\n        this._ctx = chart.ctx;\n        this.index = datasetIndex;\n        this._cachedDataOpts = {};\n        this._cachedMeta = this.getMeta();\n        this._type = this._cachedMeta.type;\n        this.options = undefined;\n         this._parsing = false;\n        this._data = undefined;\n        this._objectData = undefined;\n        this._sharedOptions = undefined;\n        this._drawStart = undefined;\n        this._drawCount = undefined;\n        this.enableOptionSharing = false;\n        this.supportsDecimation = false;\n        this.$context = undefined;\n        this._syncList = [];\n        this.datasetElementType = new.target.datasetElementType;\n        this.dataElementType = new.target.dataElementType;\n        this.initialize();\n    }\n    initialize() {\n        const meta = this._cachedMeta;\n        this.configure();\n        this.linkScales();\n        meta._stacked = isStacked(meta.vScale, meta);\n        this.addElements();\n        if (this.options.fill && !this.chart.isPluginEnabled('filler')) {\n            console.warn(\"Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options\");\n        }\n    }\n    updateIndex(datasetIndex) {\n        if (this.index !== datasetIndex) {\n            clearStacks(this._cachedMeta);\n        }\n        this.index = datasetIndex;\n    }\n    linkScales() {\n        const chart = this.chart;\n        const meta = this._cachedMeta;\n        const dataset = this.getDataset();\n        const chooseId = (axis, x, y, r)=>axis === 'x' ? x : axis === 'r' ? r : y;\n        const xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x'));\n        const yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y'));\n        const rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r'));\n        const indexAxis = meta.indexAxis;\n        const iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);\n        const vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);\n        meta.xScale = this.getScaleForId(xid);\n        meta.yScale = this.getScaleForId(yid);\n        meta.rScale = this.getScaleForId(rid);\n        meta.iScale = this.getScaleForId(iid);\n        meta.vScale = this.getScaleForId(vid);\n    }\n    getDataset() {\n        return this.chart.data.datasets[this.index];\n    }\n    getMeta() {\n        return this.chart.getDatasetMeta(this.index);\n    }\n getScaleForId(scaleID) {\n        return this.chart.scales[scaleID];\n    }\n _getOtherScale(scale) {\n        const meta = this._cachedMeta;\n        return scale === meta.iScale ? meta.vScale : meta.iScale;\n    }\n    reset() {\n        this._update('reset');\n    }\n _destroy() {\n        const meta = this._cachedMeta;\n        if (this._data) {\n            unlistenArrayEvents(this._data, this);\n        }\n        if (meta._stacked) {\n            clearStacks(meta);\n        }\n    }\n _dataCheck() {\n        const dataset = this.getDataset();\n        const data = dataset.data || (dataset.data = []);\n        const _data = this._data;\n        if (isObject(data)) {\n            const meta = this._cachedMeta;\n            this._data = convertObjectDataToArray(data, meta);\n        } else if (_data !== data) {\n            if (_data) {\n                unlistenArrayEvents(_data, this);\n                const meta = this._cachedMeta;\n                clearStacks(meta);\n                meta._parsed = [];\n            }\n            if (data && Object.isExtensible(data)) {\n                listenArrayEvents(data, this);\n            }\n            this._syncList = [];\n            this._data = data;\n        }\n    }\n    addElements() {\n        const meta = this._cachedMeta;\n        this._dataCheck();\n        if (this.datasetElementType) {\n            meta.dataset = new this.datasetElementType();\n        }\n    }\n    buildOrUpdateElements(resetNewElements) {\n        const meta = this._cachedMeta;\n        const dataset = this.getDataset();\n        let stackChanged = false;\n        this._dataCheck();\n        const oldStacked = meta._stacked;\n        meta._stacked = isStacked(meta.vScale, meta);\n        if (meta.stack !== dataset.stack) {\n            stackChanged = true;\n            clearStacks(meta);\n            meta.stack = dataset.stack;\n        }\n        this._resyncElements(resetNewElements);\n        if (stackChanged || oldStacked !== meta._stacked) {\n            updateStacks(this, meta._parsed);\n        }\n    }\n configure() {\n        const config = this.chart.config;\n        const scopeKeys = config.datasetScopeKeys(this._type);\n        const scopes = config.getOptionScopes(this.getDataset(), scopeKeys, true);\n        this.options = config.createResolver(scopes, this.getContext());\n        this._parsing = this.options.parsing;\n        this._cachedDataOpts = {};\n    }\n parse(start, count) {\n        const { _cachedMeta: meta , _data: data  } = this;\n        const { iScale , _stacked  } = meta;\n        const iAxis = iScale.axis;\n        let sorted = start === 0 && count === data.length ? true : meta._sorted;\n        let prev = start > 0 && meta._parsed[start - 1];\n        let i, cur, parsed;\n        if (this._parsing === false) {\n            meta._parsed = data;\n            meta._sorted = true;\n            parsed = data;\n        } else {\n            if (isArray(data[start])) {\n                parsed = this.parseArrayData(meta, data, start, count);\n            } else if (isObject(data[start])) {\n                parsed = this.parseObjectData(meta, data, start, count);\n            } else {\n                parsed = this.parsePrimitiveData(meta, data, start, count);\n            }\n            const isNotInOrderComparedToPrev = ()=>cur[iAxis] === null || prev && cur[iAxis] < prev[iAxis];\n            for(i = 0; i < count; ++i){\n                meta._parsed[i + start] = cur = parsed[i];\n                if (sorted) {\n                    if (isNotInOrderComparedToPrev()) {\n                        sorted = false;\n                    }\n                    prev = cur;\n                }\n            }\n            meta._sorted = sorted;\n        }\n        if (_stacked) {\n            updateStacks(this, parsed);\n        }\n    }\n parsePrimitiveData(meta, data, start, count) {\n        const { iScale , vScale  } = meta;\n        const iAxis = iScale.axis;\n        const vAxis = vScale.axis;\n        const labels = iScale.getLabels();\n        const singleScale = iScale === vScale;\n        const parsed = new Array(count);\n        let i, ilen, index;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            index = i + start;\n            parsed[i] = {\n                [iAxis]: singleScale || iScale.parse(labels[index], index),\n                [vAxis]: vScale.parse(data[index], index)\n            };\n        }\n        return parsed;\n    }\n parseArrayData(meta, data, start, count) {\n        const { xScale , yScale  } = meta;\n        const parsed = new Array(count);\n        let i, ilen, index, item;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            index = i + start;\n            item = data[index];\n            parsed[i] = {\n                x: xScale.parse(item[0], index),\n                y: yScale.parse(item[1], index)\n            };\n        }\n        return parsed;\n    }\n parseObjectData(meta, data, start, count) {\n        const { xScale , yScale  } = meta;\n        const { xAxisKey ='x' , yAxisKey ='y'  } = this._parsing;\n        const parsed = new Array(count);\n        let i, ilen, index, item;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            index = i + start;\n            item = data[index];\n            parsed[i] = {\n                x: xScale.parse(resolveObjectKey(item, xAxisKey), index),\n                y: yScale.parse(resolveObjectKey(item, yAxisKey), index)\n            };\n        }\n        return parsed;\n    }\n getParsed(index) {\n        return this._cachedMeta._parsed[index];\n    }\n getDataElement(index) {\n        return this._cachedMeta.data[index];\n    }\n applyStack(scale, parsed, mode) {\n        const chart = this.chart;\n        const meta = this._cachedMeta;\n        const value = parsed[scale.axis];\n        const stack = {\n            keys: getSortedDatasetIndices(chart, true),\n            values: parsed._stacks[scale.axis]._visualValues\n        };\n        return applyStack(stack, value, meta.index, {\n            mode\n        });\n    }\n updateRangeFromParsed(range, scale, parsed, stack) {\n        const parsedValue = parsed[scale.axis];\n        let value = parsedValue === null ? NaN : parsedValue;\n        const values = stack && parsed._stacks[scale.axis];\n        if (stack && values) {\n            stack.values = values;\n            value = applyStack(stack, parsedValue, this._cachedMeta.index);\n        }\n        range.min = Math.min(range.min, value);\n        range.max = Math.max(range.max, value);\n    }\n getMinMax(scale, canStack) {\n        const meta = this._cachedMeta;\n        const _parsed = meta._parsed;\n        const sorted = meta._sorted && scale === meta.iScale;\n        const ilen = _parsed.length;\n        const otherScale = this._getOtherScale(scale);\n        const stack = createStack(canStack, meta, this.chart);\n        const range = {\n            min: Number.POSITIVE_INFINITY,\n            max: Number.NEGATIVE_INFINITY\n        };\n        const { min: otherMin , max: otherMax  } = getUserBounds(otherScale);\n        let i, parsed;\n        function _skip() {\n            parsed = _parsed[i];\n            const otherValue = parsed[otherScale.axis];\n            return !isNumberFinite(parsed[scale.axis]) || otherMin > otherValue || otherMax < otherValue;\n        }\n        for(i = 0; i < ilen; ++i){\n            if (_skip()) {\n                continue;\n            }\n            this.updateRangeFromParsed(range, scale, parsed, stack);\n            if (sorted) {\n                break;\n            }\n        }\n        if (sorted) {\n            for(i = ilen - 1; i >= 0; --i){\n                if (_skip()) {\n                    continue;\n                }\n                this.updateRangeFromParsed(range, scale, parsed, stack);\n                break;\n            }\n        }\n        return range;\n    }\n    getAllParsedValues(scale) {\n        const parsed = this._cachedMeta._parsed;\n        const values = [];\n        let i, ilen, value;\n        for(i = 0, ilen = parsed.length; i < ilen; ++i){\n            value = parsed[i][scale.axis];\n            if (isNumberFinite(value)) {\n                values.push(value);\n            }\n        }\n        return values;\n    }\n getMaxOverflow() {\n        return false;\n    }\n getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const iScale = meta.iScale;\n        const vScale = meta.vScale;\n        const parsed = this.getParsed(index);\n        return {\n            label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',\n            value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''\n        };\n    }\n _update(mode) {\n        const meta = this._cachedMeta;\n        this.update(mode || 'default');\n        meta._clip = toClip(valueOrDefault(this.options.clip, defaultClip(meta.xScale, meta.yScale, this.getMaxOverflow())));\n    }\n update(mode) {}\n    draw() {\n        const ctx = this._ctx;\n        const chart = this.chart;\n        const meta = this._cachedMeta;\n        const elements = meta.data || [];\n        const area = chart.chartArea;\n        const active = [];\n        const start = this._drawStart || 0;\n        const count = this._drawCount || elements.length - start;\n        const drawActiveElementsOnTop = this.options.drawActiveElementsOnTop;\n        let i;\n        if (meta.dataset) {\n            meta.dataset.draw(ctx, area, start, count);\n        }\n        for(i = start; i < start + count; ++i){\n            const element = elements[i];\n            if (element.hidden) {\n                continue;\n            }\n            if (element.active && drawActiveElementsOnTop) {\n                active.push(element);\n            } else {\n                element.draw(ctx, area);\n            }\n        }\n        for(i = 0; i < active.length; ++i){\n            active[i].draw(ctx, area);\n        }\n    }\n getStyle(index, active) {\n        const mode = active ? 'active' : 'default';\n        return index === undefined && this._cachedMeta.dataset ? this.resolveDatasetElementOptions(mode) : this.resolveDataElementOptions(index || 0, mode);\n    }\n getContext(index, active, mode) {\n        const dataset = this.getDataset();\n        let context;\n        if (index >= 0 && index < this._cachedMeta.data.length) {\n            const element = this._cachedMeta.data[index];\n            context = element.$context || (element.$context = createDataContext(this.getContext(), index, element));\n            context.parsed = this.getParsed(index);\n            context.raw = dataset.data[index];\n            context.index = context.dataIndex = index;\n        } else {\n            context = this.$context || (this.$context = createDatasetContext(this.chart.getContext(), this.index));\n            context.dataset = dataset;\n            context.index = context.datasetIndex = this.index;\n        }\n        context.active = !!active;\n        context.mode = mode;\n        return context;\n    }\n resolveDatasetElementOptions(mode) {\n        return this._resolveElementOptions(this.datasetElementType.id, mode);\n    }\n resolveDataElementOptions(index, mode) {\n        return this._resolveElementOptions(this.dataElementType.id, mode, index);\n    }\n _resolveElementOptions(elementType, mode = 'default', index) {\n        const active = mode === 'active';\n        const cache = this._cachedDataOpts;\n        const cacheKey = elementType + '-' + mode;\n        const cached = cache[cacheKey];\n        const sharing = this.enableOptionSharing && defined(index);\n        if (cached) {\n            return cloneIfNotShared(cached, sharing);\n        }\n        const config = this.chart.config;\n        const scopeKeys = config.datasetElementScopeKeys(this._type, elementType);\n        const prefixes = active ? [\n            `${elementType}Hover`,\n            'hover',\n            elementType,\n            ''\n        ] : [\n            elementType,\n            ''\n        ];\n        const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n        const names = Object.keys(defaults.elements[elementType]);\n        const context = ()=>this.getContext(index, active, mode);\n        const values = config.resolveNamedOptions(scopes, names, context, prefixes);\n        if (values.$shared) {\n            values.$shared = sharing;\n            cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));\n        }\n        return values;\n    }\n _resolveAnimations(index, transition, active) {\n        const chart = this.chart;\n        const cache = this._cachedDataOpts;\n        const cacheKey = `animation-${transition}`;\n        const cached = cache[cacheKey];\n        if (cached) {\n            return cached;\n        }\n        let options;\n        if (chart.options.animation !== false) {\n            const config = this.chart.config;\n            const scopeKeys = config.datasetAnimationScopeKeys(this._type, transition);\n            const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n            options = config.createResolver(scopes, this.getContext(index, active, transition));\n        }\n        const animations = new Animations(chart, options && options.animations);\n        if (options && options._cacheable) {\n            cache[cacheKey] = Object.freeze(animations);\n        }\n        return animations;\n    }\n getSharedOptions(options) {\n        if (!options.$shared) {\n            return;\n        }\n        return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));\n    }\n includeOptions(mode, sharedOptions) {\n        return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;\n    }\n _getSharedOptions(start, mode) {\n        const firstOpts = this.resolveDataElementOptions(start, mode);\n        const previouslySharedOptions = this._sharedOptions;\n        const sharedOptions = this.getSharedOptions(firstOpts);\n        const includeOptions = this.includeOptions(mode, sharedOptions) || sharedOptions !== previouslySharedOptions;\n        this.updateSharedOptions(sharedOptions, mode, firstOpts);\n        return {\n            sharedOptions,\n            includeOptions\n        };\n    }\n updateElement(element, index, properties, mode) {\n        if (isDirectUpdateMode(mode)) {\n            Object.assign(element, properties);\n        } else {\n            this._resolveAnimations(index, mode).update(element, properties);\n        }\n    }\n updateSharedOptions(sharedOptions, mode, newOptions) {\n        if (sharedOptions && !isDirectUpdateMode(mode)) {\n            this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);\n        }\n    }\n _setStyle(element, index, mode, active) {\n        element.active = active;\n        const options = this.getStyle(index, active);\n        this._resolveAnimations(index, mode, active).update(element, {\n            options: !active && this.getSharedOptions(options) || options\n        });\n    }\n    removeHoverStyle(element, datasetIndex, index) {\n        this._setStyle(element, index, 'active', false);\n    }\n    setHoverStyle(element, datasetIndex, index) {\n        this._setStyle(element, index, 'active', true);\n    }\n _removeDatasetHoverStyle() {\n        const element = this._cachedMeta.dataset;\n        if (element) {\n            this._setStyle(element, undefined, 'active', false);\n        }\n    }\n _setDatasetHoverStyle() {\n        const element = this._cachedMeta.dataset;\n        if (element) {\n            this._setStyle(element, undefined, 'active', true);\n        }\n    }\n _resyncElements(resetNewElements) {\n        const data = this._data;\n        const elements = this._cachedMeta.data;\n        for (const [method, arg1, arg2] of this._syncList){\n            this[method](arg1, arg2);\n        }\n        this._syncList = [];\n        const numMeta = elements.length;\n        const numData = data.length;\n        const count = Math.min(numData, numMeta);\n        if (count) {\n            this.parse(0, count);\n        }\n        if (numData > numMeta) {\n            this._insertElements(numMeta, numData - numMeta, resetNewElements);\n        } else if (numData < numMeta) {\n            this._removeElements(numData, numMeta - numData);\n        }\n    }\n _insertElements(start, count, resetNewElements = true) {\n        const meta = this._cachedMeta;\n        const data = meta.data;\n        const end = start + count;\n        let i;\n        const move = (arr)=>{\n            arr.length += count;\n            for(i = arr.length - 1; i >= end; i--){\n                arr[i] = arr[i - count];\n            }\n        };\n        move(data);\n        for(i = start; i < end; ++i){\n            data[i] = new this.dataElementType();\n        }\n        if (this._parsing) {\n            move(meta._parsed);\n        }\n        this.parse(start, count);\n        if (resetNewElements) {\n            this.updateElements(data, start, count, 'reset');\n        }\n    }\n    updateElements(element, start, count, mode) {}\n _removeElements(start, count) {\n        const meta = this._cachedMeta;\n        if (this._parsing) {\n            const removed = meta._parsed.splice(start, count);\n            if (meta._stacked) {\n                clearStacks(meta, removed);\n            }\n        }\n        meta.data.splice(start, count);\n    }\n _sync(args) {\n        if (this._parsing) {\n            this._syncList.push(args);\n        } else {\n            const [method, arg1, arg2] = args;\n            this[method](arg1, arg2);\n        }\n        this.chart._dataChanges.push([\n            this.index,\n            ...args\n        ]);\n    }\n    _onDataPush() {\n        const count = arguments.length;\n        this._sync([\n            '_insertElements',\n            this.getDataset().data.length - count,\n            count\n        ]);\n    }\n    _onDataPop() {\n        this._sync([\n            '_removeElements',\n            this._cachedMeta.data.length - 1,\n            1\n        ]);\n    }\n    _onDataShift() {\n        this._sync([\n            '_removeElements',\n            0,\n            1\n        ]);\n    }\n    _onDataSplice(start, count) {\n        if (count) {\n            this._sync([\n                '_removeElements',\n                start,\n                count\n            ]);\n        }\n        const newCount = arguments.length - 2;\n        if (newCount) {\n            this._sync([\n                '_insertElements',\n                start,\n                newCount\n            ]);\n        }\n    }\n    _onDataUnshift() {\n        this._sync([\n            '_insertElements',\n            0,\n            arguments.length\n        ]);\n    }\n}\n\nfunction getAllScaleValues(scale, type) {\n    if (!scale._cache.$bar) {\n        const visibleMetas = scale.getMatchingVisibleMetas(type);\n        let values = [];\n        for(let i = 0, ilen = visibleMetas.length; i < ilen; i++){\n            values = values.concat(visibleMetas[i].controller.getAllParsedValues(scale));\n        }\n        scale._cache.$bar = _arrayUnique(values.sort((a, b)=>a - b));\n    }\n    return scale._cache.$bar;\n}\n function computeMinSampleSize(meta) {\n    const scale = meta.iScale;\n    const values = getAllScaleValues(scale, meta.type);\n    let min = scale._length;\n    let i, ilen, curr, prev;\n    const updateMinAndPrev = ()=>{\n        if (curr === 32767 || curr === -32768) {\n            return;\n        }\n        if (defined(prev)) {\n            min = Math.min(min, Math.abs(curr - prev) || min);\n        }\n        prev = curr;\n    };\n    for(i = 0, ilen = values.length; i < ilen; ++i){\n        curr = scale.getPixelForValue(values[i]);\n        updateMinAndPrev();\n    }\n    prev = undefined;\n    for(i = 0, ilen = scale.ticks.length; i < ilen; ++i){\n        curr = scale.getPixelForTick(i);\n        updateMinAndPrev();\n    }\n    return min;\n}\n function computeFitCategoryTraits(index, ruler, options, stackCount) {\n    const thickness = options.barThickness;\n    let size, ratio;\n    if (isNullOrUndef(thickness)) {\n        size = ruler.min * options.categoryPercentage;\n        ratio = options.barPercentage;\n    } else {\n        size = thickness * stackCount;\n        ratio = 1;\n    }\n    return {\n        chunk: size / stackCount,\n        ratio,\n        start: ruler.pixels[index] - size / 2\n    };\n}\n function computeFlexCategoryTraits(index, ruler, options, stackCount) {\n    const pixels = ruler.pixels;\n    const curr = pixels[index];\n    let prev = index > 0 ? pixels[index - 1] : null;\n    let next = index < pixels.length - 1 ? pixels[index + 1] : null;\n    const percent = options.categoryPercentage;\n    if (prev === null) {\n        prev = curr - (next === null ? ruler.end - ruler.start : next - curr);\n    }\n    if (next === null) {\n        next = curr + curr - prev;\n    }\n    const start = curr - (curr - Math.min(prev, next)) / 2 * percent;\n    const size = Math.abs(next - prev) / 2 * percent;\n    return {\n        chunk: size / stackCount,\n        ratio: options.barPercentage,\n        start\n    };\n}\nfunction parseFloatBar(entry, item, vScale, i) {\n    const startValue = vScale.parse(entry[0], i);\n    const endValue = vScale.parse(entry[1], i);\n    const min = Math.min(startValue, endValue);\n    const max = Math.max(startValue, endValue);\n    let barStart = min;\n    let barEnd = max;\n    if (Math.abs(min) > Math.abs(max)) {\n        barStart = max;\n        barEnd = min;\n    }\n    item[vScale.axis] = barEnd;\n    item._custom = {\n        barStart,\n        barEnd,\n        start: startValue,\n        end: endValue,\n        min,\n        max\n    };\n}\nfunction parseValue(entry, item, vScale, i) {\n    if (isArray(entry)) {\n        parseFloatBar(entry, item, vScale, i);\n    } else {\n        item[vScale.axis] = vScale.parse(entry, i);\n    }\n    return item;\n}\nfunction parseArrayOrPrimitive(meta, data, start, count) {\n    const iScale = meta.iScale;\n    const vScale = meta.vScale;\n    const labels = iScale.getLabels();\n    const singleScale = iScale === vScale;\n    const parsed = [];\n    let i, ilen, item, entry;\n    for(i = start, ilen = start + count; i < ilen; ++i){\n        entry = data[i];\n        item = {};\n        item[iScale.axis] = singleScale || iScale.parse(labels[i], i);\n        parsed.push(parseValue(entry, item, vScale, i));\n    }\n    return parsed;\n}\nfunction isFloatBar(custom) {\n    return custom && custom.barStart !== undefined && custom.barEnd !== undefined;\n}\nfunction barSign(size, vScale, actualBase) {\n    if (size !== 0) {\n        return sign(size);\n    }\n    return (vScale.isHorizontal() ? 1 : -1) * (vScale.min >= actualBase ? 1 : -1);\n}\nfunction borderProps(properties) {\n    let reverse, start, end, top, bottom;\n    if (properties.horizontal) {\n        reverse = properties.base > properties.x;\n        start = 'left';\n        end = 'right';\n    } else {\n        reverse = properties.base < properties.y;\n        start = 'bottom';\n        end = 'top';\n    }\n    if (reverse) {\n        top = 'end';\n        bottom = 'start';\n    } else {\n        top = 'start';\n        bottom = 'end';\n    }\n    return {\n        start,\n        end,\n        reverse,\n        top,\n        bottom\n    };\n}\nfunction setBorderSkipped(properties, options, stack, index) {\n    let edge = options.borderSkipped;\n    const res = {};\n    if (!edge) {\n        properties.borderSkipped = res;\n        return;\n    }\n    if (edge === true) {\n        properties.borderSkipped = {\n            top: true,\n            right: true,\n            bottom: true,\n            left: true\n        };\n        return;\n    }\n    const { start , end , reverse , top , bottom  } = borderProps(properties);\n    if (edge === 'middle' && stack) {\n        properties.enableBorderRadius = true;\n        if ((stack._top || 0) === index) {\n            edge = top;\n        } else if ((stack._bottom || 0) === index) {\n            edge = bottom;\n        } else {\n            res[parseEdge(bottom, start, end, reverse)] = true;\n            edge = top;\n        }\n    }\n    res[parseEdge(edge, start, end, reverse)] = true;\n    properties.borderSkipped = res;\n}\nfunction parseEdge(edge, a, b, reverse) {\n    if (reverse) {\n        edge = swap(edge, a, b);\n        edge = startEnd(edge, b, a);\n    } else {\n        edge = startEnd(edge, a, b);\n    }\n    return edge;\n}\nfunction swap(orig, v1, v2) {\n    return orig === v1 ? v2 : orig === v2 ? v1 : orig;\n}\nfunction startEnd(v, start, end) {\n    return v === 'start' ? start : v === 'end' ? end : v;\n}\nfunction setInflateAmount(properties, { inflateAmount  }, ratio) {\n    properties.inflateAmount = inflateAmount === 'auto' ? ratio === 1 ? 0.33 : 0 : inflateAmount;\n}\nclass BarController extends DatasetController {\n    static id = 'bar';\n static defaults = {\n        datasetElementType: false,\n        dataElementType: 'bar',\n        categoryPercentage: 0.8,\n        barPercentage: 0.9,\n        grouped: true,\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'x',\n                    'y',\n                    'base',\n                    'width',\n                    'height'\n                ]\n            }\n        }\n    };\n static overrides = {\n        scales: {\n            _index_: {\n                type: 'category',\n                offset: true,\n                grid: {\n                    offset: true\n                }\n            },\n            _value_: {\n                type: 'linear',\n                beginAtZero: true\n            }\n        }\n    };\n parsePrimitiveData(meta, data, start, count) {\n        return parseArrayOrPrimitive(meta, data, start, count);\n    }\n parseArrayData(meta, data, start, count) {\n        return parseArrayOrPrimitive(meta, data, start, count);\n    }\n parseObjectData(meta, data, start, count) {\n        const { iScale , vScale  } = meta;\n        const { xAxisKey ='x' , yAxisKey ='y'  } = this._parsing;\n        const iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey;\n        const vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey;\n        const parsed = [];\n        let i, ilen, item, obj;\n        for(i = start, ilen = start + count; i < ilen; ++i){\n            obj = data[i];\n            item = {};\n            item[iScale.axis] = iScale.parse(resolveObjectKey(obj, iAxisKey), i);\n            parsed.push(parseValue(resolveObjectKey(obj, vAxisKey), item, vScale, i));\n        }\n        return parsed;\n    }\n updateRangeFromParsed(range, scale, parsed, stack) {\n        super.updateRangeFromParsed(range, scale, parsed, stack);\n        const custom = parsed._custom;\n        if (custom && scale === this._cachedMeta.vScale) {\n            range.min = Math.min(range.min, custom.min);\n            range.max = Math.max(range.max, custom.max);\n        }\n    }\n getMaxOverflow() {\n        return 0;\n    }\n getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const { iScale , vScale  } = meta;\n        const parsed = this.getParsed(index);\n        const custom = parsed._custom;\n        const value = isFloatBar(custom) ? '[' + custom.start + ', ' + custom.end + ']' : '' + vScale.getLabelForValue(parsed[vScale.axis]);\n        return {\n            label: '' + iScale.getLabelForValue(parsed[iScale.axis]),\n            value\n        };\n    }\n    initialize() {\n        this.enableOptionSharing = true;\n        super.initialize();\n        const meta = this._cachedMeta;\n        meta.stack = this.getDataset().stack;\n    }\n    update(mode) {\n        const meta = this._cachedMeta;\n        this.updateElements(meta.data, 0, meta.data.length, mode);\n    }\n    updateElements(bars, start, count, mode) {\n        const reset = mode === 'reset';\n        const { index , _cachedMeta: { vScale  }  } = this;\n        const base = vScale.getBasePixel();\n        const horizontal = vScale.isHorizontal();\n        const ruler = this._getRuler();\n        const { sharedOptions , includeOptions  } = this._getSharedOptions(start, mode);\n        for(let i = start; i < start + count; i++){\n            const parsed = this.getParsed(i);\n            const vpixels = reset || isNullOrUndef(parsed[vScale.axis]) ? {\n                base,\n                head: base\n            } : this._calculateBarValuePixels(i);\n            const ipixels = this._calculateBarIndexPixels(i, ruler);\n            const stack = (parsed._stacks || {})[vScale.axis];\n            const properties = {\n                horizontal,\n                base: vpixels.base,\n                enableBorderRadius: !stack || isFloatBar(parsed._custom) || index === stack._top || index === stack._bottom,\n                x: horizontal ? vpixels.head : ipixels.center,\n                y: horizontal ? ipixels.center : vpixels.head,\n                height: horizontal ? ipixels.size : Math.abs(vpixels.size),\n                width: horizontal ? Math.abs(vpixels.size) : ipixels.size\n            };\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, bars[i].active ? 'active' : mode);\n            }\n            const options = properties.options || bars[i].options;\n            setBorderSkipped(properties, options, stack, index);\n            setInflateAmount(properties, options, ruler.ratio);\n            this.updateElement(bars[i], i, properties, mode);\n        }\n    }\n _getStacks(last, dataIndex) {\n        const { iScale  } = this._cachedMeta;\n        const metasets = iScale.getMatchingVisibleMetas(this._type).filter((meta)=>meta.controller.options.grouped);\n        const stacked = iScale.options.stacked;\n        const stacks = [];\n        const currentParsed = this._cachedMeta.controller.getParsed(dataIndex);\n        const iScaleValue = currentParsed && currentParsed[iScale.axis];\n        const skipNull = (meta)=>{\n            const parsed = meta._parsed.find((item)=>item[iScale.axis] === iScaleValue);\n            const val = parsed && parsed[meta.vScale.axis];\n            if (isNullOrUndef(val) || isNaN(val)) {\n                return true;\n            }\n        };\n        for (const meta of metasets){\n            if (dataIndex !== undefined && skipNull(meta)) {\n                continue;\n            }\n            if (stacked === false || stacks.indexOf(meta.stack) === -1 || stacked === undefined && meta.stack === undefined) {\n                stacks.push(meta.stack);\n            }\n            if (meta.index === last) {\n                break;\n            }\n        }\n        if (!stacks.length) {\n            stacks.push(undefined);\n        }\n        return stacks;\n    }\n _getStackCount(index) {\n        return this._getStacks(undefined, index).length;\n    }\n _getStackIndex(datasetIndex, name, dataIndex) {\n        const stacks = this._getStacks(datasetIndex, dataIndex);\n        const index = name !== undefined ? stacks.indexOf(name) : -1;\n        return index === -1 ? stacks.length - 1 : index;\n    }\n _getRuler() {\n        const opts = this.options;\n        const meta = this._cachedMeta;\n        const iScale = meta.iScale;\n        const pixels = [];\n        let i, ilen;\n        for(i = 0, ilen = meta.data.length; i < ilen; ++i){\n            pixels.push(iScale.getPixelForValue(this.getParsed(i)[iScale.axis], i));\n        }\n        const barThickness = opts.barThickness;\n        const min = barThickness || computeMinSampleSize(meta);\n        return {\n            min,\n            pixels,\n            start: iScale._startPixel,\n            end: iScale._endPixel,\n            stackCount: this._getStackCount(),\n            scale: iScale,\n            grouped: opts.grouped,\n            ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage\n        };\n    }\n _calculateBarValuePixels(index) {\n        const { _cachedMeta: { vScale , _stacked , index: datasetIndex  } , options: { base: baseValue , minBarLength  }  } = this;\n        const actualBase = baseValue || 0;\n        const parsed = this.getParsed(index);\n        const custom = parsed._custom;\n        const floating = isFloatBar(custom);\n        let value = parsed[vScale.axis];\n        let start = 0;\n        let length = _stacked ? this.applyStack(vScale, parsed, _stacked) : value;\n        let head, size;\n        if (length !== value) {\n            start = length - value;\n            length = value;\n        }\n        if (floating) {\n            value = custom.barStart;\n            length = custom.barEnd - custom.barStart;\n            if (value !== 0 && sign(value) !== sign(custom.barEnd)) {\n                start = 0;\n            }\n            start += value;\n        }\n        const startValue = !isNullOrUndef(baseValue) && !floating ? baseValue : start;\n        let base = vScale.getPixelForValue(startValue);\n        if (this.chart.getDataVisibility(index)) {\n            head = vScale.getPixelForValue(start + length);\n        } else {\n            head = base;\n        }\n        size = head - base;\n        if (Math.abs(size) < minBarLength) {\n            size = barSign(size, vScale, actualBase) * minBarLength;\n            if (value === actualBase) {\n                base -= size / 2;\n            }\n            const startPixel = vScale.getPixelForDecimal(0);\n            const endPixel = vScale.getPixelForDecimal(1);\n            const min = Math.min(startPixel, endPixel);\n            const max = Math.max(startPixel, endPixel);\n            base = Math.max(Math.min(base, max), min);\n            head = base + size;\n            if (_stacked && !floating) {\n                parsed._stacks[vScale.axis]._visualValues[datasetIndex] = vScale.getValueForPixel(head) - vScale.getValueForPixel(base);\n            }\n        }\n        if (base === vScale.getPixelForValue(actualBase)) {\n            const halfGrid = sign(size) * vScale.getLineWidthForValue(actualBase) / 2;\n            base += halfGrid;\n            size -= halfGrid;\n        }\n        return {\n            size,\n            base,\n            head,\n            center: head + size / 2\n        };\n    }\n _calculateBarIndexPixels(index, ruler) {\n        const scale = ruler.scale;\n        const options = this.options;\n        const skipNull = options.skipNull;\n        const maxBarThickness = valueOrDefault(options.maxBarThickness, Infinity);\n        let center, size;\n        if (ruler.grouped) {\n            const stackCount = skipNull ? this._getStackCount(index) : ruler.stackCount;\n            const range = options.barThickness === 'flex' ? computeFlexCategoryTraits(index, ruler, options, stackCount) : computeFitCategoryTraits(index, ruler, options, stackCount);\n            const stackIndex = this._getStackIndex(this.index, this._cachedMeta.stack, skipNull ? index : undefined);\n            center = range.start + range.chunk * stackIndex + range.chunk / 2;\n            size = Math.min(maxBarThickness, range.chunk * range.ratio);\n        } else {\n            center = scale.getPixelForValue(this.getParsed(index)[scale.axis], index);\n            size = Math.min(maxBarThickness, ruler.min * ruler.ratio);\n        }\n        return {\n            base: center - size / 2,\n            head: center + size / 2,\n            center,\n            size\n        };\n    }\n    draw() {\n        const meta = this._cachedMeta;\n        const vScale = meta.vScale;\n        const rects = meta.data;\n        const ilen = rects.length;\n        let i = 0;\n        for(; i < ilen; ++i){\n            if (this.getParsed(i)[vScale.axis] !== null && !rects[i].hidden) {\n                rects[i].draw(this._ctx);\n            }\n        }\n    }\n}\n\nclass BubbleController extends DatasetController {\n    static id = 'bubble';\n static defaults = {\n        datasetElementType: false,\n        dataElementType: 'point',\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'x',\n                    'y',\n                    'borderWidth',\n                    'radius'\n                ]\n            }\n        }\n    };\n static overrides = {\n        scales: {\n            x: {\n                type: 'linear'\n            },\n            y: {\n                type: 'linear'\n            }\n        }\n    };\n    initialize() {\n        this.enableOptionSharing = true;\n        super.initialize();\n    }\n parsePrimitiveData(meta, data, start, count) {\n        const parsed = super.parsePrimitiveData(meta, data, start, count);\n        for(let i = 0; i < parsed.length; i++){\n            parsed[i]._custom = this.resolveDataElementOptions(i + start).radius;\n        }\n        return parsed;\n    }\n parseArrayData(meta, data, start, count) {\n        const parsed = super.parseArrayData(meta, data, start, count);\n        for(let i = 0; i < parsed.length; i++){\n            const item = data[start + i];\n            parsed[i]._custom = valueOrDefault(item[2], this.resolveDataElementOptions(i + start).radius);\n        }\n        return parsed;\n    }\n parseObjectData(meta, data, start, count) {\n        const parsed = super.parseObjectData(meta, data, start, count);\n        for(let i = 0; i < parsed.length; i++){\n            const item = data[start + i];\n            parsed[i]._custom = valueOrDefault(item && item.r && +item.r, this.resolveDataElementOptions(i + start).radius);\n        }\n        return parsed;\n    }\n getMaxOverflow() {\n        const data = this._cachedMeta.data;\n        let max = 0;\n        for(let i = data.length - 1; i >= 0; --i){\n            max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n        }\n        return max > 0 && max;\n    }\n getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const labels = this.chart.data.labels || [];\n        const { xScale , yScale  } = meta;\n        const parsed = this.getParsed(index);\n        const x = xScale.getLabelForValue(parsed.x);\n        const y = yScale.getLabelForValue(parsed.y);\n        const r = parsed._custom;\n        return {\n            label: labels[index] || '',\n            value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')'\n        };\n    }\n    update(mode) {\n        const points = this._cachedMeta.data;\n        this.updateElements(points, 0, points.length, mode);\n    }\n    updateElements(points, start, count, mode) {\n        const reset = mode === 'reset';\n        const { iScale , vScale  } = this._cachedMeta;\n        const { sharedOptions , includeOptions  } = this._getSharedOptions(start, mode);\n        const iAxis = iScale.axis;\n        const vAxis = vScale.axis;\n        for(let i = start; i < start + count; i++){\n            const point = points[i];\n            const parsed = !reset && this.getParsed(i);\n            const properties = {};\n            const iPixel = properties[iAxis] = reset ? iScale.getPixelForDecimal(0.5) : iScale.getPixelForValue(parsed[iAxis]);\n            const vPixel = properties[vAxis] = reset ? vScale.getBasePixel() : vScale.getPixelForValue(parsed[vAxis]);\n            properties.skip = isNaN(iPixel) || isNaN(vPixel);\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n                if (reset) {\n                    properties.options.radius = 0;\n                }\n            }\n            this.updateElement(point, i, properties, mode);\n        }\n    }\n resolveDataElementOptions(index, mode) {\n        const parsed = this.getParsed(index);\n        let values = super.resolveDataElementOptions(index, mode);\n        if (values.$shared) {\n            values = Object.assign({}, values, {\n                $shared: false\n            });\n        }\n        const radius = values.radius;\n        if (mode !== 'active') {\n            values.radius = 0;\n        }\n        values.radius += valueOrDefault(parsed && parsed._custom, radius);\n        return values;\n    }\n}\n\nfunction getRatioAndOffset(rotation, circumference, cutout) {\n    let ratioX = 1;\n    let ratioY = 1;\n    let offsetX = 0;\n    let offsetY = 0;\n    if (circumference < TAU) {\n        const startAngle = rotation;\n        const endAngle = startAngle + circumference;\n        const startX = Math.cos(startAngle);\n        const startY = Math.sin(startAngle);\n        const endX = Math.cos(endAngle);\n        const endY = Math.sin(endAngle);\n        const calcMax = (angle, a, b)=>_angleBetween(angle, startAngle, endAngle, true) ? 1 : Math.max(a, a * cutout, b, b * cutout);\n        const calcMin = (angle, a, b)=>_angleBetween(angle, startAngle, endAngle, true) ? -1 : Math.min(a, a * cutout, b, b * cutout);\n        const maxX = calcMax(0, startX, endX);\n        const maxY = calcMax(HALF_PI, startY, endY);\n        const minX = calcMin(PI, startX, endX);\n        const minY = calcMin(PI + HALF_PI, startY, endY);\n        ratioX = (maxX - minX) / 2;\n        ratioY = (maxY - minY) / 2;\n        offsetX = -(maxX + minX) / 2;\n        offsetY = -(maxY + minY) / 2;\n    }\n    return {\n        ratioX,\n        ratioY,\n        offsetX,\n        offsetY\n    };\n}\nclass DoughnutController extends DatasetController {\n    static id = 'doughnut';\n static defaults = {\n        datasetElementType: false,\n        dataElementType: 'arc',\n        animation: {\n            animateRotate: true,\n            animateScale: false\n        },\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'circumference',\n                    'endAngle',\n                    'innerRadius',\n                    'outerRadius',\n                    'startAngle',\n                    'x',\n                    'y',\n                    'offset',\n                    'borderWidth',\n                    'spacing'\n                ]\n            }\n        },\n        cutout: '50%',\n        rotation: 0,\n        circumference: 360,\n        radius: '100%',\n        spacing: 0,\n        indexAxis: 'r'\n    };\n    static descriptors = {\n        _scriptable: (name)=>name !== 'spacing',\n        _indexable: (name)=>name !== 'spacing' && !name.startsWith('borderDash') && !name.startsWith('hoverBorderDash')\n    };\n static overrides = {\n        aspectRatio: 1,\n        plugins: {\n            legend: {\n                labels: {\n                    generateLabels (chart) {\n                        const data = chart.data;\n                        if (data.labels.length && data.datasets.length) {\n                            const { labels: { pointStyle , color  }  } = chart.legend.options;\n                            return data.labels.map((label, i)=>{\n                                const meta = chart.getDatasetMeta(0);\n                                const style = meta.controller.getStyle(i);\n                                return {\n                                    text: label,\n                                    fillStyle: style.backgroundColor,\n                                    strokeStyle: style.borderColor,\n                                    fontColor: color,\n                                    lineWidth: style.borderWidth,\n                                    pointStyle: pointStyle,\n                                    hidden: !chart.getDataVisibility(i),\n                                    index: i\n                                };\n                            });\n                        }\n                        return [];\n                    }\n                },\n                onClick (e, legendItem, legend) {\n                    legend.chart.toggleDataVisibility(legendItem.index);\n                    legend.chart.update();\n                }\n            }\n        }\n    };\n    constructor(chart, datasetIndex){\n        super(chart, datasetIndex);\n        this.enableOptionSharing = true;\n        this.innerRadius = undefined;\n        this.outerRadius = undefined;\n        this.offsetX = undefined;\n        this.offsetY = undefined;\n    }\n    linkScales() {}\n parse(start, count) {\n        const data = this.getDataset().data;\n        const meta = this._cachedMeta;\n        if (this._parsing === false) {\n            meta._parsed = data;\n        } else {\n            let getter = (i)=>+data[i];\n            if (isObject(data[start])) {\n                const { key ='value'  } = this._parsing;\n                getter = (i)=>+resolveObjectKey(data[i], key);\n            }\n            let i, ilen;\n            for(i = start, ilen = start + count; i < ilen; ++i){\n                meta._parsed[i] = getter(i);\n            }\n        }\n    }\n _getRotation() {\n        return toRadians(this.options.rotation - 90);\n    }\n _getCircumference() {\n        return toRadians(this.options.circumference);\n    }\n _getRotationExtents() {\n        let min = TAU;\n        let max = -TAU;\n        for(let i = 0; i < this.chart.data.datasets.length; ++i){\n            if (this.chart.isDatasetVisible(i) && this.chart.getDatasetMeta(i).type === this._type) {\n                const controller = this.chart.getDatasetMeta(i).controller;\n                const rotation = controller._getRotation();\n                const circumference = controller._getCircumference();\n                min = Math.min(min, rotation);\n                max = Math.max(max, rotation + circumference);\n            }\n        }\n        return {\n            rotation: min,\n            circumference: max - min\n        };\n    }\n update(mode) {\n        const chart = this.chart;\n        const { chartArea  } = chart;\n        const meta = this._cachedMeta;\n        const arcs = meta.data;\n        const spacing = this.getMaxBorderWidth() + this.getMaxOffset(arcs) + this.options.spacing;\n        const maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);\n        const cutout = Math.min(toPercentage(this.options.cutout, maxSize), 1);\n        const chartWeight = this._getRingWeight(this.index);\n        const { circumference , rotation  } = this._getRotationExtents();\n        const { ratioX , ratioY , offsetX , offsetY  } = getRatioAndOffset(rotation, circumference, cutout);\n        const maxWidth = (chartArea.width - spacing) / ratioX;\n        const maxHeight = (chartArea.height - spacing) / ratioY;\n        const maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\n        const outerRadius = toDimension(this.options.radius, maxRadius);\n        const innerRadius = Math.max(outerRadius * cutout, 0);\n        const radiusLength = (outerRadius - innerRadius) / this._getVisibleDatasetWeightTotal();\n        this.offsetX = offsetX * outerRadius;\n        this.offsetY = offsetY * outerRadius;\n        meta.total = this.calculateTotal();\n        this.outerRadius = outerRadius - radiusLength * this._getRingWeightOffset(this.index);\n        this.innerRadius = Math.max(this.outerRadius - radiusLength * chartWeight, 0);\n        this.updateElements(arcs, 0, arcs.length, mode);\n    }\n _circumference(i, reset) {\n        const opts = this.options;\n        const meta = this._cachedMeta;\n        const circumference = this._getCircumference();\n        if (reset && opts.animation.animateRotate || !this.chart.getDataVisibility(i) || meta._parsed[i] === null || meta.data[i].hidden) {\n            return 0;\n        }\n        return this.calculateCircumference(meta._parsed[i] * circumference / TAU);\n    }\n    updateElements(arcs, start, count, mode) {\n        const reset = mode === 'reset';\n        const chart = this.chart;\n        const chartArea = chart.chartArea;\n        const opts = chart.options;\n        const animationOpts = opts.animation;\n        const centerX = (chartArea.left + chartArea.right) / 2;\n        const centerY = (chartArea.top + chartArea.bottom) / 2;\n        const animateScale = reset && animationOpts.animateScale;\n        const innerRadius = animateScale ? 0 : this.innerRadius;\n        const outerRadius = animateScale ? 0 : this.outerRadius;\n        const { sharedOptions , includeOptions  } = this._getSharedOptions(start, mode);\n        let startAngle = this._getRotation();\n        let i;\n        for(i = 0; i < start; ++i){\n            startAngle += this._circumference(i, reset);\n        }\n        for(i = start; i < start + count; ++i){\n            const circumference = this._circumference(i, reset);\n            const arc = arcs[i];\n            const properties = {\n                x: centerX + this.offsetX,\n                y: centerY + this.offsetY,\n                startAngle,\n                endAngle: startAngle + circumference,\n                circumference,\n                outerRadius,\n                innerRadius\n            };\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, arc.active ? 'active' : mode);\n            }\n            startAngle += circumference;\n            this.updateElement(arc, i, properties, mode);\n        }\n    }\n    calculateTotal() {\n        const meta = this._cachedMeta;\n        const metaData = meta.data;\n        let total = 0;\n        let i;\n        for(i = 0; i < metaData.length; i++){\n            const value = meta._parsed[i];\n            if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i) && !metaData[i].hidden) {\n                total += Math.abs(value);\n            }\n        }\n        return total;\n    }\n    calculateCircumference(value) {\n        const total = this._cachedMeta.total;\n        if (total > 0 && !isNaN(value)) {\n            return TAU * (Math.abs(value) / total);\n        }\n        return 0;\n    }\n    getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const chart = this.chart;\n        const labels = chart.data.labels || [];\n        const value = formatNumber(meta._parsed[index], chart.options.locale);\n        return {\n            label: labels[index] || '',\n            value\n        };\n    }\n    getMaxBorderWidth(arcs) {\n        let max = 0;\n        const chart = this.chart;\n        let i, ilen, meta, controller, options;\n        if (!arcs) {\n            for(i = 0, ilen = chart.data.datasets.length; i < ilen; ++i){\n                if (chart.isDatasetVisible(i)) {\n                    meta = chart.getDatasetMeta(i);\n                    arcs = meta.data;\n                    controller = meta.controller;\n                    break;\n                }\n            }\n        }\n        if (!arcs) {\n            return 0;\n        }\n        for(i = 0, ilen = arcs.length; i < ilen; ++i){\n            options = controller.resolveDataElementOptions(i);\n            if (options.borderAlign !== 'inner') {\n                max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);\n            }\n        }\n        return max;\n    }\n    getMaxOffset(arcs) {\n        let max = 0;\n        for(let i = 0, ilen = arcs.length; i < ilen; ++i){\n            const options = this.resolveDataElementOptions(i);\n            max = Math.max(max, options.offset || 0, options.hoverOffset || 0);\n        }\n        return max;\n    }\n _getRingWeightOffset(datasetIndex) {\n        let ringWeightOffset = 0;\n        for(let i = 0; i < datasetIndex; ++i){\n            if (this.chart.isDatasetVisible(i)) {\n                ringWeightOffset += this._getRingWeight(i);\n            }\n        }\n        return ringWeightOffset;\n    }\n _getRingWeight(datasetIndex) {\n        return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight, 1), 0);\n    }\n _getVisibleDatasetWeightTotal() {\n        return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;\n    }\n}\n\nclass LineController extends DatasetController {\n    static id = 'line';\n static defaults = {\n        datasetElementType: 'line',\n        dataElementType: 'point',\n        showLine: true,\n        spanGaps: false\n    };\n static overrides = {\n        scales: {\n            _index_: {\n                type: 'category'\n            },\n            _value_: {\n                type: 'linear'\n            }\n        }\n    };\n    initialize() {\n        this.enableOptionSharing = true;\n        this.supportsDecimation = true;\n        super.initialize();\n    }\n    update(mode) {\n        const meta = this._cachedMeta;\n        const { dataset: line , data: points = [] , _dataset  } = meta;\n        const animationsDisabled = this.chart._animationsDisabled;\n        let { start , count  } = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n        this._drawStart = start;\n        this._drawCount = count;\n        if (_scaleRangesChanged(meta)) {\n            start = 0;\n            count = points.length;\n        }\n        line._chart = this.chart;\n        line._datasetIndex = this.index;\n        line._decimated = !!_dataset._decimated;\n        line.points = points;\n        const options = this.resolveDatasetElementOptions(mode);\n        if (!this.options.showLine) {\n            options.borderWidth = 0;\n        }\n        options.segment = this.options.segment;\n        this.updateElement(line, undefined, {\n            animated: !animationsDisabled,\n            options\n        }, mode);\n        this.updateElements(points, start, count, mode);\n    }\n    updateElements(points, start, count, mode) {\n        const reset = mode === 'reset';\n        const { iScale , vScale , _stacked , _dataset  } = this._cachedMeta;\n        const { sharedOptions , includeOptions  } = this._getSharedOptions(start, mode);\n        const iAxis = iScale.axis;\n        const vAxis = vScale.axis;\n        const { spanGaps , segment  } = this.options;\n        const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n        const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n        const end = start + count;\n        const pointsCount = points.length;\n        let prevParsed = start > 0 && this.getParsed(start - 1);\n        for(let i = 0; i < pointsCount; ++i){\n            const point = points[i];\n            const properties = directUpdate ? point : {};\n            if (i < start || i >= end) {\n                properties.skip = true;\n                continue;\n            }\n            const parsed = this.getParsed(i);\n            const nullData = isNullOrUndef(parsed[vAxis]);\n            const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n            const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n            properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n            properties.stop = i > 0 && Math.abs(parsed[iAxis] - prevParsed[iAxis]) > maxGapLength;\n            if (segment) {\n                properties.parsed = parsed;\n                properties.raw = _dataset.data[i];\n            }\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n            }\n            if (!directUpdate) {\n                this.updateElement(point, i, properties, mode);\n            }\n            prevParsed = parsed;\n        }\n    }\n getMaxOverflow() {\n        const meta = this._cachedMeta;\n        const dataset = meta.dataset;\n        const border = dataset.options && dataset.options.borderWidth || 0;\n        const data = meta.data || [];\n        if (!data.length) {\n            return border;\n        }\n        const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n        const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n        return Math.max(border, firstPoint, lastPoint) / 2;\n    }\n    draw() {\n        const meta = this._cachedMeta;\n        meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis);\n        super.draw();\n    }\n}\n\nclass PolarAreaController extends DatasetController {\n    static id = 'polarArea';\n static defaults = {\n        dataElementType: 'arc',\n        animation: {\n            animateRotate: true,\n            animateScale: true\n        },\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'x',\n                    'y',\n                    'startAngle',\n                    'endAngle',\n                    'innerRadius',\n                    'outerRadius'\n                ]\n            }\n        },\n        indexAxis: 'r',\n        startAngle: 0\n    };\n static overrides = {\n        aspectRatio: 1,\n        plugins: {\n            legend: {\n                labels: {\n                    generateLabels (chart) {\n                        const data = chart.data;\n                        if (data.labels.length && data.datasets.length) {\n                            const { labels: { pointStyle , color  }  } = chart.legend.options;\n                            return data.labels.map((label, i)=>{\n                                const meta = chart.getDatasetMeta(0);\n                                const style = meta.controller.getStyle(i);\n                                return {\n                                    text: label,\n                                    fillStyle: style.backgroundColor,\n                                    strokeStyle: style.borderColor,\n                                    fontColor: color,\n                                    lineWidth: style.borderWidth,\n                                    pointStyle: pointStyle,\n                                    hidden: !chart.getDataVisibility(i),\n                                    index: i\n                                };\n                            });\n                        }\n                        return [];\n                    }\n                },\n                onClick (e, legendItem, legend) {\n                    legend.chart.toggleDataVisibility(legendItem.index);\n                    legend.chart.update();\n                }\n            }\n        },\n        scales: {\n            r: {\n                type: 'radialLinear',\n                angleLines: {\n                    display: false\n                },\n                beginAtZero: true,\n                grid: {\n                    circular: true\n                },\n                pointLabels: {\n                    display: false\n                },\n                startAngle: 0\n            }\n        }\n    };\n    constructor(chart, datasetIndex){\n        super(chart, datasetIndex);\n        this.innerRadius = undefined;\n        this.outerRadius = undefined;\n    }\n    getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const chart = this.chart;\n        const labels = chart.data.labels || [];\n        const value = formatNumber(meta._parsed[index].r, chart.options.locale);\n        return {\n            label: labels[index] || '',\n            value\n        };\n    }\n    parseObjectData(meta, data, start, count) {\n        return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n    }\n    update(mode) {\n        const arcs = this._cachedMeta.data;\n        this._updateRadius();\n        this.updateElements(arcs, 0, arcs.length, mode);\n    }\n getMinMax() {\n        const meta = this._cachedMeta;\n        const range = {\n            min: Number.POSITIVE_INFINITY,\n            max: Number.NEGATIVE_INFINITY\n        };\n        meta.data.forEach((element, index)=>{\n            const parsed = this.getParsed(index).r;\n            if (!isNaN(parsed) && this.chart.getDataVisibility(index)) {\n                if (parsed < range.min) {\n                    range.min = parsed;\n                }\n                if (parsed > range.max) {\n                    range.max = parsed;\n                }\n            }\n        });\n        return range;\n    }\n _updateRadius() {\n        const chart = this.chart;\n        const chartArea = chart.chartArea;\n        const opts = chart.options;\n        const minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n        const outerRadius = Math.max(minSize / 2, 0);\n        const innerRadius = Math.max(opts.cutoutPercentage ? outerRadius / 100 * opts.cutoutPercentage : 1, 0);\n        const radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();\n        this.outerRadius = outerRadius - radiusLength * this.index;\n        this.innerRadius = this.outerRadius - radiusLength;\n    }\n    updateElements(arcs, start, count, mode) {\n        const reset = mode === 'reset';\n        const chart = this.chart;\n        const opts = chart.options;\n        const animationOpts = opts.animation;\n        const scale = this._cachedMeta.rScale;\n        const centerX = scale.xCenter;\n        const centerY = scale.yCenter;\n        const datasetStartAngle = scale.getIndexAngle(0) - 0.5 * PI;\n        let angle = datasetStartAngle;\n        let i;\n        const defaultAngle = 360 / this.countVisibleElements();\n        for(i = 0; i < start; ++i){\n            angle += this._computeAngle(i, mode, defaultAngle);\n        }\n        for(i = start; i < start + count; i++){\n            const arc = arcs[i];\n            let startAngle = angle;\n            let endAngle = angle + this._computeAngle(i, mode, defaultAngle);\n            let outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(this.getParsed(i).r) : 0;\n            angle = endAngle;\n            if (reset) {\n                if (animationOpts.animateScale) {\n                    outerRadius = 0;\n                }\n                if (animationOpts.animateRotate) {\n                    startAngle = endAngle = datasetStartAngle;\n                }\n            }\n            const properties = {\n                x: centerX,\n                y: centerY,\n                innerRadius: 0,\n                outerRadius,\n                startAngle,\n                endAngle,\n                options: this.resolveDataElementOptions(i, arc.active ? 'active' : mode)\n            };\n            this.updateElement(arc, i, properties, mode);\n        }\n    }\n    countVisibleElements() {\n        const meta = this._cachedMeta;\n        let count = 0;\n        meta.data.forEach((element, index)=>{\n            if (!isNaN(this.getParsed(index).r) && this.chart.getDataVisibility(index)) {\n                count++;\n            }\n        });\n        return count;\n    }\n _computeAngle(index, mode, defaultAngle) {\n        return this.chart.getDataVisibility(index) ? toRadians(this.resolveDataElementOptions(index, mode).angle || defaultAngle) : 0;\n    }\n}\n\nclass PieController extends DoughnutController {\n    static id = 'pie';\n static defaults = {\n        cutout: 0,\n        rotation: 0,\n        circumference: 360,\n        radius: '100%'\n    };\n}\n\nclass RadarController extends DatasetController {\n    static id = 'radar';\n static defaults = {\n        datasetElementType: 'line',\n        dataElementType: 'point',\n        indexAxis: 'r',\n        showLine: true,\n        elements: {\n            line: {\n                fill: 'start'\n            }\n        }\n    };\n static overrides = {\n        aspectRatio: 1,\n        scales: {\n            r: {\n                type: 'radialLinear'\n            }\n        }\n    };\n getLabelAndValue(index) {\n        const vScale = this._cachedMeta.vScale;\n        const parsed = this.getParsed(index);\n        return {\n            label: vScale.getLabels()[index],\n            value: '' + vScale.getLabelForValue(parsed[vScale.axis])\n        };\n    }\n    parseObjectData(meta, data, start, count) {\n        return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n    }\n    update(mode) {\n        const meta = this._cachedMeta;\n        const line = meta.dataset;\n        const points = meta.data || [];\n        const labels = meta.iScale.getLabels();\n        line.points = points;\n        if (mode !== 'resize') {\n            const options = this.resolveDatasetElementOptions(mode);\n            if (!this.options.showLine) {\n                options.borderWidth = 0;\n            }\n            const properties = {\n                _loop: true,\n                _fullLoop: labels.length === points.length,\n                options\n            };\n            this.updateElement(line, undefined, properties, mode);\n        }\n        this.updateElements(points, 0, points.length, mode);\n    }\n    updateElements(points, start, count, mode) {\n        const scale = this._cachedMeta.rScale;\n        const reset = mode === 'reset';\n        for(let i = start; i < start + count; i++){\n            const point = points[i];\n            const options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n            const pointPosition = scale.getPointPositionForValue(i, this.getParsed(i).r);\n            const x = reset ? scale.xCenter : pointPosition.x;\n            const y = reset ? scale.yCenter : pointPosition.y;\n            const properties = {\n                x,\n                y,\n                angle: pointPosition.angle,\n                skip: isNaN(x) || isNaN(y),\n                options\n            };\n            this.updateElement(point, i, properties, mode);\n        }\n    }\n}\n\nclass ScatterController extends DatasetController {\n    static id = 'scatter';\n static defaults = {\n        datasetElementType: false,\n        dataElementType: 'point',\n        showLine: false,\n        fill: false\n    };\n static overrides = {\n        interaction: {\n            mode: 'point'\n        },\n        scales: {\n            x: {\n                type: 'linear'\n            },\n            y: {\n                type: 'linear'\n            }\n        }\n    };\n getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const labels = this.chart.data.labels || [];\n        const { xScale , yScale  } = meta;\n        const parsed = this.getParsed(index);\n        const x = xScale.getLabelForValue(parsed.x);\n        const y = yScale.getLabelForValue(parsed.y);\n        return {\n            label: labels[index] || '',\n            value: '(' + x + ', ' + y + ')'\n        };\n    }\n    update(mode) {\n        const meta = this._cachedMeta;\n        const { data: points = []  } = meta;\n        const animationsDisabled = this.chart._animationsDisabled;\n        let { start , count  } = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n        this._drawStart = start;\n        this._drawCount = count;\n        if (_scaleRangesChanged(meta)) {\n            start = 0;\n            count = points.length;\n        }\n        if (this.options.showLine) {\n            if (!this.datasetElementType) {\n                this.addElements();\n            }\n            const { dataset: line , _dataset  } = meta;\n            line._chart = this.chart;\n            line._datasetIndex = this.index;\n            line._decimated = !!_dataset._decimated;\n            line.points = points;\n            const options = this.resolveDatasetElementOptions(mode);\n            options.segment = this.options.segment;\n            this.updateElement(line, undefined, {\n                animated: !animationsDisabled,\n                options\n            }, mode);\n        } else if (this.datasetElementType) {\n            delete meta.dataset;\n            this.datasetElementType = false;\n        }\n        this.updateElements(points, start, count, mode);\n    }\n    addElements() {\n        const { showLine  } = this.options;\n        if (!this.datasetElementType && showLine) {\n            this.datasetElementType = this.chart.registry.getElement('line');\n        }\n        super.addElements();\n    }\n    updateElements(points, start, count, mode) {\n        const reset = mode === 'reset';\n        const { iScale , vScale , _stacked , _dataset  } = this._cachedMeta;\n        const firstOpts = this.resolveDataElementOptions(start, mode);\n        const sharedOptions = this.getSharedOptions(firstOpts);\n        const includeOptions = this.includeOptions(mode, sharedOptions);\n        const iAxis = iScale.axis;\n        const vAxis = vScale.axis;\n        const { spanGaps , segment  } = this.options;\n        const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n        const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n        let prevParsed = start > 0 && this.getParsed(start - 1);\n        for(let i = start; i < start + count; ++i){\n            const point = points[i];\n            const parsed = this.getParsed(i);\n            const properties = directUpdate ? point : {};\n            const nullData = isNullOrUndef(parsed[vAxis]);\n            const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n            const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n            properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n            properties.stop = i > 0 && Math.abs(parsed[iAxis] - prevParsed[iAxis]) > maxGapLength;\n            if (segment) {\n                properties.parsed = parsed;\n                properties.raw = _dataset.data[i];\n            }\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n            }\n            if (!directUpdate) {\n                this.updateElement(point, i, properties, mode);\n            }\n            prevParsed = parsed;\n        }\n        this.updateSharedOptions(sharedOptions, mode, firstOpts);\n    }\n getMaxOverflow() {\n        const meta = this._cachedMeta;\n        const data = meta.data || [];\n        if (!this.options.showLine) {\n            let max = 0;\n            for(let i = data.length - 1; i >= 0; --i){\n                max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n            }\n            return max > 0 && max;\n        }\n        const dataset = meta.dataset;\n        const border = dataset.options && dataset.options.borderWidth || 0;\n        if (!data.length) {\n            return border;\n        }\n        const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n        const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n        return Math.max(border, firstPoint, lastPoint) / 2;\n    }\n}\n\nvar controllers = /*#__PURE__*/Object.freeze({\n__proto__: null,\nBarController: BarController,\nBubbleController: BubbleController,\nDoughnutController: DoughnutController,\nLineController: LineController,\nPieController: PieController,\nPolarAreaController: PolarAreaController,\nRadarController: RadarController,\nScatterController: ScatterController\n});\n\n/**\n * @namespace Chart._adapters\n * @since 2.8.0\n * @private\n */ function abstract() {\n    throw new Error('This method is not implemented: Check that a complete date adapter is provided.');\n}\n/**\n * Date adapter (current used by the time scale)\n * @namespace Chart._adapters._date\n * @memberof Chart._adapters\n * @private\n */ class DateAdapterBase {\n    /**\n   * Override default date adapter methods.\n   * Accepts type parameter to define options type.\n   * @example\n   * Chart._adapters._date.override<{myAdapterOption: string}>({\n   *   init() {\n   *     console.log(this.options.myAdapterOption);\n   *   }\n   * })\n   */ static override(members) {\n        Object.assign(DateAdapterBase.prototype, members);\n    }\n    options;\n    constructor(options){\n        this.options = options || {};\n    }\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    init() {}\n    formats() {\n        return abstract();\n    }\n    parse() {\n        return abstract();\n    }\n    format() {\n        return abstract();\n    }\n    add() {\n        return abstract();\n    }\n    diff() {\n        return abstract();\n    }\n    startOf() {\n        return abstract();\n    }\n    endOf() {\n        return abstract();\n    }\n}\nvar adapters = {\n    _date: DateAdapterBase\n};\n\nfunction binarySearch(metaset, axis, value, intersect) {\n    const { controller , data , _sorted  } = metaset;\n    const iScale = controller._cachedMeta.iScale;\n    if (iScale && axis === iScale.axis && axis !== 'r' && _sorted && data.length) {\n        const lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;\n        if (!intersect) {\n            return lookupMethod(data, axis, value);\n        } else if (controller._sharedOptions) {\n            const el = data[0];\n            const range = typeof el.getRange === 'function' && el.getRange(axis);\n            if (range) {\n                const start = lookupMethod(data, axis, value - range);\n                const end = lookupMethod(data, axis, value + range);\n                return {\n                    lo: start.lo,\n                    hi: end.hi\n                };\n            }\n        }\n    }\n    return {\n        lo: 0,\n        hi: data.length - 1\n    };\n}\n function evaluateInteractionItems(chart, axis, position, handler, intersect) {\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    const value = position[axis];\n    for(let i = 0, ilen = metasets.length; i < ilen; ++i){\n        const { index , data  } = metasets[i];\n        const { lo , hi  } = binarySearch(metasets[i], axis, value, intersect);\n        for(let j = lo; j <= hi; ++j){\n            const element = data[j];\n            if (!element.skip) {\n                handler(element, index, j);\n            }\n        }\n    }\n}\n function getDistanceMetricForAxis(axis) {\n    const useX = axis.indexOf('x') !== -1;\n    const useY = axis.indexOf('y') !== -1;\n    return function(pt1, pt2) {\n        const deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\n        const deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\n        return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n    };\n}\n function getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) {\n    const items = [];\n    if (!includeInvisible && !chart.isPointInArea(position)) {\n        return items;\n    }\n    const evaluationFunc = function(element, datasetIndex, index) {\n        if (!includeInvisible && !_isPointInArea(element, chart.chartArea, 0)) {\n            return;\n        }\n        if (element.inRange(position.x, position.y, useFinalPosition)) {\n            items.push({\n                element,\n                datasetIndex,\n                index\n            });\n        }\n    };\n    evaluateInteractionItems(chart, axis, position, evaluationFunc, true);\n    return items;\n}\n function getNearestRadialItems(chart, position, axis, useFinalPosition) {\n    let items = [];\n    function evaluationFunc(element, datasetIndex, index) {\n        const { startAngle , endAngle  } = element.getProps([\n            'startAngle',\n            'endAngle'\n        ], useFinalPosition);\n        const { angle  } = getAngleFromPoint(element, {\n            x: position.x,\n            y: position.y\n        });\n        if (_angleBetween(angle, startAngle, endAngle)) {\n            items.push({\n                element,\n                datasetIndex,\n                index\n            });\n        }\n    }\n    evaluateInteractionItems(chart, axis, position, evaluationFunc);\n    return items;\n}\n function getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n    let items = [];\n    const distanceMetric = getDistanceMetricForAxis(axis);\n    let minDistance = Number.POSITIVE_INFINITY;\n    function evaluationFunc(element, datasetIndex, index) {\n        const inRange = element.inRange(position.x, position.y, useFinalPosition);\n        if (intersect && !inRange) {\n            return;\n        }\n        const center = element.getCenterPoint(useFinalPosition);\n        const pointInArea = !!includeInvisible || chart.isPointInArea(center);\n        if (!pointInArea && !inRange) {\n            return;\n        }\n        const distance = distanceMetric(position, center);\n        if (distance < minDistance) {\n            items = [\n                {\n                    element,\n                    datasetIndex,\n                    index\n                }\n            ];\n            minDistance = distance;\n        } else if (distance === minDistance) {\n            items.push({\n                element,\n                datasetIndex,\n                index\n            });\n        }\n    }\n    evaluateInteractionItems(chart, axis, position, evaluationFunc);\n    return items;\n}\n function getNearestItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n    if (!includeInvisible && !chart.isPointInArea(position)) {\n        return [];\n    }\n    return axis === 'r' && !intersect ? getNearestRadialItems(chart, position, axis, useFinalPosition) : getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible);\n}\n function getAxisItems(chart, position, axis, intersect, useFinalPosition) {\n    const items = [];\n    const rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';\n    let intersectsItem = false;\n    evaluateInteractionItems(chart, axis, position, (element, datasetIndex, index)=>{\n        if (element[rangeMethod] && element[rangeMethod](position[axis], useFinalPosition)) {\n            items.push({\n                element,\n                datasetIndex,\n                index\n            });\n            intersectsItem = intersectsItem || element.inRange(position.x, position.y, useFinalPosition);\n        }\n    });\n    if (intersect && !intersectsItem) {\n        return [];\n    }\n    return items;\n}\n var Interaction = {\n    evaluateInteractionItems,\n    modes: {\n index (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            const axis = options.axis || 'x';\n            const includeInvisible = options.includeInvisible || false;\n            const items = options.intersect ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n            const elements = [];\n            if (!items.length) {\n                return [];\n            }\n            chart.getSortedVisibleDatasetMetas().forEach((meta)=>{\n                const index = items[0].index;\n                const element = meta.data[index];\n                if (element && !element.skip) {\n                    elements.push({\n                        element,\n                        datasetIndex: meta.index,\n                        index\n                    });\n                }\n            });\n            return elements;\n        },\n dataset (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            const axis = options.axis || 'xy';\n            const includeInvisible = options.includeInvisible || false;\n            let items = options.intersect ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n            if (items.length > 0) {\n                const datasetIndex = items[0].datasetIndex;\n                const data = chart.getDatasetMeta(datasetIndex).data;\n                items = [];\n                for(let i = 0; i < data.length; ++i){\n                    items.push({\n                        element: data[i],\n                        datasetIndex,\n                        index: i\n                    });\n                }\n            }\n            return items;\n        },\n point (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            const axis = options.axis || 'xy';\n            const includeInvisible = options.includeInvisible || false;\n            return getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible);\n        },\n nearest (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            const axis = options.axis || 'xy';\n            const includeInvisible = options.includeInvisible || false;\n            return getNearestItems(chart, position, axis, options.intersect, useFinalPosition, includeInvisible);\n        },\n x (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            return getAxisItems(chart, position, 'x', options.intersect, useFinalPosition);\n        },\n y (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            return getAxisItems(chart, position, 'y', options.intersect, useFinalPosition);\n        }\n    }\n};\n\nconst STATIC_POSITIONS = [\n    'left',\n    'top',\n    'right',\n    'bottom'\n];\nfunction filterByPosition(array, position) {\n    return array.filter((v)=>v.pos === position);\n}\nfunction filterDynamicPositionByAxis(array, axis) {\n    return array.filter((v)=>STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis);\n}\nfunction sortByWeight(array, reverse) {\n    return array.sort((a, b)=>{\n        const v0 = reverse ? b : a;\n        const v1 = reverse ? a : b;\n        return v0.weight === v1.weight ? v0.index - v1.index : v0.weight - v1.weight;\n    });\n}\nfunction wrapBoxes(boxes) {\n    const layoutBoxes = [];\n    let i, ilen, box, pos, stack, stackWeight;\n    for(i = 0, ilen = (boxes || []).length; i < ilen; ++i){\n        box = boxes[i];\n        ({ position: pos , options: { stack , stackWeight =1  }  } = box);\n        layoutBoxes.push({\n            index: i,\n            box,\n            pos,\n            horizontal: box.isHorizontal(),\n            weight: box.weight,\n            stack: stack && pos + stack,\n            stackWeight\n        });\n    }\n    return layoutBoxes;\n}\nfunction buildStacks(layouts) {\n    const stacks = {};\n    for (const wrap of layouts){\n        const { stack , pos , stackWeight  } = wrap;\n        if (!stack || !STATIC_POSITIONS.includes(pos)) {\n            continue;\n        }\n        const _stack = stacks[stack] || (stacks[stack] = {\n            count: 0,\n            placed: 0,\n            weight: 0,\n            size: 0\n        });\n        _stack.count++;\n        _stack.weight += stackWeight;\n    }\n    return stacks;\n}\n function setLayoutDims(layouts, params) {\n    const stacks = buildStacks(layouts);\n    const { vBoxMaxWidth , hBoxMaxHeight  } = params;\n    let i, ilen, layout;\n    for(i = 0, ilen = layouts.length; i < ilen; ++i){\n        layout = layouts[i];\n        const { fullSize  } = layout.box;\n        const stack = stacks[layout.stack];\n        const factor = stack && layout.stackWeight / stack.weight;\n        if (layout.horizontal) {\n            layout.width = factor ? factor * vBoxMaxWidth : fullSize && params.availableWidth;\n            layout.height = hBoxMaxHeight;\n        } else {\n            layout.width = vBoxMaxWidth;\n            layout.height = factor ? factor * hBoxMaxHeight : fullSize && params.availableHeight;\n        }\n    }\n    return stacks;\n}\nfunction buildLayoutBoxes(boxes) {\n    const layoutBoxes = wrapBoxes(boxes);\n    const fullSize = sortByWeight(layoutBoxes.filter((wrap)=>wrap.box.fullSize), true);\n    const left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\n    const right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\n    const top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\n    const bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\n    const centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');\n    const centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');\n    return {\n        fullSize,\n        leftAndTop: left.concat(top),\n        rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),\n        chartArea: filterByPosition(layoutBoxes, 'chartArea'),\n        vertical: left.concat(right).concat(centerVertical),\n        horizontal: top.concat(bottom).concat(centerHorizontal)\n    };\n}\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\n    return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\n}\nfunction updateMaxPadding(maxPadding, boxPadding) {\n    maxPadding.top = Math.max(maxPadding.top, boxPadding.top);\n    maxPadding.left = Math.max(maxPadding.left, boxPadding.left);\n    maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\n    maxPadding.right = Math.max(maxPadding.right, boxPadding.right);\n}\nfunction updateDims(chartArea, params, layout, stacks) {\n    const { pos , box  } = layout;\n    const maxPadding = chartArea.maxPadding;\n    if (!isObject(pos)) {\n        if (layout.size) {\n            chartArea[pos] -= layout.size;\n        }\n        const stack = stacks[layout.stack] || {\n            size: 0,\n            count: 1\n        };\n        stack.size = Math.max(stack.size, layout.horizontal ? box.height : box.width);\n        layout.size = stack.size / stack.count;\n        chartArea[pos] += layout.size;\n    }\n    if (box.getPadding) {\n        updateMaxPadding(maxPadding, box.getPadding());\n    }\n    const newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));\n    const newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));\n    const widthChanged = newWidth !== chartArea.w;\n    const heightChanged = newHeight !== chartArea.h;\n    chartArea.w = newWidth;\n    chartArea.h = newHeight;\n    return layout.horizontal ? {\n        same: widthChanged,\n        other: heightChanged\n    } : {\n        same: heightChanged,\n        other: widthChanged\n    };\n}\nfunction handleMaxPadding(chartArea) {\n    const maxPadding = chartArea.maxPadding;\n    function updatePos(pos) {\n        const change = Math.max(maxPadding[pos] - chartArea[pos], 0);\n        chartArea[pos] += change;\n        return change;\n    }\n    chartArea.y += updatePos('top');\n    chartArea.x += updatePos('left');\n    updatePos('right');\n    updatePos('bottom');\n}\nfunction getMargins(horizontal, chartArea) {\n    const maxPadding = chartArea.maxPadding;\n    function marginForPositions(positions) {\n        const margin = {\n            left: 0,\n            top: 0,\n            right: 0,\n            bottom: 0\n        };\n        positions.forEach((pos)=>{\n            margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\n        });\n        return margin;\n    }\n    return horizontal ? marginForPositions([\n        'left',\n        'right'\n    ]) : marginForPositions([\n        'top',\n        'bottom'\n    ]);\n}\nfunction fitBoxes(boxes, chartArea, params, stacks) {\n    const refitBoxes = [];\n    let i, ilen, layout, box, refit, changed;\n    for(i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i){\n        layout = boxes[i];\n        box = layout.box;\n        box.update(layout.width || chartArea.w, layout.height || chartArea.h, getMargins(layout.horizontal, chartArea));\n        const { same , other  } = updateDims(chartArea, params, layout, stacks);\n        refit |= same && refitBoxes.length;\n        changed = changed || other;\n        if (!box.fullSize) {\n            refitBoxes.push(layout);\n        }\n    }\n    return refit && fitBoxes(refitBoxes, chartArea, params, stacks) || changed;\n}\nfunction setBoxDims(box, left, top, width, height) {\n    box.top = top;\n    box.left = left;\n    box.right = left + width;\n    box.bottom = top + height;\n    box.width = width;\n    box.height = height;\n}\nfunction placeBoxes(boxes, chartArea, params, stacks) {\n    const userPadding = params.padding;\n    let { x , y  } = chartArea;\n    for (const layout of boxes){\n        const box = layout.box;\n        const stack = stacks[layout.stack] || {\n            count: 1,\n            placed: 0,\n            weight: 1\n        };\n        const weight = layout.stackWeight / stack.weight || 1;\n        if (layout.horizontal) {\n            const width = chartArea.w * weight;\n            const height = stack.size || box.height;\n            if (defined(stack.start)) {\n                y = stack.start;\n            }\n            if (box.fullSize) {\n                setBoxDims(box, userPadding.left, y, params.outerWidth - userPadding.right - userPadding.left, height);\n            } else {\n                setBoxDims(box, chartArea.left + stack.placed, y, width, height);\n            }\n            stack.start = y;\n            stack.placed += width;\n            y = box.bottom;\n        } else {\n            const height = chartArea.h * weight;\n            const width = stack.size || box.width;\n            if (defined(stack.start)) {\n                x = stack.start;\n            }\n            if (box.fullSize) {\n                setBoxDims(box, x, userPadding.top, width, params.outerHeight - userPadding.bottom - userPadding.top);\n            } else {\n                setBoxDims(box, x, chartArea.top + stack.placed, width, height);\n            }\n            stack.start = x;\n            stack.placed += height;\n            x = box.right;\n        }\n    }\n    chartArea.x = x;\n    chartArea.y = y;\n}\nvar layouts = {\n addBox (chart, item) {\n        if (!chart.boxes) {\n            chart.boxes = [];\n        }\n        item.fullSize = item.fullSize || false;\n        item.position = item.position || 'top';\n        item.weight = item.weight || 0;\n        item._layers = item._layers || function() {\n            return [\n                {\n                    z: 0,\n                    draw (chartArea) {\n                        item.draw(chartArea);\n                    }\n                }\n            ];\n        };\n        chart.boxes.push(item);\n    },\n removeBox (chart, layoutItem) {\n        const index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\n        if (index !== -1) {\n            chart.boxes.splice(index, 1);\n        }\n    },\n configure (chart, item, options) {\n        item.fullSize = options.fullSize;\n        item.position = options.position;\n        item.weight = options.weight;\n    },\n update (chart, width, height, minPadding) {\n        if (!chart) {\n            return;\n        }\n        const padding = toPadding(chart.options.layout.padding);\n        const availableWidth = Math.max(width - padding.width, 0);\n        const availableHeight = Math.max(height - padding.height, 0);\n        const boxes = buildLayoutBoxes(chart.boxes);\n        const verticalBoxes = boxes.vertical;\n        const horizontalBoxes = boxes.horizontal;\n        each(chart.boxes, (box)=>{\n            if (typeof box.beforeLayout === 'function') {\n                box.beforeLayout();\n            }\n        });\n        const visibleVerticalBoxCount = verticalBoxes.reduce((total, wrap)=>wrap.box.options && wrap.box.options.display === false ? total : total + 1, 0) || 1;\n        const params = Object.freeze({\n            outerWidth: width,\n            outerHeight: height,\n            padding,\n            availableWidth,\n            availableHeight,\n            vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,\n            hBoxMaxHeight: availableHeight / 2\n        });\n        const maxPadding = Object.assign({}, padding);\n        updateMaxPadding(maxPadding, toPadding(minPadding));\n        const chartArea = Object.assign({\n            maxPadding,\n            w: availableWidth,\n            h: availableHeight,\n            x: padding.left,\n            y: padding.top\n        }, padding);\n        const stacks = setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\n        fitBoxes(boxes.fullSize, chartArea, params, stacks);\n        fitBoxes(verticalBoxes, chartArea, params, stacks);\n        if (fitBoxes(horizontalBoxes, chartArea, params, stacks)) {\n            fitBoxes(verticalBoxes, chartArea, params, stacks);\n        }\n        handleMaxPadding(chartArea);\n        placeBoxes(boxes.leftAndTop, chartArea, params, stacks);\n        chartArea.x += chartArea.w;\n        chartArea.y += chartArea.h;\n        placeBoxes(boxes.rightAndBottom, chartArea, params, stacks);\n        chart.chartArea = {\n            left: chartArea.left,\n            top: chartArea.top,\n            right: chartArea.left + chartArea.w,\n            bottom: chartArea.top + chartArea.h,\n            height: chartArea.h,\n            width: chartArea.w\n        };\n        each(boxes.chartArea, (layout)=>{\n            const box = layout.box;\n            Object.assign(box, chart.chartArea);\n            box.update(chartArea.w, chartArea.h, {\n                left: 0,\n                top: 0,\n                right: 0,\n                bottom: 0\n            });\n        });\n    }\n};\n\nclass BasePlatform {\n acquireContext(canvas, aspectRatio) {}\n releaseContext(context) {\n        return false;\n    }\n addEventListener(chart, type, listener) {}\n removeEventListener(chart, type, listener) {}\n getDevicePixelRatio() {\n        return 1;\n    }\n getMaximumSize(element, width, height, aspectRatio) {\n        width = Math.max(0, width || element.width);\n        height = height || element.height;\n        return {\n            width,\n            height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)\n        };\n    }\n isAttached(canvas) {\n        return true;\n    }\n updateConfig(config) {\n    }\n}\n\nclass BasicPlatform extends BasePlatform {\n    acquireContext(item) {\n        return item && item.getContext && item.getContext('2d') || null;\n    }\n    updateConfig(config) {\n        config.options.animation = false;\n    }\n}\n\nconst EXPANDO_KEY = '$chartjs';\n const EVENT_TYPES = {\n    touchstart: 'mousedown',\n    touchmove: 'mousemove',\n    touchend: 'mouseup',\n    pointerenter: 'mouseenter',\n    pointerdown: 'mousedown',\n    pointermove: 'mousemove',\n    pointerup: 'mouseup',\n    pointerleave: 'mouseout',\n    pointerout: 'mouseout'\n};\nconst isNullOrEmpty = (value)=>value === null || value === '';\n function initCanvas(canvas, aspectRatio) {\n    const style = canvas.style;\n    const renderHeight = canvas.getAttribute('height');\n    const renderWidth = canvas.getAttribute('width');\n    canvas[EXPANDO_KEY] = {\n        initial: {\n            height: renderHeight,\n            width: renderWidth,\n            style: {\n                display: style.display,\n                height: style.height,\n                width: style.width\n            }\n        }\n    };\n    style.display = style.display || 'block';\n    style.boxSizing = style.boxSizing || 'border-box';\n    if (isNullOrEmpty(renderWidth)) {\n        const displayWidth = readUsedSize(canvas, 'width');\n        if (displayWidth !== undefined) {\n            canvas.width = displayWidth;\n        }\n    }\n    if (isNullOrEmpty(renderHeight)) {\n        if (canvas.style.height === '') {\n            canvas.height = canvas.width / (aspectRatio || 2);\n        } else {\n            const displayHeight = readUsedSize(canvas, 'height');\n            if (displayHeight !== undefined) {\n                canvas.height = displayHeight;\n            }\n        }\n    }\n    return canvas;\n}\nconst eventListenerOptions = supportsEventListenerOptions ? {\n    passive: true\n} : false;\nfunction addListener(node, type, listener) {\n    if (node) {\n        node.addEventListener(type, listener, eventListenerOptions);\n    }\n}\nfunction removeListener(chart, type, listener) {\n    if (chart && chart.canvas) {\n        chart.canvas.removeEventListener(type, listener, eventListenerOptions);\n    }\n}\nfunction fromNativeEvent(event, chart) {\n    const type = EVENT_TYPES[event.type] || event.type;\n    const { x , y  } = getRelativePosition(event, chart);\n    return {\n        type,\n        chart,\n        native: event,\n        x: x !== undefined ? x : null,\n        y: y !== undefined ? y : null\n    };\n}\nfunction nodeListContains(nodeList, canvas) {\n    for (const node of nodeList){\n        if (node === canvas || node.contains(canvas)) {\n            return true;\n        }\n    }\n}\nfunction createAttachObserver(chart, type, listener) {\n    const canvas = chart.canvas;\n    const observer = new MutationObserver((entries)=>{\n        let trigger = false;\n        for (const entry of entries){\n            trigger = trigger || nodeListContains(entry.addedNodes, canvas);\n            trigger = trigger && !nodeListContains(entry.removedNodes, canvas);\n        }\n        if (trigger) {\n            listener();\n        }\n    });\n    observer.observe(document, {\n        childList: true,\n        subtree: true\n    });\n    return observer;\n}\nfunction createDetachObserver(chart, type, listener) {\n    const canvas = chart.canvas;\n    const observer = new MutationObserver((entries)=>{\n        let trigger = false;\n        for (const entry of entries){\n            trigger = trigger || nodeListContains(entry.removedNodes, canvas);\n            trigger = trigger && !nodeListContains(entry.addedNodes, canvas);\n        }\n        if (trigger) {\n            listener();\n        }\n    });\n    observer.observe(document, {\n        childList: true,\n        subtree: true\n    });\n    return observer;\n}\nconst drpListeningCharts = new Map();\nlet oldDevicePixelRatio = 0;\nfunction onWindowResize() {\n    const dpr = window.devicePixelRatio;\n    if (dpr === oldDevicePixelRatio) {\n        return;\n    }\n    oldDevicePixelRatio = dpr;\n    drpListeningCharts.forEach((resize, chart)=>{\n        if (chart.currentDevicePixelRatio !== dpr) {\n            resize();\n        }\n    });\n}\nfunction listenDevicePixelRatioChanges(chart, resize) {\n    if (!drpListeningCharts.size) {\n        window.addEventListener('resize', onWindowResize);\n    }\n    drpListeningCharts.set(chart, resize);\n}\nfunction unlistenDevicePixelRatioChanges(chart) {\n    drpListeningCharts.delete(chart);\n    if (!drpListeningCharts.size) {\n        window.removeEventListener('resize', onWindowResize);\n    }\n}\nfunction createResizeObserver(chart, type, listener) {\n    const canvas = chart.canvas;\n    const container = canvas && _getParentNode(canvas);\n    if (!container) {\n        return;\n    }\n    const resize = throttled((width, height)=>{\n        const w = container.clientWidth;\n        listener(width, height);\n        if (w < container.clientWidth) {\n            listener();\n        }\n    }, window);\n    const observer = new ResizeObserver((entries)=>{\n        const entry = entries[0];\n        const width = entry.contentRect.width;\n        const height = entry.contentRect.height;\n        if (width === 0 && height === 0) {\n            return;\n        }\n        resize(width, height);\n    });\n    observer.observe(container);\n    listenDevicePixelRatioChanges(chart, resize);\n    return observer;\n}\nfunction releaseObserver(chart, type, observer) {\n    if (observer) {\n        observer.disconnect();\n    }\n    if (type === 'resize') {\n        unlistenDevicePixelRatioChanges(chart);\n    }\n}\nfunction createProxyAndListen(chart, type, listener) {\n    const canvas = chart.canvas;\n    const proxy = throttled((event)=>{\n        if (chart.ctx !== null) {\n            listener(fromNativeEvent(event, chart));\n        }\n    }, chart);\n    addListener(canvas, type, proxy);\n    return proxy;\n}\n class DomPlatform extends BasePlatform {\n acquireContext(canvas, aspectRatio) {\n        const context = canvas && canvas.getContext && canvas.getContext('2d');\n        if (context && context.canvas === canvas) {\n            initCanvas(canvas, aspectRatio);\n            return context;\n        }\n        return null;\n    }\n releaseContext(context) {\n        const canvas = context.canvas;\n        if (!canvas[EXPANDO_KEY]) {\n            return false;\n        }\n        const initial = canvas[EXPANDO_KEY].initial;\n        [\n            'height',\n            'width'\n        ].forEach((prop)=>{\n            const value = initial[prop];\n            if (isNullOrUndef(value)) {\n                canvas.removeAttribute(prop);\n            } else {\n                canvas.setAttribute(prop, value);\n            }\n        });\n        const style = initial.style || {};\n        Object.keys(style).forEach((key)=>{\n            canvas.style[key] = style[key];\n        });\n        canvas.width = canvas.width;\n        delete canvas[EXPANDO_KEY];\n        return true;\n    }\n addEventListener(chart, type, listener) {\n        this.removeEventListener(chart, type);\n        const proxies = chart.$proxies || (chart.$proxies = {});\n        const handlers = {\n            attach: createAttachObserver,\n            detach: createDetachObserver,\n            resize: createResizeObserver\n        };\n        const handler = handlers[type] || createProxyAndListen;\n        proxies[type] = handler(chart, type, listener);\n    }\n removeEventListener(chart, type) {\n        const proxies = chart.$proxies || (chart.$proxies = {});\n        const proxy = proxies[type];\n        if (!proxy) {\n            return;\n        }\n        const handlers = {\n            attach: releaseObserver,\n            detach: releaseObserver,\n            resize: releaseObserver\n        };\n        const handler = handlers[type] || removeListener;\n        handler(chart, type, proxy);\n        proxies[type] = undefined;\n    }\n    getDevicePixelRatio() {\n        return window.devicePixelRatio;\n    }\n getMaximumSize(canvas, width, height, aspectRatio) {\n        return getMaximumSize(canvas, width, height, aspectRatio);\n    }\n isAttached(canvas) {\n        const container = canvas && _getParentNode(canvas);\n        return !!(container && container.isConnected);\n    }\n}\n\nfunction _detectPlatform(canvas) {\n    if (!_isDomSupported() || typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas) {\n        return BasicPlatform;\n    }\n    return DomPlatform;\n}\n\nclass Element {\n    static defaults = {};\n    static defaultRoutes = undefined;\n    x;\n    y;\n    active = false;\n    options;\n    $animations;\n    tooltipPosition(useFinalPosition) {\n        const { x , y  } = this.getProps([\n            'x',\n            'y'\n        ], useFinalPosition);\n        return {\n            x,\n            y\n        };\n    }\n    hasValue() {\n        return isNumber(this.x) && isNumber(this.y);\n    }\n    getProps(props, final) {\n        const anims = this.$animations;\n        if (!final || !anims) {\n            // let's not create an object, if not needed\n            return this;\n        }\n        const ret = {};\n        props.forEach((prop)=>{\n            ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : this[prop];\n        });\n        return ret;\n    }\n}\n\nfunction autoSkip(scale, ticks) {\n    const tickOpts = scale.options.ticks;\n    const determinedMaxTicks = determineMaxTicks(scale);\n    const ticksLimit = Math.min(tickOpts.maxTicksLimit || determinedMaxTicks, determinedMaxTicks);\n    const majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\n    const numMajorIndices = majorIndices.length;\n    const first = majorIndices[0];\n    const last = majorIndices[numMajorIndices - 1];\n    const newTicks = [];\n    if (numMajorIndices > ticksLimit) {\n        skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);\n        return newTicks;\n    }\n    const spacing = calculateSpacing(majorIndices, ticks, ticksLimit);\n    if (numMajorIndices > 0) {\n        let i, ilen;\n        const avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;\n        skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\n        for(i = 0, ilen = numMajorIndices - 1; i < ilen; i++){\n            skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);\n        }\n        skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\n        return newTicks;\n    }\n    skip(ticks, newTicks, spacing);\n    return newTicks;\n}\nfunction determineMaxTicks(scale) {\n    const offset = scale.options.offset;\n    const tickLength = scale._tickSize();\n    const maxScale = scale._length / tickLength + (offset ? 0 : 1);\n    const maxChart = scale._maxLength / tickLength;\n    return Math.floor(Math.min(maxScale, maxChart));\n}\n function calculateSpacing(majorIndices, ticks, ticksLimit) {\n    const evenMajorSpacing = getEvenSpacing(majorIndices);\n    const spacing = ticks.length / ticksLimit;\n    if (!evenMajorSpacing) {\n        return Math.max(spacing, 1);\n    }\n    const factors = _factorize(evenMajorSpacing);\n    for(let i = 0, ilen = factors.length - 1; i < ilen; i++){\n        const factor = factors[i];\n        if (factor > spacing) {\n            return factor;\n        }\n    }\n    return Math.max(spacing, 1);\n}\n function getMajorIndices(ticks) {\n    const result = [];\n    let i, ilen;\n    for(i = 0, ilen = ticks.length; i < ilen; i++){\n        if (ticks[i].major) {\n            result.push(i);\n        }\n    }\n    return result;\n}\n function skipMajors(ticks, newTicks, majorIndices, spacing) {\n    let count = 0;\n    let next = majorIndices[0];\n    let i;\n    spacing = Math.ceil(spacing);\n    for(i = 0; i < ticks.length; i++){\n        if (i === next) {\n            newTicks.push(ticks[i]);\n            count++;\n            next = majorIndices[count * spacing];\n        }\n    }\n}\n function skip(ticks, newTicks, spacing, majorStart, majorEnd) {\n    const start = valueOrDefault(majorStart, 0);\n    const end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);\n    let count = 0;\n    let length, i, next;\n    spacing = Math.ceil(spacing);\n    if (majorEnd) {\n        length = majorEnd - majorStart;\n        spacing = length / Math.floor(length / spacing);\n    }\n    next = start;\n    while(next < 0){\n        count++;\n        next = Math.round(start + count * spacing);\n    }\n    for(i = Math.max(start, 0); i < end; i++){\n        if (i === next) {\n            newTicks.push(ticks[i]);\n            count++;\n            next = Math.round(start + count * spacing);\n        }\n    }\n}\n function getEvenSpacing(arr) {\n    const len = arr.length;\n    let i, diff;\n    if (len < 2) {\n        return false;\n    }\n    for(diff = arr[0], i = 1; i < len; ++i){\n        if (arr[i] - arr[i - 1] !== diff) {\n            return false;\n        }\n    }\n    return diff;\n}\n\nconst reverseAlign = (align)=>align === 'left' ? 'right' : align === 'right' ? 'left' : align;\nconst offsetFromEdge = (scale, edge, offset)=>edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;\nconst getTicksLimit = (ticksLength, maxTicksLimit)=>Math.min(maxTicksLimit || ticksLength, ticksLength);\n function sample(arr, numItems) {\n    const result = [];\n    const increment = arr.length / numItems;\n    const len = arr.length;\n    let i = 0;\n    for(; i < len; i += increment){\n        result.push(arr[Math.floor(i)]);\n    }\n    return result;\n}\n function getPixelForGridLine(scale, index, offsetGridLines) {\n    const length = scale.ticks.length;\n    const validIndex = Math.min(index, length - 1);\n    const start = scale._startPixel;\n    const end = scale._endPixel;\n    const epsilon = 1e-6;\n    let lineValue = scale.getPixelForTick(validIndex);\n    let offset;\n    if (offsetGridLines) {\n        if (length === 1) {\n            offset = Math.max(lineValue - start, end - lineValue);\n        } else if (index === 0) {\n            offset = (scale.getPixelForTick(1) - lineValue) / 2;\n        } else {\n            offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\n        }\n        lineValue += validIndex < index ? offset : -offset;\n        if (lineValue < start - epsilon || lineValue > end + epsilon) {\n            return;\n        }\n    }\n    return lineValue;\n}\n function garbageCollect(caches, length) {\n    each(caches, (cache)=>{\n        const gc = cache.gc;\n        const gcLen = gc.length / 2;\n        let i;\n        if (gcLen > length) {\n            for(i = 0; i < gcLen; ++i){\n                delete cache.data[gc[i]];\n            }\n            gc.splice(0, gcLen);\n        }\n    });\n}\n function getTickMarkLength(options) {\n    return options.drawTicks ? options.tickLength : 0;\n}\n function getTitleHeight(options, fallback) {\n    if (!options.display) {\n        return 0;\n    }\n    const font = toFont(options.font, fallback);\n    const padding = toPadding(options.padding);\n    const lines = isArray(options.text) ? options.text.length : 1;\n    return lines * font.lineHeight + padding.height;\n}\nfunction createScaleContext(parent, scale) {\n    return createContext(parent, {\n        scale,\n        type: 'scale'\n    });\n}\nfunction createTickContext(parent, index, tick) {\n    return createContext(parent, {\n        tick,\n        index,\n        type: 'tick'\n    });\n}\nfunction titleAlign(align, position, reverse) {\n     let ret = _toLeftRightCenter(align);\n    if (reverse && position !== 'right' || !reverse && position === 'right') {\n        ret = reverseAlign(ret);\n    }\n    return ret;\n}\nfunction titleArgs(scale, offset, position, align) {\n    const { top , left , bottom , right , chart  } = scale;\n    const { chartArea , scales  } = chart;\n    let rotation = 0;\n    let maxWidth, titleX, titleY;\n    const height = bottom - top;\n    const width = right - left;\n    if (scale.isHorizontal()) {\n        titleX = _alignStartEnd(align, left, right);\n        if (isObject(position)) {\n            const positionAxisID = Object.keys(position)[0];\n            const value = position[positionAxisID];\n            titleY = scales[positionAxisID].getPixelForValue(value) + height - offset;\n        } else if (position === 'center') {\n            titleY = (chartArea.bottom + chartArea.top) / 2 + height - offset;\n        } else {\n            titleY = offsetFromEdge(scale, position, offset);\n        }\n        maxWidth = right - left;\n    } else {\n        if (isObject(position)) {\n            const positionAxisID = Object.keys(position)[0];\n            const value = position[positionAxisID];\n            titleX = scales[positionAxisID].getPixelForValue(value) - width + offset;\n        } else if (position === 'center') {\n            titleX = (chartArea.left + chartArea.right) / 2 - width + offset;\n        } else {\n            titleX = offsetFromEdge(scale, position, offset);\n        }\n        titleY = _alignStartEnd(align, bottom, top);\n        rotation = position === 'left' ? -HALF_PI : HALF_PI;\n    }\n    return {\n        titleX,\n        titleY,\n        maxWidth,\n        rotation\n    };\n}\nclass Scale extends Element {\n    constructor(cfg){\n        super();\n         this.id = cfg.id;\n         this.type = cfg.type;\n         this.options = undefined;\n         this.ctx = cfg.ctx;\n         this.chart = cfg.chart;\n         this.top = undefined;\n         this.bottom = undefined;\n         this.left = undefined;\n         this.right = undefined;\n         this.width = undefined;\n         this.height = undefined;\n        this._margins = {\n            left: 0,\n            right: 0,\n            top: 0,\n            bottom: 0\n        };\n         this.maxWidth = undefined;\n         this.maxHeight = undefined;\n         this.paddingTop = undefined;\n         this.paddingBottom = undefined;\n         this.paddingLeft = undefined;\n         this.paddingRight = undefined;\n         this.axis = undefined;\n         this.labelRotation = undefined;\n        this.min = undefined;\n        this.max = undefined;\n        this._range = undefined;\n         this.ticks = [];\n         this._gridLineItems = null;\n         this._labelItems = null;\n         this._labelSizes = null;\n        this._length = 0;\n        this._maxLength = 0;\n        this._longestTextCache = {};\n         this._startPixel = undefined;\n         this._endPixel = undefined;\n        this._reversePixels = false;\n        this._userMax = undefined;\n        this._userMin = undefined;\n        this._suggestedMax = undefined;\n        this._suggestedMin = undefined;\n        this._ticksLength = 0;\n        this._borderValue = 0;\n        this._cache = {};\n        this._dataLimitsCached = false;\n        this.$context = undefined;\n    }\n init(options) {\n        this.options = options.setContext(this.getContext());\n        this.axis = options.axis;\n        this._userMin = this.parse(options.min);\n        this._userMax = this.parse(options.max);\n        this._suggestedMin = this.parse(options.suggestedMin);\n        this._suggestedMax = this.parse(options.suggestedMax);\n    }\n parse(raw, index) {\n        return raw;\n    }\n getUserBounds() {\n        let { _userMin , _userMax , _suggestedMin , _suggestedMax  } = this;\n        _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);\n        _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);\n        _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);\n        _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);\n        return {\n            min: finiteOrDefault(_userMin, _suggestedMin),\n            max: finiteOrDefault(_userMax, _suggestedMax),\n            minDefined: isNumberFinite(_userMin),\n            maxDefined: isNumberFinite(_userMax)\n        };\n    }\n getMinMax(canStack) {\n        let { min , max , minDefined , maxDefined  } = this.getUserBounds();\n        let range;\n        if (minDefined && maxDefined) {\n            return {\n                min,\n                max\n            };\n        }\n        const metas = this.getMatchingVisibleMetas();\n        for(let i = 0, ilen = metas.length; i < ilen; ++i){\n            range = metas[i].controller.getMinMax(this, canStack);\n            if (!minDefined) {\n                min = Math.min(min, range.min);\n            }\n            if (!maxDefined) {\n                max = Math.max(max, range.max);\n            }\n        }\n        min = maxDefined && min > max ? max : min;\n        max = minDefined && min > max ? min : max;\n        return {\n            min: finiteOrDefault(min, finiteOrDefault(max, min)),\n            max: finiteOrDefault(max, finiteOrDefault(min, max))\n        };\n    }\n getPadding() {\n        return {\n            left: this.paddingLeft || 0,\n            top: this.paddingTop || 0,\n            right: this.paddingRight || 0,\n            bottom: this.paddingBottom || 0\n        };\n    }\n getTicks() {\n        return this.ticks;\n    }\n getLabels() {\n        const data = this.chart.data;\n        return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\n    }\n getLabelItems(chartArea = this.chart.chartArea) {\n        const items = this._labelItems || (this._labelItems = this._computeLabelItems(chartArea));\n        return items;\n    }\n    beforeLayout() {\n        this._cache = {};\n        this._dataLimitsCached = false;\n    }\n    beforeUpdate() {\n        callback(this.options.beforeUpdate, [\n            this\n        ]);\n    }\n update(maxWidth, maxHeight, margins) {\n        const { beginAtZero , grace , ticks: tickOpts  } = this.options;\n        const sampleSize = tickOpts.sampleSize;\n        this.beforeUpdate();\n        this.maxWidth = maxWidth;\n        this.maxHeight = maxHeight;\n        this._margins = margins = Object.assign({\n            left: 0,\n            right: 0,\n            top: 0,\n            bottom: 0\n        }, margins);\n        this.ticks = null;\n        this._labelSizes = null;\n        this._gridLineItems = null;\n        this._labelItems = null;\n        this.beforeSetDimensions();\n        this.setDimensions();\n        this.afterSetDimensions();\n        this._maxLength = this.isHorizontal() ? this.width + margins.left + margins.right : this.height + margins.top + margins.bottom;\n        if (!this._dataLimitsCached) {\n            this.beforeDataLimits();\n            this.determineDataLimits();\n            this.afterDataLimits();\n            this._range = _addGrace(this, grace, beginAtZero);\n            this._dataLimitsCached = true;\n        }\n        this.beforeBuildTicks();\n        this.ticks = this.buildTicks() || [];\n        this.afterBuildTicks();\n        const samplingEnabled = sampleSize < this.ticks.length;\n        this._convertTicksToLabels(samplingEnabled ? sample(this.ticks, sampleSize) : this.ticks);\n        this.configure();\n        this.beforeCalculateLabelRotation();\n        this.calculateLabelRotation();\n        this.afterCalculateLabelRotation();\n        if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {\n            this.ticks = autoSkip(this, this.ticks);\n            this._labelSizes = null;\n            this.afterAutoSkip();\n        }\n        if (samplingEnabled) {\n            this._convertTicksToLabels(this.ticks);\n        }\n        this.beforeFit();\n        this.fit();\n        this.afterFit();\n        this.afterUpdate();\n    }\n configure() {\n        let reversePixels = this.options.reverse;\n        let startPixel, endPixel;\n        if (this.isHorizontal()) {\n            startPixel = this.left;\n            endPixel = this.right;\n        } else {\n            startPixel = this.top;\n            endPixel = this.bottom;\n            reversePixels = !reversePixels;\n        }\n        this._startPixel = startPixel;\n        this._endPixel = endPixel;\n        this._reversePixels = reversePixels;\n        this._length = endPixel - startPixel;\n        this._alignToPixels = this.options.alignToPixels;\n    }\n    afterUpdate() {\n        callback(this.options.afterUpdate, [\n            this\n        ]);\n    }\n    beforeSetDimensions() {\n        callback(this.options.beforeSetDimensions, [\n            this\n        ]);\n    }\n    setDimensions() {\n        if (this.isHorizontal()) {\n            this.width = this.maxWidth;\n            this.left = 0;\n            this.right = this.width;\n        } else {\n            this.height = this.maxHeight;\n            this.top = 0;\n            this.bottom = this.height;\n        }\n        this.paddingLeft = 0;\n        this.paddingTop = 0;\n        this.paddingRight = 0;\n        this.paddingBottom = 0;\n    }\n    afterSetDimensions() {\n        callback(this.options.afterSetDimensions, [\n            this\n        ]);\n    }\n    _callHooks(name) {\n        this.chart.notifyPlugins(name, this.getContext());\n        callback(this.options[name], [\n            this\n        ]);\n    }\n    beforeDataLimits() {\n        this._callHooks('beforeDataLimits');\n    }\n    determineDataLimits() {}\n    afterDataLimits() {\n        this._callHooks('afterDataLimits');\n    }\n    beforeBuildTicks() {\n        this._callHooks('beforeBuildTicks');\n    }\n buildTicks() {\n        return [];\n    }\n    afterBuildTicks() {\n        this._callHooks('afterBuildTicks');\n    }\n    beforeTickToLabelConversion() {\n        callback(this.options.beforeTickToLabelConversion, [\n            this\n        ]);\n    }\n generateTickLabels(ticks) {\n        const tickOpts = this.options.ticks;\n        let i, ilen, tick;\n        for(i = 0, ilen = ticks.length; i < ilen; i++){\n            tick = ticks[i];\n            tick.label = callback(tickOpts.callback, [\n                tick.value,\n                i,\n                ticks\n            ], this);\n        }\n    }\n    afterTickToLabelConversion() {\n        callback(this.options.afterTickToLabelConversion, [\n            this\n        ]);\n    }\n    beforeCalculateLabelRotation() {\n        callback(this.options.beforeCalculateLabelRotation, [\n            this\n        ]);\n    }\n    calculateLabelRotation() {\n        const options = this.options;\n        const tickOpts = options.ticks;\n        const numTicks = getTicksLimit(this.ticks.length, options.ticks.maxTicksLimit);\n        const minRotation = tickOpts.minRotation || 0;\n        const maxRotation = tickOpts.maxRotation;\n        let labelRotation = minRotation;\n        let tickWidth, maxHeight, maxLabelDiagonal;\n        if (!this._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !this.isHorizontal()) {\n            this.labelRotation = minRotation;\n            return;\n        }\n        const labelSizes = this._getLabelSizes();\n        const maxLabelWidth = labelSizes.widest.width;\n        const maxLabelHeight = labelSizes.highest.height;\n        const maxWidth = _limitValue(this.chart.width - maxLabelWidth, 0, this.maxWidth);\n        tickWidth = options.offset ? this.maxWidth / numTicks : maxWidth / (numTicks - 1);\n        if (maxLabelWidth + 6 > tickWidth) {\n            tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\n            maxHeight = this.maxHeight - getTickMarkLength(options.grid) - tickOpts.padding - getTitleHeight(options.title, this.chart.options.font);\n            maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\n            labelRotation = toDegrees(Math.min(Math.asin(_limitValue((labelSizes.highest.height + 6) / tickWidth, -1, 1)), Math.asin(_limitValue(maxHeight / maxLabelDiagonal, -1, 1)) - Math.asin(_limitValue(maxLabelHeight / maxLabelDiagonal, -1, 1))));\n            labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\n        }\n        this.labelRotation = labelRotation;\n    }\n    afterCalculateLabelRotation() {\n        callback(this.options.afterCalculateLabelRotation, [\n            this\n        ]);\n    }\n    afterAutoSkip() {}\n    beforeFit() {\n        callback(this.options.beforeFit, [\n            this\n        ]);\n    }\n    fit() {\n        const minSize = {\n            width: 0,\n            height: 0\n        };\n        const { chart , options: { ticks: tickOpts , title: titleOpts , grid: gridOpts  }  } = this;\n        const display = this._isVisible();\n        const isHorizontal = this.isHorizontal();\n        if (display) {\n            const titleHeight = getTitleHeight(titleOpts, chart.options.font);\n            if (isHorizontal) {\n                minSize.width = this.maxWidth;\n                minSize.height = getTickMarkLength(gridOpts) + titleHeight;\n            } else {\n                minSize.height = this.maxHeight;\n                minSize.width = getTickMarkLength(gridOpts) + titleHeight;\n            }\n            if (tickOpts.display && this.ticks.length) {\n                const { first , last , widest , highest  } = this._getLabelSizes();\n                const tickPadding = tickOpts.padding * 2;\n                const angleRadians = toRadians(this.labelRotation);\n                const cos = Math.cos(angleRadians);\n                const sin = Math.sin(angleRadians);\n                if (isHorizontal) {\n                    const labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;\n                    minSize.height = Math.min(this.maxHeight, minSize.height + labelHeight + tickPadding);\n                } else {\n                    const labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;\n                    minSize.width = Math.min(this.maxWidth, minSize.width + labelWidth + tickPadding);\n                }\n                this._calculatePadding(first, last, sin, cos);\n            }\n        }\n        this._handleMargins();\n        if (isHorizontal) {\n            this.width = this._length = chart.width - this._margins.left - this._margins.right;\n            this.height = minSize.height;\n        } else {\n            this.width = minSize.width;\n            this.height = this._length = chart.height - this._margins.top - this._margins.bottom;\n        }\n    }\n    _calculatePadding(first, last, sin, cos) {\n        const { ticks: { align , padding  } , position  } = this.options;\n        const isRotated = this.labelRotation !== 0;\n        const labelsBelowTicks = position !== 'top' && this.axis === 'x';\n        if (this.isHorizontal()) {\n            const offsetLeft = this.getPixelForTick(0) - this.left;\n            const offsetRight = this.right - this.getPixelForTick(this.ticks.length - 1);\n            let paddingLeft = 0;\n            let paddingRight = 0;\n            if (isRotated) {\n                if (labelsBelowTicks) {\n                    paddingLeft = cos * first.width;\n                    paddingRight = sin * last.height;\n                } else {\n                    paddingLeft = sin * first.height;\n                    paddingRight = cos * last.width;\n                }\n            } else if (align === 'start') {\n                paddingRight = last.width;\n            } else if (align === 'end') {\n                paddingLeft = first.width;\n            } else if (align !== 'inner') {\n                paddingLeft = first.width / 2;\n                paddingRight = last.width / 2;\n            }\n            this.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * this.width / (this.width - offsetLeft), 0);\n            this.paddingRight = Math.max((paddingRight - offsetRight + padding) * this.width / (this.width - offsetRight), 0);\n        } else {\n            let paddingTop = last.height / 2;\n            let paddingBottom = first.height / 2;\n            if (align === 'start') {\n                paddingTop = 0;\n                paddingBottom = first.height;\n            } else if (align === 'end') {\n                paddingTop = last.height;\n                paddingBottom = 0;\n            }\n            this.paddingTop = paddingTop + padding;\n            this.paddingBottom = paddingBottom + padding;\n        }\n    }\n _handleMargins() {\n        if (this._margins) {\n            this._margins.left = Math.max(this.paddingLeft, this._margins.left);\n            this._margins.top = Math.max(this.paddingTop, this._margins.top);\n            this._margins.right = Math.max(this.paddingRight, this._margins.right);\n            this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom);\n        }\n    }\n    afterFit() {\n        callback(this.options.afterFit, [\n            this\n        ]);\n    }\n isHorizontal() {\n        const { axis , position  } = this.options;\n        return position === 'top' || position === 'bottom' || axis === 'x';\n    }\n isFullSize() {\n        return this.options.fullSize;\n    }\n _convertTicksToLabels(ticks) {\n        this.beforeTickToLabelConversion();\n        this.generateTickLabels(ticks);\n        let i, ilen;\n        for(i = 0, ilen = ticks.length; i < ilen; i++){\n            if (isNullOrUndef(ticks[i].label)) {\n                ticks.splice(i, 1);\n                ilen--;\n                i--;\n            }\n        }\n        this.afterTickToLabelConversion();\n    }\n _getLabelSizes() {\n        let labelSizes = this._labelSizes;\n        if (!labelSizes) {\n            const sampleSize = this.options.ticks.sampleSize;\n            let ticks = this.ticks;\n            if (sampleSize < ticks.length) {\n                ticks = sample(ticks, sampleSize);\n            }\n            this._labelSizes = labelSizes = this._computeLabelSizes(ticks, ticks.length, this.options.ticks.maxTicksLimit);\n        }\n        return labelSizes;\n    }\n _computeLabelSizes(ticks, length, maxTicksLimit) {\n        const { ctx , _longestTextCache: caches  } = this;\n        const widths = [];\n        const heights = [];\n        const increment = Math.floor(length / getTicksLimit(length, maxTicksLimit));\n        let widestLabelSize = 0;\n        let highestLabelSize = 0;\n        let i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;\n        for(i = 0; i < length; i += increment){\n            label = ticks[i].label;\n            tickFont = this._resolveTickFontOptions(i);\n            ctx.font = fontString = tickFont.string;\n            cache = caches[fontString] = caches[fontString] || {\n                data: {},\n                gc: []\n            };\n            lineHeight = tickFont.lineHeight;\n            width = height = 0;\n            if (!isNullOrUndef(label) && !isArray(label)) {\n                width = _measureText(ctx, cache.data, cache.gc, width, label);\n                height = lineHeight;\n            } else if (isArray(label)) {\n                for(j = 0, jlen = label.length; j < jlen; ++j){\n                    nestedLabel =  label[j];\n                    if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\n                        width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);\n                        height += lineHeight;\n                    }\n                }\n            }\n            widths.push(width);\n            heights.push(height);\n            widestLabelSize = Math.max(width, widestLabelSize);\n            highestLabelSize = Math.max(height, highestLabelSize);\n        }\n        garbageCollect(caches, length);\n        const widest = widths.indexOf(widestLabelSize);\n        const highest = heights.indexOf(highestLabelSize);\n        const valueAt = (idx)=>({\n                width: widths[idx] || 0,\n                height: heights[idx] || 0\n            });\n        return {\n            first: valueAt(0),\n            last: valueAt(length - 1),\n            widest: valueAt(widest),\n            highest: valueAt(highest),\n            widths,\n            heights\n        };\n    }\n getLabelForValue(value) {\n        return value;\n    }\n getPixelForValue(value, index) {\n        return NaN;\n    }\n getValueForPixel(pixel) {}\n getPixelForTick(index) {\n        const ticks = this.ticks;\n        if (index < 0 || index > ticks.length - 1) {\n            return null;\n        }\n        return this.getPixelForValue(ticks[index].value);\n    }\n getPixelForDecimal(decimal) {\n        if (this._reversePixels) {\n            decimal = 1 - decimal;\n        }\n        const pixel = this._startPixel + decimal * this._length;\n        return _int16Range(this._alignToPixels ? _alignPixel(this.chart, pixel, 0) : pixel);\n    }\n getDecimalForPixel(pixel) {\n        const decimal = (pixel - this._startPixel) / this._length;\n        return this._reversePixels ? 1 - decimal : decimal;\n    }\n getBasePixel() {\n        return this.getPixelForValue(this.getBaseValue());\n    }\n getBaseValue() {\n        const { min , max  } = this;\n        return min < 0 && max < 0 ? max : min > 0 && max > 0 ? min : 0;\n    }\n getContext(index) {\n        const ticks = this.ticks || [];\n        if (index >= 0 && index < ticks.length) {\n            const tick = ticks[index];\n            return tick.$context || (tick.$context = createTickContext(this.getContext(), index, tick));\n        }\n        return this.$context || (this.$context = createScaleContext(this.chart.getContext(), this));\n    }\n _tickSize() {\n        const optionTicks = this.options.ticks;\n        const rot = toRadians(this.labelRotation);\n        const cos = Math.abs(Math.cos(rot));\n        const sin = Math.abs(Math.sin(rot));\n        const labelSizes = this._getLabelSizes();\n        const padding = optionTicks.autoSkipPadding || 0;\n        const w = labelSizes ? labelSizes.widest.width + padding : 0;\n        const h = labelSizes ? labelSizes.highest.height + padding : 0;\n        return this.isHorizontal() ? h * cos > w * sin ? w / cos : h / sin : h * sin < w * cos ? h / cos : w / sin;\n    }\n _isVisible() {\n        const display = this.options.display;\n        if (display !== 'auto') {\n            return !!display;\n        }\n        return this.getMatchingVisibleMetas().length > 0;\n    }\n _computeGridLineItems(chartArea) {\n        const axis = this.axis;\n        const chart = this.chart;\n        const options = this.options;\n        const { grid , position , border  } = options;\n        const offset = grid.offset;\n        const isHorizontal = this.isHorizontal();\n        const ticks = this.ticks;\n        const ticksLength = ticks.length + (offset ? 1 : 0);\n        const tl = getTickMarkLength(grid);\n        const items = [];\n        const borderOpts = border.setContext(this.getContext());\n        const axisWidth = borderOpts.display ? borderOpts.width : 0;\n        const axisHalfWidth = axisWidth / 2;\n        const alignBorderValue = function(pixel) {\n            return _alignPixel(chart, pixel, axisWidth);\n        };\n        let borderValue, i, lineValue, alignedLineValue;\n        let tx1, ty1, tx2, ty2, x1, y1, x2, y2;\n        if (position === 'top') {\n            borderValue = alignBorderValue(this.bottom);\n            ty1 = this.bottom - tl;\n            ty2 = borderValue - axisHalfWidth;\n            y1 = alignBorderValue(chartArea.top) + axisHalfWidth;\n            y2 = chartArea.bottom;\n        } else if (position === 'bottom') {\n            borderValue = alignBorderValue(this.top);\n            y1 = chartArea.top;\n            y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\n            ty1 = borderValue + axisHalfWidth;\n            ty2 = this.top + tl;\n        } else if (position === 'left') {\n            borderValue = alignBorderValue(this.right);\n            tx1 = this.right - tl;\n            tx2 = borderValue - axisHalfWidth;\n            x1 = alignBorderValue(chartArea.left) + axisHalfWidth;\n            x2 = chartArea.right;\n        } else if (position === 'right') {\n            borderValue = alignBorderValue(this.left);\n            x1 = chartArea.left;\n            x2 = alignBorderValue(chartArea.right) - axisHalfWidth;\n            tx1 = borderValue + axisHalfWidth;\n            tx2 = this.left + tl;\n        } else if (axis === 'x') {\n            if (position === 'center') {\n                borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);\n            } else if (isObject(position)) {\n                const positionAxisID = Object.keys(position)[0];\n                const value = position[positionAxisID];\n                borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n            }\n            y1 = chartArea.top;\n            y2 = chartArea.bottom;\n            ty1 = borderValue + axisHalfWidth;\n            ty2 = ty1 + tl;\n        } else if (axis === 'y') {\n            if (position === 'center') {\n                borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);\n            } else if (isObject(position)) {\n                const positionAxisID = Object.keys(position)[0];\n                const value = position[positionAxisID];\n                borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n            }\n            tx1 = borderValue - axisHalfWidth;\n            tx2 = tx1 - tl;\n            x1 = chartArea.left;\n            x2 = chartArea.right;\n        }\n        const limit = valueOrDefault(options.ticks.maxTicksLimit, ticksLength);\n        const step = Math.max(1, Math.ceil(ticksLength / limit));\n        for(i = 0; i < ticksLength; i += step){\n            const context = this.getContext(i);\n            const optsAtIndex = grid.setContext(context);\n            const optsAtIndexBorder = border.setContext(context);\n            const lineWidth = optsAtIndex.lineWidth;\n            const lineColor = optsAtIndex.color;\n            const borderDash = optsAtIndexBorder.dash || [];\n            const borderDashOffset = optsAtIndexBorder.dashOffset;\n            const tickWidth = optsAtIndex.tickWidth;\n            const tickColor = optsAtIndex.tickColor;\n            const tickBorderDash = optsAtIndex.tickBorderDash || [];\n            const tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;\n            lineValue = getPixelForGridLine(this, i, offset);\n            if (lineValue === undefined) {\n                continue;\n            }\n            alignedLineValue = _alignPixel(chart, lineValue, lineWidth);\n            if (isHorizontal) {\n                tx1 = tx2 = x1 = x2 = alignedLineValue;\n            } else {\n                ty1 = ty2 = y1 = y2 = alignedLineValue;\n            }\n            items.push({\n                tx1,\n                ty1,\n                tx2,\n                ty2,\n                x1,\n                y1,\n                x2,\n                y2,\n                width: lineWidth,\n                color: lineColor,\n                borderDash,\n                borderDashOffset,\n                tickWidth,\n                tickColor,\n                tickBorderDash,\n                tickBorderDashOffset\n            });\n        }\n        this._ticksLength = ticksLength;\n        this._borderValue = borderValue;\n        return items;\n    }\n _computeLabelItems(chartArea) {\n        const axis = this.axis;\n        const options = this.options;\n        const { position , ticks: optionTicks  } = options;\n        const isHorizontal = this.isHorizontal();\n        const ticks = this.ticks;\n        const { align , crossAlign , padding , mirror  } = optionTicks;\n        const tl = getTickMarkLength(options.grid);\n        const tickAndPadding = tl + padding;\n        const hTickAndPadding = mirror ? -padding : tickAndPadding;\n        const rotation = -toRadians(this.labelRotation);\n        const items = [];\n        let i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\n        let textBaseline = 'middle';\n        if (position === 'top') {\n            y = this.bottom - hTickAndPadding;\n            textAlign = this._getXAxisLabelAlignment();\n        } else if (position === 'bottom') {\n            y = this.top + hTickAndPadding;\n            textAlign = this._getXAxisLabelAlignment();\n        } else if (position === 'left') {\n            const ret = this._getYAxisLabelAlignment(tl);\n            textAlign = ret.textAlign;\n            x = ret.x;\n        } else if (position === 'right') {\n            const ret = this._getYAxisLabelAlignment(tl);\n            textAlign = ret.textAlign;\n            x = ret.x;\n        } else if (axis === 'x') {\n            if (position === 'center') {\n                y = (chartArea.top + chartArea.bottom) / 2 + tickAndPadding;\n            } else if (isObject(position)) {\n                const positionAxisID = Object.keys(position)[0];\n                const value = position[positionAxisID];\n                y = this.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;\n            }\n            textAlign = this._getXAxisLabelAlignment();\n        } else if (axis === 'y') {\n            if (position === 'center') {\n                x = (chartArea.left + chartArea.right) / 2 - tickAndPadding;\n            } else if (isObject(position)) {\n                const positionAxisID = Object.keys(position)[0];\n                const value = position[positionAxisID];\n                x = this.chart.scales[positionAxisID].getPixelForValue(value);\n            }\n            textAlign = this._getYAxisLabelAlignment(tl).textAlign;\n        }\n        if (axis === 'y') {\n            if (align === 'start') {\n                textBaseline = 'top';\n            } else if (align === 'end') {\n                textBaseline = 'bottom';\n            }\n        }\n        const labelSizes = this._getLabelSizes();\n        for(i = 0, ilen = ticks.length; i < ilen; ++i){\n            tick = ticks[i];\n            label = tick.label;\n            const optsAtIndex = optionTicks.setContext(this.getContext(i));\n            pixel = this.getPixelForTick(i) + optionTicks.labelOffset;\n            font = this._resolveTickFontOptions(i);\n            lineHeight = font.lineHeight;\n            lineCount = isArray(label) ? label.length : 1;\n            const halfCount = lineCount / 2;\n            const color = optsAtIndex.color;\n            const strokeColor = optsAtIndex.textStrokeColor;\n            const strokeWidth = optsAtIndex.textStrokeWidth;\n            let tickTextAlign = textAlign;\n            if (isHorizontal) {\n                x = pixel;\n                if (textAlign === 'inner') {\n                    if (i === ilen - 1) {\n                        tickTextAlign = !this.options.reverse ? 'right' : 'left';\n                    } else if (i === 0) {\n                        tickTextAlign = !this.options.reverse ? 'left' : 'right';\n                    } else {\n                        tickTextAlign = 'center';\n                    }\n                }\n                if (position === 'top') {\n                    if (crossAlign === 'near' || rotation !== 0) {\n                        textOffset = -lineCount * lineHeight + lineHeight / 2;\n                    } else if (crossAlign === 'center') {\n                        textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;\n                    } else {\n                        textOffset = -labelSizes.highest.height + lineHeight / 2;\n                    }\n                } else {\n                    if (crossAlign === 'near' || rotation !== 0) {\n                        textOffset = lineHeight / 2;\n                    } else if (crossAlign === 'center') {\n                        textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;\n                    } else {\n                        textOffset = labelSizes.highest.height - lineCount * lineHeight;\n                    }\n                }\n                if (mirror) {\n                    textOffset *= -1;\n                }\n                if (rotation !== 0 && !optsAtIndex.showLabelBackdrop) {\n                    x += lineHeight / 2 * Math.sin(rotation);\n                }\n            } else {\n                y = pixel;\n                textOffset = (1 - lineCount) * lineHeight / 2;\n            }\n            let backdrop;\n            if (optsAtIndex.showLabelBackdrop) {\n                const labelPadding = toPadding(optsAtIndex.backdropPadding);\n                const height = labelSizes.heights[i];\n                const width = labelSizes.widths[i];\n                let top = textOffset - labelPadding.top;\n                let left = 0 - labelPadding.left;\n                switch(textBaseline){\n                    case 'middle':\n                        top -= height / 2;\n                        break;\n                    case 'bottom':\n                        top -= height;\n                        break;\n                }\n                switch(textAlign){\n                    case 'center':\n                        left -= width / 2;\n                        break;\n                    case 'right':\n                        left -= width;\n                        break;\n                    case 'inner':\n                        if (i === ilen - 1) {\n                            left -= width;\n                        } else if (i > 0) {\n                            left -= width / 2;\n                        }\n                        break;\n                }\n                backdrop = {\n                    left,\n                    top,\n                    width: width + labelPadding.width,\n                    height: height + labelPadding.height,\n                    color: optsAtIndex.backdropColor\n                };\n            }\n            items.push({\n                label,\n                font,\n                textOffset,\n                options: {\n                    rotation,\n                    color,\n                    strokeColor,\n                    strokeWidth,\n                    textAlign: tickTextAlign,\n                    textBaseline,\n                    translation: [\n                        x,\n                        y\n                    ],\n                    backdrop\n                }\n            });\n        }\n        return items;\n    }\n    _getXAxisLabelAlignment() {\n        const { position , ticks  } = this.options;\n        const rotation = -toRadians(this.labelRotation);\n        if (rotation) {\n            return position === 'top' ? 'left' : 'right';\n        }\n        let align = 'center';\n        if (ticks.align === 'start') {\n            align = 'left';\n        } else if (ticks.align === 'end') {\n            align = 'right';\n        } else if (ticks.align === 'inner') {\n            align = 'inner';\n        }\n        return align;\n    }\n    _getYAxisLabelAlignment(tl) {\n        const { position , ticks: { crossAlign , mirror , padding  }  } = this.options;\n        const labelSizes = this._getLabelSizes();\n        const tickAndPadding = tl + padding;\n        const widest = labelSizes.widest.width;\n        let textAlign;\n        let x;\n        if (position === 'left') {\n            if (mirror) {\n                x = this.right + padding;\n                if (crossAlign === 'near') {\n                    textAlign = 'left';\n                } else if (crossAlign === 'center') {\n                    textAlign = 'center';\n                    x += widest / 2;\n                } else {\n                    textAlign = 'right';\n                    x += widest;\n                }\n            } else {\n                x = this.right - tickAndPadding;\n                if (crossAlign === 'near') {\n                    textAlign = 'right';\n                } else if (crossAlign === 'center') {\n                    textAlign = 'center';\n                    x -= widest / 2;\n                } else {\n                    textAlign = 'left';\n                    x = this.left;\n                }\n            }\n        } else if (position === 'right') {\n            if (mirror) {\n                x = this.left + padding;\n                if (crossAlign === 'near') {\n                    textAlign = 'right';\n                } else if (crossAlign === 'center') {\n                    textAlign = 'center';\n                    x -= widest / 2;\n                } else {\n                    textAlign = 'left';\n                    x -= widest;\n                }\n            } else {\n                x = this.left + tickAndPadding;\n                if (crossAlign === 'near') {\n                    textAlign = 'left';\n                } else if (crossAlign === 'center') {\n                    textAlign = 'center';\n                    x += widest / 2;\n                } else {\n                    textAlign = 'right';\n                    x = this.right;\n                }\n            }\n        } else {\n            textAlign = 'right';\n        }\n        return {\n            textAlign,\n            x\n        };\n    }\n _computeLabelArea() {\n        if (this.options.ticks.mirror) {\n            return;\n        }\n        const chart = this.chart;\n        const position = this.options.position;\n        if (position === 'left' || position === 'right') {\n            return {\n                top: 0,\n                left: this.left,\n                bottom: chart.height,\n                right: this.right\n            };\n        }\n        if (position === 'top' || position === 'bottom') {\n            return {\n                top: this.top,\n                left: 0,\n                bottom: this.bottom,\n                right: chart.width\n            };\n        }\n    }\n drawBackground() {\n        const { ctx , options: { backgroundColor  } , left , top , width , height  } = this;\n        if (backgroundColor) {\n            ctx.save();\n            ctx.fillStyle = backgroundColor;\n            ctx.fillRect(left, top, width, height);\n            ctx.restore();\n        }\n    }\n    getLineWidthForValue(value) {\n        const grid = this.options.grid;\n        if (!this._isVisible() || !grid.display) {\n            return 0;\n        }\n        const ticks = this.ticks;\n        const index = ticks.findIndex((t)=>t.value === value);\n        if (index >= 0) {\n            const opts = grid.setContext(this.getContext(index));\n            return opts.lineWidth;\n        }\n        return 0;\n    }\n drawGrid(chartArea) {\n        const grid = this.options.grid;\n        const ctx = this.ctx;\n        const items = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(chartArea));\n        let i, ilen;\n        const drawLine = (p1, p2, style)=>{\n            if (!style.width || !style.color) {\n                return;\n            }\n            ctx.save();\n            ctx.lineWidth = style.width;\n            ctx.strokeStyle = style.color;\n            ctx.setLineDash(style.borderDash || []);\n            ctx.lineDashOffset = style.borderDashOffset;\n            ctx.beginPath();\n            ctx.moveTo(p1.x, p1.y);\n            ctx.lineTo(p2.x, p2.y);\n            ctx.stroke();\n            ctx.restore();\n        };\n        if (grid.display) {\n            for(i = 0, ilen = items.length; i < ilen; ++i){\n                const item = items[i];\n                if (grid.drawOnChartArea) {\n                    drawLine({\n                        x: item.x1,\n                        y: item.y1\n                    }, {\n                        x: item.x2,\n                        y: item.y2\n                    }, item);\n                }\n                if (grid.drawTicks) {\n                    drawLine({\n                        x: item.tx1,\n                        y: item.ty1\n                    }, {\n                        x: item.tx2,\n                        y: item.ty2\n                    }, {\n                        color: item.tickColor,\n                        width: item.tickWidth,\n                        borderDash: item.tickBorderDash,\n                        borderDashOffset: item.tickBorderDashOffset\n                    });\n                }\n            }\n        }\n    }\n drawBorder() {\n        const { chart , ctx , options: { border , grid  }  } = this;\n        const borderOpts = border.setContext(this.getContext());\n        const axisWidth = border.display ? borderOpts.width : 0;\n        if (!axisWidth) {\n            return;\n        }\n        const lastLineWidth = grid.setContext(this.getContext(0)).lineWidth;\n        const borderValue = this._borderValue;\n        let x1, x2, y1, y2;\n        if (this.isHorizontal()) {\n            x1 = _alignPixel(chart, this.left, axisWidth) - axisWidth / 2;\n            x2 = _alignPixel(chart, this.right, lastLineWidth) + lastLineWidth / 2;\n            y1 = y2 = borderValue;\n        } else {\n            y1 = _alignPixel(chart, this.top, axisWidth) - axisWidth / 2;\n            y2 = _alignPixel(chart, this.bottom, lastLineWidth) + lastLineWidth / 2;\n            x1 = x2 = borderValue;\n        }\n        ctx.save();\n        ctx.lineWidth = borderOpts.width;\n        ctx.strokeStyle = borderOpts.color;\n        ctx.beginPath();\n        ctx.moveTo(x1, y1);\n        ctx.lineTo(x2, y2);\n        ctx.stroke();\n        ctx.restore();\n    }\n drawLabels(chartArea) {\n        const optionTicks = this.options.ticks;\n        if (!optionTicks.display) {\n            return;\n        }\n        const ctx = this.ctx;\n        const area = this._computeLabelArea();\n        if (area) {\n            clipArea(ctx, area);\n        }\n        const items = this.getLabelItems(chartArea);\n        for (const item of items){\n            const renderTextOptions = item.options;\n            const tickFont = item.font;\n            const label = item.label;\n            const y = item.textOffset;\n            renderText(ctx, label, 0, y, tickFont, renderTextOptions);\n        }\n        if (area) {\n            unclipArea(ctx);\n        }\n    }\n drawTitle() {\n        const { ctx , options: { position , title , reverse  }  } = this;\n        if (!title.display) {\n            return;\n        }\n        const font = toFont(title.font);\n        const padding = toPadding(title.padding);\n        const align = title.align;\n        let offset = font.lineHeight / 2;\n        if (position === 'bottom' || position === 'center' || isObject(position)) {\n            offset += padding.bottom;\n            if (isArray(title.text)) {\n                offset += font.lineHeight * (title.text.length - 1);\n            }\n        } else {\n            offset += padding.top;\n        }\n        const { titleX , titleY , maxWidth , rotation  } = titleArgs(this, offset, position, align);\n        renderText(ctx, title.text, 0, 0, font, {\n            color: title.color,\n            maxWidth,\n            rotation,\n            textAlign: titleAlign(align, position, reverse),\n            textBaseline: 'middle',\n            translation: [\n                titleX,\n                titleY\n            ]\n        });\n    }\n    draw(chartArea) {\n        if (!this._isVisible()) {\n            return;\n        }\n        this.drawBackground();\n        this.drawGrid(chartArea);\n        this.drawBorder();\n        this.drawTitle();\n        this.drawLabels(chartArea);\n    }\n _layers() {\n        const opts = this.options;\n        const tz = opts.ticks && opts.ticks.z || 0;\n        const gz = valueOrDefault(opts.grid && opts.grid.z, -1);\n        const bz = valueOrDefault(opts.border && opts.border.z, 0);\n        if (!this._isVisible() || this.draw !== Scale.prototype.draw) {\n            return [\n                {\n                    z: tz,\n                    draw: (chartArea)=>{\n                        this.draw(chartArea);\n                    }\n                }\n            ];\n        }\n        return [\n            {\n                z: gz,\n                draw: (chartArea)=>{\n                    this.drawBackground();\n                    this.drawGrid(chartArea);\n                    this.drawTitle();\n                }\n            },\n            {\n                z: bz,\n                draw: ()=>{\n                    this.drawBorder();\n                }\n            },\n            {\n                z: tz,\n                draw: (chartArea)=>{\n                    this.drawLabels(chartArea);\n                }\n            }\n        ];\n    }\n getMatchingVisibleMetas(type) {\n        const metas = this.chart.getSortedVisibleDatasetMetas();\n        const axisID = this.axis + 'AxisID';\n        const result = [];\n        let i, ilen;\n        for(i = 0, ilen = metas.length; i < ilen; ++i){\n            const meta = metas[i];\n            if (meta[axisID] === this.id && (!type || meta.type === type)) {\n                result.push(meta);\n            }\n        }\n        return result;\n    }\n _resolveTickFontOptions(index) {\n        const opts = this.options.ticks.setContext(this.getContext(index));\n        return toFont(opts.font);\n    }\n _maxDigits() {\n        const fontSize = this._resolveTickFontOptions(0).lineHeight;\n        return (this.isHorizontal() ? this.width : this.height) / fontSize;\n    }\n}\n\nclass TypedRegistry {\n    constructor(type, scope, override){\n        this.type = type;\n        this.scope = scope;\n        this.override = override;\n        this.items = Object.create(null);\n    }\n    isForType(type) {\n        return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);\n    }\n register(item) {\n        const proto = Object.getPrototypeOf(item);\n        let parentScope;\n        if (isIChartComponent(proto)) {\n            parentScope = this.register(proto);\n        }\n        const items = this.items;\n        const id = item.id;\n        const scope = this.scope + '.' + id;\n        if (!id) {\n            throw new Error('class does not have id: ' + item);\n        }\n        if (id in items) {\n            return scope;\n        }\n        items[id] = item;\n        registerDefaults(item, scope, parentScope);\n        if (this.override) {\n            defaults.override(item.id, item.overrides);\n        }\n        return scope;\n    }\n get(id) {\n        return this.items[id];\n    }\n unregister(item) {\n        const items = this.items;\n        const id = item.id;\n        const scope = this.scope;\n        if (id in items) {\n            delete items[id];\n        }\n        if (scope && id in defaults[scope]) {\n            delete defaults[scope][id];\n            if (this.override) {\n                delete overrides[id];\n            }\n        }\n    }\n}\nfunction registerDefaults(item, scope, parentScope) {\n    const itemDefaults = merge(Object.create(null), [\n        parentScope ? defaults.get(parentScope) : {},\n        defaults.get(scope),\n        item.defaults\n    ]);\n    defaults.set(scope, itemDefaults);\n    if (item.defaultRoutes) {\n        routeDefaults(scope, item.defaultRoutes);\n    }\n    if (item.descriptors) {\n        defaults.describe(scope, item.descriptors);\n    }\n}\nfunction routeDefaults(scope, routes) {\n    Object.keys(routes).forEach((property)=>{\n        const propertyParts = property.split('.');\n        const sourceName = propertyParts.pop();\n        const sourceScope = [\n            scope\n        ].concat(propertyParts).join('.');\n        const parts = routes[property].split('.');\n        const targetName = parts.pop();\n        const targetScope = parts.join('.');\n        defaults.route(sourceScope, sourceName, targetScope, targetName);\n    });\n}\nfunction isIChartComponent(proto) {\n    return 'id' in proto && 'defaults' in proto;\n}\n\nclass Registry {\n    constructor(){\n        this.controllers = new TypedRegistry(DatasetController, 'datasets', true);\n        this.elements = new TypedRegistry(Element, 'elements');\n        this.plugins = new TypedRegistry(Object, 'plugins');\n        this.scales = new TypedRegistry(Scale, 'scales');\n        this._typedRegistries = [\n            this.controllers,\n            this.scales,\n            this.elements\n        ];\n    }\n add(...args) {\n        this._each('register', args);\n    }\n    remove(...args) {\n        this._each('unregister', args);\n    }\n addControllers(...args) {\n        this._each('register', args, this.controllers);\n    }\n addElements(...args) {\n        this._each('register', args, this.elements);\n    }\n addPlugins(...args) {\n        this._each('register', args, this.plugins);\n    }\n addScales(...args) {\n        this._each('register', args, this.scales);\n    }\n getController(id) {\n        return this._get(id, this.controllers, 'controller');\n    }\n getElement(id) {\n        return this._get(id, this.elements, 'element');\n    }\n getPlugin(id) {\n        return this._get(id, this.plugins, 'plugin');\n    }\n getScale(id) {\n        return this._get(id, this.scales, 'scale');\n    }\n removeControllers(...args) {\n        this._each('unregister', args, this.controllers);\n    }\n removeElements(...args) {\n        this._each('unregister', args, this.elements);\n    }\n removePlugins(...args) {\n        this._each('unregister', args, this.plugins);\n    }\n removeScales(...args) {\n        this._each('unregister', args, this.scales);\n    }\n _each(method, args, typedRegistry) {\n        [\n            ...args\n        ].forEach((arg)=>{\n            const reg = typedRegistry || this._getRegistryForType(arg);\n            if (typedRegistry || reg.isForType(arg) || reg === this.plugins && arg.id) {\n                this._exec(method, reg, arg);\n            } else {\n                each(arg, (item)=>{\n                    const itemReg = typedRegistry || this._getRegistryForType(item);\n                    this._exec(method, itemReg, item);\n                });\n            }\n        });\n    }\n _exec(method, registry, component) {\n        const camelMethod = _capitalize(method);\n        callback(component['before' + camelMethod], [], component);\n        registry[method](component);\n        callback(component['after' + camelMethod], [], component);\n    }\n _getRegistryForType(type) {\n        for(let i = 0; i < this._typedRegistries.length; i++){\n            const reg = this._typedRegistries[i];\n            if (reg.isForType(type)) {\n                return reg;\n            }\n        }\n        return this.plugins;\n    }\n _get(id, typedRegistry, type) {\n        const item = typedRegistry.get(id);\n        if (item === undefined) {\n            throw new Error('\"' + id + '\" is not a registered ' + type + '.');\n        }\n        return item;\n    }\n}\nvar registry = /* #__PURE__ */ new Registry();\n\nclass PluginService {\n    constructor(){\n        this._init = [];\n    }\n notify(chart, hook, args, filter) {\n        if (hook === 'beforeInit') {\n            this._init = this._createDescriptors(chart, true);\n            this._notify(this._init, chart, 'install');\n        }\n        const descriptors = filter ? this._descriptors(chart).filter(filter) : this._descriptors(chart);\n        const result = this._notify(descriptors, chart, hook, args);\n        if (hook === 'afterDestroy') {\n            this._notify(descriptors, chart, 'stop');\n            this._notify(this._init, chart, 'uninstall');\n        }\n        return result;\n    }\n _notify(descriptors, chart, hook, args) {\n        args = args || {};\n        for (const descriptor of descriptors){\n            const plugin = descriptor.plugin;\n            const method = plugin[hook];\n            const params = [\n                chart,\n                args,\n                descriptor.options\n            ];\n            if (callback(method, params, plugin) === false && args.cancelable) {\n                return false;\n            }\n        }\n        return true;\n    }\n    invalidate() {\n        if (!isNullOrUndef(this._cache)) {\n            this._oldCache = this._cache;\n            this._cache = undefined;\n        }\n    }\n _descriptors(chart) {\n        if (this._cache) {\n            return this._cache;\n        }\n        const descriptors = this._cache = this._createDescriptors(chart);\n        this._notifyStateChanges(chart);\n        return descriptors;\n    }\n    _createDescriptors(chart, all) {\n        const config = chart && chart.config;\n        const options = valueOrDefault(config.options && config.options.plugins, {});\n        const plugins = allPlugins(config);\n        return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);\n    }\n _notifyStateChanges(chart) {\n        const previousDescriptors = this._oldCache || [];\n        const descriptors = this._cache;\n        const diff = (a, b)=>a.filter((x)=>!b.some((y)=>x.plugin.id === y.plugin.id));\n        this._notify(diff(previousDescriptors, descriptors), chart, 'stop');\n        this._notify(diff(descriptors, previousDescriptors), chart, 'start');\n    }\n}\n function allPlugins(config) {\n    const localIds = {};\n    const plugins = [];\n    const keys = Object.keys(registry.plugins.items);\n    for(let i = 0; i < keys.length; i++){\n        plugins.push(registry.getPlugin(keys[i]));\n    }\n    const local = config.plugins || [];\n    for(let i = 0; i < local.length; i++){\n        const plugin = local[i];\n        if (plugins.indexOf(plugin) === -1) {\n            plugins.push(plugin);\n            localIds[plugin.id] = true;\n        }\n    }\n    return {\n        plugins,\n        localIds\n    };\n}\nfunction getOpts(options, all) {\n    if (!all && options === false) {\n        return null;\n    }\n    if (options === true) {\n        return {};\n    }\n    return options;\n}\nfunction createDescriptors(chart, { plugins , localIds  }, options, all) {\n    const result = [];\n    const context = chart.getContext();\n    for (const plugin of plugins){\n        const id = plugin.id;\n        const opts = getOpts(options[id], all);\n        if (opts === null) {\n            continue;\n        }\n        result.push({\n            plugin,\n            options: pluginOpts(chart.config, {\n                plugin,\n                local: localIds[id]\n            }, opts, context)\n        });\n    }\n    return result;\n}\nfunction pluginOpts(config, { plugin , local  }, opts, context) {\n    const keys = config.pluginScopeKeys(plugin);\n    const scopes = config.getOptionScopes(opts, keys);\n    if (local && plugin.defaults) {\n        scopes.push(plugin.defaults);\n    }\n    return config.createResolver(scopes, context, [\n        ''\n    ], {\n        scriptable: false,\n        indexable: false,\n        allKeys: true\n    });\n}\n\nfunction getIndexAxis(type, options) {\n    const datasetDefaults = defaults.datasets[type] || {};\n    const datasetOptions = (options.datasets || {})[type] || {};\n    return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';\n}\nfunction getAxisFromDefaultScaleID(id, indexAxis) {\n    let axis = id;\n    if (id === '_index_') {\n        axis = indexAxis;\n    } else if (id === '_value_') {\n        axis = indexAxis === 'x' ? 'y' : 'x';\n    }\n    return axis;\n}\nfunction getDefaultScaleIDFromAxis(axis, indexAxis) {\n    return axis === indexAxis ? '_index_' : '_value_';\n}\nfunction idMatchesAxis(id) {\n    if (id === 'x' || id === 'y' || id === 'r') {\n        return id;\n    }\n}\nfunction axisFromPosition(position) {\n    if (position === 'top' || position === 'bottom') {\n        return 'x';\n    }\n    if (position === 'left' || position === 'right') {\n        return 'y';\n    }\n}\nfunction determineAxis(id, ...scaleOptions) {\n    if (idMatchesAxis(id)) {\n        return id;\n    }\n    for (const opts of scaleOptions){\n        const axis = opts.axis || axisFromPosition(opts.position) || id.length > 1 && idMatchesAxis(id[0].toLowerCase());\n        if (axis) {\n            return axis;\n        }\n    }\n    throw new Error(`Cannot determine type of '${id}' axis. Please provide 'axis' or 'position' option.`);\n}\nfunction getAxisFromDataset(id, axis, dataset) {\n    if (dataset[axis + 'AxisID'] === id) {\n        return {\n            axis\n        };\n    }\n}\nfunction retrieveAxisFromDatasets(id, config) {\n    if (config.data && config.data.datasets) {\n        const boundDs = config.data.datasets.filter((d)=>d.xAxisID === id || d.yAxisID === id);\n        if (boundDs.length) {\n            return getAxisFromDataset(id, 'x', boundDs[0]) || getAxisFromDataset(id, 'y', boundDs[0]);\n        }\n    }\n    return {};\n}\nfunction mergeScaleConfig(config, options) {\n    const chartDefaults = overrides[config.type] || {\n        scales: {}\n    };\n    const configScales = options.scales || {};\n    const chartIndexAxis = getIndexAxis(config.type, options);\n    const scales = Object.create(null);\n    Object.keys(configScales).forEach((id)=>{\n        const scaleConf = configScales[id];\n        if (!isObject(scaleConf)) {\n            return console.error(`Invalid scale configuration for scale: ${id}`);\n        }\n        if (scaleConf._proxy) {\n            return console.warn(`Ignoring resolver passed as options for scale: ${id}`);\n        }\n        const axis = determineAxis(id, scaleConf, retrieveAxisFromDatasets(id, config), defaults.scales[scaleConf.type]);\n        const defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);\n        const defaultScaleOptions = chartDefaults.scales || {};\n        scales[id] = mergeIf(Object.create(null), [\n            {\n                axis\n            },\n            scaleConf,\n            defaultScaleOptions[axis],\n            defaultScaleOptions[defaultId]\n        ]);\n    });\n    config.data.datasets.forEach((dataset)=>{\n        const type = dataset.type || config.type;\n        const indexAxis = dataset.indexAxis || getIndexAxis(type, options);\n        const datasetDefaults = overrides[type] || {};\n        const defaultScaleOptions = datasetDefaults.scales || {};\n        Object.keys(defaultScaleOptions).forEach((defaultID)=>{\n            const axis = getAxisFromDefaultScaleID(defaultID, indexAxis);\n            const id = dataset[axis + 'AxisID'] || axis;\n            scales[id] = scales[id] || Object.create(null);\n            mergeIf(scales[id], [\n                {\n                    axis\n                },\n                configScales[id],\n                defaultScaleOptions[defaultID]\n            ]);\n        });\n    });\n    Object.keys(scales).forEach((key)=>{\n        const scale = scales[key];\n        mergeIf(scale, [\n            defaults.scales[scale.type],\n            defaults.scale\n        ]);\n    });\n    return scales;\n}\nfunction initOptions(config) {\n    const options = config.options || (config.options = {});\n    options.plugins = valueOrDefault(options.plugins, {});\n    options.scales = mergeScaleConfig(config, options);\n}\nfunction initData(data) {\n    data = data || {};\n    data.datasets = data.datasets || [];\n    data.labels = data.labels || [];\n    return data;\n}\nfunction initConfig(config) {\n    config = config || {};\n    config.data = initData(config.data);\n    initOptions(config);\n    return config;\n}\nconst keyCache = new Map();\nconst keysCached = new Set();\nfunction cachedKeys(cacheKey, generate) {\n    let keys = keyCache.get(cacheKey);\n    if (!keys) {\n        keys = generate();\n        keyCache.set(cacheKey, keys);\n        keysCached.add(keys);\n    }\n    return keys;\n}\nconst addIfFound = (set, obj, key)=>{\n    const opts = resolveObjectKey(obj, key);\n    if (opts !== undefined) {\n        set.add(opts);\n    }\n};\nclass Config {\n    constructor(config){\n        this._config = initConfig(config);\n        this._scopeCache = new Map();\n        this._resolverCache = new Map();\n    }\n    get platform() {\n        return this._config.platform;\n    }\n    get type() {\n        return this._config.type;\n    }\n    set type(type) {\n        this._config.type = type;\n    }\n    get data() {\n        return this._config.data;\n    }\n    set data(data) {\n        this._config.data = initData(data);\n    }\n    get options() {\n        return this._config.options;\n    }\n    set options(options) {\n        this._config.options = options;\n    }\n    get plugins() {\n        return this._config.plugins;\n    }\n    update() {\n        const config = this._config;\n        this.clearCache();\n        initOptions(config);\n    }\n    clearCache() {\n        this._scopeCache.clear();\n        this._resolverCache.clear();\n    }\n datasetScopeKeys(datasetType) {\n        return cachedKeys(datasetType, ()=>[\n                [\n                    `datasets.${datasetType}`,\n                    ''\n                ]\n            ]);\n    }\n datasetAnimationScopeKeys(datasetType, transition) {\n        return cachedKeys(`${datasetType}.transition.${transition}`, ()=>[\n                [\n                    `datasets.${datasetType}.transitions.${transition}`,\n                    `transitions.${transition}`\n                ],\n                [\n                    `datasets.${datasetType}`,\n                    ''\n                ]\n            ]);\n    }\n datasetElementScopeKeys(datasetType, elementType) {\n        return cachedKeys(`${datasetType}-${elementType}`, ()=>[\n                [\n                    `datasets.${datasetType}.elements.${elementType}`,\n                    `datasets.${datasetType}`,\n                    `elements.${elementType}`,\n                    ''\n                ]\n            ]);\n    }\n pluginScopeKeys(plugin) {\n        const id = plugin.id;\n        const type = this.type;\n        return cachedKeys(`${type}-plugin-${id}`, ()=>[\n                [\n                    `plugins.${id}`,\n                    ...plugin.additionalOptionScopes || []\n                ]\n            ]);\n    }\n _cachedScopes(mainScope, resetCache) {\n        const _scopeCache = this._scopeCache;\n        let cache = _scopeCache.get(mainScope);\n        if (!cache || resetCache) {\n            cache = new Map();\n            _scopeCache.set(mainScope, cache);\n        }\n        return cache;\n    }\n getOptionScopes(mainScope, keyLists, resetCache) {\n        const { options , type  } = this;\n        const cache = this._cachedScopes(mainScope, resetCache);\n        const cached = cache.get(keyLists);\n        if (cached) {\n            return cached;\n        }\n        const scopes = new Set();\n        keyLists.forEach((keys)=>{\n            if (mainScope) {\n                scopes.add(mainScope);\n                keys.forEach((key)=>addIfFound(scopes, mainScope, key));\n            }\n            keys.forEach((key)=>addIfFound(scopes, options, key));\n            keys.forEach((key)=>addIfFound(scopes, overrides[type] || {}, key));\n            keys.forEach((key)=>addIfFound(scopes, defaults, key));\n            keys.forEach((key)=>addIfFound(scopes, descriptors, key));\n        });\n        const array = Array.from(scopes);\n        if (array.length === 0) {\n            array.push(Object.create(null));\n        }\n        if (keysCached.has(keyLists)) {\n            cache.set(keyLists, array);\n        }\n        return array;\n    }\n chartOptionScopes() {\n        const { options , type  } = this;\n        return [\n            options,\n            overrides[type] || {},\n            defaults.datasets[type] || {},\n            {\n                type\n            },\n            defaults,\n            descriptors\n        ];\n    }\n resolveNamedOptions(scopes, names, context, prefixes = [\n        ''\n    ]) {\n        const result = {\n            $shared: true\n        };\n        const { resolver , subPrefixes  } = getResolver(this._resolverCache, scopes, prefixes);\n        let options = resolver;\n        if (needContext(resolver, names)) {\n            result.$shared = false;\n            context = isFunction(context) ? context() : context;\n            const subResolver = this.createResolver(scopes, context, subPrefixes);\n            options = _attachContext(resolver, context, subResolver);\n        }\n        for (const prop of names){\n            result[prop] = options[prop];\n        }\n        return result;\n    }\n createResolver(scopes, context, prefixes = [\n        ''\n    ], descriptorDefaults) {\n        const { resolver  } = getResolver(this._resolverCache, scopes, prefixes);\n        return isObject(context) ? _attachContext(resolver, context, undefined, descriptorDefaults) : resolver;\n    }\n}\nfunction getResolver(resolverCache, scopes, prefixes) {\n    let cache = resolverCache.get(scopes);\n    if (!cache) {\n        cache = new Map();\n        resolverCache.set(scopes, cache);\n    }\n    const cacheKey = prefixes.join();\n    let cached = cache.get(cacheKey);\n    if (!cached) {\n        const resolver = _createResolver(scopes, prefixes);\n        cached = {\n            resolver,\n            subPrefixes: prefixes.filter((p)=>!p.toLowerCase().includes('hover'))\n        };\n        cache.set(cacheKey, cached);\n    }\n    return cached;\n}\nconst hasFunction = (value)=>isObject(value) && Object.getOwnPropertyNames(value).some((key)=>isFunction(value[key]));\nfunction needContext(proxy, names) {\n    const { isScriptable , isIndexable  } = _descriptors(proxy);\n    for (const prop of names){\n        const scriptable = isScriptable(prop);\n        const indexable = isIndexable(prop);\n        const value = (indexable || scriptable) && proxy[prop];\n        if (scriptable && (isFunction(value) || hasFunction(value)) || indexable && isArray(value)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar version = \"4.4.4\";\n\nconst KNOWN_POSITIONS = [\n    'top',\n    'bottom',\n    'left',\n    'right',\n    'chartArea'\n];\nfunction positionIsHorizontal(position, axis) {\n    return position === 'top' || position === 'bottom' || KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x';\n}\nfunction compare2Level(l1, l2) {\n    return function(a, b) {\n        return a[l1] === b[l1] ? a[l2] - b[l2] : a[l1] - b[l1];\n    };\n}\nfunction onAnimationsComplete(context) {\n    const chart = context.chart;\n    const animationOptions = chart.options.animation;\n    chart.notifyPlugins('afterRender');\n    callback(animationOptions && animationOptions.onComplete, [\n        context\n    ], chart);\n}\nfunction onAnimationProgress(context) {\n    const chart = context.chart;\n    const animationOptions = chart.options.animation;\n    callback(animationOptions && animationOptions.onProgress, [\n        context\n    ], chart);\n}\n function getCanvas(item) {\n    if (_isDomSupported() && typeof item === 'string') {\n        item = document.getElementById(item);\n    } else if (item && item.length) {\n        item = item[0];\n    }\n    if (item && item.canvas) {\n        item = item.canvas;\n    }\n    return item;\n}\nconst instances = {};\nconst getChart = (key)=>{\n    const canvas = getCanvas(key);\n    return Object.values(instances).filter((c)=>c.canvas === canvas).pop();\n};\nfunction moveNumericKeys(obj, start, move) {\n    const keys = Object.keys(obj);\n    for (const key of keys){\n        const intKey = +key;\n        if (intKey >= start) {\n            const value = obj[key];\n            delete obj[key];\n            if (move > 0 || intKey > start) {\n                obj[intKey + move] = value;\n            }\n        }\n    }\n}\n function determineLastEvent(e, lastEvent, inChartArea, isClick) {\n    if (!inChartArea || e.type === 'mouseout') {\n        return null;\n    }\n    if (isClick) {\n        return lastEvent;\n    }\n    return e;\n}\nfunction getSizeForArea(scale, chartArea, field) {\n    return scale.options.clip ? scale[field] : chartArea[field];\n}\nfunction getDatasetArea(meta, chartArea) {\n    const { xScale , yScale  } = meta;\n    if (xScale && yScale) {\n        return {\n            left: getSizeForArea(xScale, chartArea, 'left'),\n            right: getSizeForArea(xScale, chartArea, 'right'),\n            top: getSizeForArea(yScale, chartArea, 'top'),\n            bottom: getSizeForArea(yScale, chartArea, 'bottom')\n        };\n    }\n    return chartArea;\n}\nclass Chart {\n    static defaults = defaults;\n    static instances = instances;\n    static overrides = overrides;\n    static registry = registry;\n    static version = version;\n    static getChart = getChart;\n    static register(...items) {\n        registry.add(...items);\n        invalidatePlugins();\n    }\n    static unregister(...items) {\n        registry.remove(...items);\n        invalidatePlugins();\n    }\n    constructor(item, userConfig){\n        const config = this.config = new Config(userConfig);\n        const initialCanvas = getCanvas(item);\n        const existingChart = getChart(initialCanvas);\n        if (existingChart) {\n            throw new Error('Canvas is already in use. Chart with ID \\'' + existingChart.id + '\\'' + ' must be destroyed before the canvas with ID \\'' + existingChart.canvas.id + '\\' can be reused.');\n        }\n        const options = config.createResolver(config.chartOptionScopes(), this.getContext());\n        this.platform = new (config.platform || _detectPlatform(initialCanvas))();\n        this.platform.updateConfig(config);\n        const context = this.platform.acquireContext(initialCanvas, options.aspectRatio);\n        const canvas = context && context.canvas;\n        const height = canvas && canvas.height;\n        const width = canvas && canvas.width;\n        this.id = uid();\n        this.ctx = context;\n        this.canvas = canvas;\n        this.width = width;\n        this.height = height;\n        this._options = options;\n        this._aspectRatio = this.aspectRatio;\n        this._layers = [];\n        this._metasets = [];\n        this._stacks = undefined;\n        this.boxes = [];\n        this.currentDevicePixelRatio = undefined;\n        this.chartArea = undefined;\n        this._active = [];\n        this._lastEvent = undefined;\n        this._listeners = {};\n         this._responsiveListeners = undefined;\n        this._sortedMetasets = [];\n        this.scales = {};\n        this._plugins = new PluginService();\n        this.$proxies = {};\n        this._hiddenIndices = {};\n        this.attached = false;\n        this._animationsDisabled = undefined;\n        this.$context = undefined;\n        this._doResize = debounce((mode)=>this.update(mode), options.resizeDelay || 0);\n        this._dataChanges = [];\n        instances[this.id] = this;\n        if (!context || !canvas) {\n            console.error(\"Failed to create chart: can't acquire context from the given item\");\n            return;\n        }\n        animator.listen(this, 'complete', onAnimationsComplete);\n        animator.listen(this, 'progress', onAnimationProgress);\n        this._initialize();\n        if (this.attached) {\n            this.update();\n        }\n    }\n    get aspectRatio() {\n        const { options: { aspectRatio , maintainAspectRatio  } , width , height , _aspectRatio  } = this;\n        if (!isNullOrUndef(aspectRatio)) {\n            return aspectRatio;\n        }\n        if (maintainAspectRatio && _aspectRatio) {\n            return _aspectRatio;\n        }\n        return height ? width / height : null;\n    }\n    get data() {\n        return this.config.data;\n    }\n    set data(data) {\n        this.config.data = data;\n    }\n    get options() {\n        return this._options;\n    }\n    set options(options) {\n        this.config.options = options;\n    }\n    get registry() {\n        return registry;\n    }\n _initialize() {\n        this.notifyPlugins('beforeInit');\n        if (this.options.responsive) {\n            this.resize();\n        } else {\n            retinaScale(this, this.options.devicePixelRatio);\n        }\n        this.bindEvents();\n        this.notifyPlugins('afterInit');\n        return this;\n    }\n    clear() {\n        clearCanvas(this.canvas, this.ctx);\n        return this;\n    }\n    stop() {\n        animator.stop(this);\n        return this;\n    }\n resize(width, height) {\n        if (!animator.running(this)) {\n            this._resize(width, height);\n        } else {\n            this._resizeBeforeDraw = {\n                width,\n                height\n            };\n        }\n    }\n    _resize(width, height) {\n        const options = this.options;\n        const canvas = this.canvas;\n        const aspectRatio = options.maintainAspectRatio && this.aspectRatio;\n        const newSize = this.platform.getMaximumSize(canvas, width, height, aspectRatio);\n        const newRatio = options.devicePixelRatio || this.platform.getDevicePixelRatio();\n        const mode = this.width ? 'resize' : 'attach';\n        this.width = newSize.width;\n        this.height = newSize.height;\n        this._aspectRatio = this.aspectRatio;\n        if (!retinaScale(this, newRatio, true)) {\n            return;\n        }\n        this.notifyPlugins('resize', {\n            size: newSize\n        });\n        callback(options.onResize, [\n            this,\n            newSize\n        ], this);\n        if (this.attached) {\n            if (this._doResize(mode)) {\n                this.render();\n            }\n        }\n    }\n    ensureScalesHaveIDs() {\n        const options = this.options;\n        const scalesOptions = options.scales || {};\n        each(scalesOptions, (axisOptions, axisID)=>{\n            axisOptions.id = axisID;\n        });\n    }\n buildOrUpdateScales() {\n        const options = this.options;\n        const scaleOpts = options.scales;\n        const scales = this.scales;\n        const updated = Object.keys(scales).reduce((obj, id)=>{\n            obj[id] = false;\n            return obj;\n        }, {});\n        let items = [];\n        if (scaleOpts) {\n            items = items.concat(Object.keys(scaleOpts).map((id)=>{\n                const scaleOptions = scaleOpts[id];\n                const axis = determineAxis(id, scaleOptions);\n                const isRadial = axis === 'r';\n                const isHorizontal = axis === 'x';\n                return {\n                    options: scaleOptions,\n                    dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',\n                    dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'\n                };\n            }));\n        }\n        each(items, (item)=>{\n            const scaleOptions = item.options;\n            const id = scaleOptions.id;\n            const axis = determineAxis(id, scaleOptions);\n            const scaleType = valueOrDefault(scaleOptions.type, item.dtype);\n            if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {\n                scaleOptions.position = item.dposition;\n            }\n            updated[id] = true;\n            let scale = null;\n            if (id in scales && scales[id].type === scaleType) {\n                scale = scales[id];\n            } else {\n                const scaleClass = registry.getScale(scaleType);\n                scale = new scaleClass({\n                    id,\n                    type: scaleType,\n                    ctx: this.ctx,\n                    chart: this\n                });\n                scales[scale.id] = scale;\n            }\n            scale.init(scaleOptions, options);\n        });\n        each(updated, (hasUpdated, id)=>{\n            if (!hasUpdated) {\n                delete scales[id];\n            }\n        });\n        each(scales, (scale)=>{\n            layouts.configure(this, scale, scale.options);\n            layouts.addBox(this, scale);\n        });\n    }\n _updateMetasets() {\n        const metasets = this._metasets;\n        const numData = this.data.datasets.length;\n        const numMeta = metasets.length;\n        metasets.sort((a, b)=>a.index - b.index);\n        if (numMeta > numData) {\n            for(let i = numData; i < numMeta; ++i){\n                this._destroyDatasetMeta(i);\n            }\n            metasets.splice(numData, numMeta - numData);\n        }\n        this._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));\n    }\n _removeUnreferencedMetasets() {\n        const { _metasets: metasets , data: { datasets  }  } = this;\n        if (metasets.length > datasets.length) {\n            delete this._stacks;\n        }\n        metasets.forEach((meta, index)=>{\n            if (datasets.filter((x)=>x === meta._dataset).length === 0) {\n                this._destroyDatasetMeta(index);\n            }\n        });\n    }\n    buildOrUpdateControllers() {\n        const newControllers = [];\n        const datasets = this.data.datasets;\n        let i, ilen;\n        this._removeUnreferencedMetasets();\n        for(i = 0, ilen = datasets.length; i < ilen; i++){\n            const dataset = datasets[i];\n            let meta = this.getDatasetMeta(i);\n            const type = dataset.type || this.config.type;\n            if (meta.type && meta.type !== type) {\n                this._destroyDatasetMeta(i);\n                meta = this.getDatasetMeta(i);\n            }\n            meta.type = type;\n            meta.indexAxis = dataset.indexAxis || getIndexAxis(type, this.options);\n            meta.order = dataset.order || 0;\n            meta.index = i;\n            meta.label = '' + dataset.label;\n            meta.visible = this.isDatasetVisible(i);\n            if (meta.controller) {\n                meta.controller.updateIndex(i);\n                meta.controller.linkScales();\n            } else {\n                const ControllerClass = registry.getController(type);\n                const { datasetElementType , dataElementType  } = defaults.datasets[type];\n                Object.assign(ControllerClass, {\n                    dataElementType: registry.getElement(dataElementType),\n                    datasetElementType: datasetElementType && registry.getElement(datasetElementType)\n                });\n                meta.controller = new ControllerClass(this, i);\n                newControllers.push(meta.controller);\n            }\n        }\n        this._updateMetasets();\n        return newControllers;\n    }\n _resetElements() {\n        each(this.data.datasets, (dataset, datasetIndex)=>{\n            this.getDatasetMeta(datasetIndex).controller.reset();\n        }, this);\n    }\n reset() {\n        this._resetElements();\n        this.notifyPlugins('reset');\n    }\n    update(mode) {\n        const config = this.config;\n        config.update();\n        const options = this._options = config.createResolver(config.chartOptionScopes(), this.getContext());\n        const animsDisabled = this._animationsDisabled = !options.animation;\n        this._updateScales();\n        this._checkEventBindings();\n        this._updateHiddenIndices();\n        this._plugins.invalidate();\n        if (this.notifyPlugins('beforeUpdate', {\n            mode,\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        const newControllers = this.buildOrUpdateControllers();\n        this.notifyPlugins('beforeElementsUpdate');\n        let minPadding = 0;\n        for(let i = 0, ilen = this.data.datasets.length; i < ilen; i++){\n            const { controller  } = this.getDatasetMeta(i);\n            const reset = !animsDisabled && newControllers.indexOf(controller) === -1;\n            controller.buildOrUpdateElements(reset);\n            minPadding = Math.max(+controller.getMaxOverflow(), minPadding);\n        }\n        minPadding = this._minPadding = options.layout.autoPadding ? minPadding : 0;\n        this._updateLayout(minPadding);\n        if (!animsDisabled) {\n            each(newControllers, (controller)=>{\n                controller.reset();\n            });\n        }\n        this._updateDatasets(mode);\n        this.notifyPlugins('afterUpdate', {\n            mode\n        });\n        this._layers.sort(compare2Level('z', '_idx'));\n        const { _active , _lastEvent  } = this;\n        if (_lastEvent) {\n            this._eventHandler(_lastEvent, true);\n        } else if (_active.length) {\n            this._updateHoverStyles(_active, _active, true);\n        }\n        this.render();\n    }\n _updateScales() {\n        each(this.scales, (scale)=>{\n            layouts.removeBox(this, scale);\n        });\n        this.ensureScalesHaveIDs();\n        this.buildOrUpdateScales();\n    }\n _checkEventBindings() {\n        const options = this.options;\n        const existingEvents = new Set(Object.keys(this._listeners));\n        const newEvents = new Set(options.events);\n        if (!setsEqual(existingEvents, newEvents) || !!this._responsiveListeners !== options.responsive) {\n            this.unbindEvents();\n            this.bindEvents();\n        }\n    }\n _updateHiddenIndices() {\n        const { _hiddenIndices  } = this;\n        const changes = this._getUniformDataChanges() || [];\n        for (const { method , start , count  } of changes){\n            const move = method === '_removeElements' ? -count : count;\n            moveNumericKeys(_hiddenIndices, start, move);\n        }\n    }\n _getUniformDataChanges() {\n        const _dataChanges = this._dataChanges;\n        if (!_dataChanges || !_dataChanges.length) {\n            return;\n        }\n        this._dataChanges = [];\n        const datasetCount = this.data.datasets.length;\n        const makeSet = (idx)=>new Set(_dataChanges.filter((c)=>c[0] === idx).map((c, i)=>i + ',' + c.splice(1).join(',')));\n        const changeSet = makeSet(0);\n        for(let i = 1; i < datasetCount; i++){\n            if (!setsEqual(changeSet, makeSet(i))) {\n                return;\n            }\n        }\n        return Array.from(changeSet).map((c)=>c.split(',')).map((a)=>({\n                method: a[1],\n                start: +a[2],\n                count: +a[3]\n            }));\n    }\n _updateLayout(minPadding) {\n        if (this.notifyPlugins('beforeLayout', {\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        layouts.update(this, this.width, this.height, minPadding);\n        const area = this.chartArea;\n        const noArea = area.width <= 0 || area.height <= 0;\n        this._layers = [];\n        each(this.boxes, (box)=>{\n            if (noArea && box.position === 'chartArea') {\n                return;\n            }\n            if (box.configure) {\n                box.configure();\n            }\n            this._layers.push(...box._layers());\n        }, this);\n        this._layers.forEach((item, index)=>{\n            item._idx = index;\n        });\n        this.notifyPlugins('afterLayout');\n    }\n _updateDatasets(mode) {\n        if (this.notifyPlugins('beforeDatasetsUpdate', {\n            mode,\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        for(let i = 0, ilen = this.data.datasets.length; i < ilen; ++i){\n            this.getDatasetMeta(i).controller.configure();\n        }\n        for(let i = 0, ilen = this.data.datasets.length; i < ilen; ++i){\n            this._updateDataset(i, isFunction(mode) ? mode({\n                datasetIndex: i\n            }) : mode);\n        }\n        this.notifyPlugins('afterDatasetsUpdate', {\n            mode\n        });\n    }\n _updateDataset(index, mode) {\n        const meta = this.getDatasetMeta(index);\n        const args = {\n            meta,\n            index,\n            mode,\n            cancelable: true\n        };\n        if (this.notifyPlugins('beforeDatasetUpdate', args) === false) {\n            return;\n        }\n        meta.controller._update(mode);\n        args.cancelable = false;\n        this.notifyPlugins('afterDatasetUpdate', args);\n    }\n    render() {\n        if (this.notifyPlugins('beforeRender', {\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        if (animator.has(this)) {\n            if (this.attached && !animator.running(this)) {\n                animator.start(this);\n            }\n        } else {\n            this.draw();\n            onAnimationsComplete({\n                chart: this\n            });\n        }\n    }\n    draw() {\n        let i;\n        if (this._resizeBeforeDraw) {\n            const { width , height  } = this._resizeBeforeDraw;\n            this._resizeBeforeDraw = null;\n            this._resize(width, height);\n        }\n        this.clear();\n        if (this.width <= 0 || this.height <= 0) {\n            return;\n        }\n        if (this.notifyPlugins('beforeDraw', {\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        const layers = this._layers;\n        for(i = 0; i < layers.length && layers[i].z <= 0; ++i){\n            layers[i].draw(this.chartArea);\n        }\n        this._drawDatasets();\n        for(; i < layers.length; ++i){\n            layers[i].draw(this.chartArea);\n        }\n        this.notifyPlugins('afterDraw');\n    }\n _getSortedDatasetMetas(filterVisible) {\n        const metasets = this._sortedMetasets;\n        const result = [];\n        let i, ilen;\n        for(i = 0, ilen = metasets.length; i < ilen; ++i){\n            const meta = metasets[i];\n            if (!filterVisible || meta.visible) {\n                result.push(meta);\n            }\n        }\n        return result;\n    }\n getSortedVisibleDatasetMetas() {\n        return this._getSortedDatasetMetas(true);\n    }\n _drawDatasets() {\n        if (this.notifyPlugins('beforeDatasetsDraw', {\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        const metasets = this.getSortedVisibleDatasetMetas();\n        for(let i = metasets.length - 1; i >= 0; --i){\n            this._drawDataset(metasets[i]);\n        }\n        this.notifyPlugins('afterDatasetsDraw');\n    }\n _drawDataset(meta) {\n        const ctx = this.ctx;\n        const clip = meta._clip;\n        const useClip = !clip.disabled;\n        const area = getDatasetArea(meta, this.chartArea);\n        const args = {\n            meta,\n            index: meta.index,\n            cancelable: true\n        };\n        if (this.notifyPlugins('beforeDatasetDraw', args) === false) {\n            return;\n        }\n        if (useClip) {\n            clipArea(ctx, {\n                left: clip.left === false ? 0 : area.left - clip.left,\n                right: clip.right === false ? this.width : area.right + clip.right,\n                top: clip.top === false ? 0 : area.top - clip.top,\n                bottom: clip.bottom === false ? this.height : area.bottom + clip.bottom\n            });\n        }\n        meta.controller.draw();\n        if (useClip) {\n            unclipArea(ctx);\n        }\n        args.cancelable = false;\n        this.notifyPlugins('afterDatasetDraw', args);\n    }\n isPointInArea(point) {\n        return _isPointInArea(point, this.chartArea, this._minPadding);\n    }\n    getElementsAtEventForMode(e, mode, options, useFinalPosition) {\n        const method = Interaction.modes[mode];\n        if (typeof method === 'function') {\n            return method(this, e, options, useFinalPosition);\n        }\n        return [];\n    }\n    getDatasetMeta(datasetIndex) {\n        const dataset = this.data.datasets[datasetIndex];\n        const metasets = this._metasets;\n        let meta = metasets.filter((x)=>x && x._dataset === dataset).pop();\n        if (!meta) {\n            meta = {\n                type: null,\n                data: [],\n                dataset: null,\n                controller: null,\n                hidden: null,\n                xAxisID: null,\n                yAxisID: null,\n                order: dataset && dataset.order || 0,\n                index: datasetIndex,\n                _dataset: dataset,\n                _parsed: [],\n                _sorted: false\n            };\n            metasets.push(meta);\n        }\n        return meta;\n    }\n    getContext() {\n        return this.$context || (this.$context = createContext(null, {\n            chart: this,\n            type: 'chart'\n        }));\n    }\n    getVisibleDatasetCount() {\n        return this.getSortedVisibleDatasetMetas().length;\n    }\n    isDatasetVisible(datasetIndex) {\n        const dataset = this.data.datasets[datasetIndex];\n        if (!dataset) {\n            return false;\n        }\n        const meta = this.getDatasetMeta(datasetIndex);\n        return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;\n    }\n    setDatasetVisibility(datasetIndex, visible) {\n        const meta = this.getDatasetMeta(datasetIndex);\n        meta.hidden = !visible;\n    }\n    toggleDataVisibility(index) {\n        this._hiddenIndices[index] = !this._hiddenIndices[index];\n    }\n    getDataVisibility(index) {\n        return !this._hiddenIndices[index];\n    }\n _updateVisibility(datasetIndex, dataIndex, visible) {\n        const mode = visible ? 'show' : 'hide';\n        const meta = this.getDatasetMeta(datasetIndex);\n        const anims = meta.controller._resolveAnimations(undefined, mode);\n        if (defined(dataIndex)) {\n            meta.data[dataIndex].hidden = !visible;\n            this.update();\n        } else {\n            this.setDatasetVisibility(datasetIndex, visible);\n            anims.update(meta, {\n                visible\n            });\n            this.update((ctx)=>ctx.datasetIndex === datasetIndex ? mode : undefined);\n        }\n    }\n    hide(datasetIndex, dataIndex) {\n        this._updateVisibility(datasetIndex, dataIndex, false);\n    }\n    show(datasetIndex, dataIndex) {\n        this._updateVisibility(datasetIndex, dataIndex, true);\n    }\n _destroyDatasetMeta(datasetIndex) {\n        const meta = this._metasets[datasetIndex];\n        if (meta && meta.controller) {\n            meta.controller._destroy();\n        }\n        delete this._metasets[datasetIndex];\n    }\n    _stop() {\n        let i, ilen;\n        this.stop();\n        animator.remove(this);\n        for(i = 0, ilen = this.data.datasets.length; i < ilen; ++i){\n            this._destroyDatasetMeta(i);\n        }\n    }\n    destroy() {\n        this.notifyPlugins('beforeDestroy');\n        const { canvas , ctx  } = this;\n        this._stop();\n        this.config.clearCache();\n        if (canvas) {\n            this.unbindEvents();\n            clearCanvas(canvas, ctx);\n            this.platform.releaseContext(ctx);\n            this.canvas = null;\n            this.ctx = null;\n        }\n        delete instances[this.id];\n        this.notifyPlugins('afterDestroy');\n    }\n    toBase64Image(...args) {\n        return this.canvas.toDataURL(...args);\n    }\n bindEvents() {\n        this.bindUserEvents();\n        if (this.options.responsive) {\n            this.bindResponsiveEvents();\n        } else {\n            this.attached = true;\n        }\n    }\n bindUserEvents() {\n        const listeners = this._listeners;\n        const platform = this.platform;\n        const _add = (type, listener)=>{\n            platform.addEventListener(this, type, listener);\n            listeners[type] = listener;\n        };\n        const listener = (e, x, y)=>{\n            e.offsetX = x;\n            e.offsetY = y;\n            this._eventHandler(e);\n        };\n        each(this.options.events, (type)=>_add(type, listener));\n    }\n bindResponsiveEvents() {\n        if (!this._responsiveListeners) {\n            this._responsiveListeners = {};\n        }\n        const listeners = this._responsiveListeners;\n        const platform = this.platform;\n        const _add = (type, listener)=>{\n            platform.addEventListener(this, type, listener);\n            listeners[type] = listener;\n        };\n        const _remove = (type, listener)=>{\n            if (listeners[type]) {\n                platform.removeEventListener(this, type, listener);\n                delete listeners[type];\n            }\n        };\n        const listener = (width, height)=>{\n            if (this.canvas) {\n                this.resize(width, height);\n            }\n        };\n        let detached;\n        const attached = ()=>{\n            _remove('attach', attached);\n            this.attached = true;\n            this.resize();\n            _add('resize', listener);\n            _add('detach', detached);\n        };\n        detached = ()=>{\n            this.attached = false;\n            _remove('resize', listener);\n            this._stop();\n            this._resize(0, 0);\n            _add('attach', attached);\n        };\n        if (platform.isAttached(this.canvas)) {\n            attached();\n        } else {\n            detached();\n        }\n    }\n unbindEvents() {\n        each(this._listeners, (listener, type)=>{\n            this.platform.removeEventListener(this, type, listener);\n        });\n        this._listeners = {};\n        each(this._responsiveListeners, (listener, type)=>{\n            this.platform.removeEventListener(this, type, listener);\n        });\n        this._responsiveListeners = undefined;\n    }\n    updateHoverStyle(items, mode, enabled) {\n        const prefix = enabled ? 'set' : 'remove';\n        let meta, item, i, ilen;\n        if (mode === 'dataset') {\n            meta = this.getDatasetMeta(items[0].datasetIndex);\n            meta.controller['_' + prefix + 'DatasetHoverStyle']();\n        }\n        for(i = 0, ilen = items.length; i < ilen; ++i){\n            item = items[i];\n            const controller = item && this.getDatasetMeta(item.datasetIndex).controller;\n            if (controller) {\n                controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);\n            }\n        }\n    }\n getActiveElements() {\n        return this._active || [];\n    }\n setActiveElements(activeElements) {\n        const lastActive = this._active || [];\n        const active = activeElements.map(({ datasetIndex , index  })=>{\n            const meta = this.getDatasetMeta(datasetIndex);\n            if (!meta) {\n                throw new Error('No dataset found at index ' + datasetIndex);\n            }\n            return {\n                datasetIndex,\n                element: meta.data[index],\n                index\n            };\n        });\n        const changed = !_elementsEqual(active, lastActive);\n        if (changed) {\n            this._active = active;\n            this._lastEvent = null;\n            this._updateHoverStyles(active, lastActive);\n        }\n    }\n notifyPlugins(hook, args, filter) {\n        return this._plugins.notify(this, hook, args, filter);\n    }\n isPluginEnabled(pluginId) {\n        return this._plugins._cache.filter((p)=>p.plugin.id === pluginId).length === 1;\n    }\n _updateHoverStyles(active, lastActive, replay) {\n        const hoverOptions = this.options.hover;\n        const diff = (a, b)=>a.filter((x)=>!b.some((y)=>x.datasetIndex === y.datasetIndex && x.index === y.index));\n        const deactivated = diff(lastActive, active);\n        const activated = replay ? active : diff(active, lastActive);\n        if (deactivated.length) {\n            this.updateHoverStyle(deactivated, hoverOptions.mode, false);\n        }\n        if (activated.length && hoverOptions.mode) {\n            this.updateHoverStyle(activated, hoverOptions.mode, true);\n        }\n    }\n _eventHandler(e, replay) {\n        const args = {\n            event: e,\n            replay,\n            cancelable: true,\n            inChartArea: this.isPointInArea(e)\n        };\n        const eventFilter = (plugin)=>(plugin.options.events || this.options.events).includes(e.native.type);\n        if (this.notifyPlugins('beforeEvent', args, eventFilter) === false) {\n            return;\n        }\n        const changed = this._handleEvent(e, replay, args.inChartArea);\n        args.cancelable = false;\n        this.notifyPlugins('afterEvent', args, eventFilter);\n        if (changed || args.changed) {\n            this.render();\n        }\n        return this;\n    }\n _handleEvent(e, replay, inChartArea) {\n        const { _active: lastActive = [] , options  } = this;\n        const useFinalPosition = replay;\n        const active = this._getActiveElements(e, lastActive, inChartArea, useFinalPosition);\n        const isClick = _isClickEvent(e);\n        const lastEvent = determineLastEvent(e, this._lastEvent, inChartArea, isClick);\n        if (inChartArea) {\n            this._lastEvent = null;\n            callback(options.onHover, [\n                e,\n                active,\n                this\n            ], this);\n            if (isClick) {\n                callback(options.onClick, [\n                    e,\n                    active,\n                    this\n                ], this);\n            }\n        }\n        const changed = !_elementsEqual(active, lastActive);\n        if (changed || replay) {\n            this._active = active;\n            this._updateHoverStyles(active, lastActive, replay);\n        }\n        this._lastEvent = lastEvent;\n        return changed;\n    }\n _getActiveElements(e, lastActive, inChartArea, useFinalPosition) {\n        if (e.type === 'mouseout') {\n            return [];\n        }\n        if (!inChartArea) {\n            return lastActive;\n        }\n        const hoverOptions = this.options.hover;\n        return this.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);\n    }\n}\nfunction invalidatePlugins() {\n    return each(Chart.instances, (chart)=>chart._plugins.invalidate());\n}\n\nfunction clipArc(ctx, element, endAngle) {\n    const { startAngle , pixelMargin , x , y , outerRadius , innerRadius  } = element;\n    let angleMargin = pixelMargin / outerRadius;\n    // Draw an inner border by clipping the arc and drawing a double-width border\n    // Enlarge the clipping arc by 0.33 pixels to eliminate glitches between borders\n    ctx.beginPath();\n    ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);\n    if (innerRadius > pixelMargin) {\n        angleMargin = pixelMargin / innerRadius;\n        ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);\n    } else {\n        ctx.arc(x, y, pixelMargin, endAngle + HALF_PI, startAngle - HALF_PI);\n    }\n    ctx.closePath();\n    ctx.clip();\n}\nfunction toRadiusCorners(value) {\n    return _readValueToProps(value, [\n        'outerStart',\n        'outerEnd',\n        'innerStart',\n        'innerEnd'\n    ]);\n}\n/**\n * Parse border radius from the provided options\n */ function parseBorderRadius$1(arc, innerRadius, outerRadius, angleDelta) {\n    const o = toRadiusCorners(arc.options.borderRadius);\n    const halfThickness = (outerRadius - innerRadius) / 2;\n    const innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);\n    // Outer limits are complicated. We want to compute the available angular distance at\n    // a radius of outerRadius - borderRadius because for small angular distances, this term limits.\n    // We compute at r = outerRadius - borderRadius because this circle defines the center of the border corners.\n    //\n    // If the borderRadius is large, that value can become negative.\n    // This causes the outer borders to lose their radius entirely, which is rather unexpected. To solve that, if borderRadius > outerRadius\n    // we know that the thickness term will dominate and compute the limits at that point\n    const computeOuterLimit = (val)=>{\n        const outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;\n        return _limitValue(val, 0, Math.min(halfThickness, outerArcLimit));\n    };\n    return {\n        outerStart: computeOuterLimit(o.outerStart),\n        outerEnd: computeOuterLimit(o.outerEnd),\n        innerStart: _limitValue(o.innerStart, 0, innerLimit),\n        innerEnd: _limitValue(o.innerEnd, 0, innerLimit)\n    };\n}\n/**\n * Convert (r, ) to (x, y)\n */ function rThetaToXY(r, theta, x, y) {\n    return {\n        x: x + r * Math.cos(theta),\n        y: y + r * Math.sin(theta)\n    };\n}\n/**\n * Path the arc, respecting border radius by separating into left and right halves.\n *\n *   Start      End\n *\n *    1--->a--->2    Outer\n *   /           \\\n *   8           3\n *   |           |\n *   |           |\n *   7           4\n *   \\           /\n *    6<---b<---5    Inner\n */ function pathArc(ctx, element, offset, spacing, end, circular) {\n    const { x , y , startAngle: start , pixelMargin , innerRadius: innerR  } = element;\n    const outerRadius = Math.max(element.outerRadius + spacing + offset - pixelMargin, 0);\n    const innerRadius = innerR > 0 ? innerR + spacing + offset + pixelMargin : 0;\n    let spacingOffset = 0;\n    const alpha = end - start;\n    if (spacing) {\n        // When spacing is present, it is the same for all items\n        // So we adjust the start and end angle of the arc such that\n        // the distance is the same as it would be without the spacing\n        const noSpacingInnerRadius = innerR > 0 ? innerR - spacing : 0;\n        const noSpacingOuterRadius = outerRadius > 0 ? outerRadius - spacing : 0;\n        const avNogSpacingRadius = (noSpacingInnerRadius + noSpacingOuterRadius) / 2;\n        const adjustedAngle = avNogSpacingRadius !== 0 ? alpha * avNogSpacingRadius / (avNogSpacingRadius + spacing) : alpha;\n        spacingOffset = (alpha - adjustedAngle) / 2;\n    }\n    const beta = Math.max(0.001, alpha * outerRadius - offset / PI) / outerRadius;\n    const angleOffset = (alpha - beta) / 2;\n    const startAngle = start + angleOffset + spacingOffset;\n    const endAngle = end - angleOffset - spacingOffset;\n    const { outerStart , outerEnd , innerStart , innerEnd  } = parseBorderRadius$1(element, innerRadius, outerRadius, endAngle - startAngle);\n    const outerStartAdjustedRadius = outerRadius - outerStart;\n    const outerEndAdjustedRadius = outerRadius - outerEnd;\n    const outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;\n    const outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;\n    const innerStartAdjustedRadius = innerRadius + innerStart;\n    const innerEndAdjustedRadius = innerRadius + innerEnd;\n    const innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;\n    const innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;\n    ctx.beginPath();\n    if (circular) {\n        // The first arc segments from point 1 to point a to point 2\n        const outerMidAdjustedAngle = (outerStartAdjustedAngle + outerEndAdjustedAngle) / 2;\n        ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerMidAdjustedAngle);\n        ctx.arc(x, y, outerRadius, outerMidAdjustedAngle, outerEndAdjustedAngle);\n        // The corner segment from point 2 to point 3\n        if (outerEnd > 0) {\n            const pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);\n            ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + HALF_PI);\n        }\n        // The line from point 3 to point 4\n        const p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);\n        ctx.lineTo(p4.x, p4.y);\n        // The corner segment from point 4 to point 5\n        if (innerEnd > 0) {\n            const pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);\n            ctx.arc(pCenter.x, pCenter.y, innerEnd, endAngle + HALF_PI, innerEndAdjustedAngle + Math.PI);\n        }\n        // The inner arc from point 5 to point b to point 6\n        const innerMidAdjustedAngle = (endAngle - innerEnd / innerRadius + (startAngle + innerStart / innerRadius)) / 2;\n        ctx.arc(x, y, innerRadius, endAngle - innerEnd / innerRadius, innerMidAdjustedAngle, true);\n        ctx.arc(x, y, innerRadius, innerMidAdjustedAngle, startAngle + innerStart / innerRadius, true);\n        // The corner segment from point 6 to point 7\n        if (innerStart > 0) {\n            const pCenter = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);\n            ctx.arc(pCenter.x, pCenter.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - HALF_PI);\n        }\n        // The line from point 7 to point 8\n        const p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);\n        ctx.lineTo(p8.x, p8.y);\n        // The corner segment from point 8 to point 1\n        if (outerStart > 0) {\n            const pCenter = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);\n            ctx.arc(pCenter.x, pCenter.y, outerStart, startAngle - HALF_PI, outerStartAdjustedAngle);\n        }\n    } else {\n        ctx.moveTo(x, y);\n        const outerStartX = Math.cos(outerStartAdjustedAngle) * outerRadius + x;\n        const outerStartY = Math.sin(outerStartAdjustedAngle) * outerRadius + y;\n        ctx.lineTo(outerStartX, outerStartY);\n        const outerEndX = Math.cos(outerEndAdjustedAngle) * outerRadius + x;\n        const outerEndY = Math.sin(outerEndAdjustedAngle) * outerRadius + y;\n        ctx.lineTo(outerEndX, outerEndY);\n    }\n    ctx.closePath();\n}\nfunction drawArc(ctx, element, offset, spacing, circular) {\n    const { fullCircles , startAngle , circumference  } = element;\n    let endAngle = element.endAngle;\n    if (fullCircles) {\n        pathArc(ctx, element, offset, spacing, endAngle, circular);\n        for(let i = 0; i < fullCircles; ++i){\n            ctx.fill();\n        }\n        if (!isNaN(circumference)) {\n            endAngle = startAngle + (circumference % TAU || TAU);\n        }\n    }\n    pathArc(ctx, element, offset, spacing, endAngle, circular);\n    ctx.fill();\n    return endAngle;\n}\nfunction drawBorder(ctx, element, offset, spacing, circular) {\n    const { fullCircles , startAngle , circumference , options  } = element;\n    const { borderWidth , borderJoinStyle , borderDash , borderDashOffset  } = options;\n    const inner = options.borderAlign === 'inner';\n    if (!borderWidth) {\n        return;\n    }\n    ctx.setLineDash(borderDash || []);\n    ctx.lineDashOffset = borderDashOffset;\n    if (inner) {\n        ctx.lineWidth = borderWidth * 2;\n        ctx.lineJoin = borderJoinStyle || 'round';\n    } else {\n        ctx.lineWidth = borderWidth;\n        ctx.lineJoin = borderJoinStyle || 'bevel';\n    }\n    let endAngle = element.endAngle;\n    if (fullCircles) {\n        pathArc(ctx, element, offset, spacing, endAngle, circular);\n        for(let i = 0; i < fullCircles; ++i){\n            ctx.stroke();\n        }\n        if (!isNaN(circumference)) {\n            endAngle = startAngle + (circumference % TAU || TAU);\n        }\n    }\n    if (inner) {\n        clipArc(ctx, element, endAngle);\n    }\n    if (!fullCircles) {\n        pathArc(ctx, element, offset, spacing, endAngle, circular);\n        ctx.stroke();\n    }\n}\nclass ArcElement extends Element {\n    static id = 'arc';\n    static defaults = {\n        borderAlign: 'center',\n        borderColor: '#fff',\n        borderDash: [],\n        borderDashOffset: 0,\n        borderJoinStyle: undefined,\n        borderRadius: 0,\n        borderWidth: 2,\n        offset: 0,\n        spacing: 0,\n        angle: undefined,\n        circular: true\n    };\n    static defaultRoutes = {\n        backgroundColor: 'backgroundColor'\n    };\n    static descriptors = {\n        _scriptable: true,\n        _indexable: (name)=>name !== 'borderDash'\n    };\n    circumference;\n    endAngle;\n    fullCircles;\n    innerRadius;\n    outerRadius;\n    pixelMargin;\n    startAngle;\n    constructor(cfg){\n        super();\n        this.options = undefined;\n        this.circumference = undefined;\n        this.startAngle = undefined;\n        this.endAngle = undefined;\n        this.innerRadius = undefined;\n        this.outerRadius = undefined;\n        this.pixelMargin = 0;\n        this.fullCircles = 0;\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    }\n    inRange(chartX, chartY, useFinalPosition) {\n        const point = this.getProps([\n            'x',\n            'y'\n        ], useFinalPosition);\n        const { angle , distance  } = getAngleFromPoint(point, {\n            x: chartX,\n            y: chartY\n        });\n        const { startAngle , endAngle , innerRadius , outerRadius , circumference  } = this.getProps([\n            'startAngle',\n            'endAngle',\n            'innerRadius',\n            'outerRadius',\n            'circumference'\n        ], useFinalPosition);\n        const rAdjust = (this.options.spacing + this.options.borderWidth) / 2;\n        const _circumference = valueOrDefault(circumference, endAngle - startAngle);\n        const nonZeroBetween = _angleBetween(angle, startAngle, endAngle) && startAngle !== endAngle;\n        const betweenAngles = _circumference >= TAU || nonZeroBetween;\n        const withinRadius = _isBetween(distance, innerRadius + rAdjust, outerRadius + rAdjust);\n        return betweenAngles && withinRadius;\n    }\n    getCenterPoint(useFinalPosition) {\n        const { x , y , startAngle , endAngle , innerRadius , outerRadius  } = this.getProps([\n            'x',\n            'y',\n            'startAngle',\n            'endAngle',\n            'innerRadius',\n            'outerRadius'\n        ], useFinalPosition);\n        const { offset , spacing  } = this.options;\n        const halfAngle = (startAngle + endAngle) / 2;\n        const halfRadius = (innerRadius + outerRadius + spacing + offset) / 2;\n        return {\n            x: x + Math.cos(halfAngle) * halfRadius,\n            y: y + Math.sin(halfAngle) * halfRadius\n        };\n    }\n    tooltipPosition(useFinalPosition) {\n        return this.getCenterPoint(useFinalPosition);\n    }\n    draw(ctx) {\n        const { options , circumference  } = this;\n        const offset = (options.offset || 0) / 4;\n        const spacing = (options.spacing || 0) / 2;\n        const circular = options.circular;\n        this.pixelMargin = options.borderAlign === 'inner' ? 0.33 : 0;\n        this.fullCircles = circumference > TAU ? Math.floor(circumference / TAU) : 0;\n        if (circumference === 0 || this.innerRadius < 0 || this.outerRadius < 0) {\n            return;\n        }\n        ctx.save();\n        const halfAngle = (this.startAngle + this.endAngle) / 2;\n        ctx.translate(Math.cos(halfAngle) * offset, Math.sin(halfAngle) * offset);\n        const fix = 1 - Math.sin(Math.min(PI, circumference || 0));\n        const radiusOffset = offset * fix;\n        ctx.fillStyle = options.backgroundColor;\n        ctx.strokeStyle = options.borderColor;\n        drawArc(ctx, this, radiusOffset, spacing, circular);\n        drawBorder(ctx, this, radiusOffset, spacing, circular);\n        ctx.restore();\n    }\n}\n\nfunction setStyle(ctx, options, style = options) {\n    ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle);\n    ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash));\n    ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset);\n    ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle);\n    ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth);\n    ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor);\n}\nfunction lineTo(ctx, previous, target) {\n    ctx.lineTo(target.x, target.y);\n}\n function getLineMethod(options) {\n    if (options.stepped) {\n        return _steppedLineTo;\n    }\n    if (options.tension || options.cubicInterpolationMode === 'monotone') {\n        return _bezierCurveTo;\n    }\n    return lineTo;\n}\nfunction pathVars(points, segment, params = {}) {\n    const count = points.length;\n    const { start: paramsStart = 0 , end: paramsEnd = count - 1  } = params;\n    const { start: segmentStart , end: segmentEnd  } = segment;\n    const start = Math.max(paramsStart, segmentStart);\n    const end = Math.min(paramsEnd, segmentEnd);\n    const outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;\n    return {\n        count,\n        start,\n        loop: segment.loop,\n        ilen: end < start && !outside ? count + end - start : end - start\n    };\n}\n function pathSegment(ctx, line, segment, params) {\n    const { points , options  } = line;\n    const { count , start , loop , ilen  } = pathVars(points, segment, params);\n    const lineMethod = getLineMethod(options);\n    let { move =true , reverse  } = params || {};\n    let i, point, prev;\n    for(i = 0; i <= ilen; ++i){\n        point = points[(start + (reverse ? ilen - i : i)) % count];\n        if (point.skip) {\n            continue;\n        } else if (move) {\n            ctx.moveTo(point.x, point.y);\n            move = false;\n        } else {\n            lineMethod(ctx, prev, point, reverse, options.stepped);\n        }\n        prev = point;\n    }\n    if (loop) {\n        point = points[(start + (reverse ? ilen : 0)) % count];\n        lineMethod(ctx, prev, point, reverse, options.stepped);\n    }\n    return !!loop;\n}\n function fastPathSegment(ctx, line, segment, params) {\n    const points = line.points;\n    const { count , start , ilen  } = pathVars(points, segment, params);\n    const { move =true , reverse  } = params || {};\n    let avgX = 0;\n    let countX = 0;\n    let i, point, prevX, minY, maxY, lastY;\n    const pointIndex = (index)=>(start + (reverse ? ilen - index : index)) % count;\n    const drawX = ()=>{\n        if (minY !== maxY) {\n            ctx.lineTo(avgX, maxY);\n            ctx.lineTo(avgX, minY);\n            ctx.lineTo(avgX, lastY);\n        }\n    };\n    if (move) {\n        point = points[pointIndex(0)];\n        ctx.moveTo(point.x, point.y);\n    }\n    for(i = 0; i <= ilen; ++i){\n        point = points[pointIndex(i)];\n        if (point.skip) {\n            continue;\n        }\n        const x = point.x;\n        const y = point.y;\n        const truncX = x | 0;\n        if (truncX === prevX) {\n            if (y < minY) {\n                minY = y;\n            } else if (y > maxY) {\n                maxY = y;\n            }\n            avgX = (countX * avgX + x) / ++countX;\n        } else {\n            drawX();\n            ctx.lineTo(x, y);\n            prevX = truncX;\n            countX = 0;\n            minY = maxY = y;\n        }\n        lastY = y;\n    }\n    drawX();\n}\n function _getSegmentMethod(line) {\n    const opts = line.options;\n    const borderDash = opts.borderDash && opts.borderDash.length;\n    const useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;\n    return useFastPath ? fastPathSegment : pathSegment;\n}\n function _getInterpolationMethod(options) {\n    if (options.stepped) {\n        return _steppedInterpolation;\n    }\n    if (options.tension || options.cubicInterpolationMode === 'monotone') {\n        return _bezierInterpolation;\n    }\n    return _pointInLine;\n}\nfunction strokePathWithCache(ctx, line, start, count) {\n    let path = line._path;\n    if (!path) {\n        path = line._path = new Path2D();\n        if (line.path(path, start, count)) {\n            path.closePath();\n        }\n    }\n    setStyle(ctx, line.options);\n    ctx.stroke(path);\n}\nfunction strokePathDirect(ctx, line, start, count) {\n    const { segments , options  } = line;\n    const segmentMethod = _getSegmentMethod(line);\n    for (const segment of segments){\n        setStyle(ctx, options, segment.style);\n        ctx.beginPath();\n        if (segmentMethod(ctx, line, segment, {\n            start,\n            end: start + count - 1\n        })) {\n            ctx.closePath();\n        }\n        ctx.stroke();\n    }\n}\nconst usePath2D = typeof Path2D === 'function';\nfunction draw(ctx, line, start, count) {\n    if (usePath2D && !line.options.segment) {\n        strokePathWithCache(ctx, line, start, count);\n    } else {\n        strokePathDirect(ctx, line, start, count);\n    }\n}\nclass LineElement extends Element {\n    static id = 'line';\n static defaults = {\n        borderCapStyle: 'butt',\n        borderDash: [],\n        borderDashOffset: 0,\n        borderJoinStyle: 'miter',\n        borderWidth: 3,\n        capBezierPoints: true,\n        cubicInterpolationMode: 'default',\n        fill: false,\n        spanGaps: false,\n        stepped: false,\n        tension: 0\n    };\n static defaultRoutes = {\n        backgroundColor: 'backgroundColor',\n        borderColor: 'borderColor'\n    };\n    static descriptors = {\n        _scriptable: true,\n        _indexable: (name)=>name !== 'borderDash' && name !== 'fill'\n    };\n    constructor(cfg){\n        super();\n        this.animated = true;\n        this.options = undefined;\n        this._chart = undefined;\n        this._loop = undefined;\n        this._fullLoop = undefined;\n        this._path = undefined;\n        this._points = undefined;\n        this._segments = undefined;\n        this._decimated = false;\n        this._pointsUpdated = false;\n        this._datasetIndex = undefined;\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    }\n    updateControlPoints(chartArea, indexAxis) {\n        const options = this.options;\n        if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !this._pointsUpdated) {\n            const loop = options.spanGaps ? this._loop : this._fullLoop;\n            _updateBezierControlPoints(this._points, options, chartArea, loop, indexAxis);\n            this._pointsUpdated = true;\n        }\n    }\n    set points(points) {\n        this._points = points;\n        delete this._segments;\n        delete this._path;\n        this._pointsUpdated = false;\n    }\n    get points() {\n        return this._points;\n    }\n    get segments() {\n        return this._segments || (this._segments = _computeSegments(this, this.options.segment));\n    }\n first() {\n        const segments = this.segments;\n        const points = this.points;\n        return segments.length && points[segments[0].start];\n    }\n last() {\n        const segments = this.segments;\n        const points = this.points;\n        const count = segments.length;\n        return count && points[segments[count - 1].end];\n    }\n interpolate(point, property) {\n        const options = this.options;\n        const value = point[property];\n        const points = this.points;\n        const segments = _boundSegments(this, {\n            property,\n            start: value,\n            end: value\n        });\n        if (!segments.length) {\n            return;\n        }\n        const result = [];\n        const _interpolate = _getInterpolationMethod(options);\n        let i, ilen;\n        for(i = 0, ilen = segments.length; i < ilen; ++i){\n            const { start , end  } = segments[i];\n            const p1 = points[start];\n            const p2 = points[end];\n            if (p1 === p2) {\n                result.push(p1);\n                continue;\n            }\n            const t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));\n            const interpolated = _interpolate(p1, p2, t, options.stepped);\n            interpolated[property] = point[property];\n            result.push(interpolated);\n        }\n        return result.length === 1 ? result[0] : result;\n    }\n pathSegment(ctx, segment, params) {\n        const segmentMethod = _getSegmentMethod(this);\n        return segmentMethod(ctx, this, segment, params);\n    }\n path(ctx, start, count) {\n        const segments = this.segments;\n        const segmentMethod = _getSegmentMethod(this);\n        let loop = this._loop;\n        start = start || 0;\n        count = count || this.points.length - start;\n        for (const segment of segments){\n            loop &= segmentMethod(ctx, this, segment, {\n                start,\n                end: start + count - 1\n            });\n        }\n        return !!loop;\n    }\n draw(ctx, chartArea, start, count) {\n        const options = this.options || {};\n        const points = this.points || [];\n        if (points.length && options.borderWidth) {\n            ctx.save();\n            draw(ctx, this, start, count);\n            ctx.restore();\n        }\n        if (this.animated) {\n            this._pointsUpdated = false;\n            this._path = undefined;\n        }\n    }\n}\n\nfunction inRange$1(el, pos, axis, useFinalPosition) {\n    const options = el.options;\n    const { [axis]: value  } = el.getProps([\n        axis\n    ], useFinalPosition);\n    return Math.abs(pos - value) < options.radius + options.hitRadius;\n}\nclass PointElement extends Element {\n    static id = 'point';\n    parsed;\n    skip;\n    stop;\n    /**\n   * @type {any}\n   */ static defaults = {\n        borderWidth: 1,\n        hitRadius: 1,\n        hoverBorderWidth: 1,\n        hoverRadius: 4,\n        pointStyle: 'circle',\n        radius: 3,\n        rotation: 0\n    };\n    /**\n   * @type {any}\n   */ static defaultRoutes = {\n        backgroundColor: 'backgroundColor',\n        borderColor: 'borderColor'\n    };\n    constructor(cfg){\n        super();\n        this.options = undefined;\n        this.parsed = undefined;\n        this.skip = undefined;\n        this.stop = undefined;\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    }\n    inRange(mouseX, mouseY, useFinalPosition) {\n        const options = this.options;\n        const { x , y  } = this.getProps([\n            'x',\n            'y'\n        ], useFinalPosition);\n        return Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2) < Math.pow(options.hitRadius + options.radius, 2);\n    }\n    inXRange(mouseX, useFinalPosition) {\n        return inRange$1(this, mouseX, 'x', useFinalPosition);\n    }\n    inYRange(mouseY, useFinalPosition) {\n        return inRange$1(this, mouseY, 'y', useFinalPosition);\n    }\n    getCenterPoint(useFinalPosition) {\n        const { x , y  } = this.getProps([\n            'x',\n            'y'\n        ], useFinalPosition);\n        return {\n            x,\n            y\n        };\n    }\n    size(options) {\n        options = options || this.options || {};\n        let radius = options.radius || 0;\n        radius = Math.max(radius, radius && options.hoverRadius || 0);\n        const borderWidth = radius && options.borderWidth || 0;\n        return (radius + borderWidth) * 2;\n    }\n    draw(ctx, area) {\n        const options = this.options;\n        if (this.skip || options.radius < 0.1 || !_isPointInArea(this, area, this.size(options) / 2)) {\n            return;\n        }\n        ctx.strokeStyle = options.borderColor;\n        ctx.lineWidth = options.borderWidth;\n        ctx.fillStyle = options.backgroundColor;\n        drawPoint(ctx, options, this.x, this.y);\n    }\n    getRange() {\n        const options = this.options || {};\n        // @ts-expect-error Fallbacks should never be hit in practice\n        return options.radius + options.hitRadius;\n    }\n}\n\nfunction getBarBounds(bar, useFinalPosition) {\n    const { x , y , base , width , height  } =  bar.getProps([\n        'x',\n        'y',\n        'base',\n        'width',\n        'height'\n    ], useFinalPosition);\n    let left, right, top, bottom, half;\n    if (bar.horizontal) {\n        half = height / 2;\n        left = Math.min(x, base);\n        right = Math.max(x, base);\n        top = y - half;\n        bottom = y + half;\n    } else {\n        half = width / 2;\n        left = x - half;\n        right = x + half;\n        top = Math.min(y, base);\n        bottom = Math.max(y, base);\n    }\n    return {\n        left,\n        top,\n        right,\n        bottom\n    };\n}\nfunction skipOrLimit(skip, value, min, max) {\n    return skip ? 0 : _limitValue(value, min, max);\n}\nfunction parseBorderWidth(bar, maxW, maxH) {\n    const value = bar.options.borderWidth;\n    const skip = bar.borderSkipped;\n    const o = toTRBL(value);\n    return {\n        t: skipOrLimit(skip.top, o.top, 0, maxH),\n        r: skipOrLimit(skip.right, o.right, 0, maxW),\n        b: skipOrLimit(skip.bottom, o.bottom, 0, maxH),\n        l: skipOrLimit(skip.left, o.left, 0, maxW)\n    };\n}\nfunction parseBorderRadius(bar, maxW, maxH) {\n    const { enableBorderRadius  } = bar.getProps([\n        'enableBorderRadius'\n    ]);\n    const value = bar.options.borderRadius;\n    const o = toTRBLCorners(value);\n    const maxR = Math.min(maxW, maxH);\n    const skip = bar.borderSkipped;\n    const enableBorder = enableBorderRadius || isObject(value);\n    return {\n        topLeft: skipOrLimit(!enableBorder || skip.top || skip.left, o.topLeft, 0, maxR),\n        topRight: skipOrLimit(!enableBorder || skip.top || skip.right, o.topRight, 0, maxR),\n        bottomLeft: skipOrLimit(!enableBorder || skip.bottom || skip.left, o.bottomLeft, 0, maxR),\n        bottomRight: skipOrLimit(!enableBorder || skip.bottom || skip.right, o.bottomRight, 0, maxR)\n    };\n}\nfunction boundingRects(bar) {\n    const bounds = getBarBounds(bar);\n    const width = bounds.right - bounds.left;\n    const height = bounds.bottom - bounds.top;\n    const border = parseBorderWidth(bar, width / 2, height / 2);\n    const radius = parseBorderRadius(bar, width / 2, height / 2);\n    return {\n        outer: {\n            x: bounds.left,\n            y: bounds.top,\n            w: width,\n            h: height,\n            radius\n        },\n        inner: {\n            x: bounds.left + border.l,\n            y: bounds.top + border.t,\n            w: width - border.l - border.r,\n            h: height - border.t - border.b,\n            radius: {\n                topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),\n                topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),\n                bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),\n                bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r))\n            }\n        }\n    };\n}\nfunction inRange(bar, x, y, useFinalPosition) {\n    const skipX = x === null;\n    const skipY = y === null;\n    const skipBoth = skipX && skipY;\n    const bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);\n    return bounds && (skipX || _isBetween(x, bounds.left, bounds.right)) && (skipY || _isBetween(y, bounds.top, bounds.bottom));\n}\nfunction hasRadius(radius) {\n    return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;\n}\n function addNormalRectPath(ctx, rect) {\n    ctx.rect(rect.x, rect.y, rect.w, rect.h);\n}\nfunction inflateRect(rect, amount, refRect = {}) {\n    const x = rect.x !== refRect.x ? -amount : 0;\n    const y = rect.y !== refRect.y ? -amount : 0;\n    const w = (rect.x + rect.w !== refRect.x + refRect.w ? amount : 0) - x;\n    const h = (rect.y + rect.h !== refRect.y + refRect.h ? amount : 0) - y;\n    return {\n        x: rect.x + x,\n        y: rect.y + y,\n        w: rect.w + w,\n        h: rect.h + h,\n        radius: rect.radius\n    };\n}\nclass BarElement extends Element {\n    static id = 'bar';\n static defaults = {\n        borderSkipped: 'start',\n        borderWidth: 0,\n        borderRadius: 0,\n        inflateAmount: 'auto',\n        pointStyle: undefined\n    };\n static defaultRoutes = {\n        backgroundColor: 'backgroundColor',\n        borderColor: 'borderColor'\n    };\n    constructor(cfg){\n        super();\n        this.options = undefined;\n        this.horizontal = undefined;\n        this.base = undefined;\n        this.width = undefined;\n        this.height = undefined;\n        this.inflateAmount = undefined;\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    }\n    draw(ctx) {\n        const { inflateAmount , options: { borderColor , backgroundColor  }  } = this;\n        const { inner , outer  } = boundingRects(this);\n        const addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath;\n        ctx.save();\n        if (outer.w !== inner.w || outer.h !== inner.h) {\n            ctx.beginPath();\n            addRectPath(ctx, inflateRect(outer, inflateAmount, inner));\n            ctx.clip();\n            addRectPath(ctx, inflateRect(inner, -inflateAmount, outer));\n            ctx.fillStyle = borderColor;\n            ctx.fill('evenodd');\n        }\n        ctx.beginPath();\n        addRectPath(ctx, inflateRect(inner, inflateAmount));\n        ctx.fillStyle = backgroundColor;\n        ctx.fill();\n        ctx.restore();\n    }\n    inRange(mouseX, mouseY, useFinalPosition) {\n        return inRange(this, mouseX, mouseY, useFinalPosition);\n    }\n    inXRange(mouseX, useFinalPosition) {\n        return inRange(this, mouseX, null, useFinalPosition);\n    }\n    inYRange(mouseY, useFinalPosition) {\n        return inRange(this, null, mouseY, useFinalPosition);\n    }\n    getCenterPoint(useFinalPosition) {\n        const { x , y , base , horizontal  } =  this.getProps([\n            'x',\n            'y',\n            'base',\n            'horizontal'\n        ], useFinalPosition);\n        return {\n            x: horizontal ? (x + base) / 2 : x,\n            y: horizontal ? y : (y + base) / 2\n        };\n    }\n    getRange(axis) {\n        return axis === 'x' ? this.width / 2 : this.height / 2;\n    }\n}\n\nvar elements = /*#__PURE__*/Object.freeze({\n__proto__: null,\nArcElement: ArcElement,\nBarElement: BarElement,\nLineElement: LineElement,\nPointElement: PointElement\n});\n\nconst BORDER_COLORS = [\n    'rgb(54, 162, 235)',\n    'rgb(255, 99, 132)',\n    'rgb(255, 159, 64)',\n    'rgb(255, 205, 86)',\n    'rgb(75, 192, 192)',\n    'rgb(153, 102, 255)',\n    'rgb(201, 203, 207)' // grey\n];\n// Border colors with 50% transparency\nconst BACKGROUND_COLORS = /* #__PURE__ */ BORDER_COLORS.map((color)=>color.replace('rgb(', 'rgba(').replace(')', ', 0.5)'));\nfunction getBorderColor(i) {\n    return BORDER_COLORS[i % BORDER_COLORS.length];\n}\nfunction getBackgroundColor(i) {\n    return BACKGROUND_COLORS[i % BACKGROUND_COLORS.length];\n}\nfunction colorizeDefaultDataset(dataset, i) {\n    dataset.borderColor = getBorderColor(i);\n    dataset.backgroundColor = getBackgroundColor(i);\n    return ++i;\n}\nfunction colorizeDoughnutDataset(dataset, i) {\n    dataset.backgroundColor = dataset.data.map(()=>getBorderColor(i++));\n    return i;\n}\nfunction colorizePolarAreaDataset(dataset, i) {\n    dataset.backgroundColor = dataset.data.map(()=>getBackgroundColor(i++));\n    return i;\n}\nfunction getColorizer(chart) {\n    let i = 0;\n    return (dataset, datasetIndex)=>{\n        const controller = chart.getDatasetMeta(datasetIndex).controller;\n        if (controller instanceof DoughnutController) {\n            i = colorizeDoughnutDataset(dataset, i);\n        } else if (controller instanceof PolarAreaController) {\n            i = colorizePolarAreaDataset(dataset, i);\n        } else if (controller) {\n            i = colorizeDefaultDataset(dataset, i);\n        }\n    };\n}\nfunction containsColorsDefinitions(descriptors) {\n    let k;\n    for(k in descriptors){\n        if (descriptors[k].borderColor || descriptors[k].backgroundColor) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction containsColorsDefinition(descriptor) {\n    return descriptor && (descriptor.borderColor || descriptor.backgroundColor);\n}\nvar plugin_colors = {\n    id: 'colors',\n    defaults: {\n        enabled: true,\n        forceOverride: false\n    },\n    beforeLayout (chart, _args, options) {\n        if (!options.enabled) {\n            return;\n        }\n        const { data: { datasets  } , options: chartOptions  } = chart.config;\n        const { elements  } = chartOptions;\n        if (!options.forceOverride && (containsColorsDefinitions(datasets) || containsColorsDefinition(chartOptions) || elements && containsColorsDefinitions(elements))) {\n            return;\n        }\n        const colorizer = getColorizer(chart);\n        datasets.forEach(colorizer);\n    }\n};\n\nfunction lttbDecimation(data, start, count, availableWidth, options) {\n const samples = options.samples || availableWidth;\n    if (samples >= count) {\n        return data.slice(start, start + count);\n    }\n    const decimated = [];\n    const bucketWidth = (count - 2) / (samples - 2);\n    let sampledIndex = 0;\n    const endIndex = start + count - 1;\n    let a = start;\n    let i, maxAreaPoint, maxArea, area, nextA;\n    decimated[sampledIndex++] = data[a];\n    for(i = 0; i < samples - 2; i++){\n        let avgX = 0;\n        let avgY = 0;\n        let j;\n        const avgRangeStart = Math.floor((i + 1) * bucketWidth) + 1 + start;\n        const avgRangeEnd = Math.min(Math.floor((i + 2) * bucketWidth) + 1, count) + start;\n        const avgRangeLength = avgRangeEnd - avgRangeStart;\n        for(j = avgRangeStart; j < avgRangeEnd; j++){\n            avgX += data[j].x;\n            avgY += data[j].y;\n        }\n        avgX /= avgRangeLength;\n        avgY /= avgRangeLength;\n        const rangeOffs = Math.floor(i * bucketWidth) + 1 + start;\n        const rangeTo = Math.min(Math.floor((i + 1) * bucketWidth) + 1, count) + start;\n        const { x: pointAx , y: pointAy  } = data[a];\n        maxArea = area = -1;\n        for(j = rangeOffs; j < rangeTo; j++){\n            area = 0.5 * Math.abs((pointAx - avgX) * (data[j].y - pointAy) - (pointAx - data[j].x) * (avgY - pointAy));\n            if (area > maxArea) {\n                maxArea = area;\n                maxAreaPoint = data[j];\n                nextA = j;\n            }\n        }\n        decimated[sampledIndex++] = maxAreaPoint;\n        a = nextA;\n    }\n    decimated[sampledIndex++] = data[endIndex];\n    return decimated;\n}\nfunction minMaxDecimation(data, start, count, availableWidth) {\n    let avgX = 0;\n    let countX = 0;\n    let i, point, x, y, prevX, minIndex, maxIndex, startIndex, minY, maxY;\n    const decimated = [];\n    const endIndex = start + count - 1;\n    const xMin = data[start].x;\n    const xMax = data[endIndex].x;\n    const dx = xMax - xMin;\n    for(i = start; i < start + count; ++i){\n        point = data[i];\n        x = (point.x - xMin) / dx * availableWidth;\n        y = point.y;\n        const truncX = x | 0;\n        if (truncX === prevX) {\n            if (y < minY) {\n                minY = y;\n                minIndex = i;\n            } else if (y > maxY) {\n                maxY = y;\n                maxIndex = i;\n            }\n            avgX = (countX * avgX + point.x) / ++countX;\n        } else {\n            const lastIndex = i - 1;\n            if (!isNullOrUndef(minIndex) && !isNullOrUndef(maxIndex)) {\n                const intermediateIndex1 = Math.min(minIndex, maxIndex);\n                const intermediateIndex2 = Math.max(minIndex, maxIndex);\n                if (intermediateIndex1 !== startIndex && intermediateIndex1 !== lastIndex) {\n                    decimated.push({\n                        ...data[intermediateIndex1],\n                        x: avgX\n                    });\n                }\n                if (intermediateIndex2 !== startIndex && intermediateIndex2 !== lastIndex) {\n                    decimated.push({\n                        ...data[intermediateIndex2],\n                        x: avgX\n                    });\n                }\n            }\n            if (i > 0 && lastIndex !== startIndex) {\n                decimated.push(data[lastIndex]);\n            }\n            decimated.push(point);\n            prevX = truncX;\n            countX = 0;\n            minY = maxY = y;\n            minIndex = maxIndex = startIndex = i;\n        }\n    }\n    return decimated;\n}\nfunction cleanDecimatedDataset(dataset) {\n    if (dataset._decimated) {\n        const data = dataset._data;\n        delete dataset._decimated;\n        delete dataset._data;\n        Object.defineProperty(dataset, 'data', {\n            configurable: true,\n            enumerable: true,\n            writable: true,\n            value: data\n        });\n    }\n}\nfunction cleanDecimatedData(chart) {\n    chart.data.datasets.forEach((dataset)=>{\n        cleanDecimatedDataset(dataset);\n    });\n}\nfunction getStartAndCountOfVisiblePointsSimplified(meta, points) {\n    const pointCount = points.length;\n    let start = 0;\n    let count;\n    const { iScale  } = meta;\n    const { min , max , minDefined , maxDefined  } = iScale.getUserBounds();\n    if (minDefined) {\n        start = _limitValue(_lookupByKey(points, iScale.axis, min).lo, 0, pointCount - 1);\n    }\n    if (maxDefined) {\n        count = _limitValue(_lookupByKey(points, iScale.axis, max).hi + 1, start, pointCount) - start;\n    } else {\n        count = pointCount - start;\n    }\n    return {\n        start,\n        count\n    };\n}\nvar plugin_decimation = {\n    id: 'decimation',\n    defaults: {\n        algorithm: 'min-max',\n        enabled: false\n    },\n    beforeElementsUpdate: (chart, args, options)=>{\n        if (!options.enabled) {\n            cleanDecimatedData(chart);\n            return;\n        }\n        const availableWidth = chart.width;\n        chart.data.datasets.forEach((dataset, datasetIndex)=>{\n            const { _data , indexAxis  } = dataset;\n            const meta = chart.getDatasetMeta(datasetIndex);\n            const data = _data || dataset.data;\n            if (resolve([\n                indexAxis,\n                chart.options.indexAxis\n            ]) === 'y') {\n                return;\n            }\n            if (!meta.controller.supportsDecimation) {\n                return;\n            }\n            const xAxis = chart.scales[meta.xAxisID];\n            if (xAxis.type !== 'linear' && xAxis.type !== 'time') {\n                return;\n            }\n            if (chart.options.parsing) {\n                return;\n            }\n            let { start , count  } = getStartAndCountOfVisiblePointsSimplified(meta, data);\n            const threshold = options.threshold || 4 * availableWidth;\n            if (count <= threshold) {\n                cleanDecimatedDataset(dataset);\n                return;\n            }\n            if (isNullOrUndef(_data)) {\n                dataset._data = data;\n                delete dataset.data;\n                Object.defineProperty(dataset, 'data', {\n                    configurable: true,\n                    enumerable: true,\n                    get: function() {\n                        return this._decimated;\n                    },\n                    set: function(d) {\n                        this._data = d;\n                    }\n                });\n            }\n            let decimated;\n            switch(options.algorithm){\n                case 'lttb':\n                    decimated = lttbDecimation(data, start, count, availableWidth, options);\n                    break;\n                case 'min-max':\n                    decimated = minMaxDecimation(data, start, count, availableWidth);\n                    break;\n                default:\n                    throw new Error(`Unsupported decimation algorithm '${options.algorithm}'`);\n            }\n            dataset._decimated = decimated;\n        });\n    },\n    destroy (chart) {\n        cleanDecimatedData(chart);\n    }\n};\n\nfunction _segments(line, target, property) {\n    const segments = line.segments;\n    const points = line.points;\n    const tpoints = target.points;\n    const parts = [];\n    for (const segment of segments){\n        let { start , end  } = segment;\n        end = _findSegmentEnd(start, end, points);\n        const bounds = _getBounds(property, points[start], points[end], segment.loop);\n        if (!target.segments) {\n            parts.push({\n                source: segment,\n                target: bounds,\n                start: points[start],\n                end: points[end]\n            });\n            continue;\n        }\n        const targetSegments = _boundSegments(target, bounds);\n        for (const tgt of targetSegments){\n            const subBounds = _getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop);\n            const fillSources = _boundSegment(segment, points, subBounds);\n            for (const fillSource of fillSources){\n                parts.push({\n                    source: fillSource,\n                    target: tgt,\n                    start: {\n                        [property]: _getEdge(bounds, subBounds, 'start', Math.max)\n                    },\n                    end: {\n                        [property]: _getEdge(bounds, subBounds, 'end', Math.min)\n                    }\n                });\n            }\n        }\n    }\n    return parts;\n}\nfunction _getBounds(property, first, last, loop) {\n    if (loop) {\n        return;\n    }\n    let start = first[property];\n    let end = last[property];\n    if (property === 'angle') {\n        start = _normalizeAngle(start);\n        end = _normalizeAngle(end);\n    }\n    return {\n        property,\n        start,\n        end\n    };\n}\nfunction _pointsFromSegments(boundary, line) {\n    const { x =null , y =null  } = boundary || {};\n    const linePoints = line.points;\n    const points = [];\n    line.segments.forEach(({ start , end  })=>{\n        end = _findSegmentEnd(start, end, linePoints);\n        const first = linePoints[start];\n        const last = linePoints[end];\n        if (y !== null) {\n            points.push({\n                x: first.x,\n                y\n            });\n            points.push({\n                x: last.x,\n                y\n            });\n        } else if (x !== null) {\n            points.push({\n                x,\n                y: first.y\n            });\n            points.push({\n                x,\n                y: last.y\n            });\n        }\n    });\n    return points;\n}\nfunction _findSegmentEnd(start, end, points) {\n    for(; end > start; end--){\n        const point = points[end];\n        if (!isNaN(point.x) && !isNaN(point.y)) {\n            break;\n        }\n    }\n    return end;\n}\nfunction _getEdge(a, b, prop, fn) {\n    if (a && b) {\n        return fn(a[prop], b[prop]);\n    }\n    return a ? a[prop] : b ? b[prop] : 0;\n}\n\nfunction _createBoundaryLine(boundary, line) {\n    let points = [];\n    let _loop = false;\n    if (isArray(boundary)) {\n        _loop = true;\n        points = boundary;\n    } else {\n        points = _pointsFromSegments(boundary, line);\n    }\n    return points.length ? new LineElement({\n        points,\n        options: {\n            tension: 0\n        },\n        _loop,\n        _fullLoop: _loop\n    }) : null;\n}\nfunction _shouldApplyFill(source) {\n    return source && source.fill !== false;\n}\n\nfunction _resolveTarget(sources, index, propagate) {\n    const source = sources[index];\n    let fill = source.fill;\n    const visited = [\n        index\n    ];\n    let target;\n    if (!propagate) {\n        return fill;\n    }\n    while(fill !== false && visited.indexOf(fill) === -1){\n        if (!isNumberFinite(fill)) {\n            return fill;\n        }\n        target = sources[fill];\n        if (!target) {\n            return false;\n        }\n        if (target.visible) {\n            return fill;\n        }\n        visited.push(fill);\n        fill = target.fill;\n    }\n    return false;\n}\n function _decodeFill(line, index, count) {\n     const fill = parseFillOption(line);\n    if (isObject(fill)) {\n        return isNaN(fill.value) ? false : fill;\n    }\n    let target = parseFloat(fill);\n    if (isNumberFinite(target) && Math.floor(target) === target) {\n        return decodeTargetIndex(fill[0], index, target, count);\n    }\n    return [\n        'origin',\n        'start',\n        'end',\n        'stack',\n        'shape'\n    ].indexOf(fill) >= 0 && fill;\n}\nfunction decodeTargetIndex(firstCh, index, target, count) {\n    if (firstCh === '-' || firstCh === '+') {\n        target = index + target;\n    }\n    if (target === index || target < 0 || target >= count) {\n        return false;\n    }\n    return target;\n}\n function _getTargetPixel(fill, scale) {\n    let pixel = null;\n    if (fill === 'start') {\n        pixel = scale.bottom;\n    } else if (fill === 'end') {\n        pixel = scale.top;\n    } else if (isObject(fill)) {\n        pixel = scale.getPixelForValue(fill.value);\n    } else if (scale.getBasePixel) {\n        pixel = scale.getBasePixel();\n    }\n    return pixel;\n}\n function _getTargetValue(fill, scale, startValue) {\n    let value;\n    if (fill === 'start') {\n        value = startValue;\n    } else if (fill === 'end') {\n        value = scale.options.reverse ? scale.min : scale.max;\n    } else if (isObject(fill)) {\n        value = fill.value;\n    } else {\n        value = scale.getBaseValue();\n    }\n    return value;\n}\n function parseFillOption(line) {\n    const options = line.options;\n    const fillOption = options.fill;\n    let fill = valueOrDefault(fillOption && fillOption.target, fillOption);\n    if (fill === undefined) {\n        fill = !!options.backgroundColor;\n    }\n    if (fill === false || fill === null) {\n        return false;\n    }\n    if (fill === true) {\n        return 'origin';\n    }\n    return fill;\n}\n\nfunction _buildStackLine(source) {\n    const { scale , index , line  } = source;\n    const points = [];\n    const segments = line.segments;\n    const sourcePoints = line.points;\n    const linesBelow = getLinesBelow(scale, index);\n    linesBelow.push(_createBoundaryLine({\n        x: null,\n        y: scale.bottom\n    }, line));\n    for(let i = 0; i < segments.length; i++){\n        const segment = segments[i];\n        for(let j = segment.start; j <= segment.end; j++){\n            addPointsBelow(points, sourcePoints[j], linesBelow);\n        }\n    }\n    return new LineElement({\n        points,\n        options: {}\n    });\n}\n function getLinesBelow(scale, index) {\n    const below = [];\n    const metas = scale.getMatchingVisibleMetas('line');\n    for(let i = 0; i < metas.length; i++){\n        const meta = metas[i];\n        if (meta.index === index) {\n            break;\n        }\n        if (!meta.hidden) {\n            below.unshift(meta.dataset);\n        }\n    }\n    return below;\n}\n function addPointsBelow(points, sourcePoint, linesBelow) {\n    const postponed = [];\n    for(let j = 0; j < linesBelow.length; j++){\n        const line = linesBelow[j];\n        const { first , last , point  } = findPoint(line, sourcePoint, 'x');\n        if (!point || first && last) {\n            continue;\n        }\n        if (first) {\n            postponed.unshift(point);\n        } else {\n            points.push(point);\n            if (!last) {\n                break;\n            }\n        }\n    }\n    points.push(...postponed);\n}\n function findPoint(line, sourcePoint, property) {\n    const point = line.interpolate(sourcePoint, property);\n    if (!point) {\n        return {};\n    }\n    const pointValue = point[property];\n    const segments = line.segments;\n    const linePoints = line.points;\n    let first = false;\n    let last = false;\n    for(let i = 0; i < segments.length; i++){\n        const segment = segments[i];\n        const firstValue = linePoints[segment.start][property];\n        const lastValue = linePoints[segment.end][property];\n        if (_isBetween(pointValue, firstValue, lastValue)) {\n            first = pointValue === firstValue;\n            last = pointValue === lastValue;\n            break;\n        }\n    }\n    return {\n        first,\n        last,\n        point\n    };\n}\n\nclass simpleArc {\n    constructor(opts){\n        this.x = opts.x;\n        this.y = opts.y;\n        this.radius = opts.radius;\n    }\n    pathSegment(ctx, bounds, opts) {\n        const { x , y , radius  } = this;\n        bounds = bounds || {\n            start: 0,\n            end: TAU\n        };\n        ctx.arc(x, y, radius, bounds.end, bounds.start, true);\n        return !opts.bounds;\n    }\n    interpolate(point) {\n        const { x , y , radius  } = this;\n        const angle = point.angle;\n        return {\n            x: x + Math.cos(angle) * radius,\n            y: y + Math.sin(angle) * radius,\n            angle\n        };\n    }\n}\n\nfunction _getTarget(source) {\n    const { chart , fill , line  } = source;\n    if (isNumberFinite(fill)) {\n        return getLineByIndex(chart, fill);\n    }\n    if (fill === 'stack') {\n        return _buildStackLine(source);\n    }\n    if (fill === 'shape') {\n        return true;\n    }\n    const boundary = computeBoundary(source);\n    if (boundary instanceof simpleArc) {\n        return boundary;\n    }\n    return _createBoundaryLine(boundary, line);\n}\n function getLineByIndex(chart, index) {\n    const meta = chart.getDatasetMeta(index);\n    const visible = meta && chart.isDatasetVisible(index);\n    return visible ? meta.dataset : null;\n}\nfunction computeBoundary(source) {\n    const scale = source.scale || {};\n    if (scale.getPointPositionForValue) {\n        return computeCircularBoundary(source);\n    }\n    return computeLinearBoundary(source);\n}\nfunction computeLinearBoundary(source) {\n    const { scale ={} , fill  } = source;\n    const pixel = _getTargetPixel(fill, scale);\n    if (isNumberFinite(pixel)) {\n        const horizontal = scale.isHorizontal();\n        return {\n            x: horizontal ? pixel : null,\n            y: horizontal ? null : pixel\n        };\n    }\n    return null;\n}\nfunction computeCircularBoundary(source) {\n    const { scale , fill  } = source;\n    const options = scale.options;\n    const length = scale.getLabels().length;\n    const start = options.reverse ? scale.max : scale.min;\n    const value = _getTargetValue(fill, scale, start);\n    const target = [];\n    if (options.grid.circular) {\n        const center = scale.getPointPositionForValue(0, start);\n        return new simpleArc({\n            x: center.x,\n            y: center.y,\n            radius: scale.getDistanceFromCenterForValue(value)\n        });\n    }\n    for(let i = 0; i < length; ++i){\n        target.push(scale.getPointPositionForValue(i, value));\n    }\n    return target;\n}\n\nfunction _drawfill(ctx, source, area) {\n    const target = _getTarget(source);\n    const { line , scale , axis  } = source;\n    const lineOpts = line.options;\n    const fillOption = lineOpts.fill;\n    const color = lineOpts.backgroundColor;\n    const { above =color , below =color  } = fillOption || {};\n    if (target && line.points.length) {\n        clipArea(ctx, area);\n        doFill(ctx, {\n            line,\n            target,\n            above,\n            below,\n            area,\n            scale,\n            axis\n        });\n        unclipArea(ctx);\n    }\n}\nfunction doFill(ctx, cfg) {\n    const { line , target , above , below , area , scale  } = cfg;\n    const property = line._loop ? 'angle' : cfg.axis;\n    ctx.save();\n    if (property === 'x' && below !== above) {\n        clipVertical(ctx, target, area.top);\n        fill(ctx, {\n            line,\n            target,\n            color: above,\n            scale,\n            property\n        });\n        ctx.restore();\n        ctx.save();\n        clipVertical(ctx, target, area.bottom);\n    }\n    fill(ctx, {\n        line,\n        target,\n        color: below,\n        scale,\n        property\n    });\n    ctx.restore();\n}\nfunction clipVertical(ctx, target, clipY) {\n    const { segments , points  } = target;\n    let first = true;\n    let lineLoop = false;\n    ctx.beginPath();\n    for (const segment of segments){\n        const { start , end  } = segment;\n        const firstPoint = points[start];\n        const lastPoint = points[_findSegmentEnd(start, end, points)];\n        if (first) {\n            ctx.moveTo(firstPoint.x, firstPoint.y);\n            first = false;\n        } else {\n            ctx.lineTo(firstPoint.x, clipY);\n            ctx.lineTo(firstPoint.x, firstPoint.y);\n        }\n        lineLoop = !!target.pathSegment(ctx, segment, {\n            move: lineLoop\n        });\n        if (lineLoop) {\n            ctx.closePath();\n        } else {\n            ctx.lineTo(lastPoint.x, clipY);\n        }\n    }\n    ctx.lineTo(target.first().x, clipY);\n    ctx.closePath();\n    ctx.clip();\n}\nfunction fill(ctx, cfg) {\n    const { line , target , property , color , scale  } = cfg;\n    const segments = _segments(line, target, property);\n    for (const { source: src , target: tgt , start , end  } of segments){\n        const { style: { backgroundColor =color  } = {}  } = src;\n        const notShape = target !== true;\n        ctx.save();\n        ctx.fillStyle = backgroundColor;\n        clipBounds(ctx, scale, notShape && _getBounds(property, start, end));\n        ctx.beginPath();\n        const lineLoop = !!line.pathSegment(ctx, src);\n        let loop;\n        if (notShape) {\n            if (lineLoop) {\n                ctx.closePath();\n            } else {\n                interpolatedLineTo(ctx, target, end, property);\n            }\n            const targetLoop = !!target.pathSegment(ctx, tgt, {\n                move: lineLoop,\n                reverse: true\n            });\n            loop = lineLoop && targetLoop;\n            if (!loop) {\n                interpolatedLineTo(ctx, target, start, property);\n            }\n        }\n        ctx.closePath();\n        ctx.fill(loop ? 'evenodd' : 'nonzero');\n        ctx.restore();\n    }\n}\nfunction clipBounds(ctx, scale, bounds) {\n    const { top , bottom  } = scale.chart.chartArea;\n    const { property , start , end  } = bounds || {};\n    if (property === 'x') {\n        ctx.beginPath();\n        ctx.rect(start, top, end - start, bottom - top);\n        ctx.clip();\n    }\n}\nfunction interpolatedLineTo(ctx, target, point, property) {\n    const interpolatedPoint = target.interpolate(point, property);\n    if (interpolatedPoint) {\n        ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y);\n    }\n}\n\nvar index = {\n    id: 'filler',\n    afterDatasetsUpdate (chart, _args, options) {\n        const count = (chart.data.datasets || []).length;\n        const sources = [];\n        let meta, i, line, source;\n        for(i = 0; i < count; ++i){\n            meta = chart.getDatasetMeta(i);\n            line = meta.dataset;\n            source = null;\n            if (line && line.options && line instanceof LineElement) {\n                source = {\n                    visible: chart.isDatasetVisible(i),\n                    index: i,\n                    fill: _decodeFill(line, i, count),\n                    chart,\n                    axis: meta.controller.options.indexAxis,\n                    scale: meta.vScale,\n                    line\n                };\n            }\n            meta.$filler = source;\n            sources.push(source);\n        }\n        for(i = 0; i < count; ++i){\n            source = sources[i];\n            if (!source || source.fill === false) {\n                continue;\n            }\n            source.fill = _resolveTarget(sources, i, options.propagate);\n        }\n    },\n    beforeDraw (chart, _args, options) {\n        const draw = options.drawTime === 'beforeDraw';\n        const metasets = chart.getSortedVisibleDatasetMetas();\n        const area = chart.chartArea;\n        for(let i = metasets.length - 1; i >= 0; --i){\n            const source = metasets[i].$filler;\n            if (!source) {\n                continue;\n            }\n            source.line.updateControlPoints(area, source.axis);\n            if (draw && source.fill) {\n                _drawfill(chart.ctx, source, area);\n            }\n        }\n    },\n    beforeDatasetsDraw (chart, _args, options) {\n        if (options.drawTime !== 'beforeDatasetsDraw') {\n            return;\n        }\n        const metasets = chart.getSortedVisibleDatasetMetas();\n        for(let i = metasets.length - 1; i >= 0; --i){\n            const source = metasets[i].$filler;\n            if (_shouldApplyFill(source)) {\n                _drawfill(chart.ctx, source, chart.chartArea);\n            }\n        }\n    },\n    beforeDatasetDraw (chart, args, options) {\n        const source = args.meta.$filler;\n        if (!_shouldApplyFill(source) || options.drawTime !== 'beforeDatasetDraw') {\n            return;\n        }\n        _drawfill(chart.ctx, source, chart.chartArea);\n    },\n    defaults: {\n        propagate: true,\n        drawTime: 'beforeDatasetDraw'\n    }\n};\n\nconst getBoxSize = (labelOpts, fontSize)=>{\n    let { boxHeight =fontSize , boxWidth =fontSize  } = labelOpts;\n    if (labelOpts.usePointStyle) {\n        boxHeight = Math.min(boxHeight, fontSize);\n        boxWidth = labelOpts.pointStyleWidth || Math.min(boxWidth, fontSize);\n    }\n    return {\n        boxWidth,\n        boxHeight,\n        itemHeight: Math.max(fontSize, boxHeight)\n    };\n};\nconst itemsEqual = (a, b)=>a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;\nclass Legend extends Element {\n constructor(config){\n        super();\n        this._added = false;\n        this.legendHitBoxes = [];\n this._hoveredItem = null;\n        this.doughnutMode = false;\n        this.chart = config.chart;\n        this.options = config.options;\n        this.ctx = config.ctx;\n        this.legendItems = undefined;\n        this.columnSizes = undefined;\n        this.lineWidths = undefined;\n        this.maxHeight = undefined;\n        this.maxWidth = undefined;\n        this.top = undefined;\n        this.bottom = undefined;\n        this.left = undefined;\n        this.right = undefined;\n        this.height = undefined;\n        this.width = undefined;\n        this._margins = undefined;\n        this.position = undefined;\n        this.weight = undefined;\n        this.fullSize = undefined;\n    }\n    update(maxWidth, maxHeight, margins) {\n        this.maxWidth = maxWidth;\n        this.maxHeight = maxHeight;\n        this._margins = margins;\n        this.setDimensions();\n        this.buildLabels();\n        this.fit();\n    }\n    setDimensions() {\n        if (this.isHorizontal()) {\n            this.width = this.maxWidth;\n            this.left = this._margins.left;\n            this.right = this.width;\n        } else {\n            this.height = this.maxHeight;\n            this.top = this._margins.top;\n            this.bottom = this.height;\n        }\n    }\n    buildLabels() {\n        const labelOpts = this.options.labels || {};\n        let legendItems = callback(labelOpts.generateLabels, [\n            this.chart\n        ], this) || [];\n        if (labelOpts.filter) {\n            legendItems = legendItems.filter((item)=>labelOpts.filter(item, this.chart.data));\n        }\n        if (labelOpts.sort) {\n            legendItems = legendItems.sort((a, b)=>labelOpts.sort(a, b, this.chart.data));\n        }\n        if (this.options.reverse) {\n            legendItems.reverse();\n        }\n        this.legendItems = legendItems;\n    }\n    fit() {\n        const { options , ctx  } = this;\n        if (!options.display) {\n            this.width = this.height = 0;\n            return;\n        }\n        const labelOpts = options.labels;\n        const labelFont = toFont(labelOpts.font);\n        const fontSize = labelFont.size;\n        const titleHeight = this._computeTitleHeight();\n        const { boxWidth , itemHeight  } = getBoxSize(labelOpts, fontSize);\n        let width, height;\n        ctx.font = labelFont.string;\n        if (this.isHorizontal()) {\n            width = this.maxWidth;\n            height = this._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n        } else {\n            height = this.maxHeight;\n            width = this._fitCols(titleHeight, labelFont, boxWidth, itemHeight) + 10;\n        }\n        this.width = Math.min(width, options.maxWidth || this.maxWidth);\n        this.height = Math.min(height, options.maxHeight || this.maxHeight);\n    }\n _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {\n        const { ctx , maxWidth , options: { labels: { padding  }  }  } = this;\n        const hitboxes = this.legendHitBoxes = [];\n        const lineWidths = this.lineWidths = [\n            0\n        ];\n        const lineHeight = itemHeight + padding;\n        let totalHeight = titleHeight;\n        ctx.textAlign = 'left';\n        ctx.textBaseline = 'middle';\n        let row = -1;\n        let top = -lineHeight;\n        this.legendItems.forEach((legendItem, i)=>{\n            const itemWidth = boxWidth + fontSize / 2 + ctx.measureText(legendItem.text).width;\n            if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {\n                totalHeight += lineHeight;\n                lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\n                top += lineHeight;\n                row++;\n            }\n            hitboxes[i] = {\n                left: 0,\n                top,\n                row,\n                width: itemWidth,\n                height: itemHeight\n            };\n            lineWidths[lineWidths.length - 1] += itemWidth + padding;\n        });\n        return totalHeight;\n    }\n    _fitCols(titleHeight, labelFont, boxWidth, _itemHeight) {\n        const { ctx , maxHeight , options: { labels: { padding  }  }  } = this;\n        const hitboxes = this.legendHitBoxes = [];\n        const columnSizes = this.columnSizes = [];\n        const heightLimit = maxHeight - titleHeight;\n        let totalWidth = padding;\n        let currentColWidth = 0;\n        let currentColHeight = 0;\n        let left = 0;\n        let col = 0;\n        this.legendItems.forEach((legendItem, i)=>{\n            const { itemWidth , itemHeight  } = calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight);\n            if (i > 0 && currentColHeight + itemHeight + 2 * padding > heightLimit) {\n                totalWidth += currentColWidth + padding;\n                columnSizes.push({\n                    width: currentColWidth,\n                    height: currentColHeight\n                });\n                left += currentColWidth + padding;\n                col++;\n                currentColWidth = currentColHeight = 0;\n            }\n            hitboxes[i] = {\n                left,\n                top: currentColHeight,\n                col,\n                width: itemWidth,\n                height: itemHeight\n            };\n            currentColWidth = Math.max(currentColWidth, itemWidth);\n            currentColHeight += itemHeight + padding;\n        });\n        totalWidth += currentColWidth;\n        columnSizes.push({\n            width: currentColWidth,\n            height: currentColHeight\n        });\n        return totalWidth;\n    }\n    adjustHitBoxes() {\n        if (!this.options.display) {\n            return;\n        }\n        const titleHeight = this._computeTitleHeight();\n        const { legendHitBoxes: hitboxes , options: { align , labels: { padding  } , rtl  }  } = this;\n        const rtlHelper = getRtlAdapter(rtl, this.left, this.width);\n        if (this.isHorizontal()) {\n            let row = 0;\n            let left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n            for (const hitbox of hitboxes){\n                if (row !== hitbox.row) {\n                    row = hitbox.row;\n                    left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n                }\n                hitbox.top += this.top + titleHeight + padding;\n                hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(left), hitbox.width);\n                left += hitbox.width + padding;\n            }\n        } else {\n            let col = 0;\n            let top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n            for (const hitbox of hitboxes){\n                if (hitbox.col !== col) {\n                    col = hitbox.col;\n                    top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n                }\n                hitbox.top = top;\n                hitbox.left += this.left + padding;\n                hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(hitbox.left), hitbox.width);\n                top += hitbox.height + padding;\n            }\n        }\n    }\n    isHorizontal() {\n        return this.options.position === 'top' || this.options.position === 'bottom';\n    }\n    draw() {\n        if (this.options.display) {\n            const ctx = this.ctx;\n            clipArea(ctx, this);\n            this._draw();\n            unclipArea(ctx);\n        }\n    }\n _draw() {\n        const { options: opts , columnSizes , lineWidths , ctx  } = this;\n        const { align , labels: labelOpts  } = opts;\n        const defaultColor = defaults.color;\n        const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n        const labelFont = toFont(labelOpts.font);\n        const { padding  } = labelOpts;\n        const fontSize = labelFont.size;\n        const halfFontSize = fontSize / 2;\n        let cursor;\n        this.drawTitle();\n        ctx.textAlign = rtlHelper.textAlign('left');\n        ctx.textBaseline = 'middle';\n        ctx.lineWidth = 0.5;\n        ctx.font = labelFont.string;\n        const { boxWidth , boxHeight , itemHeight  } = getBoxSize(labelOpts, fontSize);\n        const drawLegendBox = function(x, y, legendItem) {\n            if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {\n                return;\n            }\n            ctx.save();\n            const lineWidth = valueOrDefault(legendItem.lineWidth, 1);\n            ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\n            ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt');\n            ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);\n            ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter');\n            ctx.lineWidth = lineWidth;\n            ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\n            ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));\n            if (labelOpts.usePointStyle) {\n                const drawOptions = {\n                    radius: boxHeight * Math.SQRT2 / 2,\n                    pointStyle: legendItem.pointStyle,\n                    rotation: legendItem.rotation,\n                    borderWidth: lineWidth\n                };\n                const centerX = rtlHelper.xPlus(x, boxWidth / 2);\n                const centerY = y + halfFontSize;\n                drawPointLegend(ctx, drawOptions, centerX, centerY, labelOpts.pointStyleWidth && boxWidth);\n            } else {\n                const yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);\n                const xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);\n                const borderRadius = toTRBLCorners(legendItem.borderRadius);\n                ctx.beginPath();\n                if (Object.values(borderRadius).some((v)=>v !== 0)) {\n                    addRoundedRectPath(ctx, {\n                        x: xBoxLeft,\n                        y: yBoxTop,\n                        w: boxWidth,\n                        h: boxHeight,\n                        radius: borderRadius\n                    });\n                } else {\n                    ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);\n                }\n                ctx.fill();\n                if (lineWidth !== 0) {\n                    ctx.stroke();\n                }\n            }\n            ctx.restore();\n        };\n        const fillText = function(x, y, legendItem) {\n            renderText(ctx, legendItem.text, x, y + itemHeight / 2, labelFont, {\n                strikethrough: legendItem.hidden,\n                textAlign: rtlHelper.textAlign(legendItem.textAlign)\n            });\n        };\n        const isHorizontal = this.isHorizontal();\n        const titleHeight = this._computeTitleHeight();\n        if (isHorizontal) {\n            cursor = {\n                x: _alignStartEnd(align, this.left + padding, this.right - lineWidths[0]),\n                y: this.top + padding + titleHeight,\n                line: 0\n            };\n        } else {\n            cursor = {\n                x: this.left + padding,\n                y: _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[0].height),\n                line: 0\n            };\n        }\n        overrideTextDirection(this.ctx, opts.textDirection);\n        const lineHeight = itemHeight + padding;\n        this.legendItems.forEach((legendItem, i)=>{\n            ctx.strokeStyle = legendItem.fontColor;\n            ctx.fillStyle = legendItem.fontColor;\n            const textWidth = ctx.measureText(legendItem.text).width;\n            const textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));\n            const width = boxWidth + halfFontSize + textWidth;\n            let x = cursor.x;\n            let y = cursor.y;\n            rtlHelper.setWidth(this.width);\n            if (isHorizontal) {\n                if (i > 0 && x + width + padding > this.right) {\n                    y = cursor.y += lineHeight;\n                    cursor.line++;\n                    x = cursor.x = _alignStartEnd(align, this.left + padding, this.right - lineWidths[cursor.line]);\n                }\n            } else if (i > 0 && y + lineHeight > this.bottom) {\n                x = cursor.x = x + columnSizes[cursor.line].width + padding;\n                cursor.line++;\n                y = cursor.y = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[cursor.line].height);\n            }\n            const realX = rtlHelper.x(x);\n            drawLegendBox(realX, y, legendItem);\n            x = _textX(textAlign, x + boxWidth + halfFontSize, isHorizontal ? x + width : this.right, opts.rtl);\n            fillText(rtlHelper.x(x), y, legendItem);\n            if (isHorizontal) {\n                cursor.x += width + padding;\n            } else if (typeof legendItem.text !== 'string') {\n                const fontLineHeight = labelFont.lineHeight;\n                cursor.y += calculateLegendItemHeight(legendItem, fontLineHeight) + padding;\n            } else {\n                cursor.y += lineHeight;\n            }\n        });\n        restoreTextDirection(this.ctx, opts.textDirection);\n    }\n drawTitle() {\n        const opts = this.options;\n        const titleOpts = opts.title;\n        const titleFont = toFont(titleOpts.font);\n        const titlePadding = toPadding(titleOpts.padding);\n        if (!titleOpts.display) {\n            return;\n        }\n        const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n        const ctx = this.ctx;\n        const position = titleOpts.position;\n        const halfFontSize = titleFont.size / 2;\n        const topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;\n        let y;\n        let left = this.left;\n        let maxWidth = this.width;\n        if (this.isHorizontal()) {\n            maxWidth = Math.max(...this.lineWidths);\n            y = this.top + topPaddingPlusHalfFontSize;\n            left = _alignStartEnd(opts.align, left, this.right - maxWidth);\n        } else {\n            const maxHeight = this.columnSizes.reduce((acc, size)=>Math.max(acc, size.height), 0);\n            y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, this.top, this.bottom - maxHeight - opts.labels.padding - this._computeTitleHeight());\n        }\n        const x = _alignStartEnd(position, left, left + maxWidth);\n        ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));\n        ctx.textBaseline = 'middle';\n        ctx.strokeStyle = titleOpts.color;\n        ctx.fillStyle = titleOpts.color;\n        ctx.font = titleFont.string;\n        renderText(ctx, titleOpts.text, x, y, titleFont);\n    }\n _computeTitleHeight() {\n        const titleOpts = this.options.title;\n        const titleFont = toFont(titleOpts.font);\n        const titlePadding = toPadding(titleOpts.padding);\n        return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;\n    }\n _getLegendItemAt(x, y) {\n        let i, hitBox, lh;\n        if (_isBetween(x, this.left, this.right) && _isBetween(y, this.top, this.bottom)) {\n            lh = this.legendHitBoxes;\n            for(i = 0; i < lh.length; ++i){\n                hitBox = lh[i];\n                if (_isBetween(x, hitBox.left, hitBox.left + hitBox.width) && _isBetween(y, hitBox.top, hitBox.top + hitBox.height)) {\n                    return this.legendItems[i];\n                }\n            }\n        }\n        return null;\n    }\n handleEvent(e) {\n        const opts = this.options;\n        if (!isListened(e.type, opts)) {\n            return;\n        }\n        const hoveredItem = this._getLegendItemAt(e.x, e.y);\n        if (e.type === 'mousemove' || e.type === 'mouseout') {\n            const previous = this._hoveredItem;\n            const sameItem = itemsEqual(previous, hoveredItem);\n            if (previous && !sameItem) {\n                callback(opts.onLeave, [\n                    e,\n                    previous,\n                    this\n                ], this);\n            }\n            this._hoveredItem = hoveredItem;\n            if (hoveredItem && !sameItem) {\n                callback(opts.onHover, [\n                    e,\n                    hoveredItem,\n                    this\n                ], this);\n            }\n        } else if (hoveredItem) {\n            callback(opts.onClick, [\n                e,\n                hoveredItem,\n                this\n            ], this);\n        }\n    }\n}\nfunction calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight) {\n    const itemWidth = calculateItemWidth(legendItem, boxWidth, labelFont, ctx);\n    const itemHeight = calculateItemHeight(_itemHeight, legendItem, labelFont.lineHeight);\n    return {\n        itemWidth,\n        itemHeight\n    };\n}\nfunction calculateItemWidth(legendItem, boxWidth, labelFont, ctx) {\n    let legendItemText = legendItem.text;\n    if (legendItemText && typeof legendItemText !== 'string') {\n        legendItemText = legendItemText.reduce((a, b)=>a.length > b.length ? a : b);\n    }\n    return boxWidth + labelFont.size / 2 + ctx.measureText(legendItemText).width;\n}\nfunction calculateItemHeight(_itemHeight, legendItem, fontLineHeight) {\n    let itemHeight = _itemHeight;\n    if (typeof legendItem.text !== 'string') {\n        itemHeight = calculateLegendItemHeight(legendItem, fontLineHeight);\n    }\n    return itemHeight;\n}\nfunction calculateLegendItemHeight(legendItem, fontLineHeight) {\n    const labelHeight = legendItem.text ? legendItem.text.length : 0;\n    return fontLineHeight * labelHeight;\n}\nfunction isListened(type, opts) {\n    if ((type === 'mousemove' || type === 'mouseout') && (opts.onHover || opts.onLeave)) {\n        return true;\n    }\n    if (opts.onClick && (type === 'click' || type === 'mouseup')) {\n        return true;\n    }\n    return false;\n}\nvar plugin_legend = {\n    id: 'legend',\n _element: Legend,\n    start (chart, _args, options) {\n        const legend = chart.legend = new Legend({\n            ctx: chart.ctx,\n            options,\n            chart\n        });\n        layouts.configure(chart, legend, options);\n        layouts.addBox(chart, legend);\n    },\n    stop (chart) {\n        layouts.removeBox(chart, chart.legend);\n        delete chart.legend;\n    },\n    beforeUpdate (chart, _args, options) {\n        const legend = chart.legend;\n        layouts.configure(chart, legend, options);\n        legend.options = options;\n    },\n    afterUpdate (chart) {\n        const legend = chart.legend;\n        legend.buildLabels();\n        legend.adjustHitBoxes();\n    },\n    afterEvent (chart, args) {\n        if (!args.replay) {\n            chart.legend.handleEvent(args.event);\n        }\n    },\n    defaults: {\n        display: true,\n        position: 'top',\n        align: 'center',\n        fullSize: true,\n        reverse: false,\n        weight: 1000,\n        onClick (e, legendItem, legend) {\n            const index = legendItem.datasetIndex;\n            const ci = legend.chart;\n            if (ci.isDatasetVisible(index)) {\n                ci.hide(index);\n                legendItem.hidden = true;\n            } else {\n                ci.show(index);\n                legendItem.hidden = false;\n            }\n        },\n        onHover: null,\n        onLeave: null,\n        labels: {\n            color: (ctx)=>ctx.chart.options.color,\n            boxWidth: 40,\n            padding: 10,\n            generateLabels (chart) {\n                const datasets = chart.data.datasets;\n                const { labels: { usePointStyle , pointStyle , textAlign , color , useBorderRadius , borderRadius  }  } = chart.legend.options;\n                return chart._getSortedDatasetMetas().map((meta)=>{\n                    const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n                    const borderWidth = toPadding(style.borderWidth);\n                    return {\n                        text: datasets[meta.index].label,\n                        fillStyle: style.backgroundColor,\n                        fontColor: color,\n                        hidden: !meta.visible,\n                        lineCap: style.borderCapStyle,\n                        lineDash: style.borderDash,\n                        lineDashOffset: style.borderDashOffset,\n                        lineJoin: style.borderJoinStyle,\n                        lineWidth: (borderWidth.width + borderWidth.height) / 4,\n                        strokeStyle: style.borderColor,\n                        pointStyle: pointStyle || style.pointStyle,\n                        rotation: style.rotation,\n                        textAlign: textAlign || style.textAlign,\n                        borderRadius: useBorderRadius && (borderRadius || style.borderRadius),\n                        datasetIndex: meta.index\n                    };\n                }, this);\n            }\n        },\n        title: {\n            color: (ctx)=>ctx.chart.options.color,\n            display: false,\n            position: 'center',\n            text: ''\n        }\n    },\n    descriptors: {\n        _scriptable: (name)=>!name.startsWith('on'),\n        labels: {\n            _scriptable: (name)=>![\n                    'generateLabels',\n                    'filter',\n                    'sort'\n                ].includes(name)\n        }\n    }\n};\n\nclass Title extends Element {\n constructor(config){\n        super();\n        this.chart = config.chart;\n        this.options = config.options;\n        this.ctx = config.ctx;\n        this._padding = undefined;\n        this.top = undefined;\n        this.bottom = undefined;\n        this.left = undefined;\n        this.right = undefined;\n        this.width = undefined;\n        this.height = undefined;\n        this.position = undefined;\n        this.weight = undefined;\n        this.fullSize = undefined;\n    }\n    update(maxWidth, maxHeight) {\n        const opts = this.options;\n        this.left = 0;\n        this.top = 0;\n        if (!opts.display) {\n            this.width = this.height = this.right = this.bottom = 0;\n            return;\n        }\n        this.width = this.right = maxWidth;\n        this.height = this.bottom = maxHeight;\n        const lineCount = isArray(opts.text) ? opts.text.length : 1;\n        this._padding = toPadding(opts.padding);\n        const textSize = lineCount * toFont(opts.font).lineHeight + this._padding.height;\n        if (this.isHorizontal()) {\n            this.height = textSize;\n        } else {\n            this.width = textSize;\n        }\n    }\n    isHorizontal() {\n        const pos = this.options.position;\n        return pos === 'top' || pos === 'bottom';\n    }\n    _drawArgs(offset) {\n        const { top , left , bottom , right , options  } = this;\n        const align = options.align;\n        let rotation = 0;\n        let maxWidth, titleX, titleY;\n        if (this.isHorizontal()) {\n            titleX = _alignStartEnd(align, left, right);\n            titleY = top + offset;\n            maxWidth = right - left;\n        } else {\n            if (options.position === 'left') {\n                titleX = left + offset;\n                titleY = _alignStartEnd(align, bottom, top);\n                rotation = PI * -0.5;\n            } else {\n                titleX = right - offset;\n                titleY = _alignStartEnd(align, top, bottom);\n                rotation = PI * 0.5;\n            }\n            maxWidth = bottom - top;\n        }\n        return {\n            titleX,\n            titleY,\n            maxWidth,\n            rotation\n        };\n    }\n    draw() {\n        const ctx = this.ctx;\n        const opts = this.options;\n        if (!opts.display) {\n            return;\n        }\n        const fontOpts = toFont(opts.font);\n        const lineHeight = fontOpts.lineHeight;\n        const offset = lineHeight / 2 + this._padding.top;\n        const { titleX , titleY , maxWidth , rotation  } = this._drawArgs(offset);\n        renderText(ctx, opts.text, 0, 0, fontOpts, {\n            color: opts.color,\n            maxWidth,\n            rotation,\n            textAlign: _toLeftRightCenter(opts.align),\n            textBaseline: 'middle',\n            translation: [\n                titleX,\n                titleY\n            ]\n        });\n    }\n}\nfunction createTitle(chart, titleOpts) {\n    const title = new Title({\n        ctx: chart.ctx,\n        options: titleOpts,\n        chart\n    });\n    layouts.configure(chart, title, titleOpts);\n    layouts.addBox(chart, title);\n    chart.titleBlock = title;\n}\nvar plugin_title = {\n    id: 'title',\n _element: Title,\n    start (chart, _args, options) {\n        createTitle(chart, options);\n    },\n    stop (chart) {\n        const titleBlock = chart.titleBlock;\n        layouts.removeBox(chart, titleBlock);\n        delete chart.titleBlock;\n    },\n    beforeUpdate (chart, _args, options) {\n        const title = chart.titleBlock;\n        layouts.configure(chart, title, options);\n        title.options = options;\n    },\n    defaults: {\n        align: 'center',\n        display: false,\n        font: {\n            weight: 'bold'\n        },\n        fullSize: true,\n        padding: 10,\n        position: 'top',\n        text: '',\n        weight: 2000\n    },\n    defaultRoutes: {\n        color: 'color'\n    },\n    descriptors: {\n        _scriptable: true,\n        _indexable: false\n    }\n};\n\nconst map = new WeakMap();\nvar plugin_subtitle = {\n    id: 'subtitle',\n    start (chart, _args, options) {\n        const title = new Title({\n            ctx: chart.ctx,\n            options,\n            chart\n        });\n        layouts.configure(chart, title, options);\n        layouts.addBox(chart, title);\n        map.set(chart, title);\n    },\n    stop (chart) {\n        layouts.removeBox(chart, map.get(chart));\n        map.delete(chart);\n    },\n    beforeUpdate (chart, _args, options) {\n        const title = map.get(chart);\n        layouts.configure(chart, title, options);\n        title.options = options;\n    },\n    defaults: {\n        align: 'center',\n        display: false,\n        font: {\n            weight: 'normal'\n        },\n        fullSize: true,\n        padding: 0,\n        position: 'top',\n        text: '',\n        weight: 1500\n    },\n    defaultRoutes: {\n        color: 'color'\n    },\n    descriptors: {\n        _scriptable: true,\n        _indexable: false\n    }\n};\n\nconst positioners = {\n average (items) {\n        if (!items.length) {\n            return false;\n        }\n        let i, len;\n        let xSet = new Set();\n        let y = 0;\n        let count = 0;\n        for(i = 0, len = items.length; i < len; ++i){\n            const el = items[i].element;\n            if (el && el.hasValue()) {\n                const pos = el.tooltipPosition();\n                xSet.add(pos.x);\n                y += pos.y;\n                ++count;\n            }\n        }\n        if (count === 0 || xSet.size === 0) {\n            return false;\n        }\n        const xAverage = [\n            ...xSet\n        ].reduce((a, b)=>a + b) / xSet.size;\n        return {\n            x: xAverage,\n            y: y / count\n        };\n    },\n nearest (items, eventPosition) {\n        if (!items.length) {\n            return false;\n        }\n        let x = eventPosition.x;\n        let y = eventPosition.y;\n        let minDistance = Number.POSITIVE_INFINITY;\n        let i, len, nearestElement;\n        for(i = 0, len = items.length; i < len; ++i){\n            const el = items[i].element;\n            if (el && el.hasValue()) {\n                const center = el.getCenterPoint();\n                const d = distanceBetweenPoints(eventPosition, center);\n                if (d < minDistance) {\n                    minDistance = d;\n                    nearestElement = el;\n                }\n            }\n        }\n        if (nearestElement) {\n            const tp = nearestElement.tooltipPosition();\n            x = tp.x;\n            y = tp.y;\n        }\n        return {\n            x,\n            y\n        };\n    }\n};\nfunction pushOrConcat(base, toPush) {\n    if (toPush) {\n        if (isArray(toPush)) {\n            Array.prototype.push.apply(base, toPush);\n        } else {\n            base.push(toPush);\n        }\n    }\n    return base;\n}\n function splitNewlines(str) {\n    if ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\n        return str.split('\\n');\n    }\n    return str;\n}\n function createTooltipItem(chart, item) {\n    const { element , datasetIndex , index  } = item;\n    const controller = chart.getDatasetMeta(datasetIndex).controller;\n    const { label , value  } = controller.getLabelAndValue(index);\n    return {\n        chart,\n        label,\n        parsed: controller.getParsed(index),\n        raw: chart.data.datasets[datasetIndex].data[index],\n        formattedValue: value,\n        dataset: controller.getDataset(),\n        dataIndex: index,\n        datasetIndex,\n        element\n    };\n}\n function getTooltipSize(tooltip, options) {\n    const ctx = tooltip.chart.ctx;\n    const { body , footer , title  } = tooltip;\n    const { boxWidth , boxHeight  } = options;\n    const bodyFont = toFont(options.bodyFont);\n    const titleFont = toFont(options.titleFont);\n    const footerFont = toFont(options.footerFont);\n    const titleLineCount = title.length;\n    const footerLineCount = footer.length;\n    const bodyLineItemCount = body.length;\n    const padding = toPadding(options.padding);\n    let height = padding.height;\n    let width = 0;\n    let combinedBodyLength = body.reduce((count, bodyItem)=>count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length, 0);\n    combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;\n    if (titleLineCount) {\n        height += titleLineCount * titleFont.lineHeight + (titleLineCount - 1) * options.titleSpacing + options.titleMarginBottom;\n    }\n    if (combinedBodyLength) {\n        const bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;\n        height += bodyLineItemCount * bodyLineHeight + (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight + (combinedBodyLength - 1) * options.bodySpacing;\n    }\n    if (footerLineCount) {\n        height += options.footerMarginTop + footerLineCount * footerFont.lineHeight + (footerLineCount - 1) * options.footerSpacing;\n    }\n    let widthPadding = 0;\n    const maxLineWidth = function(line) {\n        width = Math.max(width, ctx.measureText(line).width + widthPadding);\n    };\n    ctx.save();\n    ctx.font = titleFont.string;\n    each(tooltip.title, maxLineWidth);\n    ctx.font = bodyFont.string;\n    each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);\n    widthPadding = options.displayColors ? boxWidth + 2 + options.boxPadding : 0;\n    each(body, (bodyItem)=>{\n        each(bodyItem.before, maxLineWidth);\n        each(bodyItem.lines, maxLineWidth);\n        each(bodyItem.after, maxLineWidth);\n    });\n    widthPadding = 0;\n    ctx.font = footerFont.string;\n    each(tooltip.footer, maxLineWidth);\n    ctx.restore();\n    width += padding.width;\n    return {\n        width,\n        height\n    };\n}\nfunction determineYAlign(chart, size) {\n    const { y , height  } = size;\n    if (y < height / 2) {\n        return 'top';\n    } else if (y > chart.height - height / 2) {\n        return 'bottom';\n    }\n    return 'center';\n}\nfunction doesNotFitWithAlign(xAlign, chart, options, size) {\n    const { x , width  } = size;\n    const caret = options.caretSize + options.caretPadding;\n    if (xAlign === 'left' && x + width + caret > chart.width) {\n        return true;\n    }\n    if (xAlign === 'right' && x - width - caret < 0) {\n        return true;\n    }\n}\nfunction determineXAlign(chart, options, size, yAlign) {\n    const { x , width  } = size;\n    const { width: chartWidth , chartArea: { left , right  }  } = chart;\n    let xAlign = 'center';\n    if (yAlign === 'center') {\n        xAlign = x <= (left + right) / 2 ? 'left' : 'right';\n    } else if (x <= width / 2) {\n        xAlign = 'left';\n    } else if (x >= chartWidth - width / 2) {\n        xAlign = 'right';\n    }\n    if (doesNotFitWithAlign(xAlign, chart, options, size)) {\n        xAlign = 'center';\n    }\n    return xAlign;\n}\n function determineAlignment(chart, options, size) {\n    const yAlign = size.yAlign || options.yAlign || determineYAlign(chart, size);\n    return {\n        xAlign: size.xAlign || options.xAlign || determineXAlign(chart, options, size, yAlign),\n        yAlign\n    };\n}\nfunction alignX(size, xAlign) {\n    let { x , width  } = size;\n    if (xAlign === 'right') {\n        x -= width;\n    } else if (xAlign === 'center') {\n        x -= width / 2;\n    }\n    return x;\n}\nfunction alignY(size, yAlign, paddingAndSize) {\n    let { y , height  } = size;\n    if (yAlign === 'top') {\n        y += paddingAndSize;\n    } else if (yAlign === 'bottom') {\n        y -= height + paddingAndSize;\n    } else {\n        y -= height / 2;\n    }\n    return y;\n}\n function getBackgroundPoint(options, size, alignment, chart) {\n    const { caretSize , caretPadding , cornerRadius  } = options;\n    const { xAlign , yAlign  } = alignment;\n    const paddingAndSize = caretSize + caretPadding;\n    const { topLeft , topRight , bottomLeft , bottomRight  } = toTRBLCorners(cornerRadius);\n    let x = alignX(size, xAlign);\n    const y = alignY(size, yAlign, paddingAndSize);\n    if (yAlign === 'center') {\n        if (xAlign === 'left') {\n            x += paddingAndSize;\n        } else if (xAlign === 'right') {\n            x -= paddingAndSize;\n        }\n    } else if (xAlign === 'left') {\n        x -= Math.max(topLeft, bottomLeft) + caretSize;\n    } else if (xAlign === 'right') {\n        x += Math.max(topRight, bottomRight) + caretSize;\n    }\n    return {\n        x: _limitValue(x, 0, chart.width - size.width),\n        y: _limitValue(y, 0, chart.height - size.height)\n    };\n}\nfunction getAlignedX(tooltip, align, options) {\n    const padding = toPadding(options.padding);\n    return align === 'center' ? tooltip.x + tooltip.width / 2 : align === 'right' ? tooltip.x + tooltip.width - padding.right : tooltip.x + padding.left;\n}\n function getBeforeAfterBodyLines(callback) {\n    return pushOrConcat([], splitNewlines(callback));\n}\nfunction createTooltipContext(parent, tooltip, tooltipItems) {\n    return createContext(parent, {\n        tooltip,\n        tooltipItems,\n        type: 'tooltip'\n    });\n}\nfunction overrideCallbacks(callbacks, context) {\n    const override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;\n    return override ? callbacks.override(override) : callbacks;\n}\nconst defaultCallbacks = {\n    beforeTitle: noop,\n    title (tooltipItems) {\n        if (tooltipItems.length > 0) {\n            const item = tooltipItems[0];\n            const labels = item.chart.data.labels;\n            const labelCount = labels ? labels.length : 0;\n            if (this && this.options && this.options.mode === 'dataset') {\n                return item.dataset.label || '';\n            } else if (item.label) {\n                return item.label;\n            } else if (labelCount > 0 && item.dataIndex < labelCount) {\n                return labels[item.dataIndex];\n            }\n        }\n        return '';\n    },\n    afterTitle: noop,\n    beforeBody: noop,\n    beforeLabel: noop,\n    label (tooltipItem) {\n        if (this && this.options && this.options.mode === 'dataset') {\n            return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;\n        }\n        let label = tooltipItem.dataset.label || '';\n        if (label) {\n            label += ': ';\n        }\n        const value = tooltipItem.formattedValue;\n        if (!isNullOrUndef(value)) {\n            label += value;\n        }\n        return label;\n    },\n    labelColor (tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n            borderColor: options.borderColor,\n            backgroundColor: options.backgroundColor,\n            borderWidth: options.borderWidth,\n            borderDash: options.borderDash,\n            borderDashOffset: options.borderDashOffset,\n            borderRadius: 0\n        };\n    },\n    labelTextColor () {\n        return this.options.bodyColor;\n    },\n    labelPointStyle (tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n            pointStyle: options.pointStyle,\n            rotation: options.rotation\n        };\n    },\n    afterLabel: noop,\n    afterBody: noop,\n    beforeFooter: noop,\n    footer: noop,\n    afterFooter: noop\n};\n function invokeCallbackWithFallback(callbacks, name, ctx, arg) {\n    const result = callbacks[name].call(ctx, arg);\n    if (typeof result === 'undefined') {\n        return defaultCallbacks[name].call(ctx, arg);\n    }\n    return result;\n}\nclass Tooltip extends Element {\n static positioners = positioners;\n    constructor(config){\n        super();\n        this.opacity = 0;\n        this._active = [];\n        this._eventPosition = undefined;\n        this._size = undefined;\n        this._cachedAnimations = undefined;\n        this._tooltipItems = [];\n        this.$animations = undefined;\n        this.$context = undefined;\n        this.chart = config.chart;\n        this.options = config.options;\n        this.dataPoints = undefined;\n        this.title = undefined;\n        this.beforeBody = undefined;\n        this.body = undefined;\n        this.afterBody = undefined;\n        this.footer = undefined;\n        this.xAlign = undefined;\n        this.yAlign = undefined;\n        this.x = undefined;\n        this.y = undefined;\n        this.height = undefined;\n        this.width = undefined;\n        this.caretX = undefined;\n        this.caretY = undefined;\n        this.labelColors = undefined;\n        this.labelPointStyles = undefined;\n        this.labelTextColors = undefined;\n    }\n    initialize(options) {\n        this.options = options;\n        this._cachedAnimations = undefined;\n        this.$context = undefined;\n    }\n _resolveAnimations() {\n        const cached = this._cachedAnimations;\n        if (cached) {\n            return cached;\n        }\n        const chart = this.chart;\n        const options = this.options.setContext(this.getContext());\n        const opts = options.enabled && chart.options.animation && options.animations;\n        const animations = new Animations(this.chart, opts);\n        if (opts._cacheable) {\n            this._cachedAnimations = Object.freeze(animations);\n        }\n        return animations;\n    }\n getContext() {\n        return this.$context || (this.$context = createTooltipContext(this.chart.getContext(), this, this._tooltipItems));\n    }\n    getTitle(context, options) {\n        const { callbacks  } = options;\n        const beforeTitle = invokeCallbackWithFallback(callbacks, 'beforeTitle', this, context);\n        const title = invokeCallbackWithFallback(callbacks, 'title', this, context);\n        const afterTitle = invokeCallbackWithFallback(callbacks, 'afterTitle', this, context);\n        let lines = [];\n        lines = pushOrConcat(lines, splitNewlines(beforeTitle));\n        lines = pushOrConcat(lines, splitNewlines(title));\n        lines = pushOrConcat(lines, splitNewlines(afterTitle));\n        return lines;\n    }\n    getBeforeBody(tooltipItems, options) {\n        return getBeforeAfterBodyLines(invokeCallbackWithFallback(options.callbacks, 'beforeBody', this, tooltipItems));\n    }\n    getBody(tooltipItems, options) {\n        const { callbacks  } = options;\n        const bodyItems = [];\n        each(tooltipItems, (context)=>{\n            const bodyItem = {\n                before: [],\n                lines: [],\n                after: []\n            };\n            const scoped = overrideCallbacks(callbacks, context);\n            pushOrConcat(bodyItem.before, splitNewlines(invokeCallbackWithFallback(scoped, 'beforeLabel', this, context)));\n            pushOrConcat(bodyItem.lines, invokeCallbackWithFallback(scoped, 'label', this, context));\n            pushOrConcat(bodyItem.after, splitNewlines(invokeCallbackWithFallback(scoped, 'afterLabel', this, context)));\n            bodyItems.push(bodyItem);\n        });\n        return bodyItems;\n    }\n    getAfterBody(tooltipItems, options) {\n        return getBeforeAfterBodyLines(invokeCallbackWithFallback(options.callbacks, 'afterBody', this, tooltipItems));\n    }\n    getFooter(tooltipItems, options) {\n        const { callbacks  } = options;\n        const beforeFooter = invokeCallbackWithFallback(callbacks, 'beforeFooter', this, tooltipItems);\n        const footer = invokeCallbackWithFallback(callbacks, 'footer', this, tooltipItems);\n        const afterFooter = invokeCallbackWithFallback(callbacks, 'afterFooter', this, tooltipItems);\n        let lines = [];\n        lines = pushOrConcat(lines, splitNewlines(beforeFooter));\n        lines = pushOrConcat(lines, splitNewlines(footer));\n        lines = pushOrConcat(lines, splitNewlines(afterFooter));\n        return lines;\n    }\n _createItems(options) {\n        const active = this._active;\n        const data = this.chart.data;\n        const labelColors = [];\n        const labelPointStyles = [];\n        const labelTextColors = [];\n        let tooltipItems = [];\n        let i, len;\n        for(i = 0, len = active.length; i < len; ++i){\n            tooltipItems.push(createTooltipItem(this.chart, active[i]));\n        }\n        if (options.filter) {\n            tooltipItems = tooltipItems.filter((element, index, array)=>options.filter(element, index, array, data));\n        }\n        if (options.itemSort) {\n            tooltipItems = tooltipItems.sort((a, b)=>options.itemSort(a, b, data));\n        }\n        each(tooltipItems, (context)=>{\n            const scoped = overrideCallbacks(options.callbacks, context);\n            labelColors.push(invokeCallbackWithFallback(scoped, 'labelColor', this, context));\n            labelPointStyles.push(invokeCallbackWithFallback(scoped, 'labelPointStyle', this, context));\n            labelTextColors.push(invokeCallbackWithFallback(scoped, 'labelTextColor', this, context));\n        });\n        this.labelColors = labelColors;\n        this.labelPointStyles = labelPointStyles;\n        this.labelTextColors = labelTextColors;\n        this.dataPoints = tooltipItems;\n        return tooltipItems;\n    }\n    update(changed, replay) {\n        const options = this.options.setContext(this.getContext());\n        const active = this._active;\n        let properties;\n        let tooltipItems = [];\n        if (!active.length) {\n            if (this.opacity !== 0) {\n                properties = {\n                    opacity: 0\n                };\n            }\n        } else {\n            const position = positioners[options.position].call(this, active, this._eventPosition);\n            tooltipItems = this._createItems(options);\n            this.title = this.getTitle(tooltipItems, options);\n            this.beforeBody = this.getBeforeBody(tooltipItems, options);\n            this.body = this.getBody(tooltipItems, options);\n            this.afterBody = this.getAfterBody(tooltipItems, options);\n            this.footer = this.getFooter(tooltipItems, options);\n            const size = this._size = getTooltipSize(this, options);\n            const positionAndSize = Object.assign({}, position, size);\n            const alignment = determineAlignment(this.chart, options, positionAndSize);\n            const backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, this.chart);\n            this.xAlign = alignment.xAlign;\n            this.yAlign = alignment.yAlign;\n            properties = {\n                opacity: 1,\n                x: backgroundPoint.x,\n                y: backgroundPoint.y,\n                width: size.width,\n                height: size.height,\n                caretX: position.x,\n                caretY: position.y\n            };\n        }\n        this._tooltipItems = tooltipItems;\n        this.$context = undefined;\n        if (properties) {\n            this._resolveAnimations().update(this, properties);\n        }\n        if (changed && options.external) {\n            options.external.call(this, {\n                chart: this.chart,\n                tooltip: this,\n                replay\n            });\n        }\n    }\n    drawCaret(tooltipPoint, ctx, size, options) {\n        const caretPosition = this.getCaretPosition(tooltipPoint, size, options);\n        ctx.lineTo(caretPosition.x1, caretPosition.y1);\n        ctx.lineTo(caretPosition.x2, caretPosition.y2);\n        ctx.lineTo(caretPosition.x3, caretPosition.y3);\n    }\n    getCaretPosition(tooltipPoint, size, options) {\n        const { xAlign , yAlign  } = this;\n        const { caretSize , cornerRadius  } = options;\n        const { topLeft , topRight , bottomLeft , bottomRight  } = toTRBLCorners(cornerRadius);\n        const { x: ptX , y: ptY  } = tooltipPoint;\n        const { width , height  } = size;\n        let x1, x2, x3, y1, y2, y3;\n        if (yAlign === 'center') {\n            y2 = ptY + height / 2;\n            if (xAlign === 'left') {\n                x1 = ptX;\n                x2 = x1 - caretSize;\n                y1 = y2 + caretSize;\n                y3 = y2 - caretSize;\n            } else {\n                x1 = ptX + width;\n                x2 = x1 + caretSize;\n                y1 = y2 - caretSize;\n                y3 = y2 + caretSize;\n            }\n            x3 = x1;\n        } else {\n            if (xAlign === 'left') {\n                x2 = ptX + Math.max(topLeft, bottomLeft) + caretSize;\n            } else if (xAlign === 'right') {\n                x2 = ptX + width - Math.max(topRight, bottomRight) - caretSize;\n            } else {\n                x2 = this.caretX;\n            }\n            if (yAlign === 'top') {\n                y1 = ptY;\n                y2 = y1 - caretSize;\n                x1 = x2 - caretSize;\n                x3 = x2 + caretSize;\n            } else {\n                y1 = ptY + height;\n                y2 = y1 + caretSize;\n                x1 = x2 + caretSize;\n                x3 = x2 - caretSize;\n            }\n            y3 = y1;\n        }\n        return {\n            x1,\n            x2,\n            x3,\n            y1,\n            y2,\n            y3\n        };\n    }\n    drawTitle(pt, ctx, options) {\n        const title = this.title;\n        const length = title.length;\n        let titleFont, titleSpacing, i;\n        if (length) {\n            const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n            pt.x = getAlignedX(this, options.titleAlign, options);\n            ctx.textAlign = rtlHelper.textAlign(options.titleAlign);\n            ctx.textBaseline = 'middle';\n            titleFont = toFont(options.titleFont);\n            titleSpacing = options.titleSpacing;\n            ctx.fillStyle = options.titleColor;\n            ctx.font = titleFont.string;\n            for(i = 0; i < length; ++i){\n                ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);\n                pt.y += titleFont.lineHeight + titleSpacing;\n                if (i + 1 === length) {\n                    pt.y += options.titleMarginBottom - titleSpacing;\n                }\n            }\n        }\n    }\n _drawColorBox(ctx, pt, i, rtlHelper, options) {\n        const labelColor = this.labelColors[i];\n        const labelPointStyle = this.labelPointStyles[i];\n        const { boxHeight , boxWidth  } = options;\n        const bodyFont = toFont(options.bodyFont);\n        const colorX = getAlignedX(this, 'left', options);\n        const rtlColorX = rtlHelper.x(colorX);\n        const yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;\n        const colorY = pt.y + yOffSet;\n        if (options.usePointStyle) {\n            const drawOptions = {\n                radius: Math.min(boxWidth, boxHeight) / 2,\n                pointStyle: labelPointStyle.pointStyle,\n                rotation: labelPointStyle.rotation,\n                borderWidth: 1\n            };\n            const centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;\n            const centerY = colorY + boxHeight / 2;\n            ctx.strokeStyle = options.multiKeyBackground;\n            ctx.fillStyle = options.multiKeyBackground;\n            drawPoint(ctx, drawOptions, centerX, centerY);\n            ctx.strokeStyle = labelColor.borderColor;\n            ctx.fillStyle = labelColor.backgroundColor;\n            drawPoint(ctx, drawOptions, centerX, centerY);\n        } else {\n            ctx.lineWidth = isObject(labelColor.borderWidth) ? Math.max(...Object.values(labelColor.borderWidth)) : labelColor.borderWidth || 1;\n            ctx.strokeStyle = labelColor.borderColor;\n            ctx.setLineDash(labelColor.borderDash || []);\n            ctx.lineDashOffset = labelColor.borderDashOffset || 0;\n            const outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth);\n            const innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - 2);\n            const borderRadius = toTRBLCorners(labelColor.borderRadius);\n            if (Object.values(borderRadius).some((v)=>v !== 0)) {\n                ctx.beginPath();\n                ctx.fillStyle = options.multiKeyBackground;\n                addRoundedRectPath(ctx, {\n                    x: outerX,\n                    y: colorY,\n                    w: boxWidth,\n                    h: boxHeight,\n                    radius: borderRadius\n                });\n                ctx.fill();\n                ctx.stroke();\n                ctx.fillStyle = labelColor.backgroundColor;\n                ctx.beginPath();\n                addRoundedRectPath(ctx, {\n                    x: innerX,\n                    y: colorY + 1,\n                    w: boxWidth - 2,\n                    h: boxHeight - 2,\n                    radius: borderRadius\n                });\n                ctx.fill();\n            } else {\n                ctx.fillStyle = options.multiKeyBackground;\n                ctx.fillRect(outerX, colorY, boxWidth, boxHeight);\n                ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);\n                ctx.fillStyle = labelColor.backgroundColor;\n                ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);\n            }\n        }\n        ctx.fillStyle = this.labelTextColors[i];\n    }\n    drawBody(pt, ctx, options) {\n        const { body  } = this;\n        const { bodySpacing , bodyAlign , displayColors , boxHeight , boxWidth , boxPadding  } = options;\n        const bodyFont = toFont(options.bodyFont);\n        let bodyLineHeight = bodyFont.lineHeight;\n        let xLinePadding = 0;\n        const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n        const fillLineOfText = function(line) {\n            ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);\n            pt.y += bodyLineHeight + bodySpacing;\n        };\n        const bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\n        let bodyItem, textColor, lines, i, j, ilen, jlen;\n        ctx.textAlign = bodyAlign;\n        ctx.textBaseline = 'middle';\n        ctx.font = bodyFont.string;\n        pt.x = getAlignedX(this, bodyAlignForCalculation, options);\n        ctx.fillStyle = options.bodyColor;\n        each(this.beforeBody, fillLineOfText);\n        xLinePadding = displayColors && bodyAlignForCalculation !== 'right' ? bodyAlign === 'center' ? boxWidth / 2 + boxPadding : boxWidth + 2 + boxPadding : 0;\n        for(i = 0, ilen = body.length; i < ilen; ++i){\n            bodyItem = body[i];\n            textColor = this.labelTextColors[i];\n            ctx.fillStyle = textColor;\n            each(bodyItem.before, fillLineOfText);\n            lines = bodyItem.lines;\n            if (displayColors && lines.length) {\n                this._drawColorBox(ctx, pt, i, rtlHelper, options);\n                bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);\n            }\n            for(j = 0, jlen = lines.length; j < jlen; ++j){\n                fillLineOfText(lines[j]);\n                bodyLineHeight = bodyFont.lineHeight;\n            }\n            each(bodyItem.after, fillLineOfText);\n        }\n        xLinePadding = 0;\n        bodyLineHeight = bodyFont.lineHeight;\n        each(this.afterBody, fillLineOfText);\n        pt.y -= bodySpacing;\n    }\n    drawFooter(pt, ctx, options) {\n        const footer = this.footer;\n        const length = footer.length;\n        let footerFont, i;\n        if (length) {\n            const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n            pt.x = getAlignedX(this, options.footerAlign, options);\n            pt.y += options.footerMarginTop;\n            ctx.textAlign = rtlHelper.textAlign(options.footerAlign);\n            ctx.textBaseline = 'middle';\n            footerFont = toFont(options.footerFont);\n            ctx.fillStyle = options.footerColor;\n            ctx.font = footerFont.string;\n            for(i = 0; i < length; ++i){\n                ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);\n                pt.y += footerFont.lineHeight + options.footerSpacing;\n            }\n        }\n    }\n    drawBackground(pt, ctx, tooltipSize, options) {\n        const { xAlign , yAlign  } = this;\n        const { x , y  } = pt;\n        const { width , height  } = tooltipSize;\n        const { topLeft , topRight , bottomLeft , bottomRight  } = toTRBLCorners(options.cornerRadius);\n        ctx.fillStyle = options.backgroundColor;\n        ctx.strokeStyle = options.borderColor;\n        ctx.lineWidth = options.borderWidth;\n        ctx.beginPath();\n        ctx.moveTo(x + topLeft, y);\n        if (yAlign === 'top') {\n            this.drawCaret(pt, ctx, tooltipSize, options);\n        }\n        ctx.lineTo(x + width - topRight, y);\n        ctx.quadraticCurveTo(x + width, y, x + width, y + topRight);\n        if (yAlign === 'center' && xAlign === 'right') {\n            this.drawCaret(pt, ctx, tooltipSize, options);\n        }\n        ctx.lineTo(x + width, y + height - bottomRight);\n        ctx.quadraticCurveTo(x + width, y + height, x + width - bottomRight, y + height);\n        if (yAlign === 'bottom') {\n            this.drawCaret(pt, ctx, tooltipSize, options);\n        }\n        ctx.lineTo(x + bottomLeft, y + height);\n        ctx.quadraticCurveTo(x, y + height, x, y + height - bottomLeft);\n        if (yAlign === 'center' && xAlign === 'left') {\n            this.drawCaret(pt, ctx, tooltipSize, options);\n        }\n        ctx.lineTo(x, y + topLeft);\n        ctx.quadraticCurveTo(x, y, x + topLeft, y);\n        ctx.closePath();\n        ctx.fill();\n        if (options.borderWidth > 0) {\n            ctx.stroke();\n        }\n    }\n _updateAnimationTarget(options) {\n        const chart = this.chart;\n        const anims = this.$animations;\n        const animX = anims && anims.x;\n        const animY = anims && anims.y;\n        if (animX || animY) {\n            const position = positioners[options.position].call(this, this._active, this._eventPosition);\n            if (!position) {\n                return;\n            }\n            const size = this._size = getTooltipSize(this, options);\n            const positionAndSize = Object.assign({}, position, this._size);\n            const alignment = determineAlignment(chart, options, positionAndSize);\n            const point = getBackgroundPoint(options, positionAndSize, alignment, chart);\n            if (animX._to !== point.x || animY._to !== point.y) {\n                this.xAlign = alignment.xAlign;\n                this.yAlign = alignment.yAlign;\n                this.width = size.width;\n                this.height = size.height;\n                this.caretX = position.x;\n                this.caretY = position.y;\n                this._resolveAnimations().update(this, point);\n            }\n        }\n    }\n _willRender() {\n        return !!this.opacity;\n    }\n    draw(ctx) {\n        const options = this.options.setContext(this.getContext());\n        let opacity = this.opacity;\n        if (!opacity) {\n            return;\n        }\n        this._updateAnimationTarget(options);\n        const tooltipSize = {\n            width: this.width,\n            height: this.height\n        };\n        const pt = {\n            x: this.x,\n            y: this.y\n        };\n        opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;\n        const padding = toPadding(options.padding);\n        const hasTooltipContent = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;\n        if (options.enabled && hasTooltipContent) {\n            ctx.save();\n            ctx.globalAlpha = opacity;\n            this.drawBackground(pt, ctx, tooltipSize, options);\n            overrideTextDirection(ctx, options.textDirection);\n            pt.y += padding.top;\n            this.drawTitle(pt, ctx, options);\n            this.drawBody(pt, ctx, options);\n            this.drawFooter(pt, ctx, options);\n            restoreTextDirection(ctx, options.textDirection);\n            ctx.restore();\n        }\n    }\n getActiveElements() {\n        return this._active || [];\n    }\n setActiveElements(activeElements, eventPosition) {\n        const lastActive = this._active;\n        const active = activeElements.map(({ datasetIndex , index  })=>{\n            const meta = this.chart.getDatasetMeta(datasetIndex);\n            if (!meta) {\n                throw new Error('Cannot find a dataset at index ' + datasetIndex);\n            }\n            return {\n                datasetIndex,\n                element: meta.data[index],\n                index\n            };\n        });\n        const changed = !_elementsEqual(lastActive, active);\n        const positionChanged = this._positionChanged(active, eventPosition);\n        if (changed || positionChanged) {\n            this._active = active;\n            this._eventPosition = eventPosition;\n            this._ignoreReplayEvents = true;\n            this.update(true);\n        }\n    }\n handleEvent(e, replay, inChartArea = true) {\n        if (replay && this._ignoreReplayEvents) {\n            return false;\n        }\n        this._ignoreReplayEvents = false;\n        const options = this.options;\n        const lastActive = this._active || [];\n        const active = this._getActiveElements(e, lastActive, replay, inChartArea);\n        const positionChanged = this._positionChanged(active, e);\n        const changed = replay || !_elementsEqual(active, lastActive) || positionChanged;\n        if (changed) {\n            this._active = active;\n            if (options.enabled || options.external) {\n                this._eventPosition = {\n                    x: e.x,\n                    y: e.y\n                };\n                this.update(true, replay);\n            }\n        }\n        return changed;\n    }\n _getActiveElements(e, lastActive, replay, inChartArea) {\n        const options = this.options;\n        if (e.type === 'mouseout') {\n            return [];\n        }\n        if (!inChartArea) {\n            return lastActive.filter((i)=>this.chart.data.datasets[i.datasetIndex] && this.chart.getDatasetMeta(i.datasetIndex).controller.getParsed(i.index) !== undefined);\n        }\n        const active = this.chart.getElementsAtEventForMode(e, options.mode, options, replay);\n        if (options.reverse) {\n            active.reverse();\n        }\n        return active;\n    }\n _positionChanged(active, e) {\n        const { caretX , caretY , options  } = this;\n        const position = positioners[options.position].call(this, active, e);\n        return position !== false && (caretX !== position.x || caretY !== position.y);\n    }\n}\nvar plugin_tooltip = {\n    id: 'tooltip',\n    _element: Tooltip,\n    positioners,\n    afterInit (chart, _args, options) {\n        if (options) {\n            chart.tooltip = new Tooltip({\n                chart,\n                options\n            });\n        }\n    },\n    beforeUpdate (chart, _args, options) {\n        if (chart.tooltip) {\n            chart.tooltip.initialize(options);\n        }\n    },\n    reset (chart, _args, options) {\n        if (chart.tooltip) {\n            chart.tooltip.initialize(options);\n        }\n    },\n    afterDraw (chart) {\n        const tooltip = chart.tooltip;\n        if (tooltip && tooltip._willRender()) {\n            const args = {\n                tooltip\n            };\n            if (chart.notifyPlugins('beforeTooltipDraw', {\n                ...args,\n                cancelable: true\n            }) === false) {\n                return;\n            }\n            tooltip.draw(chart.ctx);\n            chart.notifyPlugins('afterTooltipDraw', args);\n        }\n    },\n    afterEvent (chart, args) {\n        if (chart.tooltip) {\n            const useFinalPosition = args.replay;\n            if (chart.tooltip.handleEvent(args.event, useFinalPosition, args.inChartArea)) {\n                args.changed = true;\n            }\n        }\n    },\n    defaults: {\n        enabled: true,\n        external: null,\n        position: 'average',\n        backgroundColor: 'rgba(0,0,0,0.8)',\n        titleColor: '#fff',\n        titleFont: {\n            weight: 'bold'\n        },\n        titleSpacing: 2,\n        titleMarginBottom: 6,\n        titleAlign: 'left',\n        bodyColor: '#fff',\n        bodySpacing: 2,\n        bodyFont: {},\n        bodyAlign: 'left',\n        footerColor: '#fff',\n        footerSpacing: 2,\n        footerMarginTop: 6,\n        footerFont: {\n            weight: 'bold'\n        },\n        footerAlign: 'left',\n        padding: 6,\n        caretPadding: 2,\n        caretSize: 5,\n        cornerRadius: 6,\n        boxHeight: (ctx, opts)=>opts.bodyFont.size,\n        boxWidth: (ctx, opts)=>opts.bodyFont.size,\n        multiKeyBackground: '#fff',\n        displayColors: true,\n        boxPadding: 0,\n        borderColor: 'rgba(0,0,0,0)',\n        borderWidth: 0,\n        animation: {\n            duration: 400,\n            easing: 'easeOutQuart'\n        },\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'x',\n                    'y',\n                    'width',\n                    'height',\n                    'caretX',\n                    'caretY'\n                ]\n            },\n            opacity: {\n                easing: 'linear',\n                duration: 200\n            }\n        },\n        callbacks: defaultCallbacks\n    },\n    defaultRoutes: {\n        bodyFont: 'font',\n        footerFont: 'font',\n        titleFont: 'font'\n    },\n    descriptors: {\n        _scriptable: (name)=>name !== 'filter' && name !== 'itemSort' && name !== 'external',\n        _indexable: false,\n        callbacks: {\n            _scriptable: false,\n            _indexable: false\n        },\n        animation: {\n            _fallback: false\n        },\n        animations: {\n            _fallback: 'animation'\n        }\n    },\n    additionalOptionScopes: [\n        'interaction'\n    ]\n};\n\nvar plugins = /*#__PURE__*/Object.freeze({\n__proto__: null,\nColors: plugin_colors,\nDecimation: plugin_decimation,\nFiller: index,\nLegend: plugin_legend,\nSubTitle: plugin_subtitle,\nTitle: plugin_title,\nTooltip: plugin_tooltip\n});\n\nconst addIfString = (labels, raw, index, addedLabels)=>{\n    if (typeof raw === 'string') {\n        index = labels.push(raw) - 1;\n        addedLabels.unshift({\n            index,\n            label: raw\n        });\n    } else if (isNaN(raw)) {\n        index = null;\n    }\n    return index;\n};\nfunction findOrAddLabel(labels, raw, index, addedLabels) {\n    const first = labels.indexOf(raw);\n    if (first === -1) {\n        return addIfString(labels, raw, index, addedLabels);\n    }\n    const last = labels.lastIndexOf(raw);\n    return first !== last ? index : first;\n}\nconst validIndex = (index, max)=>index === null ? null : _limitValue(Math.round(index), 0, max);\nfunction _getLabelForValue(value) {\n    const labels = this.getLabels();\n    if (value >= 0 && value < labels.length) {\n        return labels[value];\n    }\n    return value;\n}\nclass CategoryScale extends Scale {\n    static id = 'category';\n static defaults = {\n        ticks: {\n            callback: _getLabelForValue\n        }\n    };\n    constructor(cfg){\n        super(cfg);\n         this._startValue = undefined;\n        this._valueRange = 0;\n        this._addedLabels = [];\n    }\n    init(scaleOptions) {\n        const added = this._addedLabels;\n        if (added.length) {\n            const labels = this.getLabels();\n            for (const { index , label  } of added){\n                if (labels[index] === label) {\n                    labels.splice(index, 1);\n                }\n            }\n            this._addedLabels = [];\n        }\n        super.init(scaleOptions);\n    }\n    parse(raw, index) {\n        if (isNullOrUndef(raw)) {\n            return null;\n        }\n        const labels = this.getLabels();\n        index = isFinite(index) && labels[index] === raw ? index : findOrAddLabel(labels, raw, valueOrDefault(index, raw), this._addedLabels);\n        return validIndex(index, labels.length - 1);\n    }\n    determineDataLimits() {\n        const { minDefined , maxDefined  } = this.getUserBounds();\n        let { min , max  } = this.getMinMax(true);\n        if (this.options.bounds === 'ticks') {\n            if (!minDefined) {\n                min = 0;\n            }\n            if (!maxDefined) {\n                max = this.getLabels().length - 1;\n            }\n        }\n        this.min = min;\n        this.max = max;\n    }\n    buildTicks() {\n        const min = this.min;\n        const max = this.max;\n        const offset = this.options.offset;\n        const ticks = [];\n        let labels = this.getLabels();\n        labels = min === 0 && max === labels.length - 1 ? labels : labels.slice(min, max + 1);\n        this._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);\n        this._startValue = this.min - (offset ? 0.5 : 0);\n        for(let value = min; value <= max; value++){\n            ticks.push({\n                value\n            });\n        }\n        return ticks;\n    }\n    getLabelForValue(value) {\n        return _getLabelForValue.call(this, value);\n    }\n configure() {\n        super.configure();\n        if (!this.isHorizontal()) {\n            this._reversePixels = !this._reversePixels;\n        }\n    }\n    getPixelForValue(value) {\n        if (typeof value !== 'number') {\n            value = this.parse(value);\n        }\n        return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n    }\n    getPixelForTick(index) {\n        const ticks = this.ticks;\n        if (index < 0 || index > ticks.length - 1) {\n            return null;\n        }\n        return this.getPixelForValue(ticks[index].value);\n    }\n    getValueForPixel(pixel) {\n        return Math.round(this._startValue + this.getDecimalForPixel(pixel) * this._valueRange);\n    }\n    getBasePixel() {\n        return this.bottom;\n    }\n}\n\nfunction generateTicks$1(generationOptions, dataRange) {\n    const ticks = [];\n    const MIN_SPACING = 1e-14;\n    const { bounds , step , min , max , precision , count , maxTicks , maxDigits , includeBounds  } = generationOptions;\n    const unit = step || 1;\n    const maxSpaces = maxTicks - 1;\n    const { min: rmin , max: rmax  } = dataRange;\n    const minDefined = !isNullOrUndef(min);\n    const maxDefined = !isNullOrUndef(max);\n    const countDefined = !isNullOrUndef(count);\n    const minSpacing = (rmax - rmin) / (maxDigits + 1);\n    let spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;\n    let factor, niceMin, niceMax, numSpaces;\n    if (spacing < MIN_SPACING && !minDefined && !maxDefined) {\n        return [\n            {\n                value: rmin\n            },\n            {\n                value: rmax\n            }\n        ];\n    }\n    numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\n    if (numSpaces > maxSpaces) {\n        spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;\n    }\n    if (!isNullOrUndef(precision)) {\n        factor = Math.pow(10, precision);\n        spacing = Math.ceil(spacing * factor) / factor;\n    }\n    if (bounds === 'ticks') {\n        niceMin = Math.floor(rmin / spacing) * spacing;\n        niceMax = Math.ceil(rmax / spacing) * spacing;\n    } else {\n        niceMin = rmin;\n        niceMax = rmax;\n    }\n    if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) {\n        numSpaces = Math.round(Math.min((max - min) / spacing, maxTicks));\n        spacing = (max - min) / numSpaces;\n        niceMin = min;\n        niceMax = max;\n    } else if (countDefined) {\n        niceMin = minDefined ? min : niceMin;\n        niceMax = maxDefined ? max : niceMax;\n        numSpaces = count - 1;\n        spacing = (niceMax - niceMin) / numSpaces;\n    } else {\n        numSpaces = (niceMax - niceMin) / spacing;\n        if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n            numSpaces = Math.round(numSpaces);\n        } else {\n            numSpaces = Math.ceil(numSpaces);\n        }\n    }\n    const decimalPlaces = Math.max(_decimalPlaces(spacing), _decimalPlaces(niceMin));\n    factor = Math.pow(10, isNullOrUndef(precision) ? decimalPlaces : precision);\n    niceMin = Math.round(niceMin * factor) / factor;\n    niceMax = Math.round(niceMax * factor) / factor;\n    let j = 0;\n    if (minDefined) {\n        if (includeBounds && niceMin !== min) {\n            ticks.push({\n                value: min\n            });\n            if (niceMin < min) {\n                j++;\n            }\n            if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) {\n                j++;\n            }\n        } else if (niceMin < min) {\n            j++;\n        }\n    }\n    for(; j < numSpaces; ++j){\n        const tickValue = Math.round((niceMin + j * spacing) * factor) / factor;\n        if (maxDefined && tickValue > max) {\n            break;\n        }\n        ticks.push({\n            value: tickValue\n        });\n    }\n    if (maxDefined && includeBounds && niceMax !== max) {\n        if (ticks.length && almostEquals(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) {\n            ticks[ticks.length - 1].value = max;\n        } else {\n            ticks.push({\n                value: max\n            });\n        }\n    } else if (!maxDefined || niceMax === max) {\n        ticks.push({\n            value: niceMax\n        });\n    }\n    return ticks;\n}\nfunction relativeLabelSize(value, minSpacing, { horizontal , minRotation  }) {\n    const rad = toRadians(minRotation);\n    const ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 0.001;\n    const length = 0.75 * minSpacing * ('' + value).length;\n    return Math.min(minSpacing / ratio, length);\n}\nclass LinearScaleBase extends Scale {\n    constructor(cfg){\n        super(cfg);\n         this.start = undefined;\n         this.end = undefined;\n         this._startValue = undefined;\n         this._endValue = undefined;\n        this._valueRange = 0;\n    }\n    parse(raw, index) {\n        if (isNullOrUndef(raw)) {\n            return null;\n        }\n        if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {\n            return null;\n        }\n        return +raw;\n    }\n    handleTickRangeOptions() {\n        const { beginAtZero  } = this.options;\n        const { minDefined , maxDefined  } = this.getUserBounds();\n        let { min , max  } = this;\n        const setMin = (v)=>min = minDefined ? min : v;\n        const setMax = (v)=>max = maxDefined ? max : v;\n        if (beginAtZero) {\n            const minSign = sign(min);\n            const maxSign = sign(max);\n            if (minSign < 0 && maxSign < 0) {\n                setMax(0);\n            } else if (minSign > 0 && maxSign > 0) {\n                setMin(0);\n            }\n        }\n        if (min === max) {\n            let offset = max === 0 ? 1 : Math.abs(max * 0.05);\n            setMax(max + offset);\n            if (!beginAtZero) {\n                setMin(min - offset);\n            }\n        }\n        this.min = min;\n        this.max = max;\n    }\n    getTickLimit() {\n        const tickOpts = this.options.ticks;\n        let { maxTicksLimit , stepSize  } = tickOpts;\n        let maxTicks;\n        if (stepSize) {\n            maxTicks = Math.ceil(this.max / stepSize) - Math.floor(this.min / stepSize) + 1;\n            if (maxTicks > 1000) {\n                console.warn(`scales.${this.id}.ticks.stepSize: ${stepSize} would result generating up to ${maxTicks} ticks. Limiting to 1000.`);\n                maxTicks = 1000;\n            }\n        } else {\n            maxTicks = this.computeTickLimit();\n            maxTicksLimit = maxTicksLimit || 11;\n        }\n        if (maxTicksLimit) {\n            maxTicks = Math.min(maxTicksLimit, maxTicks);\n        }\n        return maxTicks;\n    }\n computeTickLimit() {\n        return Number.POSITIVE_INFINITY;\n    }\n    buildTicks() {\n        const opts = this.options;\n        const tickOpts = opts.ticks;\n        let maxTicks = this.getTickLimit();\n        maxTicks = Math.max(2, maxTicks);\n        const numericGeneratorOptions = {\n            maxTicks,\n            bounds: opts.bounds,\n            min: opts.min,\n            max: opts.max,\n            precision: tickOpts.precision,\n            step: tickOpts.stepSize,\n            count: tickOpts.count,\n            maxDigits: this._maxDigits(),\n            horizontal: this.isHorizontal(),\n            minRotation: tickOpts.minRotation || 0,\n            includeBounds: tickOpts.includeBounds !== false\n        };\n        const dataRange = this._range || this;\n        const ticks = generateTicks$1(numericGeneratorOptions, dataRange);\n        if (opts.bounds === 'ticks') {\n            _setMinAndMaxByKey(ticks, this, 'value');\n        }\n        if (opts.reverse) {\n            ticks.reverse();\n            this.start = this.max;\n            this.end = this.min;\n        } else {\n            this.start = this.min;\n            this.end = this.max;\n        }\n        return ticks;\n    }\n configure() {\n        const ticks = this.ticks;\n        let start = this.min;\n        let end = this.max;\n        super.configure();\n        if (this.options.offset && ticks.length) {\n            const offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\n            start -= offset;\n            end += offset;\n        }\n        this._startValue = start;\n        this._endValue = end;\n        this._valueRange = end - start;\n    }\n    getLabelForValue(value) {\n        return formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n    }\n}\n\nclass LinearScale extends LinearScaleBase {\n    static id = 'linear';\n static defaults = {\n        ticks: {\n            callback: Ticks.formatters.numeric\n        }\n    };\n    determineDataLimits() {\n        const { min , max  } = this.getMinMax(true);\n        this.min = isNumberFinite(min) ? min : 0;\n        this.max = isNumberFinite(max) ? max : 1;\n        this.handleTickRangeOptions();\n    }\n computeTickLimit() {\n        const horizontal = this.isHorizontal();\n        const length = horizontal ? this.width : this.height;\n        const minRotation = toRadians(this.options.ticks.minRotation);\n        const ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 0.001;\n        const tickFont = this._resolveTickFontOptions(0);\n        return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio));\n    }\n    getPixelForValue(value) {\n        return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n    }\n    getValueForPixel(pixel) {\n        return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\n    }\n}\n\nconst log10Floor = (v)=>Math.floor(log10(v));\nconst changeExponent = (v, m)=>Math.pow(10, log10Floor(v) + m);\nfunction isMajor(tickVal) {\n    const remain = tickVal / Math.pow(10, log10Floor(tickVal));\n    return remain === 1;\n}\nfunction steps(min, max, rangeExp) {\n    const rangeStep = Math.pow(10, rangeExp);\n    const start = Math.floor(min / rangeStep);\n    const end = Math.ceil(max / rangeStep);\n    return end - start;\n}\nfunction startExp(min, max) {\n    const range = max - min;\n    let rangeExp = log10Floor(range);\n    while(steps(min, max, rangeExp) > 10){\n        rangeExp++;\n    }\n    while(steps(min, max, rangeExp) < 10){\n        rangeExp--;\n    }\n    return Math.min(rangeExp, log10Floor(min));\n}\n function generateTicks(generationOptions, { min , max  }) {\n    min = finiteOrDefault(generationOptions.min, min);\n    const ticks = [];\n    const minExp = log10Floor(min);\n    let exp = startExp(min, max);\n    let precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\n    const stepSize = Math.pow(10, exp);\n    const base = minExp > exp ? Math.pow(10, minExp) : 0;\n    const start = Math.round((min - base) * precision) / precision;\n    const offset = Math.floor((min - base) / stepSize / 10) * stepSize * 10;\n    let significand = Math.floor((start - offset) / Math.pow(10, exp));\n    let value = finiteOrDefault(generationOptions.min, Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision);\n    while(value < max){\n        ticks.push({\n            value,\n            major: isMajor(value),\n            significand\n        });\n        if (significand >= 10) {\n            significand = significand < 15 ? 15 : 20;\n        } else {\n            significand++;\n        }\n        if (significand >= 20) {\n            exp++;\n            significand = 2;\n            precision = exp >= 0 ? 1 : precision;\n        }\n        value = Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision;\n    }\n    const lastTick = finiteOrDefault(generationOptions.max, value);\n    ticks.push({\n        value: lastTick,\n        major: isMajor(lastTick),\n        significand\n    });\n    return ticks;\n}\nclass LogarithmicScale extends Scale {\n    static id = 'logarithmic';\n static defaults = {\n        ticks: {\n            callback: Ticks.formatters.logarithmic,\n            major: {\n                enabled: true\n            }\n        }\n    };\n    constructor(cfg){\n        super(cfg);\n         this.start = undefined;\n         this.end = undefined;\n         this._startValue = undefined;\n        this._valueRange = 0;\n    }\n    parse(raw, index) {\n        const value = LinearScaleBase.prototype.parse.apply(this, [\n            raw,\n            index\n        ]);\n        if (value === 0) {\n            this._zero = true;\n            return undefined;\n        }\n        return isNumberFinite(value) && value > 0 ? value : null;\n    }\n    determineDataLimits() {\n        const { min , max  } = this.getMinMax(true);\n        this.min = isNumberFinite(min) ? Math.max(0, min) : null;\n        this.max = isNumberFinite(max) ? Math.max(0, max) : null;\n        if (this.options.beginAtZero) {\n            this._zero = true;\n        }\n        if (this._zero && this.min !== this._suggestedMin && !isNumberFinite(this._userMin)) {\n            this.min = min === changeExponent(this.min, 0) ? changeExponent(this.min, -1) : changeExponent(this.min, 0);\n        }\n        this.handleTickRangeOptions();\n    }\n    handleTickRangeOptions() {\n        const { minDefined , maxDefined  } = this.getUserBounds();\n        let min = this.min;\n        let max = this.max;\n        const setMin = (v)=>min = minDefined ? min : v;\n        const setMax = (v)=>max = maxDefined ? max : v;\n        if (min === max) {\n            if (min <= 0) {\n                setMin(1);\n                setMax(10);\n            } else {\n                setMin(changeExponent(min, -1));\n                setMax(changeExponent(max, +1));\n            }\n        }\n        if (min <= 0) {\n            setMin(changeExponent(max, -1));\n        }\n        if (max <= 0) {\n            setMax(changeExponent(min, +1));\n        }\n        this.min = min;\n        this.max = max;\n    }\n    buildTicks() {\n        const opts = this.options;\n        const generationOptions = {\n            min: this._userMin,\n            max: this._userMax\n        };\n        const ticks = generateTicks(generationOptions, this);\n        if (opts.bounds === 'ticks') {\n            _setMinAndMaxByKey(ticks, this, 'value');\n        }\n        if (opts.reverse) {\n            ticks.reverse();\n            this.start = this.max;\n            this.end = this.min;\n        } else {\n            this.start = this.min;\n            this.end = this.max;\n        }\n        return ticks;\n    }\n getLabelForValue(value) {\n        return value === undefined ? '0' : formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n    }\n configure() {\n        const start = this.min;\n        super.configure();\n        this._startValue = log10(start);\n        this._valueRange = log10(this.max) - log10(start);\n    }\n    getPixelForValue(value) {\n        if (value === undefined || value === 0) {\n            value = this.min;\n        }\n        if (value === null || isNaN(value)) {\n            return NaN;\n        }\n        return this.getPixelForDecimal(value === this.min ? 0 : (log10(value) - this._startValue) / this._valueRange);\n    }\n    getValueForPixel(pixel) {\n        const decimal = this.getDecimalForPixel(pixel);\n        return Math.pow(10, this._startValue + decimal * this._valueRange);\n    }\n}\n\nfunction getTickBackdropHeight(opts) {\n    const tickOpts = opts.ticks;\n    if (tickOpts.display && opts.display) {\n        const padding = toPadding(tickOpts.backdropPadding);\n        return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height;\n    }\n    return 0;\n}\nfunction measureLabelSize(ctx, font, label) {\n    label = isArray(label) ? label : [\n        label\n    ];\n    return {\n        w: _longestText(ctx, font.string, label),\n        h: label.length * font.lineHeight\n    };\n}\nfunction determineLimits(angle, pos, size, min, max) {\n    if (angle === min || angle === max) {\n        return {\n            start: pos - size / 2,\n            end: pos + size / 2\n        };\n    } else if (angle < min || angle > max) {\n        return {\n            start: pos - size,\n            end: pos\n        };\n    }\n    return {\n        start: pos,\n        end: pos + size\n    };\n}\n function fitWithPointLabels(scale) {\n    const orig = {\n        l: scale.left + scale._padding.left,\n        r: scale.right - scale._padding.right,\n        t: scale.top + scale._padding.top,\n        b: scale.bottom - scale._padding.bottom\n    };\n    const limits = Object.assign({}, orig);\n    const labelSizes = [];\n    const padding = [];\n    const valueCount = scale._pointLabels.length;\n    const pointLabelOpts = scale.options.pointLabels;\n    const additionalAngle = pointLabelOpts.centerPointLabels ? PI / valueCount : 0;\n    for(let i = 0; i < valueCount; i++){\n        const opts = pointLabelOpts.setContext(scale.getPointLabelContext(i));\n        padding[i] = opts.padding;\n        const pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i], additionalAngle);\n        const plFont = toFont(opts.font);\n        const textSize = measureLabelSize(scale.ctx, plFont, scale._pointLabels[i]);\n        labelSizes[i] = textSize;\n        const angleRadians = _normalizeAngle(scale.getIndexAngle(i) + additionalAngle);\n        const angle = Math.round(toDegrees(angleRadians));\n        const hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\n        const vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\n        updateLimits(limits, orig, angleRadians, hLimits, vLimits);\n    }\n    scale.setCenterPoint(orig.l - limits.l, limits.r - orig.r, orig.t - limits.t, limits.b - orig.b);\n    scale._pointLabelItems = buildPointLabelItems(scale, labelSizes, padding);\n}\nfunction updateLimits(limits, orig, angle, hLimits, vLimits) {\n    const sin = Math.abs(Math.sin(angle));\n    const cos = Math.abs(Math.cos(angle));\n    let x = 0;\n    let y = 0;\n    if (hLimits.start < orig.l) {\n        x = (orig.l - hLimits.start) / sin;\n        limits.l = Math.min(limits.l, orig.l - x);\n    } else if (hLimits.end > orig.r) {\n        x = (hLimits.end - orig.r) / sin;\n        limits.r = Math.max(limits.r, orig.r + x);\n    }\n    if (vLimits.start < orig.t) {\n        y = (orig.t - vLimits.start) / cos;\n        limits.t = Math.min(limits.t, orig.t - y);\n    } else if (vLimits.end > orig.b) {\n        y = (vLimits.end - orig.b) / cos;\n        limits.b = Math.max(limits.b, orig.b + y);\n    }\n}\nfunction createPointLabelItem(scale, index, itemOpts) {\n    const outerDistance = scale.drawingArea;\n    const { extra , additionalAngle , padding , size  } = itemOpts;\n    const pointLabelPosition = scale.getPointPosition(index, outerDistance + extra + padding, additionalAngle);\n    const angle = Math.round(toDegrees(_normalizeAngle(pointLabelPosition.angle + HALF_PI)));\n    const y = yForAngle(pointLabelPosition.y, size.h, angle);\n    const textAlign = getTextAlignForAngle(angle);\n    const left = leftForTextAlign(pointLabelPosition.x, size.w, textAlign);\n    return {\n        visible: true,\n        x: pointLabelPosition.x,\n        y,\n        textAlign,\n        left,\n        top: y,\n        right: left + size.w,\n        bottom: y + size.h\n    };\n}\nfunction isNotOverlapped(item, area) {\n    if (!area) {\n        return true;\n    }\n    const { left , top , right , bottom  } = item;\n    const apexesInArea = _isPointInArea({\n        x: left,\n        y: top\n    }, area) || _isPointInArea({\n        x: left,\n        y: bottom\n    }, area) || _isPointInArea({\n        x: right,\n        y: top\n    }, area) || _isPointInArea({\n        x: right,\n        y: bottom\n    }, area);\n    return !apexesInArea;\n}\nfunction buildPointLabelItems(scale, labelSizes, padding) {\n    const items = [];\n    const valueCount = scale._pointLabels.length;\n    const opts = scale.options;\n    const { centerPointLabels , display  } = opts.pointLabels;\n    const itemOpts = {\n        extra: getTickBackdropHeight(opts) / 2,\n        additionalAngle: centerPointLabels ? PI / valueCount : 0\n    };\n    let area;\n    for(let i = 0; i < valueCount; i++){\n        itemOpts.padding = padding[i];\n        itemOpts.size = labelSizes[i];\n        const item = createPointLabelItem(scale, i, itemOpts);\n        items.push(item);\n        if (display === 'auto') {\n            item.visible = isNotOverlapped(item, area);\n            if (item.visible) {\n                area = item;\n            }\n        }\n    }\n    return items;\n}\nfunction getTextAlignForAngle(angle) {\n    if (angle === 0 || angle === 180) {\n        return 'center';\n    } else if (angle < 180) {\n        return 'left';\n    }\n    return 'right';\n}\nfunction leftForTextAlign(x, w, align) {\n    if (align === 'right') {\n        x -= w;\n    } else if (align === 'center') {\n        x -= w / 2;\n    }\n    return x;\n}\nfunction yForAngle(y, h, angle) {\n    if (angle === 90 || angle === 270) {\n        y -= h / 2;\n    } else if (angle > 270 || angle < 90) {\n        y -= h;\n    }\n    return y;\n}\nfunction drawPointLabelBox(ctx, opts, item) {\n    const { left , top , right , bottom  } = item;\n    const { backdropColor  } = opts;\n    if (!isNullOrUndef(backdropColor)) {\n        const borderRadius = toTRBLCorners(opts.borderRadius);\n        const padding = toPadding(opts.backdropPadding);\n        ctx.fillStyle = backdropColor;\n        const backdropLeft = left - padding.left;\n        const backdropTop = top - padding.top;\n        const backdropWidth = right - left + padding.width;\n        const backdropHeight = bottom - top + padding.height;\n        if (Object.values(borderRadius).some((v)=>v !== 0)) {\n            ctx.beginPath();\n            addRoundedRectPath(ctx, {\n                x: backdropLeft,\n                y: backdropTop,\n                w: backdropWidth,\n                h: backdropHeight,\n                radius: borderRadius\n            });\n            ctx.fill();\n        } else {\n            ctx.fillRect(backdropLeft, backdropTop, backdropWidth, backdropHeight);\n        }\n    }\n}\nfunction drawPointLabels(scale, labelCount) {\n    const { ctx , options: { pointLabels  }  } = scale;\n    for(let i = labelCount - 1; i >= 0; i--){\n        const item = scale._pointLabelItems[i];\n        if (!item.visible) {\n            continue;\n        }\n        const optsAtIndex = pointLabels.setContext(scale.getPointLabelContext(i));\n        drawPointLabelBox(ctx, optsAtIndex, item);\n        const plFont = toFont(optsAtIndex.font);\n        const { x , y , textAlign  } = item;\n        renderText(ctx, scale._pointLabels[i], x, y + plFont.lineHeight / 2, plFont, {\n            color: optsAtIndex.color,\n            textAlign: textAlign,\n            textBaseline: 'middle'\n        });\n    }\n}\nfunction pathRadiusLine(scale, radius, circular, labelCount) {\n    const { ctx  } = scale;\n    if (circular) {\n        ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);\n    } else {\n        let pointPosition = scale.getPointPosition(0, radius);\n        ctx.moveTo(pointPosition.x, pointPosition.y);\n        for(let i = 1; i < labelCount; i++){\n            pointPosition = scale.getPointPosition(i, radius);\n            ctx.lineTo(pointPosition.x, pointPosition.y);\n        }\n    }\n}\nfunction drawRadiusLine(scale, gridLineOpts, radius, labelCount, borderOpts) {\n    const ctx = scale.ctx;\n    const circular = gridLineOpts.circular;\n    const { color , lineWidth  } = gridLineOpts;\n    if (!circular && !labelCount || !color || !lineWidth || radius < 0) {\n        return;\n    }\n    ctx.save();\n    ctx.strokeStyle = color;\n    ctx.lineWidth = lineWidth;\n    ctx.setLineDash(borderOpts.dash);\n    ctx.lineDashOffset = borderOpts.dashOffset;\n    ctx.beginPath();\n    pathRadiusLine(scale, radius, circular, labelCount);\n    ctx.closePath();\n    ctx.stroke();\n    ctx.restore();\n}\nfunction createPointLabelContext(parent, index, label) {\n    return createContext(parent, {\n        label,\n        index,\n        type: 'pointLabel'\n    });\n}\nclass RadialLinearScale extends LinearScaleBase {\n    static id = 'radialLinear';\n static defaults = {\n        display: true,\n        animate: true,\n        position: 'chartArea',\n        angleLines: {\n            display: true,\n            lineWidth: 1,\n            borderDash: [],\n            borderDashOffset: 0.0\n        },\n        grid: {\n            circular: false\n        },\n        startAngle: 0,\n        ticks: {\n            showLabelBackdrop: true,\n            callback: Ticks.formatters.numeric\n        },\n        pointLabels: {\n            backdropColor: undefined,\n            backdropPadding: 2,\n            display: true,\n            font: {\n                size: 10\n            },\n            callback (label) {\n                return label;\n            },\n            padding: 5,\n            centerPointLabels: false\n        }\n    };\n    static defaultRoutes = {\n        'angleLines.color': 'borderColor',\n        'pointLabels.color': 'color',\n        'ticks.color': 'color'\n    };\n    static descriptors = {\n        angleLines: {\n            _fallback: 'grid'\n        }\n    };\n    constructor(cfg){\n        super(cfg);\n         this.xCenter = undefined;\n         this.yCenter = undefined;\n         this.drawingArea = undefined;\n         this._pointLabels = [];\n        this._pointLabelItems = [];\n    }\n    setDimensions() {\n        const padding = this._padding = toPadding(getTickBackdropHeight(this.options) / 2);\n        const w = this.width = this.maxWidth - padding.width;\n        const h = this.height = this.maxHeight - padding.height;\n        this.xCenter = Math.floor(this.left + w / 2 + padding.left);\n        this.yCenter = Math.floor(this.top + h / 2 + padding.top);\n        this.drawingArea = Math.floor(Math.min(w, h) / 2);\n    }\n    determineDataLimits() {\n        const { min , max  } = this.getMinMax(false);\n        this.min = isNumberFinite(min) && !isNaN(min) ? min : 0;\n        this.max = isNumberFinite(max) && !isNaN(max) ? max : 0;\n        this.handleTickRangeOptions();\n    }\n computeTickLimit() {\n        return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\n    }\n    generateTickLabels(ticks) {\n        LinearScaleBase.prototype.generateTickLabels.call(this, ticks);\n        this._pointLabels = this.getLabels().map((value, index)=>{\n            const label = callback(this.options.pointLabels.callback, [\n                value,\n                index\n            ], this);\n            return label || label === 0 ? label : '';\n        }).filter((v, i)=>this.chart.getDataVisibility(i));\n    }\n    fit() {\n        const opts = this.options;\n        if (opts.display && opts.pointLabels.display) {\n            fitWithPointLabels(this);\n        } else {\n            this.setCenterPoint(0, 0, 0, 0);\n        }\n    }\n    setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {\n        this.xCenter += Math.floor((leftMovement - rightMovement) / 2);\n        this.yCenter += Math.floor((topMovement - bottomMovement) / 2);\n        this.drawingArea -= Math.min(this.drawingArea / 2, Math.max(leftMovement, rightMovement, topMovement, bottomMovement));\n    }\n    getIndexAngle(index) {\n        const angleMultiplier = TAU / (this._pointLabels.length || 1);\n        const startAngle = this.options.startAngle || 0;\n        return _normalizeAngle(index * angleMultiplier + toRadians(startAngle));\n    }\n    getDistanceFromCenterForValue(value) {\n        if (isNullOrUndef(value)) {\n            return NaN;\n        }\n        const scalingFactor = this.drawingArea / (this.max - this.min);\n        if (this.options.reverse) {\n            return (this.max - value) * scalingFactor;\n        }\n        return (value - this.min) * scalingFactor;\n    }\n    getValueForDistanceFromCenter(distance) {\n        if (isNullOrUndef(distance)) {\n            return NaN;\n        }\n        const scaledDistance = distance / (this.drawingArea / (this.max - this.min));\n        return this.options.reverse ? this.max - scaledDistance : this.min + scaledDistance;\n    }\n    getPointLabelContext(index) {\n        const pointLabels = this._pointLabels || [];\n        if (index >= 0 && index < pointLabels.length) {\n            const pointLabel = pointLabels[index];\n            return createPointLabelContext(this.getContext(), index, pointLabel);\n        }\n    }\n    getPointPosition(index, distanceFromCenter, additionalAngle = 0) {\n        const angle = this.getIndexAngle(index) - HALF_PI + additionalAngle;\n        return {\n            x: Math.cos(angle) * distanceFromCenter + this.xCenter,\n            y: Math.sin(angle) * distanceFromCenter + this.yCenter,\n            angle\n        };\n    }\n    getPointPositionForValue(index, value) {\n        return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n    }\n    getBasePosition(index) {\n        return this.getPointPositionForValue(index || 0, this.getBaseValue());\n    }\n    getPointLabelPosition(index) {\n        const { left , top , right , bottom  } = this._pointLabelItems[index];\n        return {\n            left,\n            top,\n            right,\n            bottom\n        };\n    }\n drawBackground() {\n        const { backgroundColor , grid: { circular  }  } = this.options;\n        if (backgroundColor) {\n            const ctx = this.ctx;\n            ctx.save();\n            ctx.beginPath();\n            pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), circular, this._pointLabels.length);\n            ctx.closePath();\n            ctx.fillStyle = backgroundColor;\n            ctx.fill();\n            ctx.restore();\n        }\n    }\n drawGrid() {\n        const ctx = this.ctx;\n        const opts = this.options;\n        const { angleLines , grid , border  } = opts;\n        const labelCount = this._pointLabels.length;\n        let i, offset, position;\n        if (opts.pointLabels.display) {\n            drawPointLabels(this, labelCount);\n        }\n        if (grid.display) {\n            this.ticks.forEach((tick, index)=>{\n                if (index !== 0 || index === 0 && this.min < 0) {\n                    offset = this.getDistanceFromCenterForValue(tick.value);\n                    const context = this.getContext(index);\n                    const optsAtIndex = grid.setContext(context);\n                    const optsAtIndexBorder = border.setContext(context);\n                    drawRadiusLine(this, optsAtIndex, offset, labelCount, optsAtIndexBorder);\n                }\n            });\n        }\n        if (angleLines.display) {\n            ctx.save();\n            for(i = labelCount - 1; i >= 0; i--){\n                const optsAtIndex = angleLines.setContext(this.getPointLabelContext(i));\n                const { color , lineWidth  } = optsAtIndex;\n                if (!lineWidth || !color) {\n                    continue;\n                }\n                ctx.lineWidth = lineWidth;\n                ctx.strokeStyle = color;\n                ctx.setLineDash(optsAtIndex.borderDash);\n                ctx.lineDashOffset = optsAtIndex.borderDashOffset;\n                offset = this.getDistanceFromCenterForValue(opts.reverse ? this.min : this.max);\n                position = this.getPointPosition(i, offset);\n                ctx.beginPath();\n                ctx.moveTo(this.xCenter, this.yCenter);\n                ctx.lineTo(position.x, position.y);\n                ctx.stroke();\n            }\n            ctx.restore();\n        }\n    }\n drawBorder() {}\n drawLabels() {\n        const ctx = this.ctx;\n        const opts = this.options;\n        const tickOpts = opts.ticks;\n        if (!tickOpts.display) {\n            return;\n        }\n        const startAngle = this.getIndexAngle(0);\n        let offset, width;\n        ctx.save();\n        ctx.translate(this.xCenter, this.yCenter);\n        ctx.rotate(startAngle);\n        ctx.textAlign = 'center';\n        ctx.textBaseline = 'middle';\n        this.ticks.forEach((tick, index)=>{\n            if (index === 0 && this.min >= 0 && !opts.reverse) {\n                return;\n            }\n            const optsAtIndex = tickOpts.setContext(this.getContext(index));\n            const tickFont = toFont(optsAtIndex.font);\n            offset = this.getDistanceFromCenterForValue(this.ticks[index].value);\n            if (optsAtIndex.showLabelBackdrop) {\n                ctx.font = tickFont.string;\n                width = ctx.measureText(tick.label).width;\n                ctx.fillStyle = optsAtIndex.backdropColor;\n                const padding = toPadding(optsAtIndex.backdropPadding);\n                ctx.fillRect(-width / 2 - padding.left, -offset - tickFont.size / 2 - padding.top, width + padding.width, tickFont.size + padding.height);\n            }\n            renderText(ctx, tick.label, 0, -offset, tickFont, {\n                color: optsAtIndex.color,\n                strokeColor: optsAtIndex.textStrokeColor,\n                strokeWidth: optsAtIndex.textStrokeWidth\n            });\n        });\n        ctx.restore();\n    }\n drawTitle() {}\n}\n\nconst INTERVALS = {\n    millisecond: {\n        common: true,\n        size: 1,\n        steps: 1000\n    },\n    second: {\n        common: true,\n        size: 1000,\n        steps: 60\n    },\n    minute: {\n        common: true,\n        size: 60000,\n        steps: 60\n    },\n    hour: {\n        common: true,\n        size: 3600000,\n        steps: 24\n    },\n    day: {\n        common: true,\n        size: 86400000,\n        steps: 30\n    },\n    week: {\n        common: false,\n        size: 604800000,\n        steps: 4\n    },\n    month: {\n        common: true,\n        size: 2.628e9,\n        steps: 12\n    },\n    quarter: {\n        common: false,\n        size: 7.884e9,\n        steps: 4\n    },\n    year: {\n        common: true,\n        size: 3.154e10\n    }\n};\n const UNITS =  /* #__PURE__ */ Object.keys(INTERVALS);\n function sorter(a, b) {\n    return a - b;\n}\n function parse(scale, input) {\n    if (isNullOrUndef(input)) {\n        return null;\n    }\n    const adapter = scale._adapter;\n    const { parser , round , isoWeekday  } = scale._parseOpts;\n    let value = input;\n    if (typeof parser === 'function') {\n        value = parser(value);\n    }\n    if (!isNumberFinite(value)) {\n        value = typeof parser === 'string' ? adapter.parse(value,  parser) : adapter.parse(value);\n    }\n    if (value === null) {\n        return null;\n    }\n    if (round) {\n        value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true) ? adapter.startOf(value, 'isoWeek', isoWeekday) : adapter.startOf(value, round);\n    }\n    return +value;\n}\n function determineUnitForAutoTicks(minUnit, min, max, capacity) {\n    const ilen = UNITS.length;\n    for(let i = UNITS.indexOf(minUnit); i < ilen - 1; ++i){\n        const interval = INTERVALS[UNITS[i]];\n        const factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;\n        if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n            return UNITS[i];\n        }\n    }\n    return UNITS[ilen - 1];\n}\n function determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\n    for(let i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--){\n        const unit = UNITS[i];\n        if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\n            return unit;\n        }\n    }\n    return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\n}\n function determineMajorUnit(unit) {\n    for(let i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i){\n        if (INTERVALS[UNITS[i]].common) {\n            return UNITS[i];\n        }\n    }\n}\n function addTick(ticks, time, timestamps) {\n    if (!timestamps) {\n        ticks[time] = true;\n    } else if (timestamps.length) {\n        const { lo , hi  } = _lookup(timestamps, time);\n        const timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];\n        ticks[timestamp] = true;\n    }\n}\n function setMajorTicks(scale, ticks, map, majorUnit) {\n    const adapter = scale._adapter;\n    const first = +adapter.startOf(ticks[0].value, majorUnit);\n    const last = ticks[ticks.length - 1].value;\n    let major, index;\n    for(major = first; major <= last; major = +adapter.add(major, 1, majorUnit)){\n        index = map[major];\n        if (index >= 0) {\n            ticks[index].major = true;\n        }\n    }\n    return ticks;\n}\n function ticksFromTimestamps(scale, values, majorUnit) {\n    const ticks = [];\n     const map = {};\n    const ilen = values.length;\n    let i, value;\n    for(i = 0; i < ilen; ++i){\n        value = values[i];\n        map[value] = i;\n        ticks.push({\n            value,\n            major: false\n        });\n    }\n    return ilen === 0 || !majorUnit ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\n}\nclass TimeScale extends Scale {\n    static id = 'time';\n static defaults = {\n bounds: 'data',\n        adapters: {},\n        time: {\n            parser: false,\n            unit: false,\n            round: false,\n            isoWeekday: false,\n            minUnit: 'millisecond',\n            displayFormats: {}\n        },\n        ticks: {\n source: 'auto',\n            callback: false,\n            major: {\n                enabled: false\n            }\n        }\n    };\n constructor(props){\n        super(props);\n         this._cache = {\n            data: [],\n            labels: [],\n            all: []\n        };\n         this._unit = 'day';\n         this._majorUnit = undefined;\n        this._offsets = {};\n        this._normalized = false;\n        this._parseOpts = undefined;\n    }\n    init(scaleOpts, opts = {}) {\n        const time = scaleOpts.time || (scaleOpts.time = {});\n         const adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);\n        adapter.init(opts);\n        mergeIf(time.displayFormats, adapter.formats());\n        this._parseOpts = {\n            parser: time.parser,\n            round: time.round,\n            isoWeekday: time.isoWeekday\n        };\n        super.init(scaleOpts);\n        this._normalized = opts.normalized;\n    }\n parse(raw, index) {\n        if (raw === undefined) {\n            return null;\n        }\n        return parse(this, raw);\n    }\n    beforeLayout() {\n        super.beforeLayout();\n        this._cache = {\n            data: [],\n            labels: [],\n            all: []\n        };\n    }\n    determineDataLimits() {\n        const options = this.options;\n        const adapter = this._adapter;\n        const unit = options.time.unit || 'day';\n        let { min , max , minDefined , maxDefined  } = this.getUserBounds();\n function _applyBounds(bounds) {\n            if (!minDefined && !isNaN(bounds.min)) {\n                min = Math.min(min, bounds.min);\n            }\n            if (!maxDefined && !isNaN(bounds.max)) {\n                max = Math.max(max, bounds.max);\n            }\n        }\n        if (!minDefined || !maxDefined) {\n            _applyBounds(this._getLabelBounds());\n            if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {\n                _applyBounds(this.getMinMax(false));\n            }\n        }\n        min = isNumberFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n        max = isNumberFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;\n        this.min = Math.min(min, max - 1);\n        this.max = Math.max(min + 1, max);\n    }\n _getLabelBounds() {\n        const arr = this.getLabelTimestamps();\n        let min = Number.POSITIVE_INFINITY;\n        let max = Number.NEGATIVE_INFINITY;\n        if (arr.length) {\n            min = arr[0];\n            max = arr[arr.length - 1];\n        }\n        return {\n            min,\n            max\n        };\n    }\n buildTicks() {\n        const options = this.options;\n        const timeOpts = options.time;\n        const tickOpts = options.ticks;\n        const timestamps = tickOpts.source === 'labels' ? this.getLabelTimestamps() : this._generate();\n        if (options.bounds === 'ticks' && timestamps.length) {\n            this.min = this._userMin || timestamps[0];\n            this.max = this._userMax || timestamps[timestamps.length - 1];\n        }\n        const min = this.min;\n        const max = this.max;\n        const ticks = _filterBetween(timestamps, min, max);\n        this._unit = timeOpts.unit || (tickOpts.autoSkip ? determineUnitForAutoTicks(timeOpts.minUnit, this.min, this.max, this._getLabelCapacity(min)) : determineUnitForFormatting(this, ticks.length, timeOpts.minUnit, this.min, this.max));\n        this._majorUnit = !tickOpts.major.enabled || this._unit === 'year' ? undefined : determineMajorUnit(this._unit);\n        this.initOffsets(timestamps);\n        if (options.reverse) {\n            ticks.reverse();\n        }\n        return ticksFromTimestamps(this, ticks, this._majorUnit);\n    }\n    afterAutoSkip() {\n        if (this.options.offsetAfterAutoskip) {\n            this.initOffsets(this.ticks.map((tick)=>+tick.value));\n        }\n    }\n initOffsets(timestamps = []) {\n        let start = 0;\n        let end = 0;\n        let first, last;\n        if (this.options.offset && timestamps.length) {\n            first = this.getDecimalForValue(timestamps[0]);\n            if (timestamps.length === 1) {\n                start = 1 - first;\n            } else {\n                start = (this.getDecimalForValue(timestamps[1]) - first) / 2;\n            }\n            last = this.getDecimalForValue(timestamps[timestamps.length - 1]);\n            if (timestamps.length === 1) {\n                end = last;\n            } else {\n                end = (last - this.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;\n            }\n        }\n        const limit = timestamps.length < 3 ? 0.5 : 0.25;\n        start = _limitValue(start, 0, limit);\n        end = _limitValue(end, 0, limit);\n        this._offsets = {\n            start,\n            end,\n            factor: 1 / (start + 1 + end)\n        };\n    }\n _generate() {\n        const adapter = this._adapter;\n        const min = this.min;\n        const max = this.max;\n        const options = this.options;\n        const timeOpts = options.time;\n        const minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, this._getLabelCapacity(min));\n        const stepSize = valueOrDefault(options.ticks.stepSize, 1);\n        const weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n        const hasWeekday = isNumber(weekday) || weekday === true;\n        const ticks = {};\n        let first = min;\n        let time, count;\n        if (hasWeekday) {\n            first = +adapter.startOf(first, 'isoWeek', weekday);\n        }\n        first = +adapter.startOf(first, hasWeekday ? 'day' : minor);\n        if (adapter.diff(max, min, minor) > 100000 * stepSize) {\n            throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);\n        }\n        const timestamps = options.ticks.source === 'data' && this.getDataTimestamps();\n        for(time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++){\n            addTick(ticks, time, timestamps);\n        }\n        if (time === max || options.bounds === 'ticks' || count === 1) {\n            addTick(ticks, time, timestamps);\n        }\n        return Object.keys(ticks).sort(sorter).map((x)=>+x);\n    }\n getLabelForValue(value) {\n        const adapter = this._adapter;\n        const timeOpts = this.options.time;\n        if (timeOpts.tooltipFormat) {\n            return adapter.format(value, timeOpts.tooltipFormat);\n        }\n        return adapter.format(value, timeOpts.displayFormats.datetime);\n    }\n format(value, format) {\n        const options = this.options;\n        const formats = options.time.displayFormats;\n        const unit = this._unit;\n        const fmt = format || formats[unit];\n        return this._adapter.format(value, fmt);\n    }\n _tickFormatFunction(time, index, ticks, format) {\n        const options = this.options;\n        const formatter = options.ticks.callback;\n        if (formatter) {\n            return callback(formatter, [\n                time,\n                index,\n                ticks\n            ], this);\n        }\n        const formats = options.time.displayFormats;\n        const unit = this._unit;\n        const majorUnit = this._majorUnit;\n        const minorFormat = unit && formats[unit];\n        const majorFormat = majorUnit && formats[majorUnit];\n        const tick = ticks[index];\n        const major = majorUnit && majorFormat && tick && tick.major;\n        return this._adapter.format(time, format || (major ? majorFormat : minorFormat));\n    }\n generateTickLabels(ticks) {\n        let i, ilen, tick;\n        for(i = 0, ilen = ticks.length; i < ilen; ++i){\n            tick = ticks[i];\n            tick.label = this._tickFormatFunction(tick.value, i, ticks);\n        }\n    }\n getDecimalForValue(value) {\n        return value === null ? NaN : (value - this.min) / (this.max - this.min);\n    }\n getPixelForValue(value) {\n        const offsets = this._offsets;\n        const pos = this.getDecimalForValue(value);\n        return this.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n    }\n getValueForPixel(pixel) {\n        const offsets = this._offsets;\n        const pos = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n        return this.min + pos * (this.max - this.min);\n    }\n _getLabelSize(label) {\n        const ticksOpts = this.options.ticks;\n        const tickLabelWidth = this.ctx.measureText(label).width;\n        const angle = toRadians(this.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\n        const cosRotation = Math.cos(angle);\n        const sinRotation = Math.sin(angle);\n        const tickFontSize = this._resolveTickFontOptions(0).size;\n        return {\n            w: tickLabelWidth * cosRotation + tickFontSize * sinRotation,\n            h: tickLabelWidth * sinRotation + tickFontSize * cosRotation\n        };\n    }\n _getLabelCapacity(exampleTime) {\n        const timeOpts = this.options.time;\n        const displayFormats = timeOpts.displayFormats;\n        const format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\n        const exampleLabel = this._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(this, [\n            exampleTime\n        ], this._majorUnit), format);\n        const size = this._getLabelSize(exampleLabel);\n        const capacity = Math.floor(this.isHorizontal() ? this.width / size.w : this.height / size.h) - 1;\n        return capacity > 0 ? capacity : 1;\n    }\n getDataTimestamps() {\n        let timestamps = this._cache.data || [];\n        let i, ilen;\n        if (timestamps.length) {\n            return timestamps;\n        }\n        const metas = this.getMatchingVisibleMetas();\n        if (this._normalized && metas.length) {\n            return this._cache.data = metas[0].controller.getAllParsedValues(this);\n        }\n        for(i = 0, ilen = metas.length; i < ilen; ++i){\n            timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(this));\n        }\n        return this._cache.data = this.normalize(timestamps);\n    }\n getLabelTimestamps() {\n        const timestamps = this._cache.labels || [];\n        let i, ilen;\n        if (timestamps.length) {\n            return timestamps;\n        }\n        const labels = this.getLabels();\n        for(i = 0, ilen = labels.length; i < ilen; ++i){\n            timestamps.push(parse(this, labels[i]));\n        }\n        return this._cache.labels = this._normalized ? timestamps : this.normalize(timestamps);\n    }\n normalize(values) {\n        return _arrayUnique(values.sort(sorter));\n    }\n}\n\nfunction interpolate(table, val, reverse) {\n    let lo = 0;\n    let hi = table.length - 1;\n    let prevSource, nextSource, prevTarget, nextTarget;\n    if (reverse) {\n        if (val >= table[lo].pos && val <= table[hi].pos) {\n            ({ lo , hi  } = _lookupByKey(table, 'pos', val));\n        }\n        ({ pos: prevSource , time: prevTarget  } = table[lo]);\n        ({ pos: nextSource , time: nextTarget  } = table[hi]);\n    } else {\n        if (val >= table[lo].time && val <= table[hi].time) {\n            ({ lo , hi  } = _lookupByKey(table, 'time', val));\n        }\n        ({ time: prevSource , pos: prevTarget  } = table[lo]);\n        ({ time: nextSource , pos: nextTarget  } = table[hi]);\n    }\n    const span = nextSource - prevSource;\n    return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;\n}\nclass TimeSeriesScale extends TimeScale {\n    static id = 'timeseries';\n static defaults = TimeScale.defaults;\n constructor(props){\n        super(props);\n         this._table = [];\n         this._minPos = undefined;\n         this._tableRange = undefined;\n    }\n initOffsets() {\n        const timestamps = this._getTimestampsForTable();\n        const table = this._table = this.buildLookupTable(timestamps);\n        this._minPos = interpolate(table, this.min);\n        this._tableRange = interpolate(table, this.max) - this._minPos;\n        super.initOffsets(timestamps);\n    }\n buildLookupTable(timestamps) {\n        const { min , max  } = this;\n        const items = [];\n        const table = [];\n        let i, ilen, prev, curr, next;\n        for(i = 0, ilen = timestamps.length; i < ilen; ++i){\n            curr = timestamps[i];\n            if (curr >= min && curr <= max) {\n                items.push(curr);\n            }\n        }\n        if (items.length < 2) {\n            return [\n                {\n                    time: min,\n                    pos: 0\n                },\n                {\n                    time: max,\n                    pos: 1\n                }\n            ];\n        }\n        for(i = 0, ilen = items.length; i < ilen; ++i){\n            next = items[i + 1];\n            prev = items[i - 1];\n            curr = items[i];\n            if (Math.round((next + prev) / 2) !== curr) {\n                table.push({\n                    time: curr,\n                    pos: i / (ilen - 1)\n                });\n            }\n        }\n        return table;\n    }\n _generate() {\n        const min = this.min;\n        const max = this.max;\n        let timestamps = super.getDataTimestamps();\n        if (!timestamps.includes(min) || !timestamps.length) {\n            timestamps.splice(0, 0, min);\n        }\n        if (!timestamps.includes(max) || timestamps.length === 1) {\n            timestamps.push(max);\n        }\n        return timestamps.sort((a, b)=>a - b);\n    }\n _getTimestampsForTable() {\n        let timestamps = this._cache.all || [];\n        if (timestamps.length) {\n            return timestamps;\n        }\n        const data = this.getDataTimestamps();\n        const label = this.getLabelTimestamps();\n        if (data.length && label.length) {\n            timestamps = this.normalize(data.concat(label));\n        } else {\n            timestamps = data.length ? data : label;\n        }\n        timestamps = this._cache.all = timestamps;\n        return timestamps;\n    }\n getDecimalForValue(value) {\n        return (interpolate(this._table, value) - this._minPos) / this._tableRange;\n    }\n getValueForPixel(pixel) {\n        const offsets = this._offsets;\n        const decimal = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n        return interpolate(this._table, decimal * this._tableRange + this._minPos, true);\n    }\n}\n\nvar scales = /*#__PURE__*/Object.freeze({\n__proto__: null,\nCategoryScale: CategoryScale,\nLinearScale: LinearScale,\nLogarithmicScale: LogarithmicScale,\nRadialLinearScale: RadialLinearScale,\nTimeScale: TimeScale,\nTimeSeriesScale: TimeSeriesScale\n});\n\nconst registerables = [\n    controllers,\n    elements,\n    plugins,\n    scales\n];\n\nexport { Animation, Animations, ArcElement, BarController, BarElement, BasePlatform, BasicPlatform, BubbleController, CategoryScale, Chart, plugin_colors as Colors, DatasetController, plugin_decimation as Decimation, DomPlatform, DoughnutController, Element, index as Filler, Interaction, plugin_legend as Legend, LineController, LineElement, LinearScale, LogarithmicScale, PieController, PointElement, PolarAreaController, RadarController, RadialLinearScale, Scale, ScatterController, plugin_subtitle as SubTitle, Ticks, TimeScale, TimeSeriesScale, plugin_title as Title, plugin_tooltip as Tooltip, adapters as _adapters, _detectPlatform, animator, controllers, defaults, elements, layouts, plugins, registerables, registry, scales };\n//# sourceMappingURL=chart.js.map\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isnt worried about live collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// dont; wed rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we dont ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and were done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {pointer, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nconst {abs, max, min} = Math;\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name __brush rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection, event) {\n    if (group.tween) {\n      group\n          .on(\"start.brush\", function(event) { emitter(this, arguments).beforestart().start(event); })\n          .on(\"interrupt.brush end.brush\", function(event) { emitter(this, arguments).end(event); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start(event).brush(event).end(event);\n          });\n    }\n  };\n\n  brush.clear = function(group, event) {\n    brush.move(group, null, event);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    var emit = that.__brush.emitter;\n    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);\n  }\n\n  function Emitter(that, args, clean) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n    this.clean = clean;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function(event, mode) {\n      if (this.starting) this.starting = false, this.emit(\"start\", event, mode);\n      else this.emit(\"brush\", event);\n      return this;\n    },\n    brush: function(event, mode) {\n      this.emit(\"brush\", event, mode);\n      return this;\n    },\n    end: function(event, mode) {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\", event, mode);\n      return this;\n    },\n    emit: function(type, event, mode) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new BrushEvent(type, {\n          sourceEvent: event,\n          target: brush,\n          selection: dim.output(this.state.selection),\n          mode,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function started(event) {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        points = Array.from(event.touches || [event], t => {\n          const i = t.identifier;\n          t = pointer(t, that);\n          t.point0 = t.slice();\n          t.identifier = i;\n          return t;\n        });\n\n    interrupt(that);\n    var emit = emitter(that, arguments, true).beforestart();\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      const pts = [points[0], points[1] || points[0]];\n      state.selection = selection = [[\n          w0 = dim === Y ? W : min(pts[0][0], pts[1][0]),\n          n0 = dim === X ? N : min(pts[0][1], pts[1][1])\n        ], [\n          e0 = dim === Y ? E : max(pts[0][0], pts[1][0]),\n          s0 = dim === X ? S : max(pts[0][1], pts[1][1])\n        ]];\n      if (points.length > 1) move(event);\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    redraw.call(that);\n    emit.start(event, mode.name);\n\n    function moved(event) {\n      for (const p of event.changedTouches || [event]) {\n        for (const d of points)\n          if (d.identifier === p.identifier) d.cur = pointer(p, that);\n      }\n      if (shifting && !lockX && !lockY && points.length === 1) {\n        const point = points[0];\n        if (abs(point.cur[0] - point[0]) > abs(point.cur[1] - point[1]))\n          lockY = true;\n        else\n          lockX = true;\n      }\n      for (const point of points)\n        if (point.cur) point[0] = point.cur[0], point[1] = point.cur[1];\n      moving = true;\n      noevent(event);\n      move(event);\n    }\n\n    function move(event) {\n      const point = points[0], point0 = point.point0;\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = max(W - w0, min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = max(N - n0, min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (points[1]) {\n            if (signX) w1 = max(W, min(E, points[0][0])), e1 = max(W, min(E, points[1][0])), signX = 1;\n            if (signY) n1 = max(N, min(S, points[0][1])), s1 = max(N, min(S, points[1][1])), signY = 1;\n          } else {\n            if (signX < 0) dx = max(W - w0, min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n            else if (signX > 0) dx = max(W - e0, min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = max(N - n0, min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n            else if (signY > 0) dy = max(N - s0, min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          }\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = max(W, min(E, w0 - dx * signX)), e1 = max(W, min(E, e0 + dx * signX));\n          if (signY) n1 = max(N, min(S, n0 - dy * signY)), s1 = max(N, min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush(event, mode.name);\n      }\n    }\n\n    function ended(event) {\n      nopropagation(event);\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end(event, mode.name);\n    }\n\n    function keydowned(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n\n    function keyupped(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move(event);\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n  }\n\n  function touchmoved(event) {\n    emitter(this, arguments).moved(event);\n  }\n\n  function touchended(event) {\n    emitter(this, arguments).ended(event);\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".main.js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkclient\"] = self[\"webpackChunkclient\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module used 'module' so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(439);\n"],"names":["webpackQueues","webpackExports","webpackError","resolveQueue","inProgress","dataWebpackPrefix","register","dAppId","stabIdAddress","componentAddress","stabComponentAddress","poolComponentAddress","poolAddress","stabAddress","cdpAddress","ctrlBadgeAddress","xrdAddress","ilisAddress","lpAddress","liqAddress","markerAddress","stakingAddress","accountAddress","collateralsKvs","xrdKeyHex","kvsHexes","acceptedResources","selectedText","xrdPrice","interestRate","lpAmountId","lpWaitingAmount","ilisAmountId","ilisWaitingAmount","nextClaim","currentPeriod","stabXrdRatio","internalPrice","validatorMultiplier","walletIlis","walletXrd","walletLp","walletStab","formattedWallet","xrdPoolAmount","stabPoolAmount","stakeRewards","lpRewards","status","resourceAddress","debtAmount","parentAddress","collateralAmount","cr","markedTime","markerUsed","markerDate","selectedCollateral","availableCollateral","selectedCdp","selectedId","selectedMarker","mintAmount","upToDateCr","maxCr","maxCrDebt","newCrDebt","bigData","newCr","liqNextStab","liqRewardAddress","bigFail","realInputDebt","realInputCol","cantLiqWithSkips","stab_ids","cdp_ids","marker_ids","fee","sell","idSupplied","markerUsable","addingCollateral","addingDebt","resourceAddresses","validatorAddresses","inputs","document","querySelectorAll","positionElement","placeholder","getElementById","buggedElement","rect","getBoundingClientRect","window","innerWidth","style","position","top","left","updateSliderBackground","slider","percentage","value","min","max","background","toastMe","txId","action","kind","Toastify","text","duration","close","gravity","stopOnFocus","onClick","showToast","destination","newWindow","getUpToDateCr","currentCollateralAmount","currentDebtAmount","getNecessaryCollateral","getNecessaryStab","setChevron","customContent","customButton","parentElement","querySelector","chevronDown","chevronUp","display","setChevronNoButton","setProvideButton","provideButton","enable","isConnected","parseFloat","backgroundColor","disabled","setRemoveLpButton","button","setBorrowButton","setCloseLoanButton","message","undefined","textContent","setAddColButton","onlyButton","zeroInput","color","cursor","fontWeight","setRemoveColButton","console","log","setRemoveDebtButton","setAddDebtButton","setMarkLiqButton","setNoMarkLiqButton","calculateChange","swapButton","inputAmount","parsedStabPoolAmount","parsedXrdPoolAmount","isNaN","percentageChange","newparsedXrdPoolAmount","newparsedStabPoolAmount","idealRatio","childNodes","nodeValue","toFixed","outputAmount","async","checkMarking","amount","headers","statusResponse","fetch","method","body","JSON","stringify","currentEpoch","json","ledger_state","epoch","startEpochInclusive","endEpochExclusive","url","manifestString","repeatManifest","i","payload","response","responseData","receipt","error","checkLiquidation","toSkip","manifest","resourceChanges","resource_changes","findAmountsAndThirdResource","resource1","resource2","change","amounts","thirdResource","address","resourceChange","resource_address","getResourceName","update_id","location","pathname","request","then","data","non_fungible_ids","programmatic_json","fields","elements","catch","Math","stakeIlisMax","formattedWalletIlis","floor","toLocaleString","addEventListener","stakeLpMax","formattedWalletLp","unstakeIlisMax","formattedWalletIlisUnstake","unstakeLpMax","formattedWalletLpUnstake","update_liq","request2","timestamp","parseInt","Date","timeDiffMin","now","collateralName","data2","is_burned","resource","find","ar","variant_name","update_cdp","sliderCol","sliderDebt","this","getResourceAmount","round","minDebtAmount","forEach","acceptedResource","src","buttonText","itemIndex","item","fungible_resources","items","frItem","vaults","length","customRound","num","toString","onload","getElementsByTagName","event","preventDefault","onresize","input","evt","decimalPos","indexOf","split","substring","navLinksHamburger","buttons","restoreButtonLabels","rdt","dAppDefinitionAddress","networkId","Stokenet","applicationName","applicationVersion","buttonApi","setTheme","setMode","walletApi","setRequestData","accounts","exactly","initialWidth","getComputedStyle","width","minWidth","push","validatorAddress","url_2","data_2","supply","details","total_supply","validators","index","stake_vault","balance","update","onlyWallet","walletData$","subscribe","walletData","addresses","requestBody","fetchPromise2","response2","Promise","all","ok","Error","sortedItems","non_fungible_resources","nfrItem","vault","concat","requestDataCdp","statusText","fetchData","state","firstOption","dropdownContent","innerHTML","dropdownButton","clickableButton","aggregation_level","opt_ins","ancestor_identities","component_royalty_vault_balance","package_royalty_vault_balance","non_fungible_include_nfids","explicit_metadata","resourceAddressesAndAmounts","flatMap","filter","some","map","name","logo","multiplier","identifier","sort","a","b","getFungibleResources","logoUrl","subtext","colToUse","option","createElement","className","dataset","setAttribute","logoImage","alt","appendChild","optionText","optionTitle","optionSubtext","otherOption","classList","remove","add","result","click","updateRewards","proposer_round_timestamp","sevenDaysAgo","entityDetailsUrl","entityPageUrl","entityDetailsPayload","at_ledger_state","component_royalty_config","entityPagePayload","earliestTimestamp","timestampToUse","detailsResponse1","pageResponse1","detailsResponse2","pageResponse2","customDetailsResponse","toISOString","detailsData1","pageData1","detailsData2","pageData2","customDetailsData","amountsMap1","Map","amountsMap2","amounts1","get","amounts2","totalSupply1","totalSupply2","xrdInitial","stabInitial","xrdFinal","stabFinal","xrdPerStabFinal","stabPriceFinal","dollarPerLpInitial2","dollarPerLpFinal2","dollarPerLpRatio2","pow","apyElement","liqElement","Number","marker_exists","id","borderRadius","cloneIlis","cloneNode","parentNode","replaceChild","cloneLp","cloneUnstakeIlis","cloneUnstakeLp","number1","number2","requestPayload","key_value_store_address","keys","key_hex","key_json","mintedStab","collateralAmountInProtocol","entries","entry","field","field_name","counter","cdpExists","useData","e","swapMax","swapReceive","inputFieldSwap","inputFieldProvideXrd","inputFieldProvideStab","inputFieldRemoveLp","oninput","onclick","source1","getAttribute","source2","sell_suffix","receive_suffix","provideMaxXrd","provideMaxStab","provideMaxStabSecond","removeMaxLp","alert","buttonWaiting","spinner","angleIcon","sellAddress","sellAmount","sendTransaction","transactionManifest","version","transactionIntentHash","provideAmountXrd","provideAmountStab","removeAmount","plusSymbolMark","minusSymbolMark","markCounter","plusSymbolLiq","minusSymbolLiq","liqCounter","options","isDropdownButton","contains","target","isDropdownOption","Array","from","markerId","skipAmount","stabId","lpAmount","ilisAmount","lpChange","ilisChange","maxButton","inputAmountDebt","maxButtonDebt","newCol","newStab","newDebt","maxStabToUse","buttonsCol","buttonsDebt","cdpId","colMax","plus","minus","h2","dispatchEvent","Event","lbpLength","initialData","dataExtrapolated","cutoffPoint","initialWeightILIS","totalWeightChange","calculateWeight","startWeightILIS","endWeightILIS","progress","calculatePrice","xrd","ilis","weightILIS","interpolateBetweenPoints","start","end","numSteps","startTime","startXRD","startILIS","endTime","endXRD","endILIS","interpolatedData","step","t","time","price","generatePriceData","priceData","currentWeightILIS","numStepsBetweenPoints","nextWeightILIS","interpolatedSegment","nextTime","nextXRD","nextILIS","nextPrice","createDataPoints","times","prices","x","y","timeValuesMultiplied","d","priceValues","extrapolatedIndices","extrapolatedPriceValues","extrapolatedTimeValues","dataset1Data","includes","dataset2Data","ctx","getContext","type","datasets","label","borderColor","fill","tension","borderWidth","scales","title","ticks","beginAtZero","plugins","legend","labels","tooltip","callbacks","tooltipItems","replace","minimumFractionDigits","maximumFractionDigits","tooltipItem","roundedY","raw","exports","byteLength","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","tmp","arr","Arr","_byteLength","curByte","len","revLookup","charCodeAt","fromByteArray","uint8","extraBytes","parts","maxChunkLength","len2","encodeChunk","lookup","join","Uint8Array","code","output","pad_string_1","encode","encoding","Buffer","isBuffer","fromBase64","toBase64","base64url","default","base64","decode","toBuffer","Object","defineProperty","stringLength","diff","padLength","paddedStringLength","buffer","alloc","write","module","util","ADD64AA","v","o0","o1","ADD64AC","b0","b1","B2B_GET32","B2B_G","c","ix","iy","x0","m","x1","y0","y1","xor0","xor1","BLAKE2B_IV32","Uint32Array","SIGMA82","blake2bCompress","last","h","parameterBlock","blake2bInit","outlen","key","salt","personal","set","blake2bUpdate","blake2bFinal","out","blake2b","normalizeInput","blake2bHex","toHex","B2S_GET32","B2S_G","ROTR32","BLAKE2S_IV","SIGMA","blake2sCompress","blake2sInit","keylen","blake2sUpdate","blake2sFinal","blake2s","blake2sHex","b2b","b2s","uint32ToHex","val","ret","TextEncoder","bytes","prototype","call","n","debugPrint","size","msg","toUpperCase","testSpeed","hashFn","N","M","startMs","getTime","genMs","hashHex","hashMs","ms","r","l","o","enumerable","Symbol","toStringTag","__esModule","create","bind","hasOwnProperty","p","s","getFirstMatch","match","getSecondMatch","matchAndReturnConst","test","getWindowsVersionName","getMacOSVersionName","splice","getAndroidVersionName","getVersionPrecision","compareVersions","u","reverse","assign","arguments","apply","getBrowserAlias","BROWSER_ALIASES_MAP","getBrowserTypeByAlias","BROWSER_MAP","ENGINE_MAP","OS_MAP","PLATFORMS_MAP","Bada","BlackBerry","Chrome","Chromium","Electron","Epiphany","Firefox","Focus","Generic","Googlebot","Maxthon","Opera","PhantomJS","Puffin","QupZilla","QQ","QQLite","Safari","Sailfish","SeaMonkey","Sleipnir","Swing","Tizen","Vivaldi","WeChat","Roku","amazon_silk","android","bada","blackberry","chrome","chromium","electron","epiphany","firefox","focus","generic","googlebot","google_search","ie","k_meleon","maxthon","edge","mz","naver","opera","opera_coast","phantomjs","puffin","qupzilla","qq","qqlite","safari","sailfish","samsung_internet","seamonkey","sleipnir","swing","tizen","uc","vivaldi","webos","wechat","yandex","tablet","mobile","desktop","tv","WindowsPhone","Windows","MacOS","iOS","Android","WebOS","Linux","ChromeOS","PlayStation4","EdgeHTML","Blink","Trident","Presto","Gecko","WebKit","configurable","writable","getParser","parse","getResult","_ua","parsedResult","getUA","parseBrowser","browser","describe","getBrowser","getBrowserName","String","toLowerCase","getBrowserVersion","getOS","os","parseOS","getOSName","getOSVersion","getPlatform","platform","parsePlatform","getPlatformType","getEngine","engine","parseEngine","getEngineName","satisfies","isOS","isPlatform","f","isBrowser","compareVersion","substr","isEngine","is","search","versionName","vendor","model","ieee754","customInspectSymbol","K_MAX_LENGTH","createBuffer","RangeError","buf","setPrototypeOf","arg","encodingOrOffset","TypeError","allocUnsafe","string","isEncoding","actual","slice","fromString","ArrayBuffer","isView","arrayView","isInstance","copy","fromArrayBuffer","byteOffset","fromArrayLike","fromArrayView","SharedArrayBuffer","valueOf","obj","checked","numberIsNaN","isArray","fromObject","toPrimitive","assertSize","array","mustMatch","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","read","readUInt16BE","foundIndex","found","j","hexWrite","offset","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","str","byteArray","asciiToBytes","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","decodeCodePointsArray","TYPED_ARRAY_SUPPORT","proto","foo","typedArraySupport","poolSize","allocUnsafeSlow","_isBuffer","compare","list","pos","swap16","swap32","swap64","equals","inspect","trim","thisStart","thisEnd","thisCopy","targetCopy","isFinite","toJSON","_arr","hexSliceLookupTable","checkOffset","ext","checkInt","wrtBigUInt64LE","checkIntBI","BigInt","wrtBigUInt64BE","checkIEEE754","writeFloat","littleEndian","noAssert","writeDouble","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readBigUInt64LE","defineBigIntMethod","validateNumber","first","boundsError","readBigUInt64BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readBigInt64LE","readBigInt64BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeBigUInt64LE","writeBigUInt64BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeBigInt64LE","writeBigInt64BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","errors","E","sym","getMessage","Base","constructor","super","stack","addNumericalSeparator","range","ERR_OUT_OF_RANGE","checkBounds","ERR_INVALID_ARG_TYPE","ERR_BUFFER_OUT_OF_BOUNDS","received","isInteger","abs","INVALID_BASE64_RE","Infinity","leadSurrogate","base64clean","dst","alphabet","table","i16","fn","BufferBigIntNotDefined","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","LN2","extendStatics","__proto__","__extends","__","__generator","thisArg","g","_","sent","trys","ops","next","verb","iterator","op","done","pop","__values","__read","__spreadArray","to","pack","__await","createErrorClass","createImpl","ctorFunc","instance","SuppressedError","UnsubscriptionError","_super","err","arrRemove","Subscription","initialTeardown","closed","_parentage","_finalizers","unsubscribe","e_1","_a","e_2","_b","_parentage_1","_parentage_1_1","e_1_1","return","initialFinalizer","_finalizers_1","_finalizers_1_1","finalizer","execFinalizer","e_2_1","teardown","_hasParent","_addParent","parent","_removeParent","EMPTY","empty","EMPTY_SUBSCRIPTION","isSubscription","isArrayLike","isPromise","config","onUnhandledError","onStoppedNotification","useDeprecatedSynchronousErrorHandling","useDeprecatedNextContext","timeoutProvider","setTimeout","handler","timeout","args","_i","delegate","clearTimeout","handle","reportUnhandledError","noop","COMPLETE_NOTIFICATION","createNotification","context","errorContext","cb","isRoot","errorThrown","Subscriber","_this","isStopped","EMPTY_OBSERVER","complete","SafeSubscriber","handleStoppedNotification","nextNotification","_next","_error","_complete","_bind","Function","ConsumerObserver","partialObserver","handleUnhandledError","observerOrNext","context_1","captureError","notification","subscriber","observable","identity","Observable","_subscribe","lift","operator","source","isObserver","_trySubscribe","sink","promiseCtor","getPromiseCtor","resolve","reject","pipe","operations","fns","reduce","prev","toPromise","isInteropObservable","isAsyncIterable","asyncIterator","createInvalidObservableTypeError","isIterable","readableStreamLikeToAsyncGenerator","readableStream","_arguments","generator","q","resume","fulfill","settle","shift","__asyncGenerator","reader","getReader","releaseLock","isReadableStreamLike","innerFrom","obs","promise","fromAsyncIterable","iterable","iterable_1","iterable_1_1","asyncIterable","asyncIterable_1","asyncIterable_1_1","P","__asyncValues","fulfilled","rejected","process","operate","init","hasLift","liftedSource","createOperatorSubscriber","onNext","onComplete","onError","onFinalize","OperatorSubscriber","shouldUnsubscribe","closed_1","project","executeSchedule","parentSubscription","scheduler","work","delay","repeat","scheduleSubscription","schedule","mergeMap","resultSelector","concurrent","ii","onBeforeNext","expand","innerSubScheduler","additionalFinalizer","active","isComplete","checkComplete","outerNext","doInnerSub","innerComplete","innerValue","bufferedValue","mergeInternals","nodeEventEmitterMethods","eventTargetMethods","jqueryMethods","fromEvent","eventName","callOrApply","removeEventListener","isEventTarget","methodName","addListener","removeListener","isNodeStyleEventEmitter","toCommonHandlerRegistry","on","off","isJQueryStyleEventEmitter","subTarget","predicate","switchMap","innerSubscriber","innerIndex","outerIndex","tap","tapObserver","isUnsub","finalize","isScheduler","popScheduler","observeOn","subscribeOn","scheduleAsyncIterable","scheduleObservable","scheduleArray","schedulePromise","scheduleIterable","scheduleReadableStreamLike","scheduled","merge","defaultValue","popNumber","sources","mergeAll","EmptyError","defaultErrorFactory","hasDefaultValue","seen","hasValue","defaultIfEmpty","errorFactory","of","Action","intervalProvider","setInterval","clearInterval","AsyncAction","pending","recycleAsyncId","requestAsyncId","_id","flush","_scheduler","execute","_execute","_delay","errorValue","errored","actions","dateTimestampProvider","Scheduler","schedulerActionCtor","AsyncScheduler","SchedulerAction","_active","timer","dueTime","intervalOrScheduler","intervalDuration","due","ObjectUnsubscribedError","Subject","currentObservers","observers","hasError","thrownError","subject","AnonymousSubject","_throwIfClosed","_c","_checkFinalizedStatuses","_innerSubscribe","asObservable","ReplaySubject","_bufferSize","_windowTime","_timestampProvider","_buffer","_infiniteTimeWindow","_trimBuffer","subscription","adjustedBufferSize","BehaviorSubject","_value","getValue","defaultErrorConfig","withStackTrace","createNeverThrowError","isOk","ResultAsync","_promise","fromSafePromise","newPromise","Ok","fromPromise","errorFn","Err","fromThrowable","combine","asyncResultList","combineResultAsyncList","combineWithAllErrors","combineResultAsyncListWithAllErrors","isErr","mapErr","andThen","newValue","orElse","_err","unwrapOr","safeUnwrap","successCallback","failureCallback","okAsync","errAsync","combineResultList","resultList","acc","combineResultListWithAllErrors","Result","_f","asyncAndThen","asyncMap","_v","_unsafeUnwrap","_unsafeUnwrapErr","_ok","firstValueFrom","hasConfig","store","store2","store3","store4","ValiError","issues","actionIssue","reference","actionOutput","defaultArgs","arg1","arg2","i18n","schema","issue","lang","getSpecificMessage","getGlobalMessage","schemaResult","typed","getPrototypeOf","pipeIssue","schemaIssue2","reason","expected","expects","requirement","path","abortEarly","abortPipeEarly","skipPipe","pipeResult","_parse","actionIssue2","restAndDefaultArgs","arg3","error2","pipe2","schemaIssue","other","value2","pathItem","origin","unshift","literal","literal_","number","object","arg4","rest","cachedEntries","optional","wrapped","default_","override","subissues","results","union","Set","validResult","untypedResults","typedResults","firstResult","variant","cachedExpectedKey","expectedKey","variantResult","parseOptions","options2","keySchema","keyResult","dataResult","schemas","getGlobalConfig","custom","lengths","exists","checkFinished","destroyed","finished","globalThis","crypto","createView","DataView","toBytes","Hash","clone","_cloneInto","hashCons","hashC","digest","outputLen","blockLen","randomBytes","bytesLength","getRandomValues","HashMD","padOffset","view","take","dataView","roundClean","digestInto","setBigUint64","_32n","_u32_max","wh","wl","setUint32","oview","outLen","destroy","U32_MASK64","fromBig","le","u64","lst","Ah","Al","toBig","shrSH","_l","shrSL","rotrSH","rotrSL","rotrBH","rotrBL","rotr32H","_h","rotr32L","rotlSH","rotlSL","rotlBH","rotlBL","Bh","Bl","add3L","Cl","add3H","low","Ch","add4L","Dl","add4H","Dh","add5H","Eh","add5L","El","SHA512_Kh","SHA512_Kl","SHA512_W_H","SHA512_W_L","SHA512","Fh","Fl","Gh","Gl","Hh","Hl","getUint32","W15h","W15l","s0h","s0l","W2h","W2l","s1h","s1l","SUMl","SUMh","sigma1h","sigma1l","CHIh","CHIl","T1ll","T1h","T1l","sigma0h","sigma0l","MAJh","MAJl","All","_1n","_2n","padStart","hex","hexToNumber","_0","_9","_A","_F","char","hl","al","ai","n1","n2","expectedLength","arrays","sum","pad","validatorFns","bigint","function","boolean","stringOrUint8Array","isSafeInteger","Fp","isValid","hash","validateObject","optValidators","checkField","fieldName","isOptional","checkVal","_3n","_4n","_5n","_8n","mod","power","modulo","pow2","invert","FIELD_FIELDS","nLength","nBitLength","_nBitLength","nByteLength","ceil","Field","ORDER","bitLen","redef","BITS","BYTES","sqrtP","p1div4","root","eql","sqr","c1","nv","ONE","legendreC","Q","S","Z","Q1div2","neg","ZERO","t2","ge","tonelliShanks","FpSqrt","freeze","MASK","is0","isOdd","lhs","rhs","FpPow","div","sqrN","addN","subN","mulN","inv","sqrt","invertBatch","nums","lastMultiplied","inverted","reduceRight","FpInvertBatch","cmov","fromBytes","VERIFY_DEFAULT","zip215","curveDef","CURVE","curve","opts","validateField","Gx","Gy","validateBasic","adjustScalarBytes","domain","uvRatio","mapToCurve","validateOpts","CURVE_ORDER","prehash","cHash","cofactor","modP","phflag","inBig","inRange","in0MaskRange","assertInRange","assertGE0","pointPrecomputes","isPoint","Point","ex","ey","ez","et","toAffine","fromAffine","normalizeZ","points","toInv","_setWindowSize","windowSize","_WINDOW_SIZE","delete","assertValidity","X","Y","T","X2","Y2","Z2","Z4","aX2","X1","Y1","Z1","X1Z2","X2Z1","Y1Z2","Y2Z1","negate","double","A","B","C","D","x1y1","G","F","H","X3","Y3","T3","Z3","T1","T2","subtract","wNAF","wnaf","wNAFCached","multiply","scalar","multiplyUnsafe","I","unsafeLadder","isSmallOrder","isTorsionFree","iz","z","ax","ay","zz","clearCofactor","fromHex","normed","lastByte","y2","isXOdd","isLastByteOdd","fromPrivateKey","privKey","getExtendedPublicKey","point","toRawBytes","BASE","bits","constTimeNegate","condition","W","windows","elm","precomputeWindow","base","precomputes","mask","maxNumber","shiftBy","wbits","offset1","offset2","cond1","cond2","precomputesMap","transform","comp","modN","modN_LE","hashed","head","prefix","pointBytes","hashDomainToScalar","msgs","verifyOpts","getPublicKey","sign","R","verify","sig","publicKey","SB","k","ExtendedPoint","utils","randomPrivateKey","precompute","ED25519_P","ED25519_SQRT_M1","ed25519_pow_2_252_3","_10n","_20n","_40n","_80n","b2","b4","b5","b10","b20","b40","b80","b160","b240","b250","pow_p_5_8","v3","v7","vx2","root1","root2","useRoot1","useRoot2","noRoot","ed25519Defaults","ed25519","x25519","montgomeryBits","powPminus2","Gu","montgomeryBytes","fieldLen","cswap","x_2","x_3","dummy","assertFieldElement","a24","encodeUCoordinate","scalarMult","pointU","uEnc","decodeUCoordinate","pu","x_1","sw","z_2","z_3","k_t","AA","BB","DA","CB","dacb","da_cb","z2","montgomeryLadder","decodeScalar","GuBytes","scalarMultBase","getSharedSecret","privateKey","montgomery","NOTHING","for","DRAFTABLE","DRAFT_STATE","die","isDraft","isDraftable","isPlainObject","isMap","isSet","objectCtorString","Ctor","each","iter","getArchtype","Reflect","ownKeys","thing","type_","has","prop","propOrOldValue","latest","copy_","base_","shallowCopy","strict","isPlain","descriptors","getOwnPropertyDescriptors","desc","deep","isFrozen","clear","dontMutateFrozenCollections","currentScope","getPlugin","pluginKey","plugin","getCurrentScope","usePatchesInScope","scope","patchListener","patches_","inversePatches_","patchListener_","revokeScope","leaveScope","drafts_","revokeDraft","parent_","enterScope","immer2","immer_","canAutoFreeze_","unfinalizedDrafts_","draft","revoke_","revoked_","processResult","baseDraft","modified_","maybeFreeze","generateReplacementPatches_","rootScope","childValue","finalizeProperty","scope_","finalized_","resultEach","isSet2","generatePatches_","parentState","targetObject","rootPath","targetIsSet","assigned_","autoFreeze_","propertyIsEnumerable","objectTraps","getDescriptorFromProto","draft_","readPropFromProto","peek","prepareCopy","createProxy","current2","currentState","markChanged","deleteProperty","getOwnPropertyDescriptor","owner","arrayTraps","useStrictShallowCopy_","proxyMap_","proxySet_","isManual_","traps","revoke","proxy","Proxy","revocable","createProxyProxy","currentImpl","immer","produce","recipe","defaultBase","self","base2","ip","produceWithPatches","patches","inversePatches","autoFreeze","setAutoFreeze","useStrictShallowCopy","setUseStrictShallowCopy","createDraft","finishDraft","applyPatches","patch","applyPatchesImpl","applyPatches_","randomUUID","rnds8","rng","byteToHex","rnds","random","unsafeStringify","share","connector","resetOnError","resetOnComplete","_d","resetOnRefCountZero","wrapperSource","connection","resetConnection","refCount","hasCompleted","hasErrored","cancelReset","reset","resetAndUnsubscribe","conn","dest","handleReset","onSubscriber","NEVER","typedError","parseJSON","typedError2","fetchWrapper","fetchable","resolveFetch","isMobile","navigator","userAgent","Account","appearanceId","Proof","signature","AccountProof","proof","Persona","identityAddress","PersonaDataName","familyName","nickname","givenNames","NumberOfValues","quantifier","quantity","minValue","AccountsRequestItem","challenge","numberOfAccounts","AccountsRequestResponseItem","proofs","PersonaDataRequestItem","isRequestingName","numberOfRequestedEmailAddresses","numberOfRequestedPhoneNumbers","PersonaDataRequestResponseItem","emailAddresses","phoneNumbers","ResetRequestItem","personaData","WalletUnauthorizedRequestItems","persona","discriminator","oneTimeAccounts","oneTimePersonaData","AuthUsePersonaRequestItem","AuthLoginRequestItem","AuthRequestItem","WalletRequestItems","auth","ongoingAccounts","ongoingPersonaData","SendTransactionItem","blobs","WalletTransactionItems","send","SendTransactionResponseItem","WalletTransactionResponseItems","WalletInteractionItems","Metadata","WalletInteraction","interactionId","metadata","WalletUnauthorizedRequestResponseItems","AuthLoginRequestResponseItem","AuthRequestResponseItem","WalletRequestResponseItems","WalletInteractionResponseItems","WalletInteractionResponse","messageLifeCycleEventType","interaction","sessionId","MessageLifeCycleEvent","eventType","isWalletLinked","isExtensionAvailable","canHandleSessions","Offer","Answer","IceCandidate","IceCandidates","Sources","SignalingServerMessage","requestId","targetClientId","encryptedPayload","connectionId","IceCandidatePayloadIO","sdp","candidate","sdpMid","sdpMLineIndex","ErrorType","defaultErrorMessage","SdkError","validateWalletResponse","walletResponse","word","HMAC","hash2","_key","iHash","oHash","hmac","HKDF_COUNTER","EMPTY_BUFFER","isLE2","SHA256_K","SHA256_IV","SHA256_W","SHA256","W15","W2","s0","s1","sha256","Curve25519","privateKeyHex","getPrivateKey","calculateSharedSecret","publicKeyHex","sharedSecret","derived","ikm","info","prk","blocks","okm","HMAC2","HMACTmp","extract","messageHex","DataRequestBuilder","withProof","methods","atLeast","_toObject","partial","schema2","fullName","createNumberOfValuesOptions","isDeepEqual","values","aKeys","bKeys","value1","isObjects","isObject","createLoginRequestItem","oneTime","withAccountRequestItem","requestItems","updatedRequestItems","accounts2","isOngoingRequest","isConnectOngoingRequest","withPersonaDataRequestItem","transformWalletRequestToSharedData","walletInteraction","sharedData","walletDataRequest","proofType","SignedChallenge","WalletDataPersonaData","WalletData","SharedData","walletDataDefault","loggedInTimestamp","withPersonaDataEntries","transformWalletResponseToRdtWalletData","withPersonaData","withPersona","accountProofs","withProofs","createSignatureMessage","logger","prefixBuffer","lengthOfDappDefAddress","lengthOfDappDefAddressBuffer","dappDefAddressBuffer","originBuffer","interactionIdBuffer","messageBuffer","arrayBuffer","bufferToArrayBuffer","debug","messagePartsRaw","messageParts","blake2bHash","jsError","ConnectorExtensionModule","isExtensionHandlingSessions","getSubLogger","subjects","outgoingMessageSubject","incomingMessageSubject","responseSubject","messageLifeCycleEventSubject","extensionDetectionTime","requestItemModule","providers","storage","storageModule","getPartition","CustomEvent","detail","handleIncomingMessage","extensionStatusEvent$","extensionStatus$","subscriptions","_loop_1","raceInit","race","bufferSize","windowTime","isSupported","callbackFns","cancelRequestSubject","walletResponse$","cancelResponse$","eventType2","requestControl","cancelRequest","getRequest","walletResponseOrCancelRequest$","messageLifeCycleEvent$","eventCallback","notifier","messageEventSubscription","extensionMissingError$","unwrapObservable","getState","isAuthorizedRequest","wrappedRequest","setState","isAvailable$","isLinked$","showQrCode","disconnect","combineSealboxToBuffer","iv","ciphertext","authTag","combineCiphertextAndAuthtag","RadixConnectRelayModule","baseUrl","walletUrl","encryptionModule","getKey","encryptionKey","subtle","importKey","combineIVandCipherText","createIV","encrypt","cryptoKey","cryptoEncrypt","combined","decrypt","cryptoDecrypt","EncryptionModule","deepLinkModule","userAgentParsed","deepLinkToWallet","outboundUrl","URL","searchParams","append","href","DeepLinkModule","identityModule","KeyPairModule","getIdentity","getItemById","input2","secret","getOrCreateIdentity","keyPair","setItems","createdAt","createIdentity","deriveSharedSecret","createSignature","IdentityModule","sessionModule","getSession","getItemList","sessions","getCurrentSession","session","newSession","createSession","getSessionById","patchSession","patchItem","SessionModule","radixConnectRelayApiService","getResponses","callApi","RadixConnectRelayApiService","decryptWalletResponseData","sharedSecretHex","readNextBuffer","bytesLeftToRead","finishedParsing","byteCount","bufToReturn","remainingBytes","leftBuf","createBufferReader","readBuffer","ciphertextAndAuthTag","transformBufferToSealbox","decrypted","dAppIdentity","getById","pendingItem","sentToWallet","sendWalletInteractionRequest","retry","wait","timer4","resolve2","decryptWalletResponse","requestItemResult","trace","encryptedWalletResponsesResult","encryptedWalletResponses","encryptedWalletResponse","walletResponseResult","err15","waitForWalletResponse","TransactionStatus","RadixNetwork","Mainnet","Gilganet","Enkinet","Hammunet","Nergalnet","Mardunet","Dumunet","RadixNetworkConfig","networkName","gatewayUrl","dashboardUrl","RadixNetworkConfigById","config2","generateGatewayApiConfig","gatewayBaseUrl","basePath","applicationDappDefinitionAddress","WalletRequestModule","useCache","ignoreTransactionSubject","interactionStatusChangeSubject","gatewayModule","stateModule","dataRequestStateModule","initialState","toDataRequestState","patchState","removeState","state$","DataRequestStateModule","partialValue","requests$","storage$","isOneTimeRequest","showCancel","createItem","cancel","updateStatus","updated","getPending","RequestItemModule","transports","walletRequestSdk","availableTransports","requestInterceptor","withInterceptor","getTransport","transport","transport2","createWalletInteraction","WalletRequestSdk","cancelRequestControl","messageLifeCycleEvent","cancelRequest2","requestItemId","connectResponseCallback","dataRequestControl","challengeGeneratorFn","getChallenge","dataRequestState","isChallengeNeeded","sendRequest","isConnect","transformConnectRequest","transformed","persona2","personaData2","isPersonaLogin","isAuthorized","withResetRequestItem","createAuthorizedRequestItems","createUnauthorizedRequestItems","transformRdtDataRequestToWalletRequest","toWalletRequest","dataRequest","isReset","isChallengeRequest","rdtStateSatisfiesRequest","canDataRequestBeResolvedByRdtState","isLoginRequest","sendDataRequest","walletInteractionResponse","transformedWalletResponse","emitWalletData","unresolvedItems","resolveWalletResponse","result2","onTransactionId","pollTransactionStatus","transactionStatusResponse","isFailedTransaction","ignoreTransaction","provideChallengeGenerator","provideDataRequestControl","provideConnectResponseCallback","sendOneTimeRequest","setRequestDataState","getPendingRequests","updateSharedAccounts","interactionStatusChange$","requestItems$","LocalStorageModule","partitionKey","storageKey","getDataAsync","localStorage","getItem","setDataAsync","setItem","getItems","serialized","StorageEvent","oldValue","key2","accountDefinition","partition","oldValueResult","newValueResult","oldValue2","newValue2","removeItemById","newItems","partitionKey2","oldState","removeItem","RadixDappToolkit","onDisconnect","defaultState","resetState","walletDataSubject","getWalletData","StateModule","gatewayApi","gatewayApiService","fetchWithHeaders","getTransactionStatus","intent_hash","getEntityMetadataPage","GatewayApiService","clientConfig","maxDelayTime","interval","trigger","numberOfRetries","backoff$","numberOfRetries2","delayTime","withBackoff$","ExponentialBackoff","retryConfig","completedTransactionStatus","configuration","GatewayModule","walletRequestModule","connectButtonModule","status$","onConnect$","onDisconnect$","onUpdateSharedAccounts$","onShowPopover$","onCancelRequestItem$","onLinkClick$","setStatus","setActiveTab","setIsMobile","setIsWalletLinked","setIsExtensionAvailable","setConnected","setLoggedInTimestamp","setRequestItems","setAccounts","setPersonaData","setPersonaLabel","setDappName","onConnect","onUpdateSharedAccounts","connected","onCancelRequestItem","onIgnoreTransactionItem","onShowPopover","showPopoverMenu","fullWidth","activeTab","mode","theme","avatarUrl","personaLabel","dAppName","onLinkClick","accountsPath","transactionPath","explorer","statusStorage","onConnectButtonRender$","element","connectButtonElement","ev","onDestroy$","onIgnoreTransactionItem$","isWalletLinked$","isExtensionAvailable$","mode$","connected$","isMobile$","loggedInTimestamp$","activeTab$","showPopoverMenu$","removeAttribute","accounts$","personaData$","personaLabel$","dAppName$","connectButtonEvents$","shouldDestroy","callback","open","connectButtonApi","setShowPopoverMenu","variant2","transformWalletDataToConnectButton","pendingRequests","newStatus","pendingItems","ConnectButtonModule","lim","p2b","n2b","b2n","n2p","map$1","h1","eq","HUE_RE","hsl2rgbn","hsv2rgbn","hwb2rgbn","w","rgb","rgb2hsl","hueValue","calln","hsl2rgb","hue","V","U","O","L","K","J","names$1","OiceXe","antiquewEte","aqua","aquamarRe","azuY","beige","bisque","black","blanKedOmond","Xe","XeviTet","bPwn","burlywood","caMtXe","KartYuse","KocTate","cSO","cSnflowerXe","cSnsilk","crimson","cyan","xXe","xcyan","xgTMnPd","xWay","xgYF","xgYy","xkhaki","xmagFta","xTivegYF","xSange","xScEd","xYd","xsOmon","xsHgYF","xUXe","xUWay","xUgYy","xQe","xviTet","dAppRk","dApskyXe","dimWay","dimgYy","dodgerXe","fiYbrick","flSOwEte","foYstWAn","fuKsia","gaRsbSo","ghostwEte","gTd","gTMnPd","Way","gYF","gYFLw","gYy","honeyMw","hotpRk","RdianYd","Rdigo","ivSy","khaki","lavFMr","lavFMrXsh","lawngYF","NmoncEffon","ZXe","ZcSO","Zcyan","ZgTMnPdLw","ZWay","ZgYF","ZgYy","ZpRk","ZsOmon","ZsHgYF","ZskyXe","ZUWay","ZUgYy","ZstAlXe","ZLw","lime","limegYF","lRF","magFta","maPon","VaquamarRe","VXe","VScEd","VpurpN","VsHgYF","VUXe","VsprRggYF","VQe","VviTetYd","midnightXe","mRtcYam","mistyPse","moccasR","navajowEte","navy","Tdlace","Tive","TivedBb","Sange","SangeYd","ScEd","pOegTMnPd","pOegYF","pOeQe","pOeviTetYd","papayawEp","pHKpuff","peru","pRk","plum","powMrXe","purpN","YbeccapurpN","Yd","Psybrown","PyOXe","saddNbPwn","sOmon","sandybPwn","sHgYF","sHshell","siFna","silver","skyXe","UXe","UWay","UgYy","snow","sprRggYF","stAlXe","tan","teO","tEstN","tomato","Qe","viTet","JHt","wEte","wEtesmoke","Lw","LwgYF","names","RGB_RE","modHSL","ratio","functionParse","charAt","exec","rgbParse","p1","p2","hwb2rgb","hsv2rgb","hueParse","Color","unpacked","tkeys","nk","unpack","transparent","nameParse","_rgb","_valid","valid","rgbString","hexString","isShort","alpha","hslString","mix","weight","c2","w2","w1","interpolate","rgb1","rgb2","clearer","greyscale","opaquer","lighten","darken","saturate","desaturate","rotate","deg","uid","isNullOrUndef","isNumberFinite","finiteOrDefault","valueOrDefault","toDimension","dimension","endsWith","loopable","_elementsEqual","a0","a1","ilen","v0","v1","datasetIndex","klen","isValidKey","_merger","tval","sval","merger","current","mergeIf","_mergerIf","keyResolvers","resolveObjectKey","resolver","part","_splitKey","_getKeyResolver","_capitalize","defined","isFunction","setsEqual","PI","TAU","PITAU","INFINITY","POSITIVE_INFINITY","RAD_PER_DEG","HALF_PI","QUARTER_PI","TWO_THIRDS_PI","log10","almostEquals","epsilon","niceNum","roundedRange","niceRange","fraction","isNumber","_setMinAndMaxByKey","property","toRadians","degrees","toDegrees","radians","_decimalPlaces","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","angle","atan2","distance","distanceBetweenPoints","pt1","pt2","_angleDiff","_normalizeAngle","_angleBetween","sameAngleIsFullCircle","angleToStart","angleToEnd","startToAngle","endToAngle","_limitValue","_isBetween","_lookup","cmp","mid","_lookupByKey","ti","_rlookupByKey","arrayEvents","unlistenArrayEvents","listener","stub","_chartjs","listeners","_arrayUnique","requestAnimFrame","requestAnimationFrame","throttled","argsToUse","ticking","_toLeftRightCenter","align","_alignStartEnd","_getStartAndCountOfVisiblePoints","meta","animationsDisabled","pointCount","count","_sorted","iScale","_parsed","axis","minDefined","maxDefined","getUserBounds","getPixelForValue","_scaleRangesChanged","xScale","yScale","_scaleRanges","newRanges","xmin","xmax","ymin","ymax","changed","atEdge","elasticIn","sin","elasticOut","effects","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","isPatternOrGradient","getHoverColor","numbers","colors","intlCache","formatNumber","locale","cacheKey","formatter","Intl","NumberFormat","getNumberFormat","format","formatters","numeric","tickValue","chart","notation","delta","maxTick","calculateDelta","logDelta","numDecimal","logarithmic","remain","significand","Ticks","overrides","getScope$1","node","Defaults","_descriptors","_appliers","animation","devicePixelRatio","getDevicePixelRatio","events","font","family","lineHeight","hover","hoverBackgroundColor","hoverBorderColor","hoverColor","indexAxis","intersect","includeInvisible","maintainAspectRatio","onHover","parsing","responsive","scale","showLine","drawActiveElementsOnTop","route","targetScope","targetName","scopeObject","targetScopeObject","privateName","defineProperties","local","appliers","defaults","_scriptable","startsWith","_indexable","_fallback","easing","loop","properties","resize","show","animations","visible","hide","autoPadding","padding","right","bottom","bounds","clip","grace","grid","lineWidth","drawOnChartArea","drawTicks","tickLength","tickWidth","_ctx","tickColor","border","dash","dashOffset","minRotation","maxRotation","mirror","textStrokeWidth","textStrokeColor","autoSkip","autoSkipPadding","labelOffset","minor","major","crossAlign","showLabelBackdrop","backdropColor","backdropPadding","_measureText","gc","longest","textWidth","measureText","_longestText","arrayOfThings","cache","garbageCollect","save","jlen","nestedThing","restore","gcLen","_alignPixel","pixel","currentDevicePixelRatio","halfWidth","clearCanvas","canvas","resetTransform","clearRect","height","drawPoint","drawPointLegend","xOffset","yOffset","cornerRadius","xOffsetW","yOffsetW","pointStyle","rotation","radius","rad","translate","drawImage","beginPath","ellipse","arc","closePath","moveTo","lineTo","SQRT1_2","stroke","_isPointInArea","area","margin","clipArea","unclipArea","_steppedLineTo","previous","flip","midpoint","_bezierCurveTo","bezierCurveTo","cp1x","cp2x","cp1y","cp2y","decorateText","line","strikethrough","underline","metrics","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","yDecoration","strokeStyle","fillStyle","decorationWidth","drawBackdrop","oldColor","fillRect","renderText","lines","strokeWidth","strokeColor","translation","textAlign","textBaseline","setRenderOpts","backdrop","strokeText","maxWidth","fillText","addRoundedRectPath","topLeft","bottomLeft","bottomRight","topRight","LINE_HEIGHT","FONT_STYLE","toLineHeight","matches","numberOrZero","_readValueToProps","props","objProps","toTRBL","toTRBLCorners","toPadding","toFont","fallback","warn","toFontString","cacheable","createContext","parentContext","_createResolver","scopes","prefixes","rootScopes","getTarget","finalRootScopes","_resolve","_cacheable","_scopes","_rootScopes","_getTarget","_keys","_cached","readKey","needsSubResolver","createSubResolver","_resolveWithPrefixes","getKeysFromAllScopes","_storage","_attachContext","subProxy","descriptorDefaults","_proxy","_context","_subProxy","_stack","setContext","receiver","isScriptable","_resolveScriptable","isIndexable","_resolveArray","_resolveWithContext","allKeys","scriptable","indexable","_allKeys","resolveFallback","getScope","addScopes","parentScopes","parentFallback","allScopes","addScopesFromKey","subGetTarget","resolveKeysFromAllScopes","_parseObjectDataRadialScale","_parsing","EPSILON","getPoint","skip","getValueAxis","splineCurve","firstPoint","middlePoint","afterPoint","d01","d12","s01","s12","fa","fb","capControlPoint","pt","_updateBezierControlPoints","controlPoints","spanGaps","cubicInterpolationMode","valueAxis","pointsLen","deltaK","mK","pointBefore","pointCurrent","pointAfter","slopeDelta","alphaK","betaK","tauK","squaredMagnitude","monotoneAdjust","iPixel","vPixel","monotoneCompute","splineCurveMonotone","capBezierPoints","inArea","inAreaPrev","inAreaNext","_isDomSupported","_getParentNode","domNode","host","parseMaxStyle","styleValue","parentProperty","valueInPixels","ownerDocument","defaultView","positions","getPositionedStyle","styles","suffix","useOffsetPos","shadowRoot","getRelativePosition","borderBox","boxSizing","paddings","borders","box","touches","offsetX","offsetY","clientX","clientY","getCanvasPosition","round1","retinaScale","forceRatio","forceStyle","pixelRatio","deviceHeight","deviceWidth","setTransform","supportsEventListenerOptions","passiveSupported","passive","readUsedSize","el","getPropertyValue","getStyle","_pointInLine","_steppedInterpolation","_bezierInterpolation","cp1","cp2","getRtlAdapter","rtl","rectX","setWidth","xPlus","leftForLtr","itemWidth","getRightToLeftAdapter","_itemWidth","overrideTextDirection","direction","original","getPropertyPriority","setProperty","prevTextDirection","restoreTextDirection","propertyFn","between","normalize","normalizeSegment","_boundSegment","segment","startBound","endBound","getSegment","prevValue","inside","subStart","_boundSegments","segments","readStyle","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","styleChanged","prevStyle","replacer","Animator","_request","_charts","_running","_lastDate","_notify","anims","date","initial","currentStep","_refresh","_update","running","draw","_total","tick","_getAnims","charts","listen","cur","_duration","stop","animator","interpolators","factor","c0","Animation","cfg","currentValue","_fn","_easing","_start","_loop","_target","_prop","_from","_to","_promises","elapsed","promises","rej","resolved","Animations","_chart","_properties","configure","animationOptions","animatedProps","getOwnPropertyNames","_animateOptions","newOptions","$shared","$animations","resolveTargetOptions","_createAnimations","anim","awaitAll","scaleClip","allowedOverflow","getSortedDatasetIndices","filterVisible","metasets","_getSortedDatasetMetas","applyStack","dsIndex","singleMode","otherValue","isStacked","stacked","getOrCreateStack","stacks","stackKey","indexValue","subStack","getLastIndexInStack","vScale","positive","getMatchingVisibleMetas","updateStacks","controller","_cachedMeta","_stacks","iAxis","vAxis","indexScale","valueScale","getStackKey","_top","_bottom","_visualValues","getFirstScaleId","clearStacks","isDirectUpdateMode","cloneIfNotShared","cached","shared","DatasetController","static","_cachedDataOpts","getMeta","_type","_data","_objectData","_sharedOptions","_drawStart","_drawCount","enableOptionSharing","supportsDecimation","$context","_syncList","datasetElementType","dataElementType","initialize","linkScales","_stacked","addElements","isPluginEnabled","updateIndex","getDataset","chooseId","xid","xAxisID","yid","yAxisID","rid","rAxisID","iid","iAxisID","vid","vAxisID","getScaleForId","rScale","getDatasetMeta","scaleID","_getOtherScale","_destroy","_dataCheck","iAxisKey","vAxisKey","adata","convertObjectDataToArray","isExtensible","buildOrUpdateElements","resetNewElements","stackChanged","oldStacked","_resyncElements","scopeKeys","datasetScopeKeys","getOptionScopes","createResolver","sorted","parseArrayData","parseObjectData","parsePrimitiveData","isNotInOrderComparedToPrev","getLabels","singleScale","xAxisKey","yAxisKey","getParsed","getDataElement","updateRangeFromParsed","parsedValue","getMinMax","canStack","otherScale","hidden","createStack","NEGATIVE_INFINITY","otherMin","otherMax","_skip","getAllParsedValues","getMaxOverflow","getLabelAndValue","getLabelForValue","_clip","toClip","defaultClip","chartArea","resolveDatasetElementOptions","resolveDataElementOptions","dataIndex","createDataContext","createDatasetContext","_resolveElementOptions","elementType","sharing","datasetElementScopeKeys","resolveNamedOptions","_resolveAnimations","transition","datasetAnimationScopeKeys","getSharedOptions","includeOptions","sharedOptions","_animationsDisabled","_getSharedOptions","firstOpts","previouslySharedOptions","updateSharedOptions","updateElement","_setStyle","removeHoverStyle","setHoverStyle","_removeDatasetHoverStyle","_setDatasetHoverStyle","numMeta","numData","_insertElements","_removeElements","move","updateElements","removed","_sync","_dataChanges","_onDataPush","_onDataPop","_onDataShift","_onDataSplice","newCount","_onDataUnshift","computeMinSampleSize","_cache","$bar","visibleMetas","getAllScaleValues","curr","_length","updateMinAndPrev","getPixelForTick","parseValue","startValue","endValue","barStart","barEnd","_custom","parseFloatBar","parseArrayOrPrimitive","isFloatBar","setBorderSkipped","borderSkipped","horizontal","borderProps","enableBorderRadius","parseEdge","orig","v2","startEnd","setInflateAmount","inflateAmount","DoughnutController","animateRotate","animateScale","cutout","circumference","spacing","aspectRatio","generateLabels","fontColor","getDataVisibility","legendItem","toggleDataVisibility","innerRadius","outerRadius","getter","_getRotation","_getCircumference","_getRotationExtents","isDatasetVisible","arcs","getMaxBorderWidth","getMaxOffset","maxSize","chartWeight","_getRingWeight","ratioX","ratioY","startAngle","endAngle","startX","startY","endX","endY","calcMax","calcMin","maxX","maxY","minX","minY","getRatioAndOffset","maxHeight","maxRadius","radiusLength","_getVisibleDatasetWeightTotal","total","calculateTotal","_getRingWeightOffset","_circumference","calculateCircumference","animationOpts","centerX","centerY","metaData","borderAlign","hoverBorderWidth","hoverOffset","ringWeightOffset","PolarAreaController","angleLines","circular","pointLabels","_updateRadius","minSize","cutoutPercentage","getVisibleDatasetCount","xCenter","yCenter","datasetStartAngle","getIndexAngle","defaultAngle","countVisibleElements","_computeAngle","getDistanceFromCenterForValue","controllers","BarController","categoryPercentage","barPercentage","grouped","_index_","_value_","bars","getBasePixel","isHorizontal","ruler","_getRuler","vpixels","_calculateBarValuePixels","ipixels","_calculateBarIndexPixels","center","_getStacks","currentParsed","iScaleValue","skipNull","_getStackCount","_getStackIndex","pixels","barThickness","_startPixel","_endPixel","stackCount","baseValue","minBarLength","actualBase","floating","barSign","startPixel","getPixelForDecimal","endPixel","getValueForPixel","halfGrid","getLineWidthForValue","maxBarThickness","percent","chunk","computeFlexCategoryTraits","thickness","computeFitCategoryTraits","stackIndex","rects","BubbleController","LineController","_dataset","_datasetIndex","_decimated","animated","maxGapLength","directUpdate","pointsCount","prevParsed","nullData","lastPoint","updateControlPoints","PieController","RadarController","_fullLoop","pointPosition","getPointPositionForValue","ScatterController","registry","getElement","DateAdapterBase","members","formats","startOf","endOf","adapters","binarySearch","metaset","lookupMethod","_reversePixels","getRange","evaluateInteractionItems","getSortedVisibleDatasetMetas","getIntersectItems","useFinalPosition","isPointInArea","getNearestItems","distanceMetric","useX","useY","deltaX","deltaY","getDistanceMetricForAxis","minDistance","getCenterPoint","getNearestCartesianItems","getProps","getNearestRadialItems","getAxisItems","rangeMethod","intersectsItem","Interaction","modes","nearest","STATIC_POSITIONS","filterByPosition","filterDynamicPositionByAxis","sortByWeight","getCombinedMax","maxPadding","updateMaxPadding","boxPadding","updateDims","params","layout","getPadding","newWidth","outerWidth","newHeight","outerHeight","widthChanged","heightChanged","same","getMargins","marginForPositions","fitBoxes","boxes","refitBoxes","refit","fullSize","setBoxDims","placeBoxes","userPadding","placed","stackWeight","layouts","addBox","_layers","removeBox","layoutItem","minPadding","availableWidth","availableHeight","layoutBoxes","wrapBoxes","wrap","centerHorizontal","centerVertical","leftAndTop","rightAndBottom","vertical","buildLayoutBoxes","verticalBoxes","horizontalBoxes","beforeLayout","visibleVerticalBoxCount","vBoxMaxWidth","hBoxMaxHeight","buildStacks","setLayoutDims","updatePos","handleMaxPadding","BasePlatform","acquireContext","releaseContext","getMaximumSize","isAttached","updateConfig","BasicPlatform","EXPANDO_KEY","EVENT_TYPES","touchstart","touchmove","touchend","pointerenter","pointerdown","pointermove","pointerup","pointerleave","pointerout","isNullOrEmpty","eventListenerOptions","nodeListContains","nodeList","createAttachObserver","observer","MutationObserver","addedNodes","removedNodes","observe","childList","subtree","createDetachObserver","drpListeningCharts","oldDevicePixelRatio","onWindowResize","dpr","createResizeObserver","container","clientWidth","ResizeObserver","contentRect","listenDevicePixelRatioChanges","releaseObserver","unlistenDevicePixelRatioChanges","createProxyAndListen","native","fromNativeEvent","DomPlatform","renderHeight","renderWidth","displayWidth","displayHeight","initCanvas","proxies","$proxies","attach","detach","bbWidth","bbHeight","margins","containerSize","containerStyle","containerBorder","containerPadding","clientHeight","getContainerSize","Element","tooltipPosition","final","newTicks","majorStart","majorEnd","offsetFromEdge","getTicksLimit","ticksLength","maxTicksLimit","sample","numItems","increment","getPixelForGridLine","offsetGridLines","validIndex","lineValue","getTickMarkLength","getTitleHeight","titleAlign","reverseAlign","Scale","_margins","paddingTop","paddingBottom","paddingLeft","paddingRight","labelRotation","_range","_gridLineItems","_labelItems","_labelSizes","_maxLength","_longestTextCache","_userMax","_userMin","_suggestedMax","_suggestedMin","_ticksLength","_borderValue","_dataLimitsCached","suggestedMin","suggestedMax","metas","getTicks","xLabels","yLabels","getLabelItems","_computeLabelItems","beforeUpdate","tickOpts","sampleSize","beforeSetDimensions","setDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","minmax","keepZero","_addGrace","beforeBuildTicks","buildTicks","afterBuildTicks","samplingEnabled","_convertTicksToLabels","beforeCalculateLabelRotation","calculateLabelRotation","afterCalculateLabelRotation","determinedMaxTicks","_tickSize","maxScale","maxChart","determineMaxTicks","ticksLimit","majorIndices","enabled","getMajorIndices","numMajorIndices","skipMajors","evenMajorSpacing","getEvenSpacing","factors","_factorize","calculateSpacing","avgMajorSpacing","afterAutoSkip","beforeFit","fit","afterFit","afterUpdate","reversePixels","_alignToPixels","alignToPixels","_callHooks","notifyPlugins","beforeTickToLabelConversion","generateTickLabels","afterTickToLabelConversion","numTicks","maxLabelDiagonal","_isVisible","labelSizes","_getLabelSizes","maxLabelWidth","widest","maxLabelHeight","highest","asin","titleOpts","gridOpts","titleHeight","tickPadding","angleRadians","labelHeight","labelWidth","_calculatePadding","_handleMargins","isRotated","labelsBelowTicks","offsetLeft","offsetRight","isFullSize","_computeLabelSizes","caches","widths","heights","tickFont","fontString","nestedLabel","widestLabelSize","highestLabelSize","_resolveTickFontOptions","valueAt","idx","decimal","getDecimalForPixel","getBaseValue","createTickContext","optionTicks","rot","_computeGridLineItems","tl","borderOpts","axisWidth","axisHalfWidth","alignBorderValue","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","x2","positionAxisID","optsAtIndex","optsAtIndexBorder","lineColor","tickBorderDash","tickBorderDashOffset","tickAndPadding","hTickAndPadding","lineCount","textOffset","_getXAxisLabelAlignment","_getYAxisLabelAlignment","halfCount","tickTextAlign","labelPadding","_computeLabelArea","drawBackground","findIndex","drawGrid","drawLine","setLineDash","lineDashOffset","drawBorder","lastLineWidth","drawLabels","renderTextOptions","drawTitle","titleX","titleY","titleArgs","tz","gz","bz","axisID","_maxDigits","fontSize","TypedRegistry","isForType","isPrototypeOf","parentScope","isIChartComponent","itemDefaults","defaultRoutes","routes","propertyParts","sourceName","sourceScope","routeDefaults","registerDefaults","unregister","Registry","_typedRegistries","_each","addControllers","addPlugins","addScales","getController","_get","getScale","removeControllers","removeElements","removePlugins","removeScales","typedRegistry","reg","_getRegistryForType","_exec","itemReg","component","camelMethod","PluginService","_init","notify","hook","_createDescriptors","descriptor","cancelable","invalidate","_oldCache","_notifyStateChanges","localIds","allPlugins","getOpts","pluginOpts","createDescriptors","previousDescriptors","pluginScopeKeys","getIndexAxis","datasetDefaults","idMatchesAxis","determineAxis","scaleOptions","getAxisFromDataset","initOptions","chartDefaults","configScales","chartIndexAxis","scaleConf","boundDs","retrieveAxisFromDatasets","defaultId","getDefaultScaleIDFromAxis","defaultScaleOptions","defaultID","getAxisFromDefaultScaleID","mergeScaleConfig","initData","keyCache","keysCached","cachedKeys","generate","addIfFound","Config","_config","initConfig","_scopeCache","_resolverCache","clearCache","datasetType","additionalOptionScopes","_cachedScopes","mainScope","resetCache","keyLists","chartOptionScopes","subPrefixes","getResolver","hasFunction","needContext","resolverCache","KNOWN_POSITIONS","positionIsHorizontal","compare2Level","l1","l2","onAnimationsComplete","onAnimationProgress","onProgress","getCanvas","instances","getChart","moveNumericKeys","intKey","getSizeForArea","Chart","invalidatePlugins","userConfig","initialCanvas","existingChart","OffscreenCanvas","_detectPlatform","_options","_aspectRatio","_metasets","_lastEvent","_listeners","_responsiveListeners","_sortedMetasets","_plugins","_hiddenIndices","attached","_doResize","debounce","resizeDelay","_initialize","bindEvents","_resizeBeforeDraw","_resize","newSize","newRatio","onResize","render","ensureScalesHaveIDs","axisOptions","buildOrUpdateScales","scaleOpts","isRadial","dposition","dtype","scaleType","hasUpdated","_updateMetasets","_destroyDatasetMeta","_removeUnreferencedMetasets","buildOrUpdateControllers","newControllers","order","ControllerClass","_resetElements","animsDisabled","_updateScales","_checkEventBindings","_updateHiddenIndices","_minPadding","_updateLayout","_updateDatasets","_eventHandler","_updateHoverStyles","existingEvents","newEvents","unbindEvents","changes","_getUniformDataChanges","datasetCount","makeSet","changeSet","noArea","_idx","_updateDataset","layers","_drawDatasets","_drawDataset","useClip","getDatasetArea","getElementsAtEventForMode","setDatasetVisibility","_updateVisibility","_stop","toBase64Image","toDataURL","bindUserEvents","bindResponsiveEvents","_add","_remove","detached","updateHoverStyle","getActiveElements","setActiveElements","activeElements","lastActive","pluginId","replay","hoverOptions","deactivated","activated","inChartArea","eventFilter","_handleEvent","_getActiveElements","isClick","_isClickEvent","lastEvent","determineLastEvent","rThetaToXY","theta","pathArc","pixelMargin","innerR","spacingOffset","avNogSpacingRadius","angleOffset","outerStart","outerEnd","innerStart","innerEnd","angleDelta","halfThickness","innerLimit","computeOuterLimit","outerArcLimit","parseBorderRadius$1","outerStartAdjustedRadius","outerEndAdjustedRadius","outerStartAdjustedAngle","outerEndAdjustedAngle","innerStartAdjustedRadius","innerEndAdjustedRadius","innerStartAdjustedAngle","innerEndAdjustedAngle","outerMidAdjustedAngle","pCenter","p4","innerMidAdjustedAngle","p8","outerStartX","outerStartY","outerEndX","outerEndY","setStyle","lineCap","lineJoin","pathVars","paramsStart","paramsEnd","segmentStart","segmentEnd","outside","pathSegment","lineMethod","stepped","getLineMethod","fastPathSegment","prevX","lastY","avgX","countX","pointIndex","drawX","truncX","_getSegmentMethod","usePath2D","Path2D","LineElement","_path","_points","_segments","_pointsUpdated","segmentOptions","findStartAndEnd","chartContext","baseStyle","addStyle","st","p0","p0DataIndex","p1DataIndex","doSplitByStyles","splitByStyles","solidSegments","_computeSegments","_interpolate","_getInterpolationMethod","interpolated","segmentMethod","strokePathWithCache","strokePathDirect","inRange$1","hitRadius","getBarBounds","bar","half","skipOrLimit","skipX","skipY","addNormalRectPath","inflateRect","refRect","ArcElement","fullCircles","chartX","chartY","rAdjust","nonZeroBetween","betweenAngles","withinRadius","halfAngle","halfRadius","radiusOffset","drawArc","inner","angleMargin","clipArc","BarElement","outer","maxW","maxH","parseBorderWidth","maxR","enableBorder","parseBorderRadius","boundingRects","addRectPath","mouseX","mouseY","inXRange","inYRange","PointElement","hoverRadius","BORDER_COLORS","BACKGROUND_COLORS","getBorderColor","getBackgroundColor","containsColorsDefinitions","plugin_colors","forceOverride","_args","chartOptions","colorizer","colorizeDoughnutDataset","colorizePolarAreaDataset","colorizeDefaultDataset","getColorizer","cleanDecimatedDataset","cleanDecimatedData","plugin_decimation","algorithm","beforeElementsUpdate","xAxis","decimated","getStartAndCountOfVisiblePointsSimplified","threshold","samples","bucketWidth","sampledIndex","endIndex","maxAreaPoint","maxArea","nextA","avgY","avgRangeStart","avgRangeEnd","avgRangeLength","rangeOffs","rangeTo","pointAy","pointAx","lttbDecimation","minIndex","maxIndex","startIndex","xMin","dx","lastIndex","intermediateIndex1","intermediateIndex2","minMaxDecimation","_getBounds","_findSegmentEnd","_getEdge","_createBoundaryLine","boundary","linePoints","_pointsFromSegments","_shouldApplyFill","_resolveTarget","propagate","visited","_decodeFill","fillOption","parseFillOption","firstCh","decodeTargetIndex","addPointsBelow","sourcePoint","linesBelow","postponed","findPoint","pointValue","firstValue","lastValue","simpleArc","_drawfill","getLineByIndex","sourcePoints","below","getLinesBelow","_buildStackLine","_getTargetValue","computeCircularBoundary","_getTargetPixel","computeLinearBoundary","computeBoundary","lineOpts","above","clipVertical","doFill","clipY","lineLoop","tpoints","targetSegments","tgt","subBounds","fillSources","fillSource","notShape","clipBounds","interpolatedLineTo","targetLoop","interpolatedPoint","afterDatasetsUpdate","$filler","beforeDraw","drawTime","beforeDatasetsDraw","beforeDatasetDraw","getBoxSize","labelOpts","boxHeight","boxWidth","usePointStyle","pointStyleWidth","itemHeight","Legend","_added","legendHitBoxes","_hoveredItem","doughnutMode","legendItems","columnSizes","lineWidths","buildLabels","labelFont","_computeTitleHeight","_fitRows","_fitCols","hitboxes","totalHeight","row","_itemHeight","heightLimit","totalWidth","currentColWidth","currentColHeight","col","legendItemText","calculateItemWidth","fontLineHeight","calculateLegendItemHeight","calculateItemHeight","calculateItemSize","adjustHitBoxes","rtlHelper","hitbox","_draw","defaultColor","halfFontSize","textDirection","lineDash","drawOptions","SQRT2","yBoxTop","xBoxLeft","drawLegendBox","_textX","titleFont","titlePadding","topPaddingPlusHalfFontSize","_getLegendItemAt","hitBox","lh","handleEvent","onLeave","isListened","hoveredItem","sameItem","plugin_legend","_element","afterEvent","ci","useBorderRadius","Title","_padding","textSize","_drawArgs","fontOpts","plugin_title","titleBlock","createTitle","WeakMap","plugin_subtitle","positioners","average","xSet","eventPosition","nearestElement","tp","pushOrConcat","toPush","splitNewlines","createTooltipItem","formattedValue","getTooltipSize","footer","bodyFont","footerFont","titleLineCount","footerLineCount","bodyLineItemCount","combinedBodyLength","bodyItem","before","after","beforeBody","afterBody","titleSpacing","titleMarginBottom","displayColors","bodySpacing","footerMarginTop","footerSpacing","widthPadding","maxLineWidth","determineXAlign","yAlign","chartWidth","xAlign","caret","caretSize","caretPadding","doesNotFitWithAlign","determineAlignment","determineYAlign","getBackgroundPoint","alignment","paddingAndSize","alignX","alignY","getAlignedX","getBeforeAfterBodyLines","overrideCallbacks","defaultCallbacks","beforeTitle","labelCount","afterTitle","beforeLabel","labelColor","labelTextColor","bodyColor","labelPointStyle","afterLabel","beforeFooter","afterFooter","invokeCallbackWithFallback","Tooltip","opacity","_eventPosition","_size","_cachedAnimations","_tooltipItems","dataPoints","caretX","caretY","labelColors","labelPointStyles","labelTextColors","getTitle","getBeforeBody","getBody","bodyItems","scoped","getAfterBody","getFooter","_createItems","itemSort","positionAndSize","backgroundPoint","external","drawCaret","tooltipPoint","caretPosition","getCaretPosition","x3","y3","ptX","ptY","titleColor","_drawColorBox","colorX","rtlColorX","yOffSet","colorY","multiKeyBackground","outerX","innerX","strokeRect","drawBody","bodyAlign","bodyLineHeight","xLinePadding","fillLineOfText","bodyAlignForCalculation","textColor","drawFooter","footerAlign","footerColor","tooltipSize","quadraticCurveTo","_updateAnimationTarget","animX","animY","_willRender","hasTooltipContent","globalAlpha","positionChanged","_positionChanged","_ignoreReplayEvents","plugin_tooltip","afterInit","afterDraw","Colors","Decimation","Filler","SubTitle","_getLabelForValue","relativeLabelSize","minSpacing","LinearScaleBase","_startValue","_endValue","_valueRange","handleTickRangeOptions","setMin","setMax","minSign","maxSign","getTickLimit","maxTicks","stepSize","computeTickLimit","generationOptions","dataRange","precision","maxDigits","includeBounds","unit","maxSpaces","rmin","rmax","countDefined","niceMin","niceMax","numSpaces","rounded","almostWhole","decimalPlaces","generateTicks$1","LinearScale","log10Floor","changeExponent","isMajor","tickVal","steps","rangeExp","rangeStep","LogarithmicScale","_zero","minExp","exp","startExp","lastTick","generateTicks","getTickBackdropHeight","determineLimits","updateLimits","limits","hLimits","vLimits","createPointLabelItem","itemOpts","outerDistance","drawingArea","extra","additionalAngle","pointLabelPosition","getPointPosition","yForAngle","getTextAlignForAngle","isNotOverlapped","drawPointLabelBox","backdropLeft","backdropTop","backdropWidth","backdropHeight","pathRadiusLine","RadialLinearScale","animate","centerPointLabels","_pointLabels","_pointLabelItems","valueCount","pointLabelOpts","getPointLabelContext","plFont","setCenterPoint","buildPointLabelItems","fitWithPointLabels","leftMovement","rightMovement","topMovement","bottomMovement","scalingFactor","getValueForDistanceFromCenter","scaledDistance","pointLabel","createPointLabelContext","distanceFromCenter","getBasePosition","getPointLabelPosition","drawPointLabels","gridLineOpts","drawRadiusLine","INTERVALS","millisecond","common","second","minute","hour","day","week","month","quarter","year","UNITS","sorter","adapter","_adapter","parser","isoWeekday","_parseOpts","determineUnitForAutoTicks","minUnit","capacity","MAX_SAFE_INTEGER","addTick","timestamps","ticksFromTimestamps","majorUnit","setMajorTicks","TimeScale","displayFormats","_unit","_majorUnit","_offsets","_normalized","normalized","_applyBounds","_getLabelBounds","getLabelTimestamps","timeOpts","_generate","_filterBetween","_getLabelCapacity","determineUnitForFormatting","determineMajorUnit","initOffsets","offsetAfterAutoskip","getDecimalForValue","weekday","hasWeekday","getDataTimestamps","tooltipFormat","datetime","fmt","_tickFormatFunction","minorFormat","majorFormat","offsets","_getLabelSize","ticksOpts","tickLabelWidth","cosRotation","sinRotation","tickFontSize","exampleTime","exampleLabel","prevSource","nextSource","prevTarget","nextTarget","span","CategoryScale","_addedLabels","added","addedLabels","addIfString","findOrAddLabel","TimeSeriesScale","_table","_minPos","_tableRange","_getTimestampsForTable","buildLookupTable","registerables","none","selector","childMatcher","childFirst","firstElementChild","children","EnterNode","datum","namespaceURI","_parent","__data__","bindIndex","group","enter","exit","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","arraylike","ascending","child","insertBefore","xhtml","svg","xlink","xml","xmlns","namespaces","space","attrRemove","attrRemoveNS","fullname","removeAttributeNS","attrConstant","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","styleRemove","removeProperty","styleConstant","priority","styleFunction","propertyRemove","propertyConstant","propertyFunction","classArray","ClassList","_node","_names","classedAdd","classedRemove","classedTrue","classedFalse","classedFunction","textRemove","textConstant","textFunction","htmlRemove","htmlConstant","htmlFunction","raise","nextSibling","lower","previousSibling","firstChild","creatorInherit","uri","documentElement","createElementNS","creatorFixed","namespace","constantNull","removeChild","selection_cloneShallow","selection_cloneDeep","onRemove","typename","__on","onAdd","contextListener","createEvent","initEvent","bubbles","dispatchConstant","dispatchFunction","Selection","groups","parents","_groups","_parents","selection","select","subgroups","subnode","subgroup","selectAll","arrayAll","selectorAll","selectChild","childFind","selectChildren","childrenFilter","matcher","enterGroup","updateGroup","i0","i1","_enter","_exit","sparse","onenter","onupdate","onexit","groups0","groups1","m0","m1","merges","group0","group1","compareDocumentPosition","compareNode","sortgroups","sortgroup","nodes","attr","getAttributeNS","classed","html","creator","insert","typenames","parseTypenames","dispatch","Dispatch","types","that","taskHead","taskTail","pokeDelay","clockLast","clockNow","clockSkew","clock","performance","setFrame","clearNow","Timer","_call","_time","restart","wake","timerFlush","t0","t1","sleep","nap","poke","emptyOn","emptyTween","CREATED","STARTED","timing","schedules","__transition","tween","ease","svgNode","translateX","translateY","skewX","scaleX","scaleY","atan","interpolateTransform","pxComma","pxParen","degParen","xa","ya","xb","yb","interpolateTransformCss","DOMMatrix","WebKitCSSMatrix","isIdentity","decompose","interpolateTransformSvg","baseVal","consolidate","matrix","tweenRemove","tween0","tween1","tweenFunction","tweenValue","factory","extend","definition","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aquamarine","azure","blanchedalmond","blue","blueviolet","brown","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","pink","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","springgreen","steelblue","teal","thistle","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","formatHex","color_formatRgb","formatRgb","rgbn","Rgb","rgba","hsla","rgb_formatHex","rgb_formatRgb","clampa","clampi","Hsl","hslConvert","clamph","clampt","m2","basis","t3","channels","displayable","formatHex8","formatHsl","clamp","nogamma","rgbGamma","exponential","gamma","rgbSpline","spline","reA","reB","am","bm","bs","bi","one","zero","string00","interpolate0","string1","string0","string10","attrTweenNS","attrInterpolateNS","attrTween","attrInterpolate","delayFunction","delayConstant","durationFunction","durationConstant","Transition","_name","newId","selection_prototype","inherit","id0","id1","on0","on1","sit","every","onFunction","styleTween","styleNull","listener0","styleMaybeRemove","styleInterpolate","textTween","textInterpolate","removeFunction","easeConstant","easeVarying","interrupt","defaultTiming","applyX","applyY","invertX","invertY","rescaleX","rescaleY","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","queue","hasAwait","currentDeps","outerResolve","depQueues","deps","dep","wrapDeps","fnQueue","chunkId","script","needAttach","scripts","charset","nc","onScriptComplete","onerror","doneFns","scriptUrl","importScripts","currentScript","installedChunks","installedChunkData","errorType","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","chunkIds","moreModules","runtime","chunkLoadingGlobal"],"sourceRoot":""}